"use strict";(self.webpackChunkodysee_com=self.webpackChunkodysee_com||[]).push([[1909],{15383:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var a=n(3658),i=n(43181),r=n(17185),o=n(88374),c=n(33441),l=n(96284),s=n(77369),u=n(88441),f=n(9319),m=n(60732),d=n(94720),y=n(55718),E=n(44908),v=n(29679),h=n(16062),p=n(28398),N=n(19771),g=n(71036).__;function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,r,o,c=[],l=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=r.call(n)).done)&&(c.push(a.value),c.length!==t);l=!0);}catch(e){s=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}const _=(0,a.$j)((function(e){return{notifications:(0,i._6)(e),notificationsFiltered:(0,i.UP)(e),notificationCategories:(0,i.b9)(e),fetching:(0,i.ar)(e),unreadCount:(0,i.aY)(e),unseenCount:(0,i.sU)(e),activeChannel:(0,o.YG)(e)}}),{doReadNotifications:c.lH,doNotificationList:c.z_,doNotificationCategories:c.jA,doSeeAllNotifications:c.BR,doCommentReactList:r.wk})((function(e){var t=e.notifications,n=e.notificationsFiltered,a=e.fetching,i=e.unreadCount,r=e.unseenCount,o=e.doSeeAllNotifications,c=e.doReadNotifications,C=e.doNotificationList,_=e.doNotificationCategories,O=e.notificationCategories,A=e.activeChannel,w=e.doCommentReactList,k=b((0,v.Z)("notifications--rule",p.Wc),2),M=k[0],S=k[1],R=M!==p.Wc,T=R?n:t,j=(0,N.Z)(a),Z=O&&(!R||j);u.useEffect((function(){if(Z&&!a&&A){var e=[];T.map((function(t){var n=t.notification_rule,a=t.notification_parameters,i=(n===p.gv.COMMENT||n===p.gv.COMMENT_REPLY||n===p.gv.CREATOR_COMMENT)&&a&&a.dynamic&&a.dynamic.hash;i&&e.push(i)})),0!==e.length&&w(e)}}),[Z,w,T,A,a]),u.useEffect((function(){r>0&&o()}),[r,o]);var I=O?JSON.stringify(O):"";return u.useEffect((function(){if(I){var e=JSON.parse(I);if(M!==p.Wc)try{var t=e.find((function(e){return e.name===M}));t&&C(t.types,!1)}catch(e){console.error(e)}}}),[M,t,I,C]),u.useEffect((function(){O||_()}),[]),u.createElement(f.Z,{className:"notification-page"},Z&&u.createElement("div",{className:"claim-list__header"},u.createElement("h1",{className:"page__title"},u.createElement(l.default,{icon:s.NOTIFICATION}),u.createElement("label",null,g("Notifications"))),u.createElement("div",{className:"claim-list__alt-controls--wrap"},a&&u.createElement(m.Z,{type:"small",delayed:!0}),i>0&&u.createElement(E.default,{icon:s.EYE,onClick:c,button:"secondary",label:g("Mark all as read")}),O&&u.createElement(d.Wi,{type:"select",name:"filter",value:M,onChange:function(e){return S(e.target.value)}},O.map((function(e){return u.createElement("option",{key:e.name,value:e.name},g(e.name))}))))),Z?!(T&&T.length>0)||R&&a?u.createElement("div",{className:"main--empty"},!a&&u.createElement(h.Z,{title:g("No notifications"),subtitle:g(R?"Try selecting another filter.":"You don't have any notifications yet, but they will be here when you do!"),actions:u.createElement("div",{className:"section__actions"},u.createElement(E.default,{button:"primary",icon:s.HOME,label:g("Go Home"),navigate:"/"}))})):u.createElement("div",{className:"card"},u.createElement("div",{className:"notification_list"},T.map((function(e){return u.createElement(y.Z,{key:e.id,notification:e})})))):u.createElement("div",{className:"main--empty"},u.createElement(m.Z,null)))}))}}]);
//# sourceMappingURL=notifications-9f4d1b019c0f8147c0b1.js.map