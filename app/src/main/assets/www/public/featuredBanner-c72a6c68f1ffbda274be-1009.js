"use strict";(self.webpackChunkodysee_com=self.webpackChunkodysee_com||[]).push([[6781],{74732:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var r=n(24582),a=n(88441),o=n(79593),i=n(96284),c=n(77369),u=n(38755);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,a=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const f=(0,r.$j)((function(e){return{}}),{})((function(e){var t=e.homepageData,n=e.authenticated,r=t.featured,s=l(a.useState(0),2),f=s[0],m=s[1],d=l(a.useState(0),2),b=d[0],v=d[1],y=l(a.useState(1),2),h=y[0],p=y[1],g=l(a.useState(!1),2),E=g[0],w=g[1],k=l(a.useState(!1),2),S=k[0],N=k[1],C=window.cordova?localStorage:sessionStorage,I="bannerHidden",O=l(a.useState((function(){return"true"===C.getItem(I)})),2),A=O[0],j=O[1],L=a.useRef(null),M=a.useRef(null),T=b>=1600?1700:b>=1150?1150:b>=900?900:b>=600?600:400;return a.useEffect((function(){window.cordova&&!n&&(localStorage.removeItem(I),j(!1))}),[n]),a.useEffect((function(){if(r&&b){var e=setInterval((function(){E||p(h+1<=r.items.length?h+1:1)}),1e3*r.transitionTime+1e3);return function(){return clearInterval(e)}}}),[r,f,b,E,h]),a.useEffect((function(){r&&b&&m(-1*b*(h-1))}),[r,h,b]),(0,o.T)((function(){L.current&&v(L.current.offsetWidth)})),a.useEffect((function(){var e=function(e){var t=M.current;t&&e.target instanceof Node&&!t.contains(e.target)&&N(!1)};return S&&document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[S]),A?null:a.createElement("div",{className:"featured-banner-wrapper",ref:L,onMouseEnter:function(){return w(!0)},onMouseLeave:function(){return w(!1)}},a.createElement("div",{className:"featured-banner-rotator",style:{marginLeft:f}},r&&r.items.map((function(e,t){return a.createElement(u.OL,{className:"featured-banner-image",onClick:function(t){return function(e,t){if("#"===t.charAt(0)){e.preventDefault();var n=document.getElementById(t.substring(1));n?window.scrollTo({top:n&&n.offsetTop,behavior:"smooth"}):window.odysee.functions.history.push("$/portal/adventureaddict")}}(t,e.url)},to:(n=e.url,n.includes("odysee.com")&&(n=n.substring(n.indexOf("odysee.com")+10)),n.includes("?lid=")&&(r=n.substring(n.indexOf("?lid="))),{pathname:n,search:r||void 0}),target:e.url.includes("odysee.com")?void 0:"_blank",title:e.label,key:t,style:{minWidth:b}},a.createElement("img",{src:"https://thumbnails.odycdn.com/optimize/s:"+T+":0/quality:95/plain/"+e.image,style:{width:b}}));var n,r}))),a.createElement("div",{className:"banner-controls"},a.createElement("div",{className:"banner-browse left",onClick:function(){return p(h>1?h-1:r.items.length)}},"‹"),a.createElement("div",{className:"banner-browse right",onClick:function(){return p(h<r.items.length?h+1:1)}},"›"),a.createElement("div",{className:"banner-active-indicator"},r&&r.items.map((function(e,t){return a.createElement("div",{key:t,className:t+1===h?"banner-active-indicator-active":"",onClick:function(){return p(t+1)}})}))),n&&a.createElement("div",{className:"banner-context-menu",ref:M},a.createElement("button",{className:"banner-menu-button",onClick:function(e){e.stopPropagation(),N(!S)},"aria-label":"More options"},a.createElement(i.default,{icon:c.MORE})),S&&a.createElement("div",{className:"banner-menu-dropdown"},a.createElement("button",{className:"banner-menu-item",onClick:function(){j(!0),C.setItem(I,"true"),N(!1)}},"Close the banner")))))}))}}]);
//# sourceMappingURL=featuredBanner-c72a6c68f1ffbda274be-1009.js.map