"use strict";(self.webpackChunkodysee_com=self.webpackChunkodysee_com||[]).push([[6044],{51635:(e,t,n)=>{n.d(t,{Z:()=>b});var r=n(88441),o=n(66598),i=n.n(o),c=n(96284),a=n(44908),l=n(77369),u=n(35080),s=n(71036).__;function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,c,a=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){var t=e.singlePane,n=e.children;return t?n:r.createElement("div",{className:"card__first-pane"},n)},y=function(e){var t=e.isPageTitle,n=e.smallTitle,o=e.children,a=e.accessStatus,f=function(e){return r.createElement(u.Z,{title:s("This is a members-only content")},r.createElement("div",{className:i()("content-access-indicator",{locked:"locked"===e.status,unlocked:"unlocked"===e.status,purchased:"purchased"===e.status})},r.createElement(c.default,{icon:"locked"===e.status?l.LOCK:l.UNLOCK})))};return t?r.createElement("h1",{className:"card__title"},a&&r.createElement(f,{status:a}),r.createElement("font",{dangerouslySetInnerHTML:{__html:function(e){for(var t in null==e||null===(n=e.props)||void 0===n?void 0:n.children){var n,r,o;if("string"==typeof(null==e||null===(r=e.props)||void 0===r?void 0:r.children[t]))return null==e||null===(o=e.props)||void 0===o?void 0:o.children[t]}return e}(o)}})):r.createElement("h2",{className:i()("card__title",{"card__title--small":n})},o)};const b=function(e){var t=e.title,n=e.subtitle,o=e.titleActions,u=e.id,d=e.body,b=e.actions,m=e.icon,h=e.className,v=e.isPageTitle,g=void 0!==v&&v,_=e.isBodyList,E=void 0!==_&&_,O=e.smallTitle,P=void 0!==O&&O,w=e.defaultExpand,j=e.nag,S=e.onClick,C=e.children,k=e.secondPane,N=e.slimHeader,T=e.background,R=e.backgroundImage,x=e.singlePane,A=e.headerActions,B=e.accessStatus,D=e.gridHeader,I=f((0,r.useState)(w),2),M=I[0],L=I[1],U=void 0!==w;return r.createElement("section",{role:S?"button":void 0,className:i()(h,"card",{"card__multi-pane":Boolean(k),"card--background":T}),id:u,onClick:function(e){S&&(S(),e.stopPropagation())}},R&&r.createElement("div",{className:"background",style:{backgroundImage:"url(https://thumbnails.odycdn.com/optimize/s:390:0/quality:85/plain/"+R+")"}}),r.createElement(p,{singlePane:x},(t||n)&&r.createElement("div",{className:i()("card__header--between",{"card__header--slim":N,"card__header--grid":D})},r.createElement("div",{className:i()("card__title-section",{"card__title-section--body-list":E})},m&&r.createElement(c.default,{sectionIcon:!0,icon:m}),r.createElement("div",{className:"card__title-text"},r.createElement(y,{isPageTitle:g,smallTitle:P,accessStatus:B},t),n&&r.createElement("div",{className:i()("card__subtitle",{"card__subtitle--small":P})},n))),(o||U)&&r.createElement("div",{className:"card__title-actions-container"},o&&r.createElement("div",{className:i()("card__title-actions",{"card__title-actions--small":P})},o),U&&r.createElement("div",{className:"card__title-actions"},r.createElement(a.default,{button:"alt","aria-expanded":M,"aria-label":s(M?"Less":"More"),icon:M?l.SUBTRACT:l.ADD,onClick:function(){return L(!M)}}))),A),(!U||U&&M)&&r.createElement(r.Fragment,null,d&&r.createElement("div",{className:i()("card__body",{"card__body--no-title":!t&&!n,"card__body--list":E})},d),b&&r.createElement("div",{className:"card__main-actions"},b),C&&r.createElement("div",{className:"card__main-actions"},C)),j),k&&r.createElement("div",{className:"card__second-pane"},k))}},40302:(e,t,n)=>{n.r(t),n.d(t,{default:()=>K});var r=n(3658),o=n(15927),i=n(9767),c=n(88441),a=n(1017),l=n(44908),u=n(65572),s=n(94720),f=n(32158),d=n(51635),p=n(16395),y=n(71036).__;function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===b(i)?i:String(i)),r)}var o,i}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}const _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(i,e);var t,n,r,o=v(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={code:""},t}return t=i,(n=[{key:"handleCodeChanged",value:function(e){this.setState({code:String(e.target.value).trim()})}},{key:"handleSubmit",value:function(){var e=this.state.code;this.props.verifyUserPhone(e)}},{key:"reset",value:function(){(0,this.props.resetPhone)()}},{key:"render",value:function(){var e=this,t=this.props,n=t.phoneErrorMessage,r=t.phone,o=t.countryCode;return c.createElement(d.Z,{title:y("Enter the verification code"),subtitle:c.createElement(c.Fragment,null,y("Please enter the verification code sent to +".concat(o).concat(r,". Didn't receive it? ")),c.createElement(l.default,{button:"link",onClick:this.reset.bind(this),label:y("Go back.")})),actions:c.createElement(c.Fragment,null,c.createElement(s.l0,{onSubmit:this.handleSubmit.bind(this)},c.createElement(s.Wi,{type:"text",name:"code",placeholder:"1234",value:this.state.code,onChange:function(t){e.handleCodeChanged(t)},label:y("Verification Code"),error:n,inputButton:c.createElement(s.k4,{label:y("Verify")})})),c.createElement("p",{className:"help"},c.createElement(f.Z,{tokens:{help_link:c.createElement(l.default,{button:"link",href:"mailto:".concat(p.SITE_HELP_EMAIL),label:"".concat(p.SITE_HELP_EMAIL)}),chat_link:c.createElement(l.default,{button:"link",href:"https://chat.odysee.com",label:y("chat")})}},"Email %help_link% or join our %chat_link% if you encounter any trouble with your code.")))})}}])&&m(t.prototype,n),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(c.PureComponent);const E=(0,r.$j)((function(e){return{phone:(0,i.oc)(e),countryCode:(0,i.a8)(e),phoneErrorMessage:(0,i.Wx)(e)}}),(function(e){return{resetPhone:function(){return e((0,u.P2)())},verifyUserPhone:function(t){return e((0,u.Sw)(t))}}}))(_);var O=n(71036).__;function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}function j(e,t){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},j(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}(this,n)}}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return(t=x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){var t=function(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===P(t)?t:String(t)}var A=n(13344).type(),B=n(94843).Ee.all.filter((function(e){return e.emoji})).reduce((function(e,t){return e.concat(t.countryCallingCodes.map((function(e){return T(T({},t),{},{countryCallingCode:e})})))}),[]).sort((function(e,t){return e.countryCallingCode<t.countryCallingCode?-1:e.countryCallingCode>t.countryCallingCode?1:0}));const D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}(i,e);var t,n,r,o=S(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={phone:"",countryCode:"+1"},C(t).formatPhone=t.formatPhone.bind(C(t)),C(t).handleSubmit=t.handleSubmit.bind(C(t)),C(t).handleSelect=t.handleSelect.bind(C(t)),t}return t=i,(n=[{key:"formatPhone",value:function(e){var t=this.state.countryCode,n=e.replace(/\D/g,"");if("+1"===t){if(!n)return"";if(n.length<4)return n;if(n.length<7)return"(".concat(n.substring(0,3),") ").concat(n.substring(3));var r="(".concat(n.substring(0,3),") ").concat(n.substring(3,6),"-").concat(n.substring(6));return r.length<=14?r:r.substring(0,14)}return n}},{key:"handleChanged",value:function(e){this.setState({phone:this.formatPhone(e.target.value)})}},{key:"handleSelect",value:function(e){this.setState({countryCode:e.target.value})}},{key:"handleSubmit",value:function(){var e=this.state,t=e.phone,n=e.countryCode;this.props.addUserPhone(t.replace(/\D/g,""),n.substring(1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.cancelButton,r=t.phoneErrorMessage,o=t.isPending;return c.createElement(d.Z,{title:O("Enter your phone number"),subtitle:O("Enter your phone number and we will send you a verification code. We will not share your phone number with third parties."),actions:c.createElement(s.l0,{onSubmit:this.handleSubmit},c.createElement("fieldset-group",{class:"fieldset-group--smushed"},c.createElement(s.Wi,{label:O("Country"),type:"select",name:"country-codes",onChange:this.handleSelect},B.map((function(e,t){return c.createElement("option",{key:t,value:e.countryCallingCode},"Darwin"===A?e.emoji:"(".concat(e.alpha2,")")," ",e.countryCallingCode)}))),c.createElement(s.Wi,{type:"text",label:O("Number"),placeholder:"+1"===this.state.countryCode?"(555) 555-5555":"5555555555",name:"phone",value:this.state.phone,error:r,onChange:function(t){e.handleChanged(t)}})),c.createElement("div",{className:"card__actions"},c.createElement(s.k4,{label:O("Submit"),disabled:o}),n))})}}])&&w(t.prototype,n),r&&w(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(c.PureComponent);const I=(0,r.$j)((function(e){return{phoneErrorMessage:(0,i.rC)(e)}}),(function(e){return{addUserPhone:function(t,n){return e((0,u.x6)(t,n))}}}))(D);var M=n(16643),L=n(71036).__;function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==U(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===U(i)?i:String(i)),r)}var o,i}function W(e,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W(e,t)}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$(e);if(t){var o=$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===U(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}(i,e);var t,n,r,o=Z(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,n=[{key:"renderInner",value:function(){var e=this.props,t=e.closeModal,n=e.phone,r=e.user,o=c.createElement(l.default,{button:"link",onClick:t,label:L("Not Now")});return r.is_identity_verified||n?r.is_identity_verified?(t(),c.createElement(M.l_,{to:"/$/rewards"})):c.createElement(E,{cancelButton:o}):c.createElement(I,{cancelButton:o})}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.closeModal;return t?c.createElement(a.u_,{type:"card",isOpen:!0,contentLabel:"Phone",onAborted:n},this.renderInner()):null}}],n&&H(t.prototype,n),r&&H(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(c.PureComponent);const G=F;const K=(0,r.$j)((function(e){return{phone:(0,i.oc)(e),user:(0,i.dy)(e)}}),(function(e){return function(){return{closeModal:function(){return e((0,o.gG)())}}}}))(G)}}]);
//# sourceMappingURL=modalPhoneCollection-4b36db0d8c9e61d50ebf.js.map