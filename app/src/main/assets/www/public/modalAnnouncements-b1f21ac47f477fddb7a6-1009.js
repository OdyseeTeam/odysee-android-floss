"use strict";(self.webpackChunkodysee_com=self.webpackChunkodysee_com||[]).push([[158],{51635:(e,t,n)=>{n.d(t,{Z:()=>b});var a=n(88441),r=n(66598),l=n.n(r),c=n(96284),i=n(44908),o=n(77369),s=n(35080),d=n(71036).__;function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l,c,i=[],o=!0,s=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;o=!1}else for(;!(o=(a=l.call(n)).done)&&(i.push(a.value),i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{if(!o&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var f=function(e){var t=e.singlePane,n=e.children;return t?n:a.createElement("div",{className:"card__first-pane"},n)},v=function(e){var t=e.isPageTitle,n=e.smallTitle,r=e.children,i=e.accessStatus,u=function(e){return a.createElement(s.Z,{title:d("This is a members-only content")},a.createElement("div",{className:l()("content-access-indicator",{locked:"locked"===e.status,unlocked:"unlocked"===e.status,purchased:"purchased"===e.status})},a.createElement(c.default,{icon:"locked"===e.status?o.LOCK:o.UNLOCK})))};return t?a.createElement("h1",{className:"card__title"},i&&a.createElement(u,{status:i}),a.createElement("font",{dangerouslySetInnerHTML:{__html:function(e){for(var t in null==e||null===(n=e.props)||void 0===n?void 0:n.children){var n,a,r;if("string"==typeof(null==e||null===(a=e.props)||void 0===a?void 0:a.children[t]))return null==e||null===(r=e.props)||void 0===r?void 0:r.children[t]}return e}(r)}})):a.createElement("h2",{className:l()("card__title",{"card__title--small":n})},r)};const b=function(e){var t=e.title,n=e.subtitle,r=e.titleActions,s=e.id,m=e.body,b=e.actions,p=e.icon,y=e.className,_=e.isPageTitle,g=void 0!==_&&_,E=e.isBodyList,h=void 0!==E&&E,A=e.smallTitle,w=void 0!==A&&A,N=e.defaultExpand,k=e.nag,C=e.onClick,S=e.children,O=e.secondPane,P=e.slimHeader,M=e.background,T=e.backgroundImage,I=e.singlePane,j=e.headerActions,D=e.accessStatus,H=e.gridHeader,R=u((0,a.useState)(N),2),L=R[0],Z=R[1],U=void 0!==N;return a.createElement("section",{role:C?"button":void 0,className:l()(y,"card",{"card__multi-pane":Boolean(O),"card--background":M}),id:s,onClick:function(e){C&&(C(),e.stopPropagation())}},T&&a.createElement("div",{className:"background",style:{backgroundImage:"url(https://thumbnails.odycdn.com/optimize/s:390:0/quality:85/plain/"+T+")"}}),a.createElement(f,{singlePane:I},(t||n)&&a.createElement("div",{className:l()("card__header--between",{"card__header--slim":P,"card__header--grid":H})},a.createElement("div",{className:l()("card__title-section",{"card__title-section--body-list":h})},p&&a.createElement(c.default,{sectionIcon:!0,icon:p}),a.createElement("div",{className:"card__title-text"},a.createElement(v,{isPageTitle:g,smallTitle:w,accessStatus:D},t),n&&a.createElement("div",{className:l()("card__subtitle",{"card__subtitle--small":w})},n))),(r||U)&&a.createElement("div",{className:"card__title-actions-container"},r&&a.createElement("div",{className:l()("card__title-actions",{"card__title-actions--small":w})},r),U&&a.createElement("div",{className:"card__title-actions"},a.createElement(i.default,{button:"alt","aria-expanded":L,"aria-label":d(L?"Less":"More"),icon:L?o.SUBTRACT:o.ADD,onClick:function(){return Z(!L)}}))),j),(!U||U&&L)&&a.createElement(a.Fragment,null,m&&a.createElement("div",{className:l()("card__body",{"card__body--no-title":!t&&!n,"card__body--list":h})},m),b&&a.createElement("div",{className:"card__main-actions"},b),S&&a.createElement("div",{className:"card__main-actions"},S)),k),O&&a.createElement("div",{className:"card__second-pane"},O))}},44844:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var a=n(88441),r=n(16643),l=n(51635),c=n(78465),i=n(73249),o=n(1017),s=n(91983);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l,c,i=[],o=!0,s=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;o=!1}else for(;!(o=(a=l.call(n)).done)&&(i.push(a.value),i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{if(!o&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var m=n(24582),f=n(70897),v=n(44692),b=n(31391),p=n(20983),y=n(9767),_={doHideModal:f.gG,doSetLastViewedAnnouncement:v.dg};const g=(0,m.$j)((function(e){return{authenticated:(0,y.ge)(e),announcement:(0,p.WM)(e),lastViewedHash:(0,b.wP)(e)}}),_)((function(e){var t=e.authenticated,n=e.announcement,u=e.lastViewedHash,m=e.isAutoInvoked,f=e.doHideModal,v=e.doSetLastViewedAnnouncement,b=(0,r.useHistory)().location.pathname,p=d(a.useState(!1),2),y=p[0],_=p[1];return a.useEffect((function(){if(!t||"/"!==b&&b!=="/$/".concat(i.HELP)||""===n)f();else{var e=(0,s.Tf)(n);u.includes(e)?m?f():_(!0):(_(!0),v(e))}}),[]),y?a.createElement(o.u_,{type:"card",isOpen:!0,onAborted:f},a.createElement(l.Z,{className:"announcement",actions:a.createElement(c.Z,{className:"markdown-preview--announcement",content:n,simpleLinks:!0})})):null}))},30206:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var a=n(88441),r=n(51635),l=n(44908),c=n(1017),i=n(71036).__;var o=n(24582),s=n(70897),d=n(26617),u=n(86189),m=n(27086),f=n(30407),v={doHideModal:s.gG,doOpenModal:s.DG,doArConnect:d.oz,doArDisconnect:d.Hq,doRegisterArweaveAddress:m.q5,doUpdateArweaveAddressDefault:m.fg,doRegisterArweaveAddressClear:m.J};const b=(0,o.$j)((function(e){return{connecting:e.arwallet.connecting,error:e.arwallet.error,defaultApiAddress:(0,u.p_)(e),fullAPIArweaveStatus:(0,u.sl)(e),walletAddress:e.arwallet.address,walletBalance:e.arwallet.balance,isArAccountRegistering:(0,u.P6)(e),arAccountRegisteringError:(0,u.oZ)(e),isConnecting:(0,f.wc)(e),fullArweaveStatusArray:(0,u.sl)(e)}}),v)((function(e){var t=e.doHideModal,n=e.doOpenModal,o=e.doArDisconnect,s=e.doRegisterArweaveAddressClear,d=e.fullAPIArweaveStatus,u=e.defaultApiAddress,m=e.walletAddress,f=e.doRegisterArweaveAddress,v=e.doUpdateArweaveAddressDefault,b=e.isArAccountRegistering,p=e.arAccountRegisteringError,y=e.previousModal,_=e.isConnecting,g=d.find((function(e){return e.address===m})),E=g?g.id:null,h=d&&d.length>0;a.useEffect((function(){h||f(m,!0).then((function(){t()})).catch((function(e){}))}),[m,f,t,h,g]);var A=function(){return a.createElement(r.Z,{className:"announcement",title:i("Unregistered Wallet Address"),subtitle:i("Your Wander address, %address%, is not onboarded with the payments system. You can switch your Arweave address, or register this one for use.",{address:m}),actions:a.createElement("div",{className:"section__actions"},a.createElement(l.default,{button:"primary",label:i("Register"),disabled:b,onClick:function(){return f(m,!0)}}),a.createElement(l.default,{button:"alt",label:i("Disconnect"),disabled:b,onClick:N}))})},w=function(){null!==E&&v(E),t()},N=function(){o(),y?(s(),n(y.id,y.modalProps)):(s(),t())},k=function(){return a.createElement(r.Z,{className:"announcement",title:i("Make Default Wallet Address"),body:a.createElement("div",{className:"section"},i("Your Wander address, %address%, is not your primary wallet right now.",{address:m})),actions:a.createElement("div",{className:"section__actions"},a.createElement(l.default,{button:"primary",label:i("Make Default"),disabled:b,onClick:w}),a.createElement(l.default,{button:"alt",label:i("Disconnect"),disabled:b,onClick:N}))})},C=function(){return a.createElement(r.Z,{className:"announcement",title:i("Wallet Connect Error"),body:a.createElement("div",{className:"section"},a.createElement("p",null,i("There was an error registering that address: %error%",{error:p})),a.createElement("p",null,i("Reach out to %email% with questions.",{email:"help@odysee.com"}))),actions:a.createElement("div",{className:"section__actions"},a.createElement(l.default,{button:"alt",label:i("Disconnect"),disabled:b,onClick:N}))})},S=function(){return a.createElement(r.Z,{className:"announcement",title:i("Connecting Wallet"),body:a.createElement("div",{className:"section"},i("Connecting..."))})},O=(_||b)&&!g,P=!O&&!p&&h&&!g,M=!O&&!p&&g&&u!==m,T=!O&&!!p;return!g||O||P||M?a.createElement(c.u_,{type:"card",isOpen:!0,onAborted:t,disableOutsideClick:!0},O&&a.createElement(S,null),P&&a.createElement(A,null),T&&a.createElement(C,null),M&&a.createElement(k,null)):(y?n(y.id,y.modalProps):t(),null)}))}}]);
//# sourceMappingURL=modalAnnouncements-b1f21ac47f477fddb7a6-1009.js.map