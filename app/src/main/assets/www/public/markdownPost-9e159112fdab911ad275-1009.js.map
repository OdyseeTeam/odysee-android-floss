{"version":3,"file":"markdownPost-9e159112fdab911ad275-1009.js","mappings":"+QAMMA,GAAeC,EAAAA,EAAAA,IAAW,kBAAM,kEAAmE,IACnGC,GAAaD,EAAAA,EAAAA,IAAW,kBAAM,8BAAmE,IA4DvG,IAAME,EAAc,SAAHC,GAAA,IAAMC,EAAQD,EAARC,SAAQ,OAC7BC,EAAAA,cAAA,OAAKC,UAAU,oCAAoCF,EAAe,EC9BpE,SAAeG,EAAAA,EAAAA,KArBA,SAACC,EAAOC,GACrB,IAAQC,EAAQD,EAARC,IACAC,EAAWC,SAAXD,OAEFE,EAAY,IAAIC,gBAAgBH,GAChCI,GAAQC,EAAAA,EAAAA,KAAkBR,EAAOE,GAEjCO,EAAUF,EAAMG,SAEhBC,GAAyBC,EAAAA,EAAAA,IAA0CZ,GAAOa,EAAAA,EAAAA,IAAsBN,IAEtG,MAAO,CACLO,UAAUC,EAAAA,EAAAA,KAAwBf,EAAOE,GACzCc,gBAAiBX,EAAUY,IAAIC,EAAAA,IAC/BC,gBAAiBd,EAAUY,IAAIG,EAAAA,IAC/BC,gBAAiBZ,IAAWa,EAAAA,EAAAA,IAAmDtB,EAAOS,GACtFc,iBACEZ,IAA0Ba,EAAAA,EAAAA,KAAoCtB,EAAKuB,EAAAA,GAAzCD,CAAoExB,GAEpG,GAEA,EDlBe,SAA0BC,GACvC,IACEC,EAQED,EARFC,IACAwB,EAOEzB,EAPFyB,aAEAZ,EAKEb,EALFa,SACAE,EAIEf,EAJFe,gBACAG,EAGElB,EAHFkB,gBACAI,EAEEtB,EAFFsB,iBACAF,EACEpB,EADFoB,gBAGF,OAAIP,EAEAjB,EAAAA,cAACH,EAAW,KACVG,EAAAA,cAAC8B,EAAAA,EAAgB,CAACzB,IAAKA,EAAKwB,aAAcA,EAAcE,eAAa,KAMzE/B,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAACH,EAAW,KACVG,EAAAA,cAACA,EAAAA,SAAc,CAACgC,SAAU,MACxBhC,EAAAA,cAACJ,EAAU,CAACS,IAAKA,MAIrBL,EAAAA,cAAA,OAAKC,UAAU,4BACZyB,EACC1B,EAAAA,cAACiC,EAAAA,EAAK,CAACC,KAAMC,EAAG,wDACdX,EACFxB,EAAAA,cAACA,EAAAA,SAAc,CAACgC,SAAU,MACxBhC,EAAAA,cAACN,EAAY,CACXW,IAAKA,EACLc,gBAAiBA,EACjBG,gBAAiBA,EACjBc,qBAAmB,EACnBC,aAAW,KAGb,MAIZ,G","sources":["webpack://odysee.com/../ui/page/claim/internal/claimPageComponent/internal/streamClaimPage/internal/markdownPost/view.jsx","webpack://odysee.com/../ui/page/claim/internal/claimPageComponent/internal/streamClaimPage/internal/markdownPost/index.js"],"sourcesContent":["// @flow\nimport * as React from 'react';\nimport Empty from 'component/common/empty';\nimport FileTitleSection from 'component/fileTitleSection';\nimport { lazyImport } from 'util/lazyImport';\n\nconst CommentsList = lazyImport(() => import('component/commentsList' /* webpackChunkName: \"comments\" */));\nconst PostViewer = lazyImport(() => import('component/postViewer' /* webpackChunkName: \"postViewer\" */));\n\ntype Props = {\n  uri: string,\n  accessStatus: ?string,\n  // -- redux --\n  isMature: boolean,\n  linkedCommentId?: string,\n  threadCommentId?: string,\n  commentsDisabled: ?boolean,\n  contentUnlocked: boolean,\n};\n\nexport default function MarkdownPostPage(props: Props) {\n  const {\n    uri,\n    accessStatus,\n    // -- redux --\n    isMature,\n    linkedCommentId,\n    threadCommentId,\n    commentsDisabled,\n    contentUnlocked,\n  } = props;\n\n  if (isMature) {\n    return (\n      <PostWrapper>\n        <FileTitleSection uri={uri} accessStatus={accessStatus} isNsfwBlocked />\n      </PostWrapper>\n    );\n  }\n\n  return (\n    <>\n      <PostWrapper>\n        <React.Suspense fallback={null}>\n          <PostViewer uri={uri} />\n        </React.Suspense>\n      </PostWrapper>\n\n      <div className=\"file-page__post-comments\">\n        {commentsDisabled ? (\n          <Empty text={__('The creator of this content has disabled comments.')} />\n        ) : contentUnlocked ? (\n          <React.Suspense fallback={null}>\n            <CommentsList\n              uri={uri}\n              linkedCommentId={linkedCommentId}\n              threadCommentId={threadCommentId}\n              commentsAreExpanded\n              notInDrawer\n            />\n          </React.Suspense>\n        ) : null}\n      </div>\n    </>\n  );\n}\n\nconst PostWrapper = ({ children }: { children: any }) => (\n  <div className=\"section card-stack file-page__md\">{children}</div>\n);\n","import { connect } from 'react-redux';\n\nimport { LINKED_COMMENT_QUERY_PARAM, THREAD_COMMENT_QUERY_PARAM } from 'constants/comment';\n\nimport * as TAGS from 'constants/tags';\n\nimport { selectCommentsDisabledSettingForChannelId } from 'redux/selectors/comments';\nimport {\n  selectClaimIsNsfwForUri,\n  selectClaimForUri,\n  makeSelectTagInClaimOrChannelForUri,\n} from 'redux/selectors/claims';\nimport { selectNoRestrictionOrUserIsMemberForContentClaimId } from 'redux/selectors/memberships';\nimport { getChannelIdFromClaim } from 'util/claim';\n\nimport MarkdownPostPage from './view';\n\nconst select = (state, props) => {\n  const { uri } = props;\n  const { search } = location;\n\n  const urlParams = new URLSearchParams(search);\n  const claim = selectClaimForUri(state, uri);\n\n  const claimId = claim.claim_id;\n\n  const commentSettingDisabled = selectCommentsDisabledSettingForChannelId(state, getChannelIdFromClaim(claim));\n\n  return {\n    isMature: selectClaimIsNsfwForUri(state, uri),\n    linkedCommentId: urlParams.get(LINKED_COMMENT_QUERY_PARAM),\n    threadCommentId: urlParams.get(THREAD_COMMENT_QUERY_PARAM),\n    contentUnlocked: claimId && selectNoRestrictionOrUserIsMemberForContentClaimId(state, claimId),\n    commentsDisabled:\n      commentSettingDisabled || makeSelectTagInClaimOrChannelForUri(uri, TAGS.DISABLE_COMMENTS_TAG)(state),\n  };\n};\n\nexport default connect(select)(MarkdownPostPage);\n"],"names":["CommentsList","lazyImport","PostViewer","PostWrapper","_ref","children","React","className","connect","state","props","uri","search","location","urlParams","URLSearchParams","claim","selectClaimForUri","claimId","claim_id","commentSettingDisabled","selectCommentsDisabledSettingForChannelId","getChannelIdFromClaim","isMature","selectClaimIsNsfwForUri","linkedCommentId","get","LINKED_COMMENT_QUERY_PARAM","threadCommentId","THREAD_COMMENT_QUERY_PARAM","contentUnlocked","selectNoRestrictionOrUserIsMemberForContentClaimId","commentsDisabled","makeSelectTagInClaimOrChannelForUri","TAGS","accessStatus","FileTitleSection","isNsfwBlocked","fallback","Empty","text","__","commentsAreExpanded","notInDrawer"],"sourceRoot":""}