{"version":3,"file":"modalConfirmThumbnailUpload-fbef58fe27ceb05bdf91.js","mappings":"wVAWIA,EAAU,CAAC,EAEfA,EAAQC,kBAAoB,IAC5BD,EAAQE,cAAgB,IAElBF,EAAQG,OAAS,SAAc,KAAM,QAE3CH,EAAQI,OAAS,IACjBJ,EAAQK,mBAAqB,IAEhB,IAAI,IAASL,GAKJ,KAAW,YAAiB,W,ijCC+ClD,QA/CA,SAAqCM,GACnC,IAAQC,EAAoDD,EAApDC,KAAMC,EAA8CF,EAA9CE,GAAIC,EAA0CH,EAA1CG,WAAYC,EAA8BJ,EAA9BI,OAAQC,EAAsBL,EAAtBK,kBAChCC,EAAWL,IAASA,EAAKM,MAAQN,EAAKO,MACMC,EAAAC,EAAlBC,EAAAA,SAAe,IAAG,GAA3CC,EAAQH,EAAA,GAAEI,EAAWJ,EAAA,GAoB5B,OAVAE,EAAAA,WAAgB,WACd,IAAMG,EAASC,IAAIC,gBAAgBf,GAEnC,OADAY,EAAYC,GACL,WACDA,GACFC,IAAIE,gBAAgBH,EAExB,CACF,GAAG,CAACb,IAGFU,EAAAA,cAACO,EAAAA,GAAK,CACJC,QAAM,EACNC,MAAOC,EAAG,oBACVC,aAAcD,EAAG,4BACjBE,KAAK,UACLC,mBAAoBH,EAAG,UACvBI,YAzBJ,WACMxB,IACFG,EAAOH,EAAMC,GACbG,EAAkB,CAAEqB,cAAezB,EAAKM,OACxCJ,IAEJ,EAoBIwB,UAAWxB,GAEXQ,EAAAA,cAAA,aAAQU,EAAG,6DAA8D,CAAEO,OAAQC,EAAAA,SAAU,KAC7FlB,EAAAA,cAAA,OAAKmB,UAAU,4BACbnB,EAAAA,cAAA,OACEmB,UAAU,kCACVC,IAAKnB,GAAYoB,EACjBC,IAAKZ,EAAG,qBACRa,QAAS,kBAAMrB,EAAY,GAAG,IAEhCF,EAAAA,cAAA,OAAKmB,UAAU,sCAAsCxB,IAI7D,EC1DA,SAAe6B,EAAAA,EAAAA,IAA8B,MAN7B,SAACC,GAAQ,MAAM,CAC7BjC,WAAY,kBAAMiC,GAASC,EAAAA,EAAAA,MAAc,EACzCjC,OAAQ,SAACH,EAAMC,GAAE,OAAKkC,GAASE,EAAAA,EAAAA,IAAkB,GAAIrC,EAAM,KAAM,KAAMA,EAAKM,KAAML,GAAI,EACtFG,kBAAmB,SAACkC,GAAK,OAAKH,GAASI,EAAAA,EAAAA,IAAoBD,GAAO,EACnE,GAED,CAA4DE,E,sECVxDC,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,4mCAA6mC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,kEAAkE,MAAQ,GAAG,SAAW,8TAA8T,eAAiB,CAAC,g9BAAg9B,WAAa,MAEtjF,S","sources":["webpack://odysee.com/../ui/modal/modalConfirmThumbnailUpload/style.scss?fced","webpack://odysee.com/../ui/modal/modalConfirmThumbnailUpload/view.jsx","webpack://odysee.com/../ui/modal/modalConfirmThumbnailUpload/index.js","webpack://odysee.com/../ui/modal/modalConfirmThumbnailUpload/style.scss"],"sourcesContent":["\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./style.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./style.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","// @flow\nimport React from 'react';\nimport { Modal } from 'modal/modal';\nimport { DOMAIN } from 'config';\nimport ThumbnailBrokenImage from 'component/selectThumbnail/thumbnail-broken.png';\nimport './style.scss';\n\n// ****************************************************************************\n// ****************************************************************************\n\nexport type Props = {|\n  file: WebFile,\n  cb: (string) => void,\n|};\n\ntype StateProps = {||};\n\ntype DispatchProps = {|\n  closeModal: () => void,\n  upload: (WebFile, (string) => void) => void,\n  updatePublishForm: (UpdatePublishState) => void,\n|};\n\n// ****************************************************************************\n// ****************************************************************************\n\nfunction ModalConfirmThumbnailUpload(props: Props & StateProps & DispatchProps) {\n  const { file, cb, closeModal, upload, updatePublishForm } = props;\n  const filePath = file && (file.path || file.name);\n  const [imageSrc, setImageSrc] = React.useState('');\n\n  function handleConfirmed() {\n    if (file) {\n      upload(file, cb);\n      updatePublishForm({ thumbnailPath: file.path });\n      closeModal();\n    }\n  }\n\n  React.useEffect(() => {\n    const imgSrc = URL.createObjectURL(file);\n    setImageSrc(imgSrc);\n    return () => {\n      if (imgSrc) {\n        URL.revokeObjectURL(imgSrc);\n      }\n    };\n  }, [file]);\n\n  return (\n    <Modal\n      isOpen\n      title={__('Upload thumbnail')}\n      contentLabel={__('Confirm Thumbnail Upload')}\n      type=\"confirm\"\n      confirmButtonLabel={__('Upload')}\n      onConfirmed={handleConfirmed}\n      onAborted={closeModal}\n    >\n      <label>{__('Are you sure you want to upload this thumbnail to %domain%', { domain: DOMAIN })}?</label>\n      <div className=\"upload-thumbnail-preview\">\n        <img\n          className=\"upload-thumbnail-preview__image\"\n          src={imageSrc || ThumbnailBrokenImage}\n          alt={__('Thumbnail Preview')}\n          onError={() => setImageSrc('')}\n        />\n        <div className=\"upload-thumbnail-preview__filename\">{filePath}</div>\n      </div>\n    </Modal>\n  );\n}\n\nexport default ModalConfirmThumbnailUpload;\n","// @flow\nimport { connect } from 'react-redux';\nimport { doHideModal } from 'redux/actions/app';\nimport { doUploadThumbnail, doUpdatePublishForm } from 'redux/actions/publish';\nimport type { Props } from './view';\nimport ModalConfirmThumbnailUpload from './view';\n\nconst perform = (dispatch) => ({\n  closeModal: () => dispatch(doHideModal()),\n  upload: (file, cb) => dispatch(doUploadThumbnail('', file, null, null, file.path, cb)),\n  updatePublishForm: (value) => dispatch(doUpdatePublishForm(value)),\n});\n\nexport default connect<_, Props, _, _, _, _>(null, perform)(ModalConfirmThumbnailUpload);\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".upload-thumbnail-preview{display:flex}[dir] .upload-thumbnail-preview{border:1px solid var(--color-border);border-radius:var(--border-radius);margin:var(--spacing-s) 0;padding:var(--spacing-s)}@media(max-width:900px){.upload-thumbnail-preview{flex-direction:column}}.upload-thumbnail-preview__image{height:calc(var(--thumbnail-preview-height));min-height:calc(var(--thumbnail-preview-height));min-width:calc(var(--thumbnail-preview-width));object-fit:contain;width:calc(var(--thumbnail-preview-width))}[dir] .upload-thumbnail-preview__image{background-color:var(--color-thumbnail-background);border:1px solid var(--color-border);border-radius:var(--border-radius)}.upload-thumbnail-preview__filename{color:var(--color-text-subtitle);font-size:var(--font-small)}[dir] .upload-thumbnail-preview__filename{margin-top:var(--spacing-s)}[dir=ltr] .upload-thumbnail-preview__filename{margin-left:var(--spacing-s)}[dir=rtl] .upload-thumbnail-preview__filename{margin-right:var(--spacing-s)}@media(max-width:900px){[dir=ltr] .upload-thumbnail-preview__filename{margin-left:0}[dir=rtl] .upload-thumbnail-preview__filename{margin-right:0}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../ui/modal/modalConfirmThumbnailUpload/style.scss\"],\"names\":[],\"mappings\":\"AAEA,0BAKE,YAAA,CALF,gCAEE,oCAAA,CADA,kCAAA,CAEA,yBAAA,CACA,wBACA,CAEA,wBAPF,0BAQI,qBAAA,CAAA,CAIJ,iCAIE,4CAAA,CAFA,gDAAA,CADA,8CAAA,CAOA,kBAAA,CALA,0CAKA,CARF,uCAKE,kDAAA,CAEA,oCAAA,CADA,kCAEA,CAGF,oCAIE,gCAAA,CADA,2BACA,CAJF,0CACE,2BAGA,CAJF,8CAEE,4BAEA,CAJF,8CAEE,6BAEA,CAEA,wBANF,8CAOI,aAAA,CAPJ,8CAOI,cAAA,CAAA\",\"sourcesContent\":[\"@import '~ui/scss/init/breakpoints';\\n\\n.upload-thumbnail-preview {\\n  border-radius: var(--border-radius);\\n  border: 1px solid var(--color-border);\\n  margin: var(--spacing-s) 0;\\n  padding: var(--spacing-s);\\n  display: flex;\\n\\n  @media (max-width: $breakpoint-small) {\\n    flex-direction: column;\\n  }\\n}\\n\\n.upload-thumbnail-preview__image {\\n  min-width: calc(var(--thumbnail-preview-width));\\n  min-height: calc(var(--thumbnail-preview-height));\\n  width: calc(var(--thumbnail-preview-width));\\n  height: calc(var(--thumbnail-preview-height));\\n  background-color: var(--color-thumbnail-background);\\n  border-radius: var(--border-radius);\\n  border: 1px solid var(--color-border);\\n  object-fit: contain;\\n}\\n\\n.upload-thumbnail-preview__filename {\\n  margin-top: var(--spacing-s);\\n  margin-left: var(--spacing-s);\\n  font-size: var(--font-small);\\n  color: var(--color-text-subtitle);\\n\\n  @media (max-width: $breakpoint-small) {\\n    margin-left: 0;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","props","file","cb","closeModal","upload","updatePublishForm","filePath","path","name","_React$useState2","_slicedToArray","React","imageSrc","setImageSrc","imgSrc","URL","createObjectURL","revokeObjectURL","Modal","isOpen","title","__","contentLabel","type","confirmButtonLabel","onConfirmed","thumbnailPath","onAborted","domain","DOMAIN","className","src","ThumbnailBrokenImage","alt","onError","connect","dispatch","doHideModal","doUploadThumbnail","value","doUpdatePublishForm","ModalConfirmThumbnailUpload","___CSS_LOADER_EXPORT___","push","module","id"],"sourceRoot":""}