"use strict";(self.webpackChunkodysee_com=self.webpackChunkodysee_com||[]).push([[4706],{9873:(e,t,n)=>{n.d(t,{Z:()=>T});var r=n(24582),a=n(26617),o=n(86189),i=n(88441),l=n(38755),c=n(2320),s=n(1892),u=n.n(s),m=n(95760),d=n.n(m),p=n(38311),f=n.n(p),b=n(58192),A=n.n(b),v=n(38060),h=n.n(v),y=n(54865),g=n.n(y),E=n(70535),w={};w.styleTagTransform=g(),w.setAttributes=A(),w.insert=f().bind(null,"head"),w.domAPI=d(),w.insertStyleElement=h();u()(E.Z,w);E.Z&&E.Z.locals&&E.Z.locals;var C=n(71036).__;const T=(0,r.$j)((function(e){return{arweaveWallets:(0,o.nl)(e)}}),{doArConnect:a.oz})((function(e){var t=e.arweaveWallets,n=e.doArConnect,r=(0,c.i)().activeArStatus;return t&&"connected"!==r?i.createElement("div",{className:"wallet-status".concat("authenticating"===r?" wallet-status--authenticating":"authenticated"===r?" wallet-status--authenticated":"")},"not-authenticated"===r?t.length>0?i.createElement(i.Fragment,null,i.createElement("p",null,C("To use AR on Odysee, you need to be signed into Wander.")),i.createElement(l.OL,{to:"/$/wallet"},"Wallet settings")):i.createElement(i.Fragment,null,i.createElement("p",null,C("To use AR on Odysee, you need to create and/or sign into Wander â€“ a cryptocurrency wallet compatible with AR.")," ",i.createElement("a",{href:"https://help.odysee.tv/category-monetization/setup",target:"_blank",rel:"noopener noreferrer",className:"link"},C("Learn more"))),i.createElement(l.OL,{to:"/$/wallet"},"Wallet settings")):"authenticated"===r?i.createElement(i.Fragment,null,i.createElement("p",null,C("To use AR on Odysee, the Wander wallet must be connected.")),i.createElement("div",null,i.createElement("a",{className:"link",onClick:function(){return n()}},"Connect now"),i.createElement("span",null," or "),i.createElement("a",{className:"link",onClick:function(){return window.wanderInstance.open()}},"change login"))):i.createElement(i.Fragment,null,i.createElement("p",null,C("Odysee is signing you in to your Wander wallet. Please wait...")),i.createElement("a",{onClick:function(){return window.wanderInstance.open()}},"Show status"))):null}))},16896:(e,t,n)=>{n.r(t),n.d(t,{default:()=>te});var r=n(24582),a=n(70897),o=n(88441),i=n(1017),l=n(7920),c=n(86102),s=n(20983),u=n(88374),m=n(35101),d=n(16643),p=n(19208),f=n(58210),b=n(16395),A=n(15244),v=n(53389),h=n(77369),y=n(73249),g=n(25542),E=n(94720),w=n(97358),C=n(44908),T=n(51635),k=n(4476),_=n(32158),S=n(74971),B=n(19775),O=n(9873),x=n(29679),N=n(2320),j=n(66598),R=n.n(j),F=n(10603),I=n(71036).__;function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=(0,F.F8)();var L=function(e){var t=e.icon,n=e.label,r=e.name,a=e.isOnConfirmationPage,i=e.activeTab,l=e.setActiveTab;return o.createElement(C.default,{key:r,icon:t,label:n,button:"alt",onClick:function(){var e=document.getElementById("tip-input");e&&e.focus(),a||l(r)},className:R()("button-toggle",{"button-toggle--active":i===r})})},U=n(86189),G=n(26617),W=n(33441),$=n(30407),z=n(27086),q={doHideModal:a.gG,doSendTip:c.T0,doArTip:G.p,doToast:W.QJ,doTipAccountCheckForUri:z.zj};const H=(0,d.withRouter)((0,r.$j)((function(e,t){var n=t.uri,r=(0,l.B0y)(e,n,!1),a=r||{},o=a.claim_id,i=a.value_type,c=(0,f._I)(r),d=(0,f.BG)(r),b=(0,u.YG)(e)||{},A=b.name,v=b.claim_id,h=(0,U.lX)(e,c),y="active"===(null==h?void 0:h.status)&&(null==h?void 0:h.default);return{activeChannelName:A,activeChannelId:v,balance:(0,m.QM)(e),claimId:o,claimType:i,channelClaimId:c,tipChannelName:d,claimIsMine:(0,l.ZJr)(e,n),fetchingChannels:(0,l.Y7j)(e),incognito:(0,u.IO)(e),instantTipEnabled:(0,s.wr)(e,p.gv),instantTipMax:(0,s.wr)(e,p.s6),isPending:(0,m.hL)(e),title:(0,l.$8y)(e,n),canReceiveTips:y,arweaveTipData:(0,U.lX)(e,c),isArweaveTipping:(0,$.s)(e,o),arweaveTippingError:(0,$.O5)(e,o),checkingAccount:(0,U.zL)(e,o)}}),q)((function(e){var t,n=e.activeChannelId,r=e.activeChannelName,a=e.balance,i=e.claimId,l=e.claimType,c=e.channelClaimId,s=e.tipChannelName,u=e.claimIsMine,m=e.fetchingChannels,d=e.incognito,p=e.instantTipEnabled,f=e.instantTipMax,j=e.isPending,R=e.isArweaveTipping,F=e.arweaveTippingError,D=e.title,U=e.uri,G=e.isTipOnly,W=e.hasSelectedTab,$=e.customText,z=e.doHideModal,q=e.doSendTip,H=e.setAmount,Q=e.modalProps,J=e.canReceiveTips,X=e.arweaveTipData,Y=e.doArTip,K=e.doToast,V=e.doTipAccountCheckForUri,ee=e.checkingAccount,te=(0,N.i)().activeArStatus,ne=b.ENABLE_ARCONNECT,re=u?g.Ex:g.tA,ae=Z((0,x.Z)("send-tip-modal",re),2),oe=ae[0],ie=ae[1],le=Z(o.useState(u?g.Ex:oe),2),ce=le[0],se=le[1],ue=Z(o.useState(!1),2),me=ue[0],de=ue[1],pe=Z((0,x.Z)("comment-support:customTip",1),2),fe=pe[0],be=pe[1],Ae=Z(o.useState(!1),2),ve=Ae[0],he=Ae[1],ye=Z(o.useState(),2),ge=ye[0],Ee=ye[1],we=Z(o.useState(),2),Ce=we[0],Te=we[1],ke=function(){switch(l){case"stream":return I("Boost this content");case"channel":return I("Boost this channel");case"repost":return I("Boost this repost");case"collection":return I("Boost this playlist");default:return I("Boost this claim")}}(),_e=function(){switch(l){case"stream":return I("Boost your content");case"channel":return I("Boost your channel");case"repost":return I("Boost your repost");case"collection":return I("Boost your playlist");default:return I("Boost your claim")}}(),Se=u||ce===g.Ex,Be=Se?u?_e:ke:I("Leave a tip for the creator");try{t=(0,v.parseURI)(U).channelName}catch(e){}var Oe="";switch(ce){case g.Ex:Oe=function(){switch(l){case"stream":return I("This refundable boost will improve the discoverability of this content while active.");case"channel":return I("This refundable boost will improve the discoverability of this channel while active.");case"repost":return I("This refundable boost will improve the discoverability of this repost while active.");case"collection":return I("This refundable boost will improve the discoverability of this playlist while active.");default:return I("This refundable boost will improve the discoverability of this claim while active.")}}();case g.tA:}function xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;ve||e&&p&&!(fe>e)?(q({amount:fe,claim_id:i||"",channel_id:!d&&n||void 0},Se),z()):he(!0)}function Ne(){if(fe&&i){if(H)return H(fe,ce),void z();if(p&&ce!==g.tA)"LBC"===f.currency?xe(f.amount):A.Lbryio.getExchangeRates().then((function(e){var t=e.LBC_USD;return xe(f.amount/t)}));else if(ce===g.tA)if(ve){var e=X.address,t=ce===g.tA?"AR":"USD";Y({tipAmountTwoPlaces:fe,tipChannelName:s||"",channelClaimId:c||"",recipientAddress:e,currency:t},!n||d,{activeChannelName:r,activeChannelId:n},i,M,t).then((function(e){if(e.error)throw new Error(e.error);K({message:I("Tip sent!")}),z()})).catch((function(e){throw console.error(e),K({message:I("Tip failed to send."),subMessage:(null==e?void 0:e.message)||e,isError:!0}),new Error((null==e?void 0:e.message)||e)}))}else he(!0);else xe()}}o.useEffect((function(){V(U)}),[V,U]),o.useEffect((function(){!me&&W&&(se(u?g.Ex:W),de(!0))}),[ce,u,me,W,se]),o.useEffect((function(){W||ce===W||ie(u?g.Ex:ce)}),[ce,u,W,ie]);var je={isOnConfirmationPage:ve,activeTab:ce,setActiveTab:se};return o.createElement(E.l0,{onSubmit:Ne},o.createElement(T.Z,{title:Be,className:"modal--send-tip",subtitle:o.createElement(o.Fragment,null,!u&&o.createElement("div",{className:"section"},ne&&o.createElement(L,P({icon:h.USD,label:I("Tip"),name:g.tA},je)),!G&&o.createElement(L,P({icon:h.TRENDING,label:I("Boost"),name:g.Ex},je))),o.createElement("div",{className:"section__subtitle"},Oe," ",o.createElement(C.default,{label:I("Learn more"),button:"link",href:"https://help.odysee.tv/category-monetization/"}))),actions:ve?o.createElement(o.Fragment,null,o.createElement("div",{className:"section card--inline confirm__wrapper"},o.createElement("div",{className:"section"},o.createElement("div",{className:"confirm__label"},I("To --[the tip recipient]--")),o.createElement("div",{className:"confirm__value"},t||D),o.createElement("div",{className:"confirm__label"},I("From --[the tip sender]--")),o.createElement("div",{className:"confirm__value"},!d&&r||I("Anonymous")),o.createElement("div",{className:"confirm__label"},I("Amount")),o.createElement("div",{className:"confirm__value"},ce===g.tA?o.createElement("p",null,"".concat(h.USD," $ ").concat((Math.round(100*fe)/100).toFixed(2))):o.createElement("p",null,"".concat((Math.round(100*fe)/100).toFixed(2)," ").concat(h.LBC))))),o.createElement("div",{className:"section__actions"},ce===g.tA?o.createElement(o.Fragment,null,o.createElement(C.default,{button:"primary",label:I("Confirm"),onClick:Ne})):o.createElement(C.default,{autoFocus:!0,onClick:Ne,button:"primary",disabled:R,label:I(F?"Retry":"Confirm")}),o.createElement(C.default,{button:"link",label:I("Cancel"),onClick:function(){return he(!1)}})),F&&o.createElement("div",{className:"error"},F)):ce!==g.Ex||0!==a?o.createElement(o.Fragment,null,ce!==g.tA||J?ce===g.tA&&"connected"!==te?o.createElement(O.Z,null):o.createElement(o.Fragment,null,o.createElement(k.Z,null),o.createElement(B.Z,{setTipError:Ee,tipError:ge,uri:U,activeTab:ce===g.tA?g.tA:ce,amount:fe,onChange:function(e){return be(e)},setDisableSubmitButton:Te,modalProps:Q,exchangeRateOverride:void 0}),o.createElement("div",{className:"section__actions"},o.createElement(C.default,{autoFocus:!0,icon:Se?h.TRENDING:h.SUPPORT,button:"primary",type:"submit",disabled:ee||m||j||ge||!fe||Ce||!J&&ce===g.tA,label:o.createElement(w.Z,null,$||function(){switch(ce){case g.Ex:return Be;case g.tA:return I("Send a %amount% Tip",{amount:"".concat(fe," USD")});default:return Be}}())}),m&&o.createElement("span",{className:"help"},I("Loading your channels...")))):o.createElement("div",{className:"monetization-disabled"},"USD Monetization isn't available. It may not be set up yet or has been disabled by the creator.")):o.createElement(T.Z,{title:o.createElement(_.Z,{tokens:{lbc:o.createElement(S.Z,{size:22})}},"Supporting content requires %lbc%"),subtitle:o.createElement(_.Z,{tokens:{lbc:o.createElement(S.Z,null)}},"With %lbc%, you can send tips to your favorite creators, or help boost their content for more people to see."),actions:o.createElement("div",{className:"section__actions"},o.createElement(C.default,{icon:h.REWARDS,button:"primary",label:I("Receive Credits"),navigate:"/$/".concat(y.REWARDS)}))})}))})));function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(a=r.key,o=void 0,o=function(e,t){if("object"!==Q(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===Q(o)?o:String(o)),r)}var a,o}function X(e,t){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},X(e,t)}function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K(e);if(t){var a=K(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function K(e){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},K(e)}const V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}(l,e);var t,n,r,a=Y(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){var e=this.props,t=e.uri,n=e.claimIsMine,r=e.isTipOnly,a=e.hasSelectedTab,l=e.customText,c=e.doHideModal,s=e.setAmount;return o.createElement(i.u_,{onAborted:c,isOpen:!0,type:"card"},o.createElement(H,{uri:t,claimIsMine:n,onCancel:c,isTipOnly:r,hasSelectedTab:a,customText:l,setAmount:s,modalProps:this.props}))}}])&&J(t.prototype,n),r&&J(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(o.PureComponent);var ee={doHideModal:a.gG};const te=(0,r.$j)(null,ee)(V)},70535:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(26612),a=n.n(r),o=n(40805),i=n.n(o)()(a());i.push([e.id,".wallet-status{align-items:center;backdrop-filter:blur(4px);display:flex;flex-direction:column;gap:var(--spacing-s);justify-content:center;transition:background .4s,border .4s}[dir] .wallet-status{background:rgba(218,4,4,.1);border:1px solid var(--color-text-error);border-radius:var(--border-radius);margin-bottom:var(--spacing-m);padding:var(--spacing-s)}[dir] .wallet-status p{text-align:center}.wallet-status a{color:var(--color-primary)}[dir] .wallet-status a{cursor:pointer}[dir] .wallet-status.wallet-status--authenticating{background:rgba(218,218,4,.2);border:1px solid #e79606}[dir] .wallet-status.wallet-status--authenticated{background-color:rgba(0,255,21,.2);border:2px solid rgba(0,255,64,.6)}.wallet-status .link{color:var(--color-primary);font-weight:700}.wallet-status .link:hover{color:var(--color-secondary)}[dir] .wallet-status .link:hover{cursor:pointer}","",{version:3,sources:["webpack://./../ui/component/walletStatus/style.scss"],names:[],mappings:"AAAA,eAIE,kBAAA,CAQA,yBAAA,CAXA,YAAA,CACA,qBAAA,CAGA,oBAAA,CAFA,sBAAA,CAQA,oCACA,CAZF,qBAUE,2BAAA,CAJA,wCAAA,CACA,kCAAA,CAEA,8BAAA,CADA,wBAIA,CAEA,uBACE,iBAAA,CAGF,iBAEE,0BAAA,CAFF,uBACE,cACA,CAGF,mDACE,6BAAA,CACA,wBAAA,CAGF,kDAEE,kCAAA,CADA,kCACA,CAGF,qBAEE,0BAAA,CADA,eACA,CACA,2BAEE,4BAAA,CAFF,iCACE,cACA",sourcesContent:[".wallet-status {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: var(--spacing-s);\n  border: 1px solid var(--color-text-error);\n  border-radius: var(--border-radius);\n  padding: var(--spacing-s);\n  margin-bottom: var(--spacing-m);\n  background: rgba(218, 4, 4, 0.1);\n  transition: background 0.4s, border 0.4s;\n  backdrop-filter: blur(4px);\n\n  p {\n    text-align: center;\n  }\n\n  a {\n    cursor: pointer;\n    color: var(--color-primary);\n  }\n\n  &.wallet-status--authenticating {\n    background: rgba(218, 218, 4, 0.2);\n    border: 1px solid rgb(231, 150, 6);\n  }\n\n  &.wallet-status--authenticated {\n    border: 2px solid rgba(0, 255, 64, 0.6);\n    background-color: rgba(0, 255, 21, 0.2);\n  }\n\n  .link {\n    font-weight: 700;\n    color: var(--color-primary);\n    &:hover {\n      cursor: pointer;\n      color: var(--color-secondary);\n    }\n  }\n}\n"],sourceRoot:""}]);const l=i}}]);
//# sourceMappingURL=modalSendTip-7e52526a45831e921f7e-1009.js.map