{"version":3,"file":"4928-0a298fb6c24c01de1648-1009.js","mappings":"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","sources":["webpack://odysee.com/../ui/component/videoClaimInitiator/view.jsx","webpack://odysee.com/../ui/component/videoClaimInitiator/index.js","webpack://odysee.com/../ui/component/shortsActions/view.jsx","webpack://odysee.com/../ui/component/shortsActions/index.js","webpack://odysee.com/../ui/component/shortsVideoPlayer/view.jsx","webpack://odysee.com/../ui/component/shortsSidePanel/view.jsx","webpack://odysee.com/../ui/component/shortsMobileSidePanel/style.scss?384e","webpack://odysee.com/../ui/component/shortsMobileSidePanel/view.jsx","webpack://odysee.com/../ui/component/shortsMobileSidePanel/index.js","webpack://odysee.com/../ui/component/shortsActions/swipeNavigation/style.scss?41d0","webpack://odysee.com/../ui/component/shortsActions/swipeNavigation/viewModeSelector/view.jsx","webpack://odysee.com/../ui/component/shortsActions/shortsMobileActions/view.jsx","webpack://odysee.com/../ui/component/shortsActions/swipeNavigation/viewModeToggle/view.jsx","webpack://odysee.com/../ui/component/shortsActions/swipeNavigation/view.jsx","webpack://odysee.com/../ui/component/shortsActions/swipeNavigation/index.js","webpack://odysee.com/../ui/page/claim/internal/claimPageComponent/internal/streamClaimPage/internal/shorts/view.jsx","webpack://odysee.com/../ui/redux/actions/shorts.js","webpack://odysee.com/../ui/page/claim/internal/claimPageComponent/internal/streamClaimPage/internal/shorts/index.js","webpack://odysee.com/../ui/page/claim/internal/claimPageComponent/internal/streamClaimPage/internal/videoPlayers/view.jsx","webpack://odysee.com/../ui/component/shortsActions/swipeNavigation/style.scss","webpack://odysee.com/../ui/component/shortsMobileSidePanel/style.scss"],"sourcesContent":["// @flow\n// This component is entirely for triggering the start of a video claim view\n// A video/audio claim will actually be rendered by VideoRenderFloating, which\n// will use this component to properly position itself based on the ClaimCoverRender\nimport React from 'react';\n\nimport Button from 'component/button';\nimport ClaimCoverRender from 'component/claimCoverRender';\n\ntype Props = {\n  // -- withStreamClaimRender --\n  uri: string,\n  children?: any,\n  streamClaim: () => void,\n  // -- redux --\n  doSetMainPlayerDimension: (dimensions: { height: number, width: number }) => void,\n};\n\nconst VideoClaimInitiator = (props: Props) => {\n  const { uri, children, streamClaim, doSetMainPlayerDimension } = props;\n\n  const playerRef = React.useCallback(\n    (node) => {\n      if (node) {\n        const rect = node.getBoundingClientRect();\n        doSetMainPlayerDimension(rect);\n      }\n    },\n    [doSetMainPlayerDimension]\n  );\n\n  return (\n    <ClaimCoverRender uri={uri} onClick={streamClaim} passedRef={playerRef}>\n      <Button className=\"button--icon button--play\" onClick={streamClaim} iconSize={30} title={__('Play')} />\n      {children}\n    </ClaimCoverRender>\n  );\n};\n\nexport default VideoClaimInitiator;\n","import { connect } from 'react-redux';\n\nimport { doSetMainPlayerDimension } from 'redux/actions/app';\nimport withStreamClaimRender from 'hocs/withStreamClaimRender';\n\nimport VideoClaimInitiator from './view';\n\nconst perform = {\n  doSetMainPlayerDimension,\n};\n\nexport default withStreamClaimRender(connect(null, perform)(VideoClaimInitiator));\n","// @flow\nimport React from 'react';\nimport Button from 'component/button';\nimport * as ICONS from 'constants/icons';\nimport classnames from 'classnames';\nimport * as REACTION_TYPES from 'constants/reactions';\nimport Skeleton from '@mui/material/Skeleton';\nimport { formatNumberWithCommas } from 'util/number';\n\ntype Props = {\n  hasPlaylist: boolean,\n  onNext: () => void,\n  onPrevious: () => void,\n  isLoading?: boolean,\n  isAtStart?: boolean,\n  isAtEnd?: boolean,\n  autoPlayNextShort: boolean,\n  doToggleShortsAutoplay: () => void,\n  uri: string,\n  // redux\n  claimId?: string,\n  likeCount: number,\n  dislikeCount: number,\n  myReaction: ?string,\n  isLivestreamClaim?: boolean,\n  scheduledState: ClaimScheduledState,\n  disableSlimes: boolean,\n  doFetchReactions: (claimId: ?string) => void,\n  doReactionLike: (uri: string) => void,\n  doReactionDislike: (uri: string) => void,\n  onCommentsClick: () => void,\n  webShareable: boolean,\n  collectionId?: string,\n  isUnlisted: ?boolean,\n  handleShareClick: () => void,\n};\n\nconst LIVE_REACTION_FETCH_MS = 1000 * 45;\n\nconst ShortsActions = React.memo<Props>(\n  ({\n    uri,\n    claimId,\n    myReaction,\n    likeCount,\n    dislikeCount,\n    isLivestreamClaim,\n    scheduledState,\n    disableSlimes,\n    doFetchReactions,\n    doReactionLike,\n    doReactionDislike,\n    hasPlaylist,\n    onNext,\n    onPrevious,\n    isLoading,\n    isAtStart,\n    isAtEnd,\n    autoPlayNextShort,\n    onCommentsClick,\n    doToggleShortsAutoplay,\n    isUnlisted,\n    handleShareClick,\n  }: Props) => {\n    React.useEffect(() => {\n      function fetchReactions() {\n        doFetchReactions(claimId);\n      }\n\n      let fetchInterval;\n      if (claimId) {\n        fetchReactions();\n\n        if (isLivestreamClaim) {\n          fetchInterval = setInterval(fetchReactions, LIVE_REACTION_FETCH_MS);\n        }\n      }\n\n      return () => {\n        if (fetchInterval) {\n          clearInterval(fetchInterval);\n        }\n      };\n    }, [claimId, doFetchReactions, isLivestreamClaim]);\n    const Placeholder = <Skeleton variant=\"text\" animation=\"wave\" className=\"reaction-count-placeholder\" />;\n\n    return (\n      <div className=\"shorts-page__navigation\">\n        <>\n          <Button\n            className=\"shorts-page__actions-button shorts-page__actions-button--previous\"\n            onClick={onPrevious}\n            icon={ICONS.UP}\n            iconSize={24}\n            title={__('Previous Short')}\n            disabled={isAtStart || !hasPlaylist}\n          />\n          <Button\n            className=\"shorts-page__actions-button shorts-page__actions-button--next\"\n            onClick={onNext}\n            icon={ICONS.DOWN}\n            iconSize={24}\n            title={__('Next Short')}\n            disabled={isAtEnd || !hasPlaylist}\n          />\n          <div\n            className=\"shorts-page__ratings\"\n            style={{\n              '--ratings-gradient': (() => {\n                if (!Number.isInteger(likeCount) || !Number.isInteger(dislikeCount)) return 'var(--color-border)';\n                const total = likeCount + dislikeCount;\n                if (total === 0) return 'var(--color-border)';\n                const likePercent = (likeCount / total) * 100;\n                if (likePercent === 100) return 'var(--color-fire)';\n                if (likePercent === 0) return 'var(--color-slime)';\n                const fireStop = Math.max(0, likePercent - 15);\n                const slimeStop = Math.min(100, likePercent + 15);\n                return `linear-gradient(to bottom, var(--color-fire) ${fireStop}%, var(--color-slime) ${slimeStop}%)`;\n              })(),\n            }}\n          >\n            <div className=\"fire-and-count\">\n              <Button\n                onClick={() => doReactionLike(uri)}\n                icon={myReaction === REACTION_TYPES.LIKE ? ICONS.FIRE_ACTIVE : ICONS.FIRE}\n                iconSize={16}\n                title={__('I Like This')}\n                disabled={!hasPlaylist}\n                requiresAuth\n                authSrc=\"filereaction_like\"\n                className={classnames('shorts-page__actions-button button--file-action button-like', {\n                  'button--fire': myReaction === REACTION_TYPES.LIKE,\n                })}\n                label={\n                  <>\n                    {myReaction === REACTION_TYPES.LIKE && (\n                      <>\n                        <div className=\"button__fire-glow\" />\n                        <div className=\"button__fire-particle1\" />\n                        <div className=\"button__fire-particle2\" />\n                        <div className=\"button__fire-particle3\" />\n                        <div className=\"button__fire-particle4\" />\n                        <div className=\"button__fire-particle5\" />\n                        <div className=\"button__fire-particle6\" />\n                      </>\n                    )}\n                  </>\n                }\n              />\n              {Number.isInteger(likeCount) ? <span>{formatNumberWithCommas(likeCount, 0)}</span> : Placeholder}\n            </div>\n            <div className=\"slime-and-count\">\n              <Button\n                requiresAuth\n                authSrc={'filereaction_dislike'}\n                title={__('I dislike this')}\n                className={classnames('shorts-page__actions-button button--file-action button-dislike', {\n                  'button--slime': myReaction === REACTION_TYPES.DISLIKE,\n                })}\n                disabled={!hasPlaylist}\n                label={\n                  <>\n                    {myReaction === REACTION_TYPES.DISLIKE && (\n                      <>\n                        <div className=\"button__slime-stain\" />\n                        <div className=\"button__slime-drop1\" />\n                        <div className=\"button__slime-drop2\" />\n                      </>\n                    )}\n                  </>\n                }\n                iconSize={16}\n                icon={myReaction === REACTION_TYPES.DISLIKE ? ICONS.SLIME_ACTIVE : ICONS.SLIME}\n                onClick={() => doReactionDislike(uri)}\n              />\n              {Number.isInteger(dislikeCount) ? <span>{formatNumberWithCommas(dislikeCount, 0)}</span> : Placeholder}\n            </div>\n          </div>\n          <div className=\"shorts-actions__item\">\n            <Button\n              className=\"shorts-page__actions-button shorts-page__actions-button--comments\"\n              onClick={onCommentsClick}\n              icon={ICONS.COMMENTS_LIST}\n              iconSize={16}\n              title={__('Comments')}\n              disabled={!hasPlaylist}\n            />\n            <p>{__('Comments')}</p>\n          </div>\n\n          <div className=\"shorts-actions__item\">\n            <Button\n              className=\"shorts-page__actions-button shorts-page__actions-button--share\"\n              onClick={handleShareClick}\n              icon={ICONS.SHARE}\n              iconSize={16}\n              title={isUnlisted ? __('Get a sharable link for your unlisted content') : __('Share')}\n              disabled={!hasPlaylist}\n            />\n            <p>{__('Share')}</p>\n          </div>\n          <div className=\"shorts-actions__item\">\n            <Button\n              className={classnames('shorts-page__actions-button button-bubble', {\n                'button-bubble--active': autoPlayNextShort,\n              })}\n              title={__('Autoplay Next')}\n              onClick={doToggleShortsAutoplay}\n              icon={ICONS.AUTOPLAY_NEXT}\n              iconSize={16}\n              disabled={isLoading || !hasPlaylist}\n            />\n            <p>{__('Auto Next')}</p>\n          </div>\n        </>\n      </div>\n    );\n  }\n);\n\nexport default ShortsActions;\n","import { connect } from 'react-redux';\nimport { selectMyReactionForUri, selectLikeCountForUri, selectDislikeCountForUri } from 'redux/selectors/reactions';\nimport { doFetchReactions, doReactionLike, doReactionDislike } from 'redux/actions/reactions';\nimport ShortsActions from './view';\nimport {\n  selectClaimForUri,\n  selectIsStreamPlaceholderForUri,\n  selectClaimIsMine,\n  selectScheduledStateForUri,\n  makeSelectTagInClaimOrChannelForUri,\n  selectIsUriUnlisted,\n} from 'redux/selectors/claims';\nimport { DISABLE_SLIMES_VIDEO_TAG, DISABLE_SLIMES_ALL_TAG } from 'constants/tags';\nimport { doOpenModal } from 'redux/actions/app';\n\nconst select = (state, props) => {\n  const { uri } = props;\n\n  const claim = selectClaimForUri(state, uri);\n\n  const { claim_id: claimId } = claim || {};\n\n  return {\n    myReaction: selectMyReactionForUri(state, uri),\n    likeCount: selectLikeCountForUri(state, uri),\n    dislikeCount: selectDislikeCountForUri(state, uri),\n    isLivestreamClaim: selectIsStreamPlaceholderForUri(state, uri),\n    claimId,\n    claimIsMine: selectClaimIsMine(state, claim),\n    scheduledState: selectScheduledStateForUri(state, uri),\n    disableSlimes:\n      makeSelectTagInClaimOrChannelForUri(uri, DISABLE_SLIMES_ALL_TAG)(state) ||\n      makeSelectTagInClaimOrChannelForUri(uri, DISABLE_SLIMES_VIDEO_TAG)(state),\n    isUnlisted: selectIsUriUnlisted(state, uri),\n    webShareable: true,\n    collectionId: props.collectionId,\n  };\n};\n\nconst perform = {\n  doFetchReactions,\n  doReactionLike,\n  doReactionDislike,\n  doOpenModal,\n};\n\nexport default connect(select, perform)(ShortsActions);\n","// @flow\nimport React from 'react';\nimport VideoClaimInitiator from 'component/videoClaimInitiator';\nimport Button from 'component/button';\nimport * as ICONS from 'constants/icons';\nimport { useHistory } from 'react-router-dom';\n\nexport const SHORTS_PLAYER_WRAPPER_CLASS = 'shorts-page__video-container';\n\ntype Props = {\n  uri: string,\n  upcomingUris: Array<string>,\n  isMobile: boolean,\n  sidePanelOpen: boolean,\n  onInfoButtonClick: () => void,\n  primaryPlayerWrapperClass: string,\n  nextRecommendedShort: ?string,\n  autoPlayNextShort: boolean,\n  isAtEnd: boolean,\n  onSwipeNext: () => void,\n  onSwipePrevious?: () => void,\n  enableSwipe?: boolean,\n};\n\nconst ShortsVideoPlayer = React.memo<Props>(\n  ({\n    uri,\n    isMobile,\n    sidePanelOpen,\n    onInfoButtonClick,\n    primaryPlayerWrapperClass,\n    nextRecommendedShort,\n    autoPlayNextShort,\n    isAtEnd,\n    onSwipeNext,\n    onSwipePrevious,\n    enableSwipe,\n  }: Props) => {\n    const {\n      location: { search },\n    } = useHistory();\n    const urlParams = new URLSearchParams(search);\n    const isShortVideo = urlParams.get('view') === 'shorts';\n\n    React.useEffect(() => {\n      let cleanupFn = null;\n      let lastVideoElement = null;\n\n      const attachListener = () => {\n        const videoElement: any = document.querySelector('.vjs-tech');\n\n        if (!videoElement || videoElement === lastVideoElement) {\n          return lastVideoElement !== null;\n        }\n        if (cleanupFn) {\n          cleanupFn();\n          cleanupFn = null;\n        }\n\n        const handleEnded = () => {\n          if (autoPlayNextShort && nextRecommendedShort && !isAtEnd) {\n            setTimeout(() => {\n              onSwipeNext();\n            }, 500);\n          } else {\n            setTimeout(() => {\n              videoElement.currentTime = 0;\n              videoElement.play().catch((error) => {\n                // eslint-disable-next-line no-console\n                console.error(error);\n              });\n            }, 100);\n          }\n        };\n\n        videoElement.addEventListener('ended', handleEnded);\n        lastVideoElement = videoElement;\n        cleanupFn = () => {\n          videoElement.removeEventListener('ended', handleEnded);\n          lastVideoElement = null;\n        };\n        return true;\n      };\n      attachListener();\n      const interval = setInterval(() => {\n        attachListener();\n      }, 100);\n\n      const handlePlaying = () => {\n        attachListener();\n      };\n      document.addEventListener('playing', handlePlaying, true);\n\n      const timeout = setTimeout(() => {\n        clearInterval(interval);\n      }, 10000);\n\n      return () => {\n        clearInterval(interval);\n        clearTimeout(timeout);\n        document.removeEventListener('playing', handlePlaying, true);\n        if (cleanupFn) cleanupFn();\n      };\n    }, [autoPlayNextShort, nextRecommendedShort, isAtEnd, onSwipeNext, uri]);\n\n    return (\n      <div className=\"shorts-page__video-section\">\n        <div className={`${SHORTS_PLAYER_WRAPPER_CLASS} ${primaryPlayerWrapperClass}`}>\n          {isShortVideo && (\n            <VideoClaimInitiator\n              uri={uri}\n              onSwipeNext={onSwipeNext}\n              onSwipePrevious={onSwipePrevious}\n              enableSwipe={enableSwipe}\n            />\n          )}\n        </div>\n\n        {!isMobile && (\n          <Button\n            className=\"shorts-page__info-button\"\n            onClick={onInfoButtonClick}\n            icon={ICONS.INFO}\n            iconSize={20}\n            title={sidePanelOpen ? __('Hide Details') : __('Show Details')}\n          />\n        )}\n      </div>\n    );\n  }\n);\n\nexport default ShortsVideoPlayer;\n","// @flow\nimport React from 'react';\nimport { lazyImport } from 'util/lazyImport';\nimport FileTitleSection from 'component/fileTitleSection';\nimport Empty from 'component/common/empty';\nimport Button from 'component/button';\nimport * as ICONS from 'constants/icons';\n\nconst CommentsList = lazyImport(() => import('component/commentsList'));\n\ntype Props = {\n  isOpen: boolean,\n  uri: string,\n  accessStatus: ?string,\n  contentUnlocked: boolean,\n  commentsDisabled: ?boolean,\n  linkedCommentId?: string,\n  threadCommentId?: string,\n  isComments?: boolean,\n  onClose?: () => void,\n};\n\nconst ShortsSidePanel = React.memo<Props>(\n  ({\n    isOpen,\n    uri,\n    accessStatus,\n    contentUnlocked,\n    commentsDisabled,\n    linkedCommentId,\n    threadCommentId,\n    isComments,\n    onClose,\n  }: Props) => {\n    return (\n      <div className={`shorts-page__side-panel ${isOpen ? 'shorts-page__side-panel--open' : ''}`}>\n        <div className=\"shorts-page__close-button-container\">\n          <Button\n            className=\"shorts-page__close-button\"\n            onClick={onClose}\n            icon={ICONS.REMOVE}\n            iconSize={20}\n            title={'Close'}\n          />\n        </div>\n\n        <div className=\"shorts-page__side-panel-content\">\n          {!isComments ? (\n            <FileTitleSection uri={uri} accessStatus={accessStatus} />\n          ) : (\n            <>\n              {contentUnlocked &&\n                (commentsDisabled ? (\n                  <Empty padded text={__('The creator of this content has disabled comments.')} />\n                ) : (\n                  <React.Suspense fallback={null}>\n                    <CommentsList\n                      uri={uri}\n                      linkedCommentId={linkedCommentId}\n                      threadCommentId={threadCommentId}\n                      notInDrawer\n                    />\n                  </React.Suspense>\n                ))}\n            </>\n          )}\n        </div>\n      </div>\n    );\n  }\n);\n\nexport default ShortsSidePanel;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./style.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./style.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","// @flow\nimport * as React from 'react';\nimport { createPortal } from 'react-dom';\nimport { lazyImport } from 'util/lazyImport';\nimport * as ICONS from 'constants/icons';\nimport FileTitleSection from 'component/fileTitleSection';\nimport Empty from 'component/common/empty';\nimport Button from 'component/button';\nimport './style.scss';\n\nconst CommentsList = lazyImport(() => import('component/commentsList' /* webpackChunkName: \"comments\" */));\n\ntype Props = {\n  isOpen: boolean,\n  onClose: () => void,\n  uri: string,\n  accessStatus: ?string,\n  contentUnlocked: boolean,\n  commentsDisabled: ?boolean,\n  linkedCommentId?: string,\n  threadCommentId?: string,\n  isComments?: boolean,\n};\n\nexport default function MobilePanel(props: Props) {\n  const {\n    isOpen,\n    onClose,\n    uri,\n    accessStatus,\n    contentUnlocked,\n    commentsDisabled,\n    linkedCommentId,\n    threadCommentId,\n    isComments,\n  } = props;\n\n  const modalRef = React.useRef();\n  const [isClosing, setIsClosing] = React.useState(false);\n\n  const handleClose = React.useCallback(() => {\n    setIsClosing(true);\n    setTimeout(() => {\n      setIsClosing(false);\n      onClose();\n    }, 250);\n  }, [onClose]);\n\n  React.useEffect(() => {\n    const handleEscape: any = (e) => {\n      if (e.key === 'Escape') {\n        handleClose();\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('keydown', handleEscape);\n      // $FlowIssue\n      if (document.body?.style) document.body.style.overflow = 'hidden';\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleEscape);\n      // $FlowIssue\n      if (document.body?.style) document.body.style.overflow = 'unset';\n    };\n  }, [isOpen, handleClose]);\n\n  const handleBackdropClick = (e) => {\n    if (e.target === modalRef.current) {\n      handleClose();\n    }\n  };\n\n  React.useEffect(() => {\n    if (isOpen) {\n      setIsClosing(false);\n    }\n  }, [isOpen]);\n\n  if (!document.body) return null;\n\n  return createPortal(\n    <div className={`shorts-mobile-panel ${isOpen ? 'shorts-mobile-panel--modal-open' : ''}`}>\n      {(isOpen || isClosing) && (\n        <div\n          className={`shorts-mobile-panel__backdrop ${isClosing ? 'shorts-mobile-panel__backdrop--closing' : ''}`}\n          ref={modalRef}\n          onClick={handleBackdropClick}\n        >\n          <div className={`shorts-mobile-panel__modal ${isClosing ? 'shorts-mobile-panel__modal--closing' : ''}`}>\n            <div className=\"shorts-mobile-panel__header\">\n              <div className=\"shorts-mobile-panel__drag-handle\" />\n              <div className=\"shorts-mobile-panel__title-section\">\n                <div>{isComments ? __('Comments') : __('Video Details')}</div>\n                <Button\n                  className=\"shorts-mobile-panel__close-button\"\n                  onClick={handleClose}\n                  icon={ICONS.REMOVE}\n                  iconSize={20}\n                  title={__('Close')}\n                />\n              </div>\n            </div>\n\n            <div className=\"shorts-page__side-panel-content\">\n              {!isComments ? (\n                <FileTitleSection uri={uri} accessStatus={accessStatus} />\n              ) : (\n                <>\n                  {contentUnlocked &&\n                    (commentsDisabled ? (\n                      <Empty padded text={__('The creator of this content has disabled comments.')} />\n                    ) : (\n                      <React.Suspense fallback={null}>\n                        <CommentsList\n                          uri={uri}\n                          linkedCommentId={linkedCommentId}\n                          threadCommentId={threadCommentId}\n                          notInDrawer\n                        />\n                      </React.Suspense>\n                    ))}\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>,\n    document.body\n  );\n}\n","import { connect } from 'react-redux';\nimport MobilePanel from './view';\nimport { selectMyReactionForUri, selectLikeCountForUri, selectDislikeCountForUri } from 'redux/selectors/reactions';\nimport { doFetchReactions, doReactionLike, doReactionDislike } from 'redux/actions/reactions';\nimport { selectClaimForUri, selectIsStreamPlaceholderForUri, selectIsUriUnlisted } from 'redux/selectors/claims';\nimport { doOpenModal } from 'redux/actions/app';\n\nconst select = (state, props) => {\n  const { uri } = props;\n  const claim = selectClaimForUri(state, uri);\n  const { claim_id: claimId } = claim || {};\n\n  return {\n    claimId,\n    myReaction: selectMyReactionForUri(state, uri),\n    likeCount: selectLikeCountForUri(state, uri),\n    dislikeCount: selectDislikeCountForUri(state, uri),\n    isLivestreamClaim: selectIsStreamPlaceholderForUri(state, uri),\n    isUnlisted: selectIsUriUnlisted(state, uri),\n    webShareable: true,\n    collectionId: props.collectionId,\n  };\n};\n\nconst perform = {\n  doFetchReactions,\n  doReactionLike,\n  doReactionDislike,\n  doOpenModal,\n};\n\nexport default connect(select, perform)(MobilePanel);\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./style.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./style.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","// @flow\nimport React from 'react';\nimport classnames from 'classnames';\nimport { Menu, MenuButton, MenuList, MenuItem } from '@reach/menu-button';\nimport Icon from 'component/common/icon';\nimport * as ICONS from 'constants/icons';\n\ntype Props = {\n  viewMode: string,\n  channelName?: string,\n  onViewModeChange: (mode: string) => void,\n};\n\nconst ViewModeSelector = ({ viewMode, channelName, onViewModeChange }: Props) => {\n  return (\n    <Menu>\n      <MenuButton\n        className=\"shorts-page-menu__button\"\n        onClick={(e) => {\n          e.stopPropagation();\n        }}\n      >\n        <Icon size={20} icon={ICONS.MORE} />\n      </MenuButton>\n\n      <MenuList className=\"menu__list shorts-page__view-menu\">\n        <MenuItem\n          className={classnames('comment__menu-option', {\n            'comment__menu-option--active': viewMode === 'related',\n          })}\n          onSelect={() => onViewModeChange('related')}\n        >\n          <div className=\"menu__link\">{__('Related')}</div>\n        </MenuItem>\n\n        <MenuItem\n          className={classnames('comment__menu-option', {\n            'comment__menu-option--active': viewMode === 'channel',\n          })}\n          onSelect={() => onViewModeChange('channel')}\n        >\n          <div className=\"menu__link\">\n            {__('From %channel%', {\n              channel:\n                channelName && channelName.length > 20\n                  ? channelName.substring(0, 20) + '...'\n                  : channelName || 'Channel',\n            })}\n          </div>\n        </MenuItem>\n      </MenuList>\n    </Menu>\n  );\n};\n\nexport default ViewModeSelector;\n","// @flow\nimport React from 'react';\nimport classnames from 'classnames';\nimport Button from 'component/button';\nimport * as ICONS from 'constants/icons';\nimport * as REACTION_TYPES from 'constants/reactions';\nimport Skeleton from '@mui/material/Skeleton';\nimport { formatNumberWithCommas } from 'util/number';\n\ntype Props = {\n  uri: string,\n  likeCount: number,\n  dislikeCount: number,\n  myReaction: ?string,\n  doReactionLike: (uri: string) => void,\n  doReactionDislike: (uri: string) => void,\n  onCommentsClick: () => void,\n  onShareClick: () => void,\n  onInfoButtonClick: () => void,\n  autoPlayNextShort: boolean,\n  doToggleShortsAutoplay: () => void,\n  isUnlisted: ?boolean,\n};\n\nconst MobileActions = ({\n  uri,\n  likeCount,\n  dislikeCount,\n  myReaction,\n  doReactionLike,\n  doReactionDislike,\n  onCommentsClick,\n  onShareClick,\n  onInfoButtonClick,\n  autoPlayNextShort,\n  doToggleShortsAutoplay,\n  isUnlisted,\n}: Props) => {\n  const Placeholder = <Skeleton variant=\"text\" animation=\"wave\" className=\"reaction-count-placeholder\" />;\n\n  return (\n    <div className=\"shorts-mobile-panel__actions\">\n      <div className=\"shorts-mobile-panel__action-item\">\n        <Button\n          onClick={() => doReactionLike(uri)}\n          icon={myReaction === REACTION_TYPES.LIKE ? ICONS.FIRE_ACTIVE : ICONS.FIRE}\n          iconSize={16}\n          title={__('I Like This')}\n          requiresAuth\n          authSrc=\"filereaction_like\"\n          className={classnames('shorts-mobile-panel__action-button button--file-action button-like', {\n            'button--fire': myReaction === REACTION_TYPES.LIKE,\n          })}\n          label={\n            <>\n              {myReaction === REACTION_TYPES.LIKE && (\n                <>\n                  <div className=\"button__fire-glow\" />\n                  <div className=\"button__fire-particle1\" />\n                  <div className=\"button__fire-particle2\" />\n                  <div className=\"button__fire-particle3\" />\n                  <div className=\"button__fire-particle4\" />\n                  <div className=\"button__fire-particle5\" />\n                  <div className=\"button__fire-particle6\" />\n                </>\n              )}\n            </>\n          }\n        />\n        <span className=\"shorts-mobile-panel__count\">\n          {Number.isInteger(likeCount) ? formatNumberWithCommas(likeCount, 0) : Placeholder}\n        </span>\n      </div>\n\n      <div className=\"shorts-mobile-panel__action-item\">\n        <Button\n          requiresAuth\n          authSrc={'filereaction_dislike'}\n          title={__('I dislike this')}\n          className={classnames('shorts-mobile-panel__action-button button--file-action button-dislike', {\n            'button--slime': myReaction === REACTION_TYPES.DISLIKE,\n          })}\n          label={\n            <>\n              {myReaction === REACTION_TYPES.DISLIKE && (\n                <>\n                  <div className=\"button__slime-stain\" />\n                  <div className=\"button__slime-drop1\" />\n                  <div className=\"button__slime-drop2\" />\n                </>\n              )}\n            </>\n          }\n          iconSize={16}\n          icon={myReaction === REACTION_TYPES.DISLIKE ? ICONS.SLIME_ACTIVE : ICONS.SLIME}\n          onClick={() => doReactionDislike(uri)}\n        />\n        <span className=\"shorts-mobile-panel__count\">\n          {Number.isInteger(dislikeCount) ? formatNumberWithCommas(dislikeCount, 0) : Placeholder}\n        </span>\n      </div>\n\n      <div className=\"shorts-mobile-panel__action-item\">\n        <Button\n          className=\"shorts-mobile-panel__action-button\"\n          onClick={onCommentsClick}\n          icon={ICONS.COMMENTS_LIST}\n          iconSize={16}\n        />\n        <span className=\"shorts-mobile-panel__count\">{__('Comments')}</span>\n      </div>\n\n      <div className=\"shorts-mobile-panel__action-item\">\n        <Button\n          className=\"shorts-mobile-panel__action-button\"\n          onClick={onShareClick}\n          icon={ICONS.SHARE}\n          iconSize={16}\n          title={isUnlisted ? __('Get a sharable link for your unlisted content') : __('Share')}\n        />\n        <span className=\"shorts-mobile-panel__count\">{__('Share')}</span>\n      </div>\n\n      <div className=\"shorts-mobile-panel__action-item\">\n        <Button\n          className=\"shorts-mobile-panel__action-button\"\n          onClick={onInfoButtonClick}\n          icon={ICONS.INFO}\n          iconSize={16}\n        />\n        <span className=\"shorts-mobile-panel__count\">{__('Details')}</span>\n      </div>\n\n      <div className=\"shorts-mobile-panel__action-item\">\n        <Button\n          className={classnames('shorts-mobile-panel__action-button button-bubble', {\n            'button-bubble--active': autoPlayNextShort,\n          })}\n          requiresAuth={IS_WEB}\n          title={__('Autoplay Next')}\n          onClick={doToggleShortsAutoplay}\n          icon={ICONS.AUTOPLAY_NEXT}\n          iconSize={24}\n        />\n        <span className=\"shorts-mobile-panel__count\">{__('Auto Next')}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default MobileActions;\n","// @flow\nimport React from 'react';\nimport Button from 'component/button';\nimport classnames from 'classnames';\n\ntype Props = {\n  viewMode: string,\n  channelName: ?string,\n  onViewModeChange: (mode: string) => void,\n};\n\nconst ViewModeToggle = React.memo<Props>(({ viewMode, channelName, onViewModeChange }: Props) => {\n  return (\n    <div className=\"shorts-page__view-toggle--overlay\">\n      <Button\n        className={classnames('button-bubble', {\n          'button-bubble--active': viewMode === 'related',\n        })}\n        label={__('Related')}\n        onClick={(e) => {\n          e.stopPropagation();\n          onViewModeChange('related');\n        }}\n      />\n      <Button\n        className={classnames('button-bubble', {\n          'button-bubble--active': viewMode === 'channel',\n        })}\n        label={__('From %channel%', {\n          channel:\n            channelName && channelName.length > 15 ? channelName.substring(0, 15) + '...' : channelName || 'Channel',\n        })}\n        onClick={(e) => {\n          e.stopPropagation();\n          onViewModeChange('channel');\n        }}\n      />\n    </div>\n  );\n});\n\nexport default ViewModeToggle;\n","// @flow\nimport * as React from 'react';\nimport { createPortal } from 'react-dom';\nimport classnames from 'classnames';\nimport withStreamClaimRender from 'hocs/withStreamClaimRender';\nimport useSwipeNavigation from 'effects/use-swipe-navigation';\nimport './style.scss';\nimport ViewModeSelector from './viewModeSelector';\nimport MobileActions from '../shortsMobileActions';\nimport ViewModeToggle from './viewModeToggle';\nimport ChannelThumbnail from 'component/channelThumbnail';\nimport { Link } from 'react-router-dom';\n\nconst LIVE_REACTION_FETCH_MS = 1000 * 45;\n\ntype Props = {\n  uri?: string,\n  children: React.Node,\n  onNext: () => void,\n  onPrevious: () => void,\n  isEnabled: boolean,\n  className?: string,\n  containerSelector?: string,\n  isMobile: boolean,\n  sidePanelOpen?: boolean,\n  showViewToggle?: boolean,\n  viewMode?: string,\n  channelName?: string,\n  title?: string,\n  channelUri?: string,\n  hasChannel?: boolean,\n  autoPlayNextShort?: boolean,\n  doToggleShortsAutoplay?: () => void,\n  onCommentsClick?: () => void,\n  onInfoButtonClick?: () => void,\n  likeCount: number,\n  dislikeCount: number,\n  myReaction: ?string,\n  doReactionLike: (uri: string) => void,\n  doReactionDislike: (uri: string) => void,\n  isUnlisted: ?boolean,\n  doOpenModal: (id: string, props: any) => void,\n  webShareable?: boolean,\n  collectionId?: string,\n  setLocalViewMode: (mode: string) => void,\n  doSetShortsViewMode: (mode: string) => void,\n  doSetShortsPlaylist: (playlist: Array<any>) => void,\n  fetchForMode: (mode: string) => void,\n  claimId?: string,\n  isLivestreamClaim?: boolean,\n  doFetchReactions?: (claimId: ?string) => void,\n  handleShareClick?: () => void,\n};\n\nconst SwipeNavigationPortal = React.memo<Props>(\n  ({\n    uri,\n    children,\n    onNext,\n    onPrevious,\n    isEnabled,\n    className = '',\n    containerSelector,\n    isMobile,\n    sidePanelOpen,\n    showViewToggle = false,\n    viewMode = 'related',\n    channelName,\n    title,\n    channelUri,\n    hasChannel,\n    onInfoButtonClick,\n    autoPlayNextShort,\n    doToggleShortsAutoplay,\n    onCommentsClick,\n    likeCount,\n    dislikeCount,\n    myReaction,\n    doReactionLike,\n    doReactionDislike,\n    webShareable,\n    isUnlisted,\n    collectionId,\n    doOpenModal,\n    setLocalViewMode,\n    doSetShortsViewMode,\n    doSetShortsPlaylist,\n    fetchForMode,\n    claimId,\n    isLivestreamClaim,\n    doFetchReactions,\n    handleShareClick,\n  }: Props) => {\n    const scrollLockRef = React.useRef(false);\n\n    React.useEffect(() => {\n      function fetchReactions() {\n        if (doFetchReactions) doFetchReactions(claimId);\n      }\n\n      let fetchInterval;\n      if (claimId) {\n        fetchReactions();\n\n        if (isLivestreamClaim) {\n          fetchInterval = setInterval(fetchReactions, LIVE_REACTION_FETCH_MS);\n        }\n      }\n\n      return () => {\n        if (fetchInterval) {\n          clearInterval(fetchInterval);\n        }\n      };\n    }, [claimId, doFetchReactions, isLivestreamClaim]);\n\n    const handleViewModeChange = React.useCallback(\n      (mode) => {\n        setLocalViewMode(mode);\n        doSetShortsViewMode(mode);\n        doSetShortsPlaylist([]);\n        fetchForMode(mode);\n      },\n      [doSetShortsViewMode, doSetShortsPlaylist, fetchForMode, setLocalViewMode]\n    );\n\n    const handlePlayPause = React.useCallback(() => {\n      const videoElement: any = document.querySelector('.vjs-tech');\n      if (videoElement) {\n        if (videoElement.paused) {\n          videoElement.play();\n        } else {\n          videoElement.pause();\n        }\n      }\n    }, []);\n\n    const overlayRef = useSwipeNavigation({\n      onSwipeNext: onNext,\n      onSwipePrevious: onPrevious,\n      isEnabled: isEnabled && isMobile,\n      minSwipeDistance: 10,\n      tapDuration: 200,\n    });\n\n    const handleWheel = React.useCallback(\n      (e) => {\n        if (!isEnabled || scrollLockRef.current) return;\n        e.preventDefault();\n        scrollLockRef.current = true;\n\n        if (e.deltaY > 0) {\n          onNext();\n        } else if (e.deltaY < 0) {\n          onPrevious();\n        }\n\n        setTimeout(() => {\n          scrollLockRef.current = false;\n        }, 500);\n      },\n      [onNext, onPrevious, isEnabled]\n    );\n\n    const handleKeyDown = React.useCallback(\n      (e) => {\n        if (!isEnabled) return;\n        if (e.key === 'ArrowUp') {\n          e.preventDefault();\n          onPrevious();\n        } else if (e.key === 'ArrowDown') {\n          e.preventDefault();\n          onNext();\n        }\n      },\n      [onNext, onPrevious, isEnabled]\n    );\n\n    React.useEffect(() => {\n      const overlay = overlayRef.current;\n      if (!overlay || !isEnabled) return;\n\n      if (!isMobile) {\n        overlay.addEventListener('wheel', handleWheel, { passive: false });\n      }\n      window.addEventListener('keydown', handleKeyDown);\n\n      return () => {\n        if (!isMobile) {\n          overlay.removeEventListener('wheel', handleWheel);\n        }\n        window.removeEventListener('keydown', handleKeyDown);\n      };\n    }, [isMobile, isEnabled, handleWheel, handleKeyDown, overlayRef]);\n\n    const targetContainer = React.useMemo(() => {\n      if (containerSelector) {\n        return document.querySelector(containerSelector);\n      }\n      return document.body;\n    }, [containerSelector]);\n\n    if (!targetContainer) return null;\n    return createPortal(\n      <div\n        onClick={() => {\n          handlePlayPause();\n        }}\n        ref={overlayRef}\n        className={classnames('swipe-navigation-overlay', className, {\n          'swipe-navigation-overlay--enabled': isEnabled,\n          'shorts__viewer--panel-open': sidePanelOpen,\n        })}\n      >\n        <MobileActions\n          uri={uri}\n          likeCount={likeCount}\n          dislikeCount={dislikeCount}\n          myReaction={myReaction}\n          doReactionLike={doReactionLike}\n          doReactionDislike={doReactionDislike}\n          onCommentsClick={onCommentsClick}\n          onInfoButtonClick={onInfoButtonClick}\n          autoPlayNextShort={autoPlayNextShort}\n          doToggleShortsAutoplay={doToggleShortsAutoplay}\n          isUnlisted={isUnlisted}\n          webShareable={webShareable}\n          collectionId={collectionId}\n          doOpenModal={doOpenModal}\n          onShareClick={handleShareClick}\n        />\n\n        {channelName && (\n          <>\n            <div className=\"swipe-navigation-overlay__content-info\">\n              <div className=\"swipe-navigation-overlay__text-info\">\n                {channelUri && channelName && (\n                  <Link\n                    to={channelUri.replace('lbry://', '/').replace(/#/g, ':')}\n                    className=\"swipe-navigation-overlay__channel\"\n                    onClick={(e) => {\n                      e.stopPropagation();\n                    }}\n                  >\n                    <ChannelThumbnail uri={channelUri} xsmall checkMembership={false} />\n                    <span className=\"swipe-navigation-overlay__channel-name\">{channelName}</span>\n                  </Link>\n                )}\n              </div>\n              <span className=\"swipe-navigation-overlay__title\">{title}</span>\n            </div>\n          </>\n        )}\n\n        {!isMobile && hasChannel && handleViewModeChange && (\n          <ViewModeSelector viewMode={viewMode} channelName={channelName} onViewModeChange={handleViewModeChange} />\n        )}\n\n        {showViewToggle && handleViewModeChange && (\n          <ViewModeToggle viewMode={viewMode} channelName={channelName} onViewModeChange={handleViewModeChange} />\n        )}\n\n        {children}\n      </div>,\n      targetContainer\n    );\n  }\n);\n\nexport default withStreamClaimRender(SwipeNavigationPortal);\n","import { connect } from 'react-redux';\nimport withStreamClaimRender from 'hocs/withStreamClaimRender';\nimport SwipeNavigationPortal from './view';\nimport { selectClaimForUri, selectIsStreamPlaceholderForUri, selectIsUriUnlisted } from 'redux/selectors/claims';\nimport { selectMyReactionForUri, selectLikeCountForUri, selectDislikeCountForUri } from 'redux/selectors/reactions';\nimport { doFetchReactions, doReactionLike, doReactionDislike } from 'redux/actions/reactions';\nimport { doOpenModal } from 'redux/actions/app';\n\nconst select = (state, ownProps) => {\n  const { uri } = ownProps;\n  const claim = ownProps?.uri ? selectClaimForUri(state, ownProps.uri) : null;\n  const channel = claim?.signing_channel || null;\n  const { claim_id: claimId } = claim || {};\n\n  return {\n    channelName: channel?.name || '',\n    channelUri: channel?.canonical_url || channel?.permanent_url || '',\n    hasChannel: !!channel,\n    hasPlaylist: false,\n    claimId,\n    myReaction: uri ? selectMyReactionForUri(state, uri) : null,\n    likeCount: uri ? selectLikeCountForUri(state, uri) : 0,\n    dislikeCount: uri ? selectDislikeCountForUri(state, uri) : 0,\n    isLivestreamClaim: uri ? selectIsStreamPlaceholderForUri(state, uri) : false,\n    isUnlisted: uri ? selectIsUriUnlisted(state, uri) : false,\n    webShareable: true,\n  };\n};\n\nconst perform = {\n  doFetchReactions,\n  doReactionLike,\n  doReactionDislike,\n  doOpenModal,\n};\n\nexport default connect(select, perform)(withStreamClaimRender(SwipeNavigationPortal));\n","// @flow\nimport * as React from 'react';\nimport { useIsMobile } from 'effects/use-screensize';\nimport RecSys from 'recsys';\nimport { v4 as Uuidv4 } from 'uuid';\nimport { PRIMARY_PLAYER_WRAPPER_CLASS } from '../videoPlayers/view';\nimport ShortsActions from 'component/shortsActions';\nimport ShortsVideoPlayer from 'component/shortsVideoPlayer';\nimport ShortsSidePanel from 'component/shortsSidePanel';\nimport MobilePanel from 'component/shortsMobileSidePanel';\nimport SwipeNavigationPortal from 'component/shortsActions/swipeNavigation';\nimport { useHistory } from 'react-router';\nimport * as SETTINGS from 'constants/settings';\nimport * as MODALS from 'constants/modal_types';\nimport { FYP_ID } from 'constants/urlParams';\nimport { getThumbnailCdnUrl } from 'util/thumbnail';\nimport { useOnResize } from 'effects/use-on-resize';\n\nexport const SHORTS_PLAYER_WRAPPER_CLASS = 'shorts-page__video-container';\nlet ORIGINAL_AUTOPLAY_SETTING = null;\n\ntype Props = {\n  uri: string,\n  accessStatus: ?string,\n  shortsRecommendedUris?: Array<string>,\n  nextRecommendedShort?: string,\n  previousRecommendedShort?: string,\n  currentIndex?: number,\n  isSearchingRecommendations?: boolean,\n  audioVideoDuration: ?number,\n  commentsListTitle: string,\n  linkedCommentId?: string,\n  threadCommentId?: string,\n  position: number,\n  commentsDisabled: ?boolean,\n  contentUnlocked: boolean,\n  isAutoplayCountdownForUri: ?boolean,\n  sidePanelOpen: boolean,\n  clearPosition: (uri: string) => void,\n  doNavigateToNextShort: (nextUri: string) => void,\n  doNavigateToPreviousShort: (previousUri: string) => void,\n  doToggleShortsSidePanel: () => void,\n  doSetShortsSidePanel: (isOpen: boolean) => void,\n  doFetchShortsRecommendedContent: (uri: string, fypParam?: ?FypParam) => void,\n  doSetShortsPlaylist: (uris: Array<string>) => void,\n  doClearShortsPlaylist: () => void,\n  channelId: ?string,\n  channelName: ?string,\n  doFetchChannelShorts: (channelId: string) => void,\n  viewMode: string,\n  doSetShortsViewMode: (mode: string) => void,\n  title?: string,\n  channelUri?: string,\n  thumbnail?: string,\n  autoPlayNextShort: boolean,\n  doToggleShortsAutoplay: () => void,\n  doSetShortsAutoplay: (enabled: boolean) => void,\n  isClaimShort: boolean,\n  claimId?: string,\n  autoplayMedia: boolean,\n  doSetClientSetting: (key: string, value: boolean) => void,\n  doFileGetForUri: (uri: string) => void,\n  webShareable?: boolean,\n  collectionId?: string,\n  doOpenModal: (id: string, modalProps: any) => void,\n  nextThumbnail?: string,\n  previousThumbnail?: string,\n  doResolveUri: (uri: string) => void,\n};\n\nexport default function ShortsPage(props: Props) {\n  const {\n    uri,\n    accessStatus,\n    shortsRecommendedUris,\n    nextRecommendedShort,\n    previousRecommendedShort,\n    currentIndex = -1,\n    isSearchingRecommendations,\n    linkedCommentId,\n    threadCommentId,\n    commentsDisabled,\n    commentsListTitle,\n    contentUnlocked,\n    clearPosition,\n    doSetShortsSidePanel,\n    doFetchShortsRecommendedContent,\n    doSetShortsPlaylist,\n    doClearShortsPlaylist,\n    sidePanelOpen,\n    channelId,\n    channelName,\n    doFetchChannelShorts,\n    viewMode: reduxViewMode,\n    doSetShortsViewMode,\n    title,\n    channelUri,\n    thumbnail,\n    autoPlayNextShort,\n    doToggleShortsAutoplay,\n    autoplayMedia,\n    claimId,\n    doSetClientSetting,\n    doFileGetForUri,\n    webShareable,\n    collectionId,\n    doOpenModal,\n    nextThumbnail,\n    previousThumbnail,\n    doResolveUri,\n  } = props;\n\n  const {\n    location: { search },\n  } = useHistory();\n\n  const urlParams = new URLSearchParams(search);\n  const isShortFromChannelPage = urlParams.get('from') === 'channel';\n  const history = useHistory();\n  const isMobile = useIsMobile();\n  const shortsContainerRef = React.useRef<any>();\n  const fypId = urlParams.get(FYP_ID);\n  const [uuid] = React.useState(fypId ? Uuidv4() : '');\n  const [mobileModalOpen, setMobileModalOpen] = React.useState(false);\n  const scrollLockRef = React.useRef(false);\n  const [localViewMode, setLocalViewMode] = React.useState(\n    isShortFromChannelPage ? 'channel' : reduxViewMode || 'related'\n  );\n  const [panelMode, setPanelMode] = React.useState<'info' | 'comments'>('info');\n  const [videoStarted, setVideoStarted] = React.useState(false);\n  const { onRecsLoaded: onRecommendationsLoaded, onClickedRecommended: onRecommendationClicked } = RecSys;\n  const nextPreviewRef = React.useRef(null);\n  const prevPreviewRef = React.useRef(null);\n\n  const hasPlaylist = shortsRecommendedUris && shortsRecommendedUris.length > 0;\n  const isAtStart = currentIndex <= 0;\n  const isAtEnd = currentIndex >= (shortsRecommendedUris?.length || 1) - 1;\n  const hasInitializedRef = React.useRef(false);\n  const entryUrlRef = React.useRef(null);\n  const isLoadingContent = isSearchingRecommendations || !hasPlaylist;\n  const firstShortPlayedRef = React.useRef(false);\n  const PRELOAD_BATCH_SIZE = 3;\n  const preloadedUrisRef = React.useRef(new Set());\n  const isSwipeEnabled = !mobileModalOpen;\n  const hasEnsuredViewParam = React.useRef(false);\n\n  if (ORIGINAL_AUTOPLAY_SETTING === null) {\n    ORIGINAL_AUTOPLAY_SETTING = autoplayMedia ?? false;\n  }\n\n  const setShortViewerWidthFromVideo = React.useCallback(() => {\n    // $FlowFixMe\n    const video = document.querySelector('.shorts__viewer')?.querySelector('video');\n    if (!(video instanceof HTMLVideoElement)) return;\n    const videoW = video?.videoWidth;\n    const videoH = video?.videoHeight;\n    if (!videoW || !videoH) return;\n\n    const maxHeight = window.innerHeight * 0.9;\n\n    const scale = maxHeight / videoH;\n    const computedWidthPx = videoW * scale;\n\n    // Convert to vw (viewport width %)\n    const maxWidth = sidePanelOpen ? 30 : 80; // in percentages\n    const widthVW = (computedWidthPx / window.innerWidth) * 100;\n    const clampedVW = Math.min(widthVW, maxWidth); // Avoid overflow\n\n    requestAnimationFrame(() => {\n      // $FlowFixMe\n      document.documentElement?.style?.setProperty('--shorts-viewer-width', `${clampedVW}vw`);\n    });\n  }, [sidePanelOpen]);\n\n  useOnResize(setShortViewerWidthFromVideo);\n\n  const isSwipeInsideSidePanel = React.useCallback((clientX, clientY) => {\n    const el = document.elementFromPoint(clientX, clientY);\n    if (!el) return false;\n\n    return !!el.closest('.shorts-page__side-panel, .shorts-page__side-panel--open');\n  }, []);\n\n  const fetchForMode = React.useCallback(\n    (mode) => {\n      const fypParam = fypId && uuid ? { gid: fypId, uuid } : null;\n      if (mode === 'channel' && channelId) {\n        doFetchChannelShorts(channelId);\n      } else {\n        doFetchShortsRecommendedContent(uri, fypParam);\n      }\n    },\n    [channelId, uri, uuid, fypId, doFetchChannelShorts, doFetchShortsRecommendedContent]\n  );\n\n  const handleShareClick = React.useCallback(() => {\n    doOpenModal(MODALS.SOCIAL_SHARE, { uri, webShareable, collectionId });\n  }, [doOpenModal, uri, webShareable, collectionId]);\n\n  const handleCommentsClick = React.useCallback(() => {\n    if (isMobile) {\n      setMobileModalOpen(true);\n      setPanelMode('comments');\n    } else {\n      if (sidePanelOpen && panelMode === 'comments') {\n        doSetShortsSidePanel(false);\n      } else {\n        setPanelMode('comments');\n        doSetShortsSidePanel(true);\n      }\n    }\n  }, [isMobile, doSetShortsSidePanel, sidePanelOpen, panelMode]);\n\n  const handleInfoButtonClick = React.useCallback(() => {\n    if (isMobile) {\n      setMobileModalOpen(true);\n      setPanelMode('info');\n    } else {\n      if (sidePanelOpen && panelMode === 'info') {\n        doSetShortsSidePanel(false);\n      } else {\n        setPanelMode('info');\n        doSetShortsSidePanel(true);\n      }\n    }\n  }, [isMobile, doSetShortsSidePanel, sidePanelOpen, panelMode]);\n\n  const handleClosePanel = React.useCallback(() => {\n    if (isMobile) {\n      setMobileModalOpen(false);\n    } else {\n      doSetShortsSidePanel(false);\n    }\n  }, [isMobile, doSetShortsSidePanel]);\n\n  React.useEffect(() => {\n    if (!shortsRecommendedUris || shortsRecommendedUris.length === 0) return;\n    if (currentIndex < 0) return;\n    if (!doFileGetForUri) return;\n    const currentBatch = Math.floor(currentIndex / PRELOAD_BATCH_SIZE);\n    const nextBatchStart = (currentBatch + 1) * PRELOAD_BATCH_SIZE;\n    const preloadEndIndex = Math.min(nextBatchStart + PRELOAD_BATCH_SIZE, shortsRecommendedUris.length);\n    const urisToPreload = [];\n\n    for (let i = currentIndex + 1; i < preloadEndIndex; i++) {\n      const uriToPreload = shortsRecommendedUris[i];\n      if (uriToPreload && !preloadedUrisRef.current.has(uriToPreload)) {\n        urisToPreload.push(uriToPreload);\n        preloadedUrisRef.current.add(uriToPreload);\n      }\n    }\n    urisToPreload.forEach((preloadUri, index) => {\n      setTimeout(() => {\n        doFileGetForUri(preloadUri);\n      }, index * 100);\n    });\n  }, [currentIndex, shortsRecommendedUris, doFileGetForUri]);\n\n  React.useEffect(() => {\n    preloadedUrisRef.current.clear();\n  }, [uri]);\n\n  React.useEffect(() => {\n    if (nextRecommendedShort && !nextThumbnail) {\n      doResolveUri(nextRecommendedShort);\n    }\n    if (previousRecommendedShort && !previousThumbnail) {\n      doResolveUri(previousRecommendedShort);\n    }\n  }, [nextRecommendedShort, previousRecommendedShort, nextThumbnail, previousThumbnail, doResolveUri]);\n\n  React.useEffect(() => {\n    if (nextThumbnail) {\n      const img = new Image();\n      const src = getThumbnailCdnUrl({ thumbnail: nextThumbnail, isShorts: true });\n      if (src) img.src = src;\n    }\n    if (previousThumbnail) {\n      const img = new Image();\n      const src = getThumbnailCdnUrl({ thumbnail: previousThumbnail, isShorts: true });\n      if (src) img.src = src;\n    }\n  }, [nextThumbnail, previousThumbnail]);\n\n  React.useEffect(() => {\n    const checkVideoPlaying = setInterval(() => {\n      const videoEl = document.querySelector('.vjs-tech');\n      if (videoEl instanceof HTMLVideoElement && !videoEl.paused) {\n        setVideoStarted(true);\n        clearInterval(checkVideoPlaying);\n      }\n    }, 100);\n\n    return () => clearInterval(checkVideoPlaying);\n  }, [search, uri]);\n\n  React.useEffect(() => {\n    const unlisten = history.listen((location, action) => {\n      const currentSearch = history.location?.search || '';\n      const nextSearch = location.search || '';\n\n      const currentParams = new URLSearchParams(currentSearch);\n      const nextParams = new URLSearchParams(nextSearch);\n\n      const isCurrentlyInShortsPlayer = currentParams.get('view') === 'shorts';\n      const isNavigatingToShortsPlayer = nextParams.get('view') === 'shorts';\n      const isNavigatingToShortsTab = nextParams.get('view') === 'shortsTab';\n      const isNavigatingToHome = location.pathname === '/' && !nextSearch;\n\n      const isBackNavigation = action === 'POP';\n\n      const shouldCleanup =\n        (isCurrentlyInShortsPlayer && !isNavigatingToShortsPlayer) ||\n        (isCurrentlyInShortsPlayer && isNavigatingToHome) ||\n        (isBackNavigation && isCurrentlyInShortsPlayer && isNavigatingToShortsTab) ||\n        (isCurrentlyInShortsPlayer && isNavigatingToShortsTab);\n\n      if (shouldCleanup && ORIGINAL_AUTOPLAY_SETTING !== null) {\n        doClearShortsPlaylist();\n        doSetClientSetting(SETTINGS.AUTOPLAY_MEDIA, ORIGINAL_AUTOPLAY_SETTING);\n        firstShortPlayedRef.current = false;\n        ORIGINAL_AUTOPLAY_SETTING = null;\n      }\n    });\n\n    return () => {\n      unlisten();\n\n      const currentUrl = history.location?.search || '';\n      const currentPath = history.location?.pathname || '/';\n\n      const currentParams = new URLSearchParams(currentUrl);\n      const isInShortsPlayer = currentParams.get('view') === 'shorts';\n      const isInShortsTab = currentParams.get('view') === 'shortsTab';\n      const isHomePage = currentPath === '/' && !currentUrl;\n\n      // restore original autoplay when leaving video shorts player -> channel page\n      const shouldCleanupOnUnmount =\n        (!isInShortsPlayer && !isInShortsTab) || (!isInShortsPlayer && isInShortsTab) || isHomePage;\n\n      if (shouldCleanupOnUnmount && ORIGINAL_AUTOPLAY_SETTING !== null) {\n        doSetClientSetting(SETTINGS.AUTOPLAY_MEDIA, ORIGINAL_AUTOPLAY_SETTING);\n        firstShortPlayedRef.current = false;\n        doClearShortsPlaylist();\n        ORIGINAL_AUTOPLAY_SETTING = null;\n      }\n    };\n  }, [history, doClearShortsPlaylist, doSetClientSetting]);\n\n  React.useEffect(() => {\n    let timeoutId;\n    function loop() {\n      // $FlowFixMe\n      const video = document.querySelector('.shorts__viewer')?.querySelector('video');\n      if (!(video instanceof HTMLVideoElement) || !video?.videoWidth || !video?.videoHeight) {\n        timeoutId = setTimeout(loop, 300);\n        return;\n      }\n      setShortViewerWidthFromVideo();\n    }\n\n    timeoutId = setTimeout(loop, 300);\n\n    return () => clearTimeout(timeoutId);\n  }, [uri, setShortViewerWidthFromVideo]);\n\n  React.useEffect(() => {\n    setShortViewerWidthFromVideo();\n  }, [sidePanelOpen, setShortViewerWidthFromVideo]);\n\n  React.useEffect(() => {\n    if (!hasInitializedRef.current) {\n      hasInitializedRef.current = true;\n      if (isShortFromChannelPage) {\n        doSetShortsViewMode('channel');\n      }\n      fetchForMode(localViewMode);\n    }\n  }, [fetchForMode, localViewMode, doSetShortsViewMode, isShortFromChannelPage]);\n\n  React.useEffect(() => {\n    if (hasInitializedRef.current && reduxViewMode !== localViewMode) {\n      setLocalViewMode(reduxViewMode);\n    }\n  }, [reduxViewMode, localViewMode]);\n\n  React.useEffect(() => {\n    if (claimId && hasPlaylist) {\n      onRecommendationsLoaded(claimId, shortsRecommendedUris, uuid);\n    }\n  }, [shortsRecommendedUris, claimId, onRecommendationsLoaded, uuid, hasPlaylist]);\n\n  React.useEffect(() => {\n    if (shortsRecommendedUris && shortsRecommendedUris.length > 0) {\n      const currentUriInPlaylist = shortsRecommendedUris.includes(uri);\n      if (!currentUriInPlaylist) {\n        const playlistUris = [uri, ...shortsRecommendedUris];\n        doSetShortsPlaylist(playlistUris);\n      }\n    }\n  }, [shortsRecommendedUris, uri, doSetShortsPlaylist]);\n\n  React.useEffect(() => {\n    if (!entryUrlRef.current) {\n      const urlParams = new URLSearchParams(search);\n      const fromChannel = urlParams.get('from') === 'channel';\n\n      if (fromChannel && channelUri) {\n        entryUrlRef.current = channelUri.replace('lbry://', '/').replace(/#/g, ':') + '?view=shortsTab';\n      } else {\n        entryUrlRef.current = '/';\n      }\n    }\n  }, [search, channelUri]);\n\n  React.useEffect(() => {\n    if (hasEnsuredViewParam.current) return;\n\n    const urlParams = new URLSearchParams(search);\n    if (urlParams.get('view') !== 'shorts') {\n      urlParams.set('view', 'shorts');\n      history.replace(`${history.location.pathname}?${urlParams.toString()}`);\n    }\n    hasEnsuredViewParam.current = true;\n  }, [search, history]);\n\n  const goToNext = React.useCallback(() => {\n    if (!nextRecommendedShort || isAtEnd) {\n      return;\n    }\n    scrollLockRef.current = true;\n\n    if (!firstShortPlayedRef.current) {\n      firstShortPlayedRef.current = true;\n      if (ORIGINAL_AUTOPLAY_SETTING === false && autoPlayNextShort) {\n        doSetClientSetting(SETTINGS.AUTOPLAY_MEDIA, true);\n      }\n    }\n    if (ORIGINAL_AUTOPLAY_SETTING === false && !autoPlayNextShort) {\n      doSetClientSetting(SETTINGS.AUTOPLAY_MEDIA, autoPlayNextShort);\n    }\n\n    if (window.player) window.player.pause();\n\n    if (document.body) document.body.style.overflow = 'hidden';\n\n    const videoEl = document.querySelector('.shorts__viewer') || document.querySelector('.content__cover');\n    const overlayEl = document.querySelector('.swipe-navigation-overlay');\n    const previewEl = nextPreviewRef.current;\n\n    if (videoEl) {\n      const isMobile = window.innerWidth <= 768;\n      const videoRect = videoEl.getBoundingClientRect();\n\n      if (previewEl) {\n        const videoCenterX = videoRect.left + videoRect.width / 2;\n        previewEl.style.position = 'fixed';\n        previewEl.style.width = videoRect.width + 'px';\n        previewEl.style.height = videoRect.height + 'px';\n        previewEl.style.left = videoCenterX + 'px';\n        previewEl.style.top = videoRect.bottom + 'px';\n        previewEl.style.zIndex = '2';\n        previewEl.style.backgroundColor = '#000';\n        previewEl.style.transform = 'translate(-50%, 0)';\n        if (nextThumbnail && !autoplayMedia) {\n          const thumbUrl = getThumbnailCdnUrl({ thumbnail: nextThumbnail, isShorts: true });\n          previewEl.style.backgroundImage = `url(${String(thumbUrl)})`;\n          previewEl.style.backgroundSize = 'cover';\n          previewEl.style.backgroundPosition = 'center';\n        } else {\n          previewEl.style.backgroundImage = 'none';\n        }\n        void previewEl.offsetHeight;\n        previewEl.style.transition = 'transform 0.3s ease';\n      }\n\n      videoEl.style.setProperty('transition', 'transform 0.3s ease', 'important');\n      if (overlayEl) overlayEl.style.setProperty('transition', 'transform 0.3s ease', 'important');\n      void videoEl.offsetHeight;\n\n      requestAnimationFrame(() => {\n        const videoTranslateY = -(videoRect.height + videoRect.top);\n        const previewTranslateY = -videoRect.height;\n        if (isMobile) {\n          videoEl.style.setProperty('transform', `translateY(${videoTranslateY}px)`, 'important');\n          if (previewEl) previewEl.style.transform = `translate(-50%, ${previewTranslateY}px)`;\n          if (overlayEl) overlayEl.style.setProperty('transform', `translateY(${videoTranslateY}px)`, 'important');\n        } else {\n          const computedStyle = window.getComputedStyle(videoEl);\n          // $FlowFixMe\n          const matrix = new DOMMatrix(computedStyle.transform);\n          const currentXpx = matrix.m41;\n          videoEl.style.setProperty('transform', `translate(${currentXpx}px, ${videoTranslateY}px)`, 'important');\n          if (previewEl) previewEl.style.transform = `translate(-50%, ${previewTranslateY}px)`;\n          if (overlayEl) {\n            // $FlowFixMe\n            const overlayMatrix = new DOMMatrix(window.getComputedStyle(overlayEl).transform);\n            overlayEl.style.setProperty(\n              'transform',\n              `translate(${overlayMatrix.m41}px, ${videoTranslateY}px)`,\n              'important'\n            );\n          }\n        }\n      });\n    }\n\n    setTimeout(() => {\n      clearPosition(uri);\n      const shortsUrl = nextRecommendedShort.replace('lbry://', '/').replace(/#/g, ':') + '?view=shorts';\n      history.replace(shortsUrl);\n\n      const currentClaimId = claimId;\n      if (currentClaimId) {\n        const nextClaimId = nextRecommendedShort.split('#')[1] || nextRecommendedShort.split('/').pop();\n        onRecommendationClicked(currentClaimId, nextClaimId);\n      }\n\n      setTimeout(() => {\n        const newVideoEl = document.querySelector('.shorts__viewer') || document.querySelector('.content__cover');\n        const newOverlayEl = document.querySelector('.swipe-navigation-overlay');\n\n        if (newVideoEl) {\n          newVideoEl.style.removeProperty('transform');\n          newVideoEl.style.removeProperty('transition');\n        }\n        if (newOverlayEl) {\n          newOverlayEl.style.removeProperty('transform');\n          newOverlayEl.style.removeProperty('transition');\n        }\n        if (previewEl) {\n          previewEl.style.cssText = 'position: fixed; top: -9999px; left: -9999px;';\n        }\n        scrollLockRef.current = false;\n        if (document.body) document.body.style.overflow = '';\n      }, 100);\n    }, 350);\n  }, [\n    nextRecommendedShort,\n    isAtEnd,\n    uri,\n    clearPosition,\n    history,\n    claimId,\n    onRecommendationClicked,\n    autoPlayNextShort,\n    doSetClientSetting,\n    nextThumbnail,\n    autoplayMedia,\n  ]);\n\n  const goToPrevious = React.useCallback(() => {\n    if (!previousRecommendedShort || isAtStart) return;\n\n    if (window.player) window.player.pause();\n\n    if (document.body) document.body.style.overflow = 'hidden';\n\n    const videoEl = document.querySelector('.shorts__viewer') || document.querySelector('.content__cover');\n    const overlayEl = document.querySelector('.swipe-navigation-overlay');\n    const previewEl = prevPreviewRef.current;\n\n    if (videoEl) {\n      const isMobile = window.innerWidth <= 768;\n      const videoRect = videoEl.getBoundingClientRect();\n\n      if (previewEl) {\n        const videoCenterX = videoRect.left + videoRect.width / 2;\n        previewEl.style.position = 'fixed';\n        previewEl.style.width = videoRect.width + 'px';\n        previewEl.style.height = videoRect.height + 'px';\n        previewEl.style.left = videoCenterX + 'px';\n        previewEl.style.top = videoRect.top - videoRect.height + 'px';\n        previewEl.style.zIndex = '2';\n        previewEl.style.backgroundColor = '#000';\n        previewEl.style.transform = 'translate(-50%, 0)';\n        if (previousThumbnail && !autoplayMedia) {\n          const thumbUrl = getThumbnailCdnUrl({ thumbnail: previousThumbnail, isShorts: true });\n          previewEl.style.backgroundImage = `url(${String(thumbUrl)})`;\n          previewEl.style.backgroundSize = 'cover';\n          previewEl.style.backgroundPosition = 'center';\n        } else {\n          previewEl.style.backgroundImage = 'none';\n        }\n        void previewEl.offsetHeight;\n        previewEl.style.transition = 'transform 0.3s ease';\n      }\n\n      videoEl.style.setProperty('transition', 'transform 0.3s ease', 'important');\n      if (overlayEl) overlayEl.style.setProperty('transition', 'transform 0.3s ease', 'important');\n      void videoEl.offsetHeight;\n\n      requestAnimationFrame(() => {\n        const videoTranslateY = window.innerHeight - videoRect.top;\n        const previewTranslateY = videoRect.height;\n        if (isMobile) {\n          videoEl.style.setProperty('transform', `translateY(${videoTranslateY}px)`, 'important');\n          if (previewEl) previewEl.style.transform = `translate(-50%, ${previewTranslateY}px)`;\n          if (overlayEl) overlayEl.style.setProperty('transform', `translateY(${videoTranslateY}px)`, 'important');\n        } else {\n          const computedStyle = window.getComputedStyle(videoEl);\n          // $FlowFixMe\n          const matrix = new DOMMatrix(computedStyle.transform);\n          const currentXpx = matrix.m41;\n          videoEl.style.setProperty('transform', `translate(${currentXpx}px, ${videoTranslateY}px)`, 'important');\n          if (previewEl) previewEl.style.transform = `translate(-50%, ${previewTranslateY}px)`;\n          if (overlayEl) {\n            // $FlowFixMe\n            const overlayMatrix = new DOMMatrix(window.getComputedStyle(overlayEl).transform);\n            overlayEl.style.setProperty(\n              'transform',\n              `translate(${overlayMatrix.m41}px, ${videoTranslateY}px)`,\n              'important'\n            );\n          }\n        }\n      });\n    }\n\n    setTimeout(() => {\n      clearPosition(uri);\n      const shortsUrl = previousRecommendedShort.replace('lbry://', '/').replace(/#/g, ':') + '?view=shorts';\n      history.replace(shortsUrl);\n\n      setTimeout(() => {\n        const newVideoEl = document.querySelector('.shorts__viewer') || document.querySelector('.content__cover');\n        const newOverlayEl = document.querySelector('.swipe-navigation-overlay');\n\n        if (newVideoEl) {\n          newVideoEl.style.removeProperty('transform');\n          newVideoEl.style.removeProperty('transition');\n        }\n        if (newOverlayEl) {\n          newOverlayEl.style.removeProperty('transform');\n          newOverlayEl.style.removeProperty('transition');\n        }\n        if (previewEl) {\n          previewEl.style.cssText = 'position: fixed; top: -9999px; left: -9999px;';\n        }\n        if (document.body) document.body.style.overflow = '';\n      }, 100);\n    }, 350);\n  }, [previousRecommendedShort, isAtStart, uri, clearPosition, history, previousThumbnail, autoplayMedia]);\n\n  const handleScroll = React.useCallback(\n    (e) => {\n      if (mobileModalOpen) return;\n      if (scrollLockRef.current) return;\n\n      const { clientX, clientY } = e;\n\n      if (isSwipeInsideSidePanel(clientX, clientY)) {\n        scrollLockRef.current = false;\n        return e.stopPropagation();\n      }\n      e.preventDefault();\n      scrollLockRef.current = true;\n\n      if (e.deltaY > 0) {\n        goToNext();\n      } else if (e.deltaY < 0) {\n        goToPrevious();\n      }\n\n      setTimeout(() => {\n        scrollLockRef.current = false;\n      }, 500);\n    },\n    [goToNext, goToPrevious, mobileModalOpen, isSwipeInsideSidePanel]\n  );\n\n  React.useEffect(() => {\n    const container = shortsContainerRef.current;\n    if (!container) return;\n\n    container.addEventListener('wheel', handleScroll, { passive: false });\n    return () => container.removeEventListener('wheel', handleScroll);\n  }, [handleScroll]);\n\n  return (\n    <>\n      <div ref={nextPreviewRef} className=\"shorts-preview shorts-preview--next\" />\n      <div ref={prevPreviewRef} className=\"shorts-preview shorts-preview--prev\" />\n      {videoStarted && (\n        <SwipeNavigationPortal\n          onNext={goToNext}\n          onPrevious={goToPrevious}\n          isEnabled={isSwipeEnabled && hasPlaylist}\n          isMobile={isMobile}\n          className=\"shorts-swipe-overlay\"\n          sidePanelOpen={sidePanelOpen}\n          showViewToggle={!!channelId}\n          viewMode={localViewMode}\n          channelName={channelName}\n          setLocalViewMode={setLocalViewMode}\n          doSetShortsViewMode={doSetShortsViewMode}\n          doSetShortsPlaylist={doSetShortsPlaylist}\n          fetchForMode={fetchForMode}\n          title={title}\n          channelUri={channelUri}\n          thumbnailUrl={thumbnail}\n          hasChannel={!!channelId}\n          hasPlaylist={hasPlaylist}\n          uri={uri}\n          autoPlayNextShort={autoPlayNextShort}\n          doToggleShortsAutoplay={doToggleShortsAutoplay}\n          onInfoButtonClick={handleInfoButtonClick}\n          onCommentsClick={handleCommentsClick}\n          isComments={panelMode === 'comments'}\n          handleShareClick={handleShareClick}\n        />\n      )}\n      <div className=\"shorts-page\" ref={shortsContainerRef}>\n        <div className={`shorts-page__container ${sidePanelOpen ? 'shorts-page__container--panel-open' : ''}`}>\n          <div className=\"shorts-page__main-content\">\n            <div className=\"shorts-page__video-section\">\n              <ShortsVideoPlayer\n                uri={uri}\n                isMobile={isMobile}\n                sidePanelOpen={sidePanelOpen}\n                onInfoButtonClick={handleInfoButtonClick}\n                primaryPlayerWrapperClass={PRIMARY_PLAYER_WRAPPER_CLASS}\n                nextRecommendedShort={nextRecommendedShort}\n                autoPlayNextShort={autoPlayNextShort}\n                isAtEnd={isAtEnd}\n                onSwipeNext={goToNext}\n                onSwipePrevious={goToPrevious}\n                enableSwipe={isSwipeEnabled}\n              />\n\n              {!isMobile && (\n                <ShortsActions\n                  hasPlaylist={hasPlaylist}\n                  onNext={goToNext}\n                  onPrevious={goToPrevious}\n                  isLoading={isLoadingContent}\n                  currentIndex={currentIndex}\n                  totalVideos={shortsRecommendedUris?.length || 0}\n                  isAtStart={isAtStart}\n                  isAtEnd={isAtEnd}\n                  autoPlayNextShort={autoPlayNextShort}\n                  doToggleShortsAutoplay={doToggleShortsAutoplay}\n                  uri={uri}\n                  onCommentsClick={handleCommentsClick}\n                  onInfoClick={handleInfoButtonClick}\n                  handleShareClick={handleShareClick}\n                />\n              )}\n            </div>\n          </div>\n\n          {!isMobile && (\n            <ShortsSidePanel\n              isOpen={sidePanelOpen}\n              uri={uri}\n              accessStatus={accessStatus}\n              contentUnlocked={contentUnlocked}\n              commentsDisabled={commentsDisabled}\n              linkedCommentId={linkedCommentId}\n              threadCommentId={threadCommentId}\n              isComments={panelMode === 'comments'}\n              onClose={handleClosePanel}\n            />\n          )}\n\n          {isMobile && (\n            <MobilePanel\n              isOpen={mobileModalOpen}\n              onClose={() => setMobileModalOpen(false)}\n              onInfoClick={handleInfoButtonClick}\n              uri={uri}\n              accessStatus={accessStatus}\n              contentUnlocked={contentUnlocked}\n              commentsDisabled={commentsDisabled}\n              commentsListTitle={commentsListTitle}\n              linkedCommentId={linkedCommentId}\n              threadCommentId={threadCommentId}\n              isComments={panelMode === 'comments'}\n            />\n          )}\n        </div>\n      </div>\n    </>\n  );\n}\n","// @flow\nimport * as ACTIONS from 'constants/action_types';\n\nexport function doToggleShortsSidePanel() {\n  return {\n    type: ACTIONS.TOGGLE_SHORTS_SIDE_PANEL,\n  };\n}\n\nexport function doSetShortsSidePanel(isOpen: boolean) {\n  return {\n    type: ACTIONS.SET_SHORTS_SIDE_PANEL,\n    data: {\n      isOpen,\n    },\n  };\n}\n\nexport function doSetShortsPlaylist(uris: Array<string>) {\n  return {\n    type: ACTIONS.SET_SHORTS_PLAYLIST,\n    data: {\n      uris,\n    },\n  };\n}\n\nexport function doClearShortsPlaylist() {\n  return {\n    type: ACTIONS.CLEAR_SHORTS_PLAYLIST,\n  };\n}\n\nexport const doSetShortsViewMode = (mode: string) => ({\n  type: ACTIONS.SET_SHORTS_VIEW_MODE,\n  data: mode,\n});\n\nexport const doToggleShortsAutoplay = () => ({\n  type: ACTIONS.TOGGLE_SHORTS_AUTOPLAY,\n});\n\nexport const doSetShortsAutoplay = (enabled: boolean) => ({\n  type: ACTIONS.SET_SHORTS_AUTOPLAY,\n  data: enabled,\n});\n","import { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { createSelector } from 'reselect';\nimport * as TAGS from 'constants/tags';\nimport { getChannelIdFromClaim, createNormalizedClaimSearchKey, isClaimShort } from 'util/claim';\nimport { LINKED_COMMENT_QUERY_PARAM, THREAD_COMMENT_QUERY_PARAM } from 'constants/comment';\nimport { doFileGetForUri } from 'redux/actions/file';\n\nimport {\n  selectClaimIsNsfwForUri,\n  selectClaimForUri,\n  makeSelectTagInClaimOrChannelForUri,\n  selectClaimSearchByQuery,\n} from 'redux/selectors/claims';\nimport {\n  selectContentPositionForUri,\n  selectPlayingCollectionId,\n  selectIsUriCurrentlyPlaying,\n  selectIsAutoplayCountdownForUri,\n} from 'redux/selectors/content';\nimport { selectCommentsListTitleForUri, selectCommentsDisabledSettingForChannelId } from 'redux/selectors/comments';\nimport { selectNoRestrictionOrUserIsMemberForContentClaimId } from 'redux/selectors/memberships';\nimport { clearPosition } from 'redux/actions/content';\nimport { selectIsSearching } from 'redux/selectors/search';\nimport { selectClientSetting } from 'redux/selectors/settings';\nimport * as SETTINGS from 'constants/settings';\n\nimport ShortsPage from './view';\nimport { selectShortsSidePanelOpen, selectShortsPlaylist, selectShortsViewMode } from 'redux/selectors/shorts';\nimport {\n  doSetShortsSidePanel,\n  doToggleShortsSidePanel,\n  doSetShortsPlaylist,\n  doSetShortsViewMode,\n  doSetShortsAutoplay,\n  doClearShortsPlaylist,\n} from 'redux/actions/shorts';\nimport { doClaimSearch, doResolveUri } from 'redux/actions/claims';\nimport { toggleAutoplayNextShort, doSetClientSetting } from 'redux/actions/settings';\nimport { doFetchShortsRecommendedContent } from 'redux/actions/search';\nimport { doOpenModal } from 'redux/actions/app';\n\nconst selectShortsRecommendedContent = createSelector(\n  [\n    selectShortsPlaylist,\n    selectShortsViewMode,\n    (state, props) => {\n      if (!props?.uri) return [];\n      const claim = selectClaimForUri(state, props.uri);\n      if (!claim?.value?.title) return [];\n\n      const searchResults = state.search.resultsByQuery;\n      const titleEncoded = encodeURIComponent(claim.value.title);\n\n      for (const queryKey in searchResults) {\n        if (\n          queryKey.includes(`s=${titleEncoded}`) &&\n          queryKey.includes(`max_aspect_ratio=${SETTINGS.SHORTS_ASPECT_RATIO_LTE}`)\n        ) {\n          return searchResults[queryKey]?.uris || [];\n        }\n      }\n      return [];\n    },\n    (state, props) => {\n      if (!props?.uri) return [];\n      const claim = selectClaimForUri(state, props.uri);\n      const channelId = getChannelIdFromClaim(claim);\n      if (!channelId) return [];\n\n      const claimSearchByQuery = selectClaimSearchByQuery(state);\n      const searchKey = createNormalizedClaimSearchKey({\n        channel_ids: [channelId],\n        duration: `<=${SETTINGS.SHORTS_DURATION_LTE}`,\n        content_aspect_ratio: `<=${SETTINGS.SHORTS_ASPECT_RATIO_LTE}`,\n        order_by: ['release_time'],\n        page_size: 50,\n        page: 1,\n        claim_type: ['stream'],\n        has_source: true,\n      });\n\n      return claimSearchByQuery[searchKey]\n        ? claimSearchByQuery[searchKey].map((uri) => {\n            const claim = selectClaimForUri(state, uri);\n            return claim?.permanent_url;\n          })\n        : [];\n    },\n  ],\n  (shortsPlaylist, viewMode, relatedUris, channelUris) => {\n    if (shortsPlaylist.length > 0) return shortsPlaylist;\n    return viewMode === 'channel' ? channelUris : relatedUris;\n  }\n);\n\nconst select = (state, props) => {\n  const { uri, location } = props;\n  const urlParams = new URLSearchParams(location.search);\n  const claim = selectClaimForUri(state, uri);\n  const channelId = getChannelIdFromClaim(claim);\n  const claimId = claim?.claim_id;\n  const commentSettingDisabled = selectCommentsDisabledSettingForChannelId(state, channelId);\n  const shortsRecommendedUris = selectShortsRecommendedContent(state, props);\n  const currentIndex = shortsRecommendedUris.findIndex((shortUri) => shortUri === uri);\n\n  const title = claim?.value?.title;\n  const channelUri = claim?.signing_channel?.canonical_url || claim?.signing_channel?.permanent_url;\n  const thumbnail = claim?.value?.thumbnail?.url || claim?.value?.thumbnail || null;\n\n  const nextShortUri =\n    currentIndex >= 0 && currentIndex < shortsRecommendedUris.length - 1\n      ? shortsRecommendedUris[currentIndex + 1]\n      : null;\n  const prevShortUri = currentIndex > 0 ? shortsRecommendedUris[currentIndex - 1] : null;\n  const nextShortClaim = nextShortUri ? selectClaimForUri(state, nextShortUri) : null;\n  const prevShortClaim = prevShortUri ? selectClaimForUri(state, prevShortUri) : null;\n  const nextThumbnail = nextShortClaim?.value?.thumbnail?.url || null;\n  const previousThumbnail = prevShortClaim?.value?.thumbnail?.url || null;\n\n  return {\n    commentsListTitle: selectCommentsListTitleForUri(state, uri),\n    isMature: selectClaimIsNsfwForUri(state, uri),\n    isUriPlaying: selectIsUriCurrentlyPlaying(state, uri),\n    linkedCommentId: urlParams.get(LINKED_COMMENT_QUERY_PARAM),\n    threadCommentId: urlParams.get(THREAD_COMMENT_QUERY_PARAM),\n    playingCollectionId: selectPlayingCollectionId(state),\n    position: selectContentPositionForUri(state, uri),\n    commentsDisabled:\n      commentSettingDisabled || makeSelectTagInClaimOrChannelForUri(uri, TAGS.DISABLE_COMMENTS_TAG)(state),\n    contentUnlocked: claimId && selectNoRestrictionOrUserIsMemberForContentClaimId(state, claimId),\n    isAutoplayCountdownForUri: selectIsAutoplayCountdownForUri(state, uri),\n    sidePanelOpen: selectShortsSidePanelOpen(state),\n    shortsRecommendedUris,\n    nextRecommendedShort:\n      currentIndex >= 0 && currentIndex < shortsRecommendedUris.length - 1\n        ? shortsRecommendedUris[currentIndex + 1]\n        : null,\n    previousRecommendedShort: currentIndex > 0 ? shortsRecommendedUris[currentIndex - 1] : null,\n    currentIndex,\n    channelId,\n    channelName: claim?.signing_channel?.name,\n    isSearchingRecommendations: selectIsSearching(state),\n    searchInLanguage: selectClientSetting(state, SETTINGS.SEARCH_IN_LANGUAGE),\n    viewMode: selectShortsViewMode(state),\n    title,\n    channelUri,\n    thumbnail,\n    autoPlayNextShort: selectClientSetting(state, SETTINGS.AUTOPLAY_NEXT_SHORTS),\n    disableShortsView: selectClientSetting(state, SETTINGS.DISABLE_SHORTS_VIEW),\n    autoplayMedia: selectClientSetting(state, SETTINGS.AUTOPLAY_MEDIA),\n    isClaimShort: isClaimShort(claim),\n    claimId,\n    webShareable: true,\n    collectionId: props.collectionId,\n    nextThumbnail,\n    previousThumbnail,\n  };\n};\n\nconst perform = (dispatch) => ({\n  clearPosition: (uri) => dispatch(clearPosition(uri)),\n  doToggleShortsSidePanel: () => dispatch(doToggleShortsSidePanel()),\n  doSetShortsSidePanel: (isOpen) => dispatch(doSetShortsSidePanel(isOpen)),\n  doFetchShortsRecommendedContent: (uri, fypParam) => dispatch(doFetchShortsRecommendedContent(uri, fypParam)),\n  doFetchChannelShorts: (channelId) => {\n    return dispatch(\n      doClaimSearch({\n        channel_ids: [channelId],\n        duration: `<=${SETTINGS.SHORTS_DURATION_LTE}`,\n        content_aspect_ratio: `<=${SETTINGS.SHORTS_ASPECT_RATIO_LTE}`,\n        order_by: ['release_time'],\n        page_size: 50,\n        page: 1,\n        claim_type: ['stream'],\n        has_source: true,\n      })\n    );\n  },\n  doFileGetForUri: (uri) => dispatch(doFileGetForUri(uri)),\n  doSetClientSetting: (key, value, pushPrefs) => dispatch(doSetClientSetting(key, value, pushPrefs)),\n  doSetShortsPlaylist: (uris) => dispatch(doSetShortsPlaylist(uris)),\n  doSetShortsViewMode: (mode) => dispatch(doSetShortsViewMode(mode)),\n  doToggleShortsAutoplay: () => dispatch(toggleAutoplayNextShort()),\n  doSetShortsAutoplay: (enabled) => dispatch(doSetShortsAutoplay(enabled)),\n  doClearShortsPlaylist: () => dispatch(doClearShortsPlaylist()),\n  doOpenModal: (id, modalProps) => dispatch(doOpenModal(id, modalProps)),\n  doResolveUri: (uri) => dispatch(doResolveUri(uri)),\n});\n\nexport default withRouter(connect(select, perform)(ShortsPage));\n","// @flow\nimport { VIDEO_ALMOST_FINISHED_THRESHOLD } from 'constants/player';\nimport * as React from 'react';\nimport { lazyImport } from 'util/lazyImport';\nimport * as ICONS from 'constants/icons';\nimport * as DRAWERS from 'constants/drawer_types';\nimport * as COLLECTIONS_CONSTS from 'constants/collections';\nimport FileTitleSection from 'component/fileTitleSection';\nimport VideoClaimInitiator from 'component/videoClaimInitiator';\nimport ClaimCoverRender from 'component/claimCoverRender';\nimport RecommendedContent from 'component/recommendedContent';\nimport Empty from 'component/common/empty';\nimport SwipeableDrawer from 'component/swipeableDrawer';\nimport DrawerExpandButton from 'component/swipeableDrawerExpand';\nimport { useIsMobile, useIsMobileLandscape, useIsSmallScreen } from 'effects/use-screensize';\n\nconst CommentsList = lazyImport(() => import('component/commentsList' /* webpackChunkName: \"comments\" */));\nconst PlaylistCard = lazyImport(() => import('component/playlistCard' /* webpackChunkName: \"playlistCard\" */));\n\nexport const PRIMARY_PLAYER_WRAPPER_CLASS = 'file-page__video-container';\nexport const PRIMARY_IMAGE_WRAPPER_CLASS = 'file-render__img-container';\n\ntype Props = {\n  uri: string,\n  accessStatus: ?string,\n  // -- redux --\n  audioVideoDuration: ?number,\n  commentsListTitle: string,\n  fileInfo: FileListItem,\n  isMature: boolean,\n  isUriPlaying: boolean,\n  linkedCommentId?: string,\n  threadCommentId?: string,\n  location: { search: string },\n  playingCollectionId: ?string,\n  position: number,\n  commentsDisabled: ?boolean,\n  videoTheaterMode: boolean,\n  contentUnlocked: boolean,\n  isAutoplayCountdownForUri: ?boolean,\n  clearPosition: (uri: string) => void,\n};\n\nexport default function VideoPlayersPage(props: Props) {\n  const {\n    uri,\n    accessStatus,\n    // -- redux --\n    playingCollectionId,\n    fileInfo,\n    isMature,\n    linkedCommentId,\n    threadCommentId,\n    videoTheaterMode,\n    commentsDisabled,\n    audioVideoDuration,\n    commentsListTitle,\n    isUriPlaying,\n    location,\n    position,\n    contentUnlocked,\n    isAutoplayCountdownForUri,\n    clearPosition,\n  } = props;\n\n  const isMobile = useIsMobile();\n  const isSmallScreen = useIsSmallScreen() && !isMobile;\n  const isLandscapeRotated = useIsMobileLandscape();\n\n  const initialPlayingCol = React.useRef(playingCollectionId);\n\n  const { search } = location;\n  const urlParams = new URLSearchParams(search);\n  const colParam = urlParams.get(COLLECTIONS_CONSTS.COLLECTION_ID);\n\n  const collectionId = React.useMemo(() => {\n    const startedPlayingOtherPlaylist =\n      (isUriPlaying || playingCollectionId === null) &&\n      playingCollectionId !== undefined &&\n      !initialPlayingCol.current !== playingCollectionId;\n    return startedPlayingOtherPlaylist ? playingCollectionId : colParam;\n  }, [colParam, isUriPlaying, playingCollectionId]);\n\n  const rightSideProps = React.useMemo(\n    () => ({ collectionId, uri, isSmallScreen }),\n    [collectionId, isSmallScreen, uri]\n  );\n\n  const videoPlayedEnoughToResetPosition = React.useMemo(() => {\n    // I've never seen 'fileInfo' contain metadata lately, but retaining as historical fallback.\n    const durationInSecs =\n      audioVideoDuration ||\n      (fileInfo && fileInfo.metadata && fileInfo.metadata.video ? fileInfo.metadata.video.duration : 0);\n    const isVideoTooShort = durationInSecs <= 45;\n    const almostFinishedPlaying = position / durationInSecs >= VIDEO_ALMOST_FINISHED_THRESHOLD;\n\n    return durationInSecs ? isVideoTooShort || almostFinishedPlaying : false;\n  }, [audioVideoDuration, fileInfo, position]);\n\n  React.useEffect(() => {\n    // always refresh file info when entering file page to see if we have the file\n    // this could probably be refactored into more direct components now\n    if (fileInfo && videoPlayedEnoughToResetPosition) {\n      clearPosition(uri);\n    }\n  }, [clearPosition, fileInfo, uri, videoPlayedEnoughToResetPosition]);\n\n  if (isMature) {\n    return (\n      <>\n        <div className=\"section card-stack file-page__video\">\n          {isAutoplayCountdownForUri && (\n            <div className={PRIMARY_PLAYER_WRAPPER_CLASS}>\n              <ClaimCoverRender uri={uri} />\n            </div>\n          )}\n\n          <FileTitleSection uri={uri} accessStatus={accessStatus} isNsfwBlocked />\n        </div>\n\n        {isSmallScreen && <PlaylistCard id={collectionId} uri={uri} useDrawer={isMobile} />}\n        {!videoTheaterMode && <RightSideContent {...rightSideProps} />}\n      </>\n    );\n  }\n\n  const commentsListProps = { uri, linkedCommentId, threadCommentId };\n  return (\n    <>\n      <div className=\"section card-stack file-page__video\">\n        <div className={PRIMARY_PLAYER_WRAPPER_CLASS}>\n          <VideoClaimInitiator uri={uri} />\n        </div>\n\n        <div className=\"file-page__secondary-content\">\n          <section className=\"file-page__media-actions\">\n            {isSmallScreen && <PlaylistCard id={collectionId} uri={uri} useDrawer={isMobile} />}\n\n            <FileTitleSection uri={uri} accessStatus={accessStatus} />\n\n            {contentUnlocked &&\n              (commentsDisabled ? (\n                <Empty padded={!isMobile} text={__('The creator of this content has disabled comments.')} />\n              ) : isMobile && !isLandscapeRotated ? (\n                <React.Fragment>\n                  <SwipeableDrawer type={DRAWERS.CHAT} title={<h2>{commentsListTitle}</h2>}>\n                    <React.Suspense fallback={null}>\n                      <CommentsList {...commentsListProps} />\n                    </React.Suspense>\n                  </SwipeableDrawer>\n\n                  <DrawerExpandButton icon={ICONS.CHAT} label={<h2>{commentsListTitle}</h2>} type={DRAWERS.CHAT} />\n                </React.Fragment>\n              ) : (\n                <React.Suspense fallback={null}>\n                  <CommentsList {...commentsListProps} notInDrawer />\n                </React.Suspense>\n              ))}\n          </section>\n\n          {videoTheaterMode && <RightSideContent {...rightSideProps} />}\n        </div>\n      </div>\n\n      {!videoTheaterMode && <RightSideContent {...rightSideProps} />}\n    </>\n  );\n}\n\ntype RightSideProps = {\n  collectionId: ?string,\n  uri: string,\n  isSmallScreen: boolean,\n};\n\nconst RightSideContent = (rightSideProps: RightSideProps) => {\n  const { collectionId, uri, isSmallScreen } = rightSideProps;\n\n  const isMobile = useIsMobile();\n\n  return (\n    <div className=\"card-stack--spacing-m\">\n      {!isSmallScreen && <PlaylistCard id={collectionId} uri={uri} useDrawer={isMobile} />}\n      <RecommendedContent uri={uri} />\n    </div>\n  );\n};\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".swipe-navigation-overlay{overflow:hidden;pointer-events:none;position:fixed;z-index:2}[dir] .swipe-navigation-overlay{background:transparent}.swipe-navigation-overlay--enabled{pointer-events:auto}.swipe-navigation-overlay.shorts-swipe-overlay{height:82vh;top:60px;transition:all .3s cubic-bezier(.4,0,.2,1);width:380px}[dir] .swipe-navigation-overlay.shorts-swipe-overlay{border-radius:10px}[dir=ltr] .swipe-navigation-overlay.shorts-swipe-overlay{left:50%;transform:translate(calc(-50% - 6px))}[dir=rtl] .swipe-navigation-overlay.shorts-swipe-overlay{right:50%;transform:translate(calc(50% - -6px))}@media(max-width:900px){.swipe-navigation-overlay.shorts-swipe-overlay{height:83%;overflow:hidden;width:100%}}@media(min-width:1150px){.swipe-navigation-overlay.shorts-swipe-overlay{overflow:hidden;width:var(--shorts-viewer-width,28vw)!important}}@media(max-width:1380px)and (min-width:900px)and (max-height:860px){.swipe-navigation-overlay.shorts-swipe-overlay{width:350px!important}}.swipe-navigation-overlay.shorts__viewer--panel-open{transition:all .3s cubic-bezier(.4,0,.2,1)}[dir=ltr] .swipe-navigation-overlay.shorts__viewer--panel-open{transform:translate(-130%)!important}[dir=rtl] .swipe-navigation-overlay.shorts__viewer--panel-open{transform:translate(130%)!important}@media(max-width:786px){[dir=ltr] .swipe-navigation-overlay.shorts__viewer--panel-open{transform:translate(-50%)!important}[dir=rtl] .swipe-navigation-overlay.shorts__viewer--panel-open{transform:translate(50%)!important}}@media(max-width:1180px)and (min-width:786px){[dir=ltr] .swipe-navigation-overlay.shorts__viewer--panel-open{transform:translate(-105%)!important}[dir=rtl] .swipe-navigation-overlay.shorts__viewer--panel-open{transform:translate(105%)!important}}@media(min-width:1600px){[dir=ltr] .swipe-navigation-overlay.shorts__viewer--panel-open{transform:translate(-130%)!important}[dir=rtl] .swipe-navigation-overlay.shorts__viewer--panel-open{transform:translate(130%)!important}}@media(min-width:2500px){[dir=ltr] .swipe-navigation-overlay.shorts__viewer--panel-open{transform:translate(-129%)!important}[dir=rtl] .swipe-navigation-overlay.shorts__viewer--panel-open{transform:translate(129%)!important}}.shorts-page-menu__button{align-items:center;display:flex;height:48px;justify-content:center;position:absolute;rotate:90deg;top:10px;width:48px;z-index:1000000}[dir] .shorts-page-menu__button{background-color:rgba(0,0,0,.216);border-radius:100%}[dir=ltr] .shorts-page-menu__button{right:10px}[dir=rtl] .shorts-page-menu__button{left:10px}.shorts-page-menu__button .icon{color:#fff}.swipe-navigation-overlay__content-info{align-items:flex-start;display:flex;flex-direction:column;gap:12px;pointer-events:none;position:absolute;top:0;width:100%;z-index:10000!important}[dir] .swipe-navigation-overlay__content-info{padding:12px}[dir=ltr] .swipe-navigation-overlay__content-info{background:linear-gradient(180deg,hsla(0,0%,7%,.906),transparent);border-top-left-radius:10px;border-top-right-radius:10px;left:0;padding-left:20px}[dir=rtl] .swipe-navigation-overlay__content-info{background:linear-gradient(-180deg,hsla(0,0%,7%,.906),transparent);border-top-left-radius:10px;border-top-right-radius:10px;padding-right:20px;right:0}.swipe-navigation-overlay__text-info{flex:1;min-width:0}.swipe-navigation-overlay__title{-webkit-line-clamp:2;-webkit-box-orient:vertical;color:#fff;display:-webkit-box;font-size:12px;font-weight:600;line-height:1.3;overflow:hidden;text-overflow:ellipsis}[dir] .swipe-navigation-overlay__title{margin:0 0 8px;text-shadow:0 1px 3px rgba(0,0,0,.5)}.swipe-navigation-overlay__channel{align-items:center;display:flex;gap:8px;pointer-events:auto;position:relative;width:fit-content;z-index:10000!important}[dir] .swipe-navigation-overlay__channel{cursor:pointer}.swipe-navigation-overlay__channel-name{color:hsla(0,0%,100%,.9);font-size:13px;font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[dir] .swipe-navigation-overlay__channel-name{text-shadow:0 1px 2px rgba(0,0,0,.5)}@media(max-width:768px){.swipe-navigation-overlay__content-info{bottom:0;top:auto;width:calc(100% - 75px)}[dir] .swipe-navigation-overlay__content-info{background:transparent;padding:16px 16px 0}[dir=ltr] .swipe-navigation-overlay__content-info{left:5px;right:70px}[dir=rtl] .swipe-navigation-overlay__content-info{left:70px;right:5px}.swipe-navigation-overlay__thumbnail{height:50px;width:50px}.swipe-navigation-overlay__title{-webkit-line-clamp:2;font-size:14px}.swipe-navigation-overlay__channel-name{font-size:13px}}.shorts-mobile-panel__actions{bottom:0;display:flex;flex-direction:column;gap:10px;pointer-events:auto;position:fixed;z-index:10001}[dir] .shorts-mobile-panel__actions{padding:10px 0 0}[dir=ltr] .shorts-mobile-panel__actions{right:10px}[dir=rtl] .shorts-mobile-panel__actions{left:10px}.shorts-mobile-panel__action-item{align-items:center;display:flex;flex-direction:column;gap:2px;justify-content:center}.shorts-mobile-panel__action-button{align-items:center!important;color:#fff!important;display:flex!important;height:40px!important;justify-content:center!important;min-height:40px!important;min-width:40px!important;position:relative;transition:all .2s ease-in-out;width:40px!important}[dir] .shorts-mobile-panel__action-button{background:rgba(45,44,44,.6)!important;border:none!important;border-radius:50%!important;cursor:pointer}.shorts-mobile-panel__action-button .icon{color:#fff!important}[dir] .shorts-mobile-panel__action-button.button-bubble--active{background:var(--color-primary)!important}[dir] .shorts-mobile-panel__action-button.button-bubble--active:hover{background:var(--color-primary-alt)!important}.shorts-mobile-panel__action-button .button__label{display:none}.shorts-mobile-panel__count{color:#fff;font-size:12px;font-weight:600;min-width:30px}[dir] .shorts-mobile-panel__count{text-align:center}[dir=ltr] .shorts-mobile-panel__count{text-shadow:1px 1px 2px rgba(0,0,0,.833)}[dir=rtl] .shorts-mobile-panel__count{text-shadow:-1px 1px 2px rgba(0,0,0,.833)}@media(max-width:768px)and (orientation:landscape){.shorts-mobile-panel__actions{bottom:5vh;gap:6px}.shorts-mobile-panel__action-button{height:45px!important;min-height:45px!important;min-width:45px!important;width:45px!important}}@media(min-width:769px){.shorts-mobile-panel__actions{display:none}}@media(prefers-reduced-motion:reduce){[dir] .shorts-mobile-panel__action-button{transition-duration:.15s}[dir] .shorts-mobile-panel__action-button:hover{transform:none}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../ui/component/shortsActions/swipeNavigation/style.scss\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\".swipe-navigation-overlay {\\n  position: fixed;\\n  z-index: 2;\\n  pointer-events: none;\\n  background: transparent;\\n  overflow: hidden;\\n\\n  &--enabled {\\n    pointer-events: auto;\\n  }\\n\\n  &.shorts-swipe-overlay {\\n    width: 380px;\\n    height: 82vh;\\n    top: 60px;\\n    left: 50%;\\n    transform: translate(calc(-50% - 6px), 0%);\\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\\n    border-radius: 10px;\\n\\n    @media (max-width: 900px) {\\n      width: 100%;\\n      height: 83%;\\n      overflow: hidden;\\n    }\\n\\n    @media (min-width: 1150px) {\\n      width: var(--shorts-viewer-width, 28vw) !important;\\n      overflow: hidden;\\n    }\\n\\n    @media (max-width: 1380px) and (min-width: 900px) and (max-height: 860px) {\\n      width: 350px !important;\\n    }\\n  }\\n\\n  &.shorts__viewer--panel-open {\\n    transform: translate(-130%, 0%) !important;\\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\\n\\n    @media (max-width: 786px) {\\n      transform: translate(-50%, 0%) !important;\\n    }\\n\\n    @media (max-width: 1180px) and (min-width: 786px) {\\n      transform: translate(-105%, 0%) !important;\\n    }\\n\\n    @media (min-width: 1600px) {\\n      transform: translate(-130%, 0%) !important;\\n    }\\n\\n    @media (min-width: 2500px) {\\n      transform: translate(-129%, 0%) !important;\\n    }\\n  }\\n}\\n\\n.shorts-page-menu__button {\\n  z-index: 1000000;\\n  position: absolute;\\n  top: 10px;\\n  height: 48px;\\n  width: 48px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  border-radius: 100%;\\n  background-color: #00000037;\\n  right: 10px;\\n  rotate: 90deg;\\n\\n  .icon {\\n    color: #fff;\\n  }\\n}\\n\\n.swipe-navigation-overlay__content-info {\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  z-index: 10000 !important;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: flex-start;\\n  gap: 12px;\\n  padding: 12px;\\n  pointer-events: none;\\n  width: 100%;\\n  background: linear-gradient(180deg, #111111e7 0%, transparent 100%);\\n  border-top-left-radius: 10px;\\n  border-top-right-radius: 10px;\\n  padding-left: 20px;\\n}\\n\\n.swipe-navigation-overlay__text-info {\\n  flex: 1;\\n  min-width: 0;\\n}\\n\\n.swipe-navigation-overlay__title {\\n  color: white;\\n  font-size: 12px;\\n  font-weight: 600;\\n  margin: 0 0 8px 0;\\n  line-height: 1.3;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  display: -webkit-box;\\n  -webkit-line-clamp: 2;\\n  -webkit-box-orient: vertical;\\n  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);\\n}\\n\\n.swipe-navigation-overlay__channel {\\n  display: flex;\\n  align-items: center;\\n  gap: 8px;\\n  pointer-events: auto;\\n  cursor: pointer;\\n  position: relative;\\n  z-index: 10000 !important;\\n  width: fit-content;\\n}\\n\\n.swipe-navigation-overlay__channel-name {\\n  color: rgba(255, 255, 255, 0.9);\\n  font-size: 13px;\\n  font-weight: 500;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\\n}\\n\\n@media (max-width: 768px) {\\n  .swipe-navigation-overlay__content-info {\\n    top: auto;\\n    bottom: 0;\\n    left: 5px;\\n    right: 70px;\\n    padding: 16px 16px 0 16px;\\n    background: transparent;\\n    width: calc(100% - 75px);\\n  }\\n\\n  .swipe-navigation-overlay__thumbnail {\\n    width: 50px;\\n    height: 50px;\\n  }\\n\\n  .swipe-navigation-overlay__title {\\n    font-size: 14px;\\n    -webkit-line-clamp: 2;\\n  }\\n\\n  .swipe-navigation-overlay__channel-name {\\n    font-size: 13px;\\n  }\\n}\\n\\n.shorts-mobile-panel__actions {\\n  position: fixed;\\n  bottom: 0;\\n  right: 10px;\\n  display: flex;\\n  flex-direction: column;\\n  gap: 10px;\\n  z-index: 10001;\\n  pointer-events: auto;\\n  padding: 10px 0 0 0;\\n}\\n\\n.shorts-mobile-panel__action-item {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 2px;\\n}\\n\\n.shorts-mobile-panel__action-button {\\n  background: rgba(45, 44, 44, 0.6) !important;\\n  border: none !important;\\n  border-radius: 50% !important;\\n  width: 40px !important;\\n  height: 40px !important;\\n  min-width: 40px !important;\\n  min-height: 40px !important;\\n  display: flex !important;\\n  align-items: center !important;\\n  justify-content: center !important;\\n  color: white !important;\\n  cursor: pointer;\\n  transition: all 0.2s ease-in-out;\\n  position: relative;\\n\\n  .icon {\\n    color: white !important;\\n  }\\n\\n  &.button-bubble--active {\\n    background: var(--color-primary) !important;\\n\\n    &:hover {\\n      background: var(--color-primary-alt) !important;\\n    }\\n  }\\n\\n  .button__label {\\n    display: none;\\n  }\\n}\\n\\n.shorts-mobile-panel__count {\\n  color: white;\\n  font-size: 12px;\\n  font-weight: 600;\\n  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.833);\\n  min-width: 30px;\\n  text-align: center;\\n}\\n\\n@media (max-width: 768px) and (orientation: landscape) {\\n  .shorts-mobile-panel__actions {\\n    bottom: 5vh;\\n    gap: 6px;\\n  }\\n\\n  .shorts-mobile-panel__action-button {\\n    width: 45px !important;\\n    height: 45px !important;\\n    min-width: 45px !important;\\n    min-height: 45px !important;\\n  }\\n}\\n\\n@media (min-width: 769px) {\\n  .shorts-mobile-panel__actions {\\n    display: none;\\n  }\\n}\\n\\n@media (prefers-reduced-motion: reduce) {\\n  .shorts-mobile-panel__action-button {\\n    transition-duration: 0.15s;\\n  }\\n\\n  .shorts-mobile-panel__action-button:hover {\\n    transform: none;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".shorts-mobile-panel{height:50px;pointer-events:none;position:fixed;top:calc(50vh - 25px);width:50px;z-index:10000}[dir=ltr] .shorts-mobile-panel{right:10px}[dir=rtl] .shorts-mobile-panel{left:10px}.shorts-mobile-panel--modal-open{bottom:0;height:auto;top:0;width:auto}[dir=ltr] .shorts-mobile-panel--modal-open,[dir=rtl] .shorts-mobile-panel--modal-open{left:0;right:0}.shorts-mobile-panel .claim-tile__info{display:flex;flex-direction:column!important}.shorts-mobile-panel .claim-preview__actions{width:100%}[dir=ltr] .shorts-mobile-panel .claim-preview__actions{margin-left:-80px!important}[dir=rtl] .shorts-mobile-panel .claim-preview__actions{margin-right:-80px!important}.shorts-mobile-panel .button-group,.shorts-mobile-panel .membership-button-wrapper{width:50%}[dir] .claim-preview__wrapper .claim-preview--channel .claim-preview__text .claim-preview__actions{margin-top:10px!important}[dir=ltr] .claim-preview__wrapper .claim-preview--channel .claim-preview__text .claim-preview__actions{margin-left:-80px!important}[dir=rtl] .claim-preview__wrapper .claim-preview--channel .claim-preview__text .claim-preview__actions{margin-right:-80px!important}.shorts-mobile-panel__swipe-area{bottom:0;pointer-events:auto;position:fixed;top:0;z-index:9999}[dir] .shorts-mobile-panel__swipe-area{background:transparent}[dir=ltr] .shorts-mobile-panel__swipe-area,[dir=rtl] .shorts-mobile-panel__swipe-area{left:0;right:0}.shorts-mobile-panel__backdrop{align-items:flex-end;backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);bottom:0;display:flex;justify-content:center;pointer-events:auto;position:fixed;top:0;z-index:10002}[dir] .shorts-mobile-panel__backdrop{background:rgba(0,0,0,.7)}[dir=ltr] .shorts-mobile-panel__backdrop,[dir=rtl] .shorts-mobile-panel__backdrop{left:0;right:0}[dir=ltr] .shorts-mobile-panel__backdrop--closing .shorts-mobile-panel__modal,[dir=rtl] .shorts-mobile-panel__backdrop--closing .shorts-mobile-panel__modal{animation:slideDownModal .25s cubic-bezier(.55,.055,.675,.19) forwards}.shorts-mobile-panel__modal{display:flex;flex-direction:column;max-height:60vh;max-width:100vw;width:100%}[dir] .shorts-mobile-panel__modal{background:var(--color-card-background);border:1px solid var(--color-border);border-radius:16px 16px 0 0;box-shadow:0 -4px 20px rgba(0,0,0,.3);transform:translateY(0)}[dir=ltr] .shorts-mobile-panel__modal,[dir=rtl] .shorts-mobile-panel__modal{animation:slideUpModal .3s cubic-bezier(.25,.46,.45,.94)}[dir=ltr] .shorts-mobile-panel__modal--closing,[dir=rtl] .shorts-mobile-panel__modal--closing{animation:slideDownModal .25s cubic-bezier(.55,.055,.675,.19) forwards}@keyframes slideUpModal{0%{opacity:0;transform:translateY(100%)}to{opacity:1;transform:translateY(0)}}@keyframes slideDownModal{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(100%)}}.shorts-mobile-panel__header{flex-shrink:0;position:relative}[dir] .shorts-mobile-panel__header{background:var(--color-header-background);border-bottom:1px solid var(--color-border);border-radius:16px 16px 0 0;padding:var(--spacing-s) var(--spacing-m)}.shorts-mobile-panel__drag-handle{height:4px;opacity:.6;touch-action:none;user-select:none;width:40px}[dir] .shorts-mobile-panel__drag-handle{background:var(--color-text-subtitle);border-radius:2px;cursor:grab;margin:0 auto 12px}[dir] .shorts-mobile-panel__drag-handle:active{cursor:grabbing}.shorts-mobile-panel__title-section{align-items:center;display:flex;gap:var(--spacing-m);justify-content:space-between}.shorts-mobile-panel__title-section h3{color:var(--color-text);flex:1;font-size:var(--font-base);font-weight:var(--font-weight-bold)}[dir] .shorts-mobile-panel__title-section h3{margin:0}.shorts-mobile-panel__close-button{align-items:center!important;color:var(--color-text)!important;display:flex!important;flex-shrink:0;height:32px!important;justify-content:center!important;min-height:32px!important;min-width:32px!important;transition:background-color .2s ease;width:32px!important}[dir] .shorts-mobile-panel__close-button{background:var(--color-button-secondary-bg)!important;border:none!important;border-radius:50%!important;cursor:pointer}.shorts-mobile-panel__close-button .icon{color:var(--color-text)!important}[dir] .shorts-mobile-panel__close-button:hover{background:var(--color-button-secondary-bg-hover)!important}.shorts-mobile-panel__content{-webkit-overflow-scrolling:touch;flex:1;max-height:calc(85vh - 80px);overflow-x:hidden;overflow-y:auto;scroll-behavior:smooth}[dir] .shorts-mobile-panel__content{padding:var(--spacing-m)}[dir] .shorts-mobile-panel__file-section{margin-bottom:var(--spacing-l)}[dir] .shorts-mobile-panel__file-section .file-page__info{background:transparent;border:none;box-shadow:none;padding:0}[dir] .shorts-mobile-panel__file-section .file-properties{border-top:1px solid var(--color-border);margin-top:var(--spacing-s);padding-top:var(--spacing-s)}.shorts-mobile-panel__comments-section h4{color:var(--color-text);font-size:var(--font-small);font-weight:var(--font-weight-bold);letter-spacing:.5px;text-transform:uppercase}[dir] .shorts-mobile-panel__comments-section h4{border-bottom:1px solid var(--color-border);margin:0 0 var(--spacing-m) 0;padding-bottom:var(--spacing-xs)}.shorts-mobile-panel__comments-section .comments{max-height:none}[dir] .shorts-mobile-panel__comments-section .comments .comment{background:var(--color-card-background-highlighted);border:1px solid var(--color-border);border-radius:8px;margin-bottom:var(--spacing-s);padding:var(--spacing-s)}[dir] .shorts-mobile-panel__comments-section .comments .comment:hover{background:var(--color-card-background)}.shorts-mobile-panel__loading{align-items:center;color:var(--color-text-subtitle);display:flex;font-style:italic;justify-content:center}[dir] .shorts-mobile-panel__loading{padding:var(--spacing-l)}@media(max-width:768px)and (orientation:landscape){.shorts-mobile-panel__modal{max-height:90vh}.shorts-mobile-panel__content{max-height:calc(90vh - 70px)}[dir] .shorts-mobile-panel__header{padding:var(--spacing-xs) var(--spacing-m)}[dir] .shorts-mobile-panel__drag-handle{margin-bottom:var(--spacing-xs)}}@media(min-width:769px){.shorts-mobile-panel{display:none}}@media(prefers-reduced-motion:reduce){[dir] .shorts-mobile-panel__action-button,[dir] .shorts-mobile-panel__modal,[dir] .shorts-mobile-panel__modal--closing{transition-duration:.15s}[dir=ltr] .shorts-mobile-panel__action-button,[dir=ltr] .shorts-mobile-panel__modal,[dir=ltr] .shorts-mobile-panel__modal--closing,[dir=rtl] .shorts-mobile-panel__action-button,[dir=rtl] .shorts-mobile-panel__modal,[dir=rtl] .shorts-mobile-panel__modal--closing{animation-duration:.15s}[dir] .shorts-mobile-panel__action-button:hover{transform:none}@keyframes slideUpModal{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes slideDownModal{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(20px)}}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../ui/component/shortsMobileSidePanel/style.scss\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\".shorts-mobile-panel {\\n  position: fixed;\\n  z-index: 10000;\\n  pointer-events: none;\\n\\n  top: calc(50vh - 25px);\\n  right: 10px;\\n  width: 50px;\\n  height: 50px;\\n\\n  &--modal-open {\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    width: auto;\\n    height: auto;\\n  }\\n\\n  .claim-tile__info {\\n    display: flex;\\n    flex-direction: column !important;\\n  }\\n\\n  .claim-preview__actions {\\n    margin-left: -80px !important;\\n    width: 100%;\\n  }\\n\\n  .membership-button-wrapper {\\n    width: 50%;\\n  }\\n\\n  .button-group {\\n    width: 50%;\\n  }\\n}\\n\\n.claim-preview__wrapper {\\n  .claim-preview--channel {\\n    .claim-preview__text {\\n      .claim-preview__actions {\\n        margin-left: -80px !important;\\n        margin-top: 10px !important;\\n      }\\n    }\\n  }\\n}\\n\\n.shorts-mobile-panel__swipe-area {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  z-index: 9999;\\n  pointer-events: auto;\\n  background: transparent;\\n}\\n\\n.shorts-mobile-panel__backdrop {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background: rgba(0, 0, 0, 0.7);\\n  z-index: 10002;\\n  display: flex;\\n  align-items: flex-end;\\n  justify-content: center;\\n  backdrop-filter: blur(4px);\\n  -webkit-backdrop-filter: blur(4px);\\n  pointer-events: auto;\\n\\n  &--closing {\\n    .shorts-mobile-panel__modal {\\n      animation: slideDownModal 0.25s cubic-bezier(0.55, 0.055, 0.675, 0.19) forwards;\\n    }\\n  }\\n}\\n\\n.shorts-mobile-panel__modal {\\n  background: var(--color-card-background);\\n  width: 100%;\\n  max-width: 100vw;\\n  max-height: 60vh;\\n  border-radius: 16px 16px 0 0;\\n  transform: translateY(0);\\n  animation: slideUpModal 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\\n  display: flex;\\n  flex-direction: column;\\n  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.3);\\n  border: 1px solid var(--color-border);\\n\\n  &--closing {\\n    animation: slideDownModal 0.25s cubic-bezier(0.55, 0.055, 0.675, 0.19) forwards;\\n  }\\n}\\n\\n@keyframes slideUpModal {\\n  from {\\n    transform: translateY(100%);\\n    opacity: 0;\\n  }\\n\\n  to {\\n    transform: translateY(0);\\n    opacity: 1;\\n  }\\n}\\n\\n@keyframes slideDownModal {\\n  from {\\n    transform: translateY(0);\\n    opacity: 1;\\n  }\\n\\n  to {\\n    transform: translateY(100%);\\n    opacity: 0;\\n  }\\n}\\n\\n.shorts-mobile-panel__header {\\n  padding: var(--spacing-s) var(--spacing-m);\\n  border-bottom: 1px solid var(--color-border);\\n  background: var(--color-header-background);\\n  border-radius: 16px 16px 0 0;\\n  position: relative;\\n  flex-shrink: 0;\\n}\\n\\n.shorts-mobile-panel__drag-handle {\\n  width: 40px;\\n  height: 4px;\\n  background: var(--color-text-subtitle);\\n  border-radius: 2px;\\n  margin: 0 auto 12px auto;\\n  opacity: 0.6;\\n  cursor: grab;\\n  touch-action: none;\\n  user-select: none;\\n\\n  &:active {\\n    cursor: grabbing;\\n  }\\n}\\n\\n.shorts-mobile-panel__title-section {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  gap: var(--spacing-m);\\n\\n  h3 {\\n    margin: 0;\\n    color: var(--color-text);\\n    font-size: var(--font-base);\\n    font-weight: var(--font-weight-bold);\\n    flex: 1;\\n  }\\n}\\n\\n.shorts-mobile-panel__close-button {\\n  background: var(--color-button-secondary-bg) !important;\\n  border: none !important;\\n  border-radius: 50% !important;\\n  width: 32px !important;\\n  height: 32px !important;\\n  min-width: 32px !important;\\n  min-height: 32px !important;\\n  display: flex !important;\\n  align-items: center !important;\\n  justify-content: center !important;\\n  color: var(--color-text) !important;\\n  cursor: pointer;\\n  transition: background-color 0.2s ease;\\n  flex-shrink: 0;\\n\\n  .icon {\\n    color: var(--color-text) !important;\\n  }\\n\\n  &:hover {\\n    background: var(--color-button-secondary-bg-hover) !important;\\n  }\\n}\\n\\n.shorts-mobile-panel__content {\\n  flex: 1;\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n  padding: var(--spacing-m);\\n  max-height: calc(85vh - 80px);\\n  -webkit-overflow-scrolling: touch;\\n  scroll-behavior: smooth;\\n}\\n\\n.shorts-mobile-panel__file-section {\\n  margin-bottom: var(--spacing-l);\\n\\n  .file-page__info {\\n    padding: 0;\\n    background: transparent;\\n    border: none;\\n    box-shadow: none;\\n  }\\n\\n  .file-properties {\\n    margin-top: var(--spacing-s);\\n    padding-top: var(--spacing-s);\\n    border-top: 1px solid var(--color-border);\\n  }\\n}\\n\\n.shorts-mobile-panel__comments-section {\\n  h4 {\\n    margin: 0 0 var(--spacing-m) 0;\\n    color: var(--color-text);\\n    font-size: var(--font-small);\\n    font-weight: var(--font-weight-bold);\\n    text-transform: uppercase;\\n    letter-spacing: 0.5px;\\n    padding-bottom: var(--spacing-xs);\\n    border-bottom: 1px solid var(--color-border);\\n  }\\n\\n  .comments {\\n    max-height: none;\\n\\n    .comment {\\n      border-radius: 8px;\\n      margin-bottom: var(--spacing-s);\\n      padding: var(--spacing-s);\\n      background: var(--color-card-background-highlighted);\\n      border: 1px solid var(--color-border);\\n\\n      &:hover {\\n        background: var(--color-card-background);\\n      }\\n    }\\n  }\\n}\\n\\n.shorts-mobile-panel__loading {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  padding: var(--spacing-l);\\n  color: var(--color-text-subtitle);\\n  font-style: italic;\\n}\\n\\n@media (max-width: 768px) and (orientation: landscape) {\\n  .shorts-mobile-panel__modal {\\n    max-height: 90vh;\\n  }\\n\\n  .shorts-mobile-panel__content {\\n    max-height: calc(90vh - 70px);\\n  }\\n\\n  .shorts-mobile-panel__header {\\n    padding: var(--spacing-xs) var(--spacing-m);\\n  }\\n\\n  .shorts-mobile-panel__drag-handle {\\n    margin-bottom: var(--spacing-xs);\\n  }\\n}\\n\\n@media (min-width: 769px) {\\n  .shorts-mobile-panel {\\n    display: none;\\n  }\\n}\\n\\n@media (prefers-reduced-motion: reduce) {\\n  .shorts-mobile-panel__modal,\\n  .shorts-mobile-panel__modal--closing,\\n  .shorts-mobile-panel__action-button {\\n    animation-duration: 0.15s;\\n    transition-duration: 0.15s;\\n  }\\n\\n  .shorts-mobile-panel__action-button:hover {\\n    transform: none;\\n  }\\n\\n  @keyframes slideUpModal {\\n    from {\\n      transform: translateY(20px);\\n      opacity: 0;\\n    }\\n\\n    to {\\n      transform: translateY(0);\\n      opacity: 1;\\n    }\\n  }\\n\\n  @keyframes slideDownModal {\\n    from {\\n      transform: translateY(0);\\n      opacity: 1;\\n    }\\n\\n    to {\\n      transform: translateY(20px);\\n      opacity: 0;\\n    }\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["props","uri","children","streamClaim","doSetMainPlayerDimension","playerRef","React","node","rect","getBoundingClientRect","ClaimCoverRender","onClick","passedRef","Button","className","iconSize","title","__","perform","withStreamClaimRender","connect","VideoClaimInitiator","ShortsActions","_ref","claimId","myReaction","likeCount","dislikeCount","isLivestreamClaim","doFetchReactions","scheduledState","disableSlimes","doReactionLike","doReactionDislike","hasPlaylist","onNext","onPrevious","isLoading","isAtStart","isAtEnd","autoPlayNextShort","onCommentsClick","doToggleShortsAutoplay","isUnlisted","handleShareClick","fetchReactions","fetchInterval","setInterval","clearInterval","Placeholder","Skeleton","variant","animation","icon","ICONS","disabled","style","Number","isInteger","total","likePercent","fireStop","Math","max","slimeStop","min","concat","REACTION_TYPES","requiresAuth","authSrc","classnames","label","formatNumberWithCommas","doOpenModal","state","claim","selectClaimForUri","claim_id","selectMyReactionForUri","selectLikeCountForUri","selectDislikeCountForUri","selectIsStreamPlaceholderForUri","claimIsMine","selectClaimIsMine","selectScheduledStateForUri","makeSelectTagInClaimOrChannelForUri","DISABLE_SLIMES_ALL_TAG","DISABLE_SLIMES_VIDEO_TAG","selectIsUriUnlisted","webShareable","collectionId","ShortsVideoPlayer","isMobile","sidePanelOpen","onInfoButtonClick","primaryPlayerWrapperClass","nextRecommendedShort","onSwipeNext","onSwipePrevious","enableSwipe","search","useHistory","location","isShortVideo","URLSearchParams","get","cleanupFn","lastVideoElement","attachListener","videoElement","document","querySelector","handleEnded","setTimeout","currentTime","play","error","console","addEventListener","removeEventListener","interval","handlePlaying","timeout","clearTimeout","CommentsList","lazyImport","isOpen","accessStatus","contentUnlocked","commentsDisabled","linkedCommentId","threadCommentId","isComments","onClose","Empty","padded","text","fallback","notInDrawer","FileTitleSection","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","modalRef","_React$useState2","_slicedToArray","isClosing","setIsClosing","handleClose","_document$body","handleEscape","e","key","body","overflow","_document$body2","createPortal","ref","target","current","viewMode","channelName","onViewModeChange","Menu","MenuButton","stopPropagation","Icon","size","MenuList","MenuItem","onSelect","channel","length","substring","onShareClick","IS_WEB","SwipeNavigationPortal","isEnabled","_ref$className","containerSelector","_ref$showViewToggle","showViewToggle","_ref$viewMode","channelUri","hasChannel","setLocalViewMode","doSetShortsViewMode","doSetShortsPlaylist","fetchForMode","scrollLockRef","handleViewModeChange","mode","handlePlayPause","paused","pause","overlayRef","useSwipeNavigation","minSwipeDistance","tapDuration","handleWheel","preventDefault","deltaY","handleKeyDown","overlay","passive","window","targetContainer","MobileActions","Link","to","replace","ChannelThumbnail","xsmall","checkMembership","ViewModeSelector","ViewModeToggle","ownProps","signing_channel","name","canonical_url","permanent_url","ORIGINAL_AUTOPLAY_SETTING","selectShortsRecommendedContent","createSelector","selectShortsPlaylist","selectShortsViewMode","_claim$value","value","searchResults","resultsByQuery","titleEncoded","encodeURIComponent","queryKey","_searchResults$queryK","includes","SETTINGS","uris","channelId","getChannelIdFromClaim","claimSearchByQuery","selectClaimSearchByQuery","searchKey","createNormalizedClaimSearchKey","channel_ids","duration","content_aspect_ratio","order_by","page_size","page","claim_type","has_source","map","shortsPlaylist","relatedUris","channelUris","withRouter","_claim$value2","_claim$signing_channe","_claim$signing_channe2","_claim$value3","_claim$value3$thumbna","_claim$value4","_nextShortClaim$value","_nextShortClaim$value2","_prevShortClaim$value","_prevShortClaim$value2","_claim$signing_channe3","urlParams","commentSettingDisabled","selectCommentsDisabledSettingForChannelId","shortsRecommendedUris","currentIndex","findIndex","shortUri","thumbnail","url","nextShortUri","prevShortUri","nextShortClaim","prevShortClaim","nextThumbnail","previousThumbnail","commentsListTitle","selectCommentsListTitleForUri","isMature","selectClaimIsNsfwForUri","isUriPlaying","selectIsUriCurrentlyPlaying","LINKED_COMMENT_QUERY_PARAM","THREAD_COMMENT_QUERY_PARAM","playingCollectionId","selectPlayingCollectionId","position","selectContentPositionForUri","TAGS","selectNoRestrictionOrUserIsMemberForContentClaimId","isAutoplayCountdownForUri","selectIsAutoplayCountdownForUri","selectShortsSidePanelOpen","previousRecommendedShort","isSearchingRecommendations","selectIsSearching","searchInLanguage","selectClientSetting","disableShortsView","autoplayMedia","isClaimShort","dispatch","clearPosition","_clearPosition","doToggleShortsSidePanel","type","ACTIONS","doSetShortsSidePanel","data","_doSetShortsSidePanel","doFetchShortsRecommendedContent","fypParam","_doFetchShortsRecommendedContent","doFetchChannelShorts","doClaimSearch","doFileGetForUri","_doFileGetForUri","doSetClientSetting","pushPrefs","_doSetClientSetting","_doSetShortsPlaylist","_doSetShortsViewMode","toggleAutoplayNextShort","doSetShortsAutoplay","enabled","_doSetShortsAutoplay","doClearShortsPlaylist","id","modalProps","_doOpenModal","doResolveUri","_doResolveUri","_props$currentIndex","reduxViewMode","isShortFromChannelPage","history","useIsMobile","shortsContainerRef","fypId","FYP_ID","uuid","Uuidv4","_React$useState4","mobileModalOpen","setMobileModalOpen","_React$useState6","localViewMode","_React$useState8","panelMode","setPanelMode","_React$useState10","videoStarted","setVideoStarted","onRecommendationsLoaded","RecSys","onRecommendationClicked","nextPreviewRef","prevPreviewRef","hasInitializedRef","entryUrlRef","isLoadingContent","firstShortPlayedRef","preloadedUrisRef","Set","isSwipeEnabled","hasEnsuredViewParam","setShortViewerWidthFromVideo","_document$querySelect","video","HTMLVideoElement","videoW","videoWidth","videoH","videoHeight","maxHeight","innerHeight","maxWidth","widthVW","innerWidth","clampedVW","requestAnimationFrame","_document$documentEle","_document$documentEle2","documentElement","setProperty","useOnResize","isSwipeInsideSidePanel","clientX","clientY","el","elementFromPoint","closest","gid","MODALS","handleCommentsClick","handleInfoButtonClick","handleClosePanel","nextBatchStart","floor","preloadEndIndex","urisToPreload","i","uriToPreload","has","push","add","forEach","preloadUri","index","clear","img","Image","src","getThumbnailCdnUrl","isShorts","_img","_src","checkVideoPlaying","videoEl","unlisten","listen","action","_history$location","currentSearch","nextSearch","currentParams","nextParams","isCurrentlyInShortsPlayer","isNavigatingToShortsPlayer","isNavigatingToShortsTab","isNavigatingToHome","pathname","_history$location2","_history$location3","currentUrl","currentPath","isInShortsPlayer","isInShortsTab","timeoutId","loop","_document$querySelect2","playlistUris","_toConsumableArray","fromChannel","set","toString","goToNext","player","overlayEl","previewEl","_isMobile","videoRect","videoCenterX","left","width","height","top","bottom","zIndex","backgroundColor","transform","thumbUrl","backgroundImage","String","backgroundSize","backgroundPosition","offsetHeight","transition","videoTranslateY","previewTranslateY","computedStyle","getComputedStyle","currentXpx","DOMMatrix","m41","overlayMatrix","shortsUrl","currentClaimId","nextClaimId","split","pop","newVideoEl","newOverlayEl","removeProperty","cssText","goToPrevious","_isMobile2","handleScroll","container","thumbnailUrl","PRIMARY_PLAYER_WRAPPER_CLASS","totalVideos","onInfoClick","ShortsSidePanel","MobilePanel","PlaylistCard","VideoPlayersPage","fileInfo","videoTheaterMode","audioVideoDuration","isSmallScreen","useIsSmallScreen","isLandscapeRotated","useIsMobileLandscape","initialPlayingCol","colParam","COLLECTIONS_CONSTS","undefined","rightSideProps","videoPlayedEnoughToResetPosition","durationInSecs","metadata","isVideoTooShort","almostFinishedPlaying","VIDEO_ALMOST_FINISHED_THRESHOLD","isNsfwBlocked","useDrawer","RightSideContent","commentsListProps","SwipeableDrawer","DRAWERS","DrawerExpandButton","_extends","RecommendedContent","___CSS_LOADER_EXPORT___","module"],"sourceRoot":""}