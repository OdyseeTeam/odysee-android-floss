(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["comments"],{

/***/ "../ui/component/comment/index.js":
/*!****************************************!*\
  !*** ../ui/component/comment/index.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ \"../node_modules/react-redux/es/index.js\");\n/* harmony import */ var redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! redux/selectors/claims */ \"../ui/redux/selectors/claims.js\");\n/* harmony import */ var redux_actions_comments__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! redux/actions/comments */ \"../ui/redux/actions/comments.js\");\n/* harmony import */ var redux_selectors_blocked__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! redux/selectors/blocked */ \"../ui/redux/selectors/blocked.js\");\n/* harmony import */ var redux_actions_notifications__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! redux/actions/notifications */ \"../ui/redux/actions/notifications.js\");\n/* harmony import */ var redux_actions_content__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! redux/actions/content */ \"../ui/redux/actions/content.js\");\n/* harmony import */ var redux_selectors_comments__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! redux/selectors/comments */ \"../ui/redux/selectors/comments.js\");\n/* harmony import */ var redux_selectors_app__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! redux/selectors/app */ \"../ui/redux/selectors/app.js\");\n/* harmony import */ var redux_selectors_content__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! redux/selectors/content */ \"../ui/redux/selectors/content.js\");\n/* harmony import */ var redux_selectors_user__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! redux/selectors/user */ \"../ui/redux/selectors/user.js\");\n/* harmony import */ var _view__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./view */ \"../ui/component/comment/view.jsx\");\n\n\n\n\n\n\n\n\n\n\n\n\nvar select = function select(state, props) {\n  var comment = props.comment,\n      uri = props.uri;\n\n  var _ref = comment || {},\n      comment_id = _ref.comment_id,\n      channel_url = _ref.channel_url;\n\n  var activeChannelClaim = Object(redux_selectors_app__WEBPACK_IMPORTED_MODULE_7__[\"selectActiveChannelClaim\"])(state);\n  var activeChannelId = activeChannelClaim && activeChannelClaim.claim_id;\n  var reactionKey = activeChannelId ? \"\".concat(comment_id, \":\").concat(activeChannelId) : comment_id;\n  return {\n    myChannelIds: Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__[\"selectMyClaimIdsRaw\"])(state),\n    claim: Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__[\"makeSelectClaimForUri\"])(uri)(state),\n    thumbnail: channel_url && Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__[\"selectThumbnailForUri\"])(state, channel_url),\n    channelIsBlocked: channel_url && Object(redux_selectors_blocked__WEBPACK_IMPORTED_MODULE_3__[\"makeSelectChannelIsMuted\"])(channel_url)(state),\n    commentingEnabled: Boolean(Object(redux_selectors_user__WEBPACK_IMPORTED_MODULE_9__[\"selectUserVerifiedEmail\"])(state)),\n    othersReacts: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_6__[\"selectOthersReactsForComment\"])(state, reactionKey),\n    activeChannelClaim: activeChannelClaim,\n    hasChannels: Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__[\"selectHasChannels\"])(state),\n    playingUri: Object(redux_selectors_content__WEBPACK_IMPORTED_MODULE_8__[\"selectPlayingUri\"])(state),\n    stakedLevel: Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__[\"selectStakedLevelForChannelUri\"])(state, channel_url),\n    linkedCommentAncestors: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_6__[\"selectLinkedCommentAncestors\"])(state),\n    totalReplyPages: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_6__[\"makeSelectTotalReplyPagesForParentId\"])(comment_id)(state),\n    selectOdyseeMembershipForUri: channel_url && Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__[\"selectOdyseeMembershipForUri\"])(state, channel_url)\n  };\n};\n\nvar perform = {\n  doClearPlayingUri: redux_actions_content__WEBPACK_IMPORTED_MODULE_5__[\"doClearPlayingUri\"],\n  updateComment: redux_actions_comments__WEBPACK_IMPORTED_MODULE_2__[\"doCommentUpdate\"],\n  fetchReplies: redux_actions_comments__WEBPACK_IMPORTED_MODULE_2__[\"doCommentList\"],\n  doToast: redux_actions_notifications__WEBPACK_IMPORTED_MODULE_4__[\"doToast\"]\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_0__[\"connect\"])(select, perform)(_view__WEBPACK_IMPORTED_MODULE_10__[\"default\"]));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L2NvbW1lbnQvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vdWkvY29tcG9uZW50L2NvbW1lbnQvaW5kZXguanM/ZTU1OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHtcbiAgc2VsZWN0U3Rha2VkTGV2ZWxGb3JDaGFubmVsVXJpLFxuICBtYWtlU2VsZWN0Q2xhaW1Gb3JVcmksXG4gIHNlbGVjdFRodW1ibmFpbEZvclVyaSxcbiAgc2VsZWN0SGFzQ2hhbm5lbHMsXG4gIHNlbGVjdE15Q2xhaW1JZHNSYXcsXG4gIHNlbGVjdE9keXNlZU1lbWJlcnNoaXBGb3JVcmksXG59IGZyb20gJ3JlZHV4L3NlbGVjdG9ycy9jbGFpbXMnO1xuaW1wb3J0IHsgZG9Db21tZW50VXBkYXRlLCBkb0NvbW1lbnRMaXN0IH0gZnJvbSAncmVkdXgvYWN0aW9ucy9jb21tZW50cyc7XG5pbXBvcnQgeyBtYWtlU2VsZWN0Q2hhbm5lbElzTXV0ZWQgfSBmcm9tICdyZWR1eC9zZWxlY3RvcnMvYmxvY2tlZCc7XG5pbXBvcnQgeyBkb1RvYXN0IH0gZnJvbSAncmVkdXgvYWN0aW9ucy9ub3RpZmljYXRpb25zJztcbmltcG9ydCB7IGRvQ2xlYXJQbGF5aW5nVXJpIH0gZnJvbSAncmVkdXgvYWN0aW9ucy9jb250ZW50JztcbmltcG9ydCB7XG4gIHNlbGVjdExpbmtlZENvbW1lbnRBbmNlc3RvcnMsXG4gIHNlbGVjdE90aGVyc1JlYWN0c0ZvckNvbW1lbnQsXG4gIG1ha2VTZWxlY3RUb3RhbFJlcGx5UGFnZXNGb3JQYXJlbnRJZCxcbn0gZnJvbSAncmVkdXgvc2VsZWN0b3JzL2NvbW1lbnRzJztcbmltcG9ydCB7IHNlbGVjdEFjdGl2ZUNoYW5uZWxDbGFpbSB9IGZyb20gJ3JlZHV4L3NlbGVjdG9ycy9hcHAnO1xuaW1wb3J0IHsgc2VsZWN0UGxheWluZ1VyaSB9IGZyb20gJ3JlZHV4L3NlbGVjdG9ycy9jb250ZW50JztcbmltcG9ydCB7XG4gIHNlbGVjdFVzZXJWZXJpZmllZEVtYWlsLFxufSBmcm9tICdyZWR1eC9zZWxlY3RvcnMvdXNlcic7XG5pbXBvcnQgQ29tbWVudCBmcm9tICcuL3ZpZXcnO1xuXG5jb25zdCBzZWxlY3QgPSAoc3RhdGUsIHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgY29tbWVudCwgdXJpIH0gPSBwcm9wcztcbiAgY29uc3QgeyBjb21tZW50X2lkLCBjaGFubmVsX3VybCB9ID0gY29tbWVudCB8fCB7fTtcblxuICBjb25zdCBhY3RpdmVDaGFubmVsQ2xhaW0gPSBzZWxlY3RBY3RpdmVDaGFubmVsQ2xhaW0oc3RhdGUpO1xuICBjb25zdCBhY3RpdmVDaGFubmVsSWQgPSBhY3RpdmVDaGFubmVsQ2xhaW0gJiYgYWN0aXZlQ2hhbm5lbENsYWltLmNsYWltX2lkO1xuICBjb25zdCByZWFjdGlvbktleSA9IGFjdGl2ZUNoYW5uZWxJZCA/IGAke2NvbW1lbnRfaWR9OiR7YWN0aXZlQ2hhbm5lbElkfWAgOiBjb21tZW50X2lkO1xuXG4gIHJldHVybiB7XG4gICAgbXlDaGFubmVsSWRzOiBzZWxlY3RNeUNsYWltSWRzUmF3KHN0YXRlKSxcbiAgICBjbGFpbTogbWFrZVNlbGVjdENsYWltRm9yVXJpKHVyaSkoc3RhdGUpLFxuICAgIHRodW1ibmFpbDogY2hhbm5lbF91cmwgJiYgc2VsZWN0VGh1bWJuYWlsRm9yVXJpKHN0YXRlLCBjaGFubmVsX3VybCksXG4gICAgY2hhbm5lbElzQmxvY2tlZDogY2hhbm5lbF91cmwgJiYgbWFrZVNlbGVjdENoYW5uZWxJc011dGVkKGNoYW5uZWxfdXJsKShzdGF0ZSksXG4gICAgY29tbWVudGluZ0VuYWJsZWQ6IEJvb2xlYW4oc2VsZWN0VXNlclZlcmlmaWVkRW1haWwoc3RhdGUpKSxcbiAgICBvdGhlcnNSZWFjdHM6IHNlbGVjdE90aGVyc1JlYWN0c0ZvckNvbW1lbnQoc3RhdGUsIHJlYWN0aW9uS2V5KSxcbiAgICBhY3RpdmVDaGFubmVsQ2xhaW0sXG4gICAgaGFzQ2hhbm5lbHM6IHNlbGVjdEhhc0NoYW5uZWxzKHN0YXRlKSxcbiAgICBwbGF5aW5nVXJpOiBzZWxlY3RQbGF5aW5nVXJpKHN0YXRlKSxcbiAgICBzdGFrZWRMZXZlbDogc2VsZWN0U3Rha2VkTGV2ZWxGb3JDaGFubmVsVXJpKHN0YXRlLCBjaGFubmVsX3VybCksXG4gICAgbGlua2VkQ29tbWVudEFuY2VzdG9yczogc2VsZWN0TGlua2VkQ29tbWVudEFuY2VzdG9ycyhzdGF0ZSksXG4gICAgdG90YWxSZXBseVBhZ2VzOiBtYWtlU2VsZWN0VG90YWxSZXBseVBhZ2VzRm9yUGFyZW50SWQoY29tbWVudF9pZCkoc3RhdGUpLFxuICAgIHNlbGVjdE9keXNlZU1lbWJlcnNoaXBGb3JVcmk6IGNoYW5uZWxfdXJsICYmIHNlbGVjdE9keXNlZU1lbWJlcnNoaXBGb3JVcmkoc3RhdGUsIGNoYW5uZWxfdXJsKSxcbiAgfTtcbn07XG5cbmNvbnN0IHBlcmZvcm0gPSB7XG4gIGRvQ2xlYXJQbGF5aW5nVXJpLFxuICB1cGRhdGVDb21tZW50OiBkb0NvbW1lbnRVcGRhdGUsXG4gIGZldGNoUmVwbGllczogZG9Db21tZW50TGlzdCxcbiAgZG9Ub2FzdCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3Qoc2VsZWN0LCBwZXJmb3JtKShDb21tZW50KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFiQTtBQVJBO0FBQ0E7QUF3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBT0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../ui/component/comment/index.js\n");

/***/ }),

/***/ "../ui/component/comment/view.jsx":
/*!****************************************!*\
  !*** ../ui/component/comment/view.jsx ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__) {/* harmony import */ var constants_icons__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! constants/icons */ \"../ui/constants/icons.js\");\n/* harmony import */ var constants_pages__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! constants/pages */ \"../ui/constants/pages.js\");\n/* harmony import */ var constants_pages__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(constants_pages__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var constants_keycodes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! constants/keycodes */ \"../ui/constants/keycodes.js\");\n/* harmony import */ var constants_classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! constants/classnames */ \"../ui/constants/classnames.js\");\n/* harmony import */ var constants_comment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! constants/comment */ \"../ui/constants/comment.js\");\n/* harmony import */ var constants_form_field__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! constants/form-field */ \"../ui/constants/form-field.js\");\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! config */ \"../config.js\");\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(config__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var util_lbryURI__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! util/lbryURI */ \"../ui/util/lbryURI.js\");\n/* harmony import */ var component_dateTime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! component/dateTime */ \"../ui/component/dateTime/index.js\");\n/* harmony import */ var component_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! component/button */ \"../ui/component/button/index.js\");\n/* harmony import */ var component_expandable__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! component/expandable */ \"../ui/component/expandable/index.js\");\n/* harmony import */ var component_common_markdown_preview__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! component/common/markdown-preview */ \"../ui/component/common/markdown-preview.jsx\");\n/* harmony import */ var component_common_comment_badge__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! component/common/comment-badge */ \"../ui/component/common/comment-badge.jsx\");\n/* harmony import */ var component_channelThumbnail__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! component/channelThumbnail */ \"../ui/component/channelThumbnail/index.js\");\n/* harmony import */ var _reach_menu_button__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @reach/menu-button */ \"../node_modules/@reach/menu-button/dist/menu-button.esm.js\");\n/* harmony import */ var component_common_icon__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! component/common/icon */ \"../ui/component/common/icon.jsx\");\n/* harmony import */ var component_common_form__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! component/common/form */ \"../ui/component/common/form.jsx\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! classnames */ \"../node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var effects_use_persisted_state__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! effects/use-persisted-state */ \"../ui/effects/use-persisted-state.js\");\n/* harmony import */ var component_commentReactions__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! component/commentReactions */ \"../ui/component/commentReactions/index.js\");\n/* harmony import */ var component_commentsReplies__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! component/commentsReplies */ \"../ui/component/commentsReplies/index.js\");\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! react-router */ \"../node_modules/react-router/esm/react-router.js\");\n/* harmony import */ var component_commentCreate__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! component/commentCreate */ \"../ui/component/commentCreate/index.js\");\n/* harmony import */ var component_commentMenuList__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! component/commentMenuList */ \"../ui/component/commentMenuList/index.js\");\n/* harmony import */ var component_uriIndicator__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! component/uriIndicator */ \"../ui/component/uriIndicator/index.js\");\n/* harmony import */ var component_common_credit_amount__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! component/common/credit-amount */ \"../ui/component/common/credit-amount.jsx\");\n/* harmony import */ var component_optimizedImage__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! component/optimizedImage */ \"../ui/component/optimizedImage/index.js\");\n/* harmony import */ var util_claim__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! util/claim */ \"../ui/util/claim.js\");\n/* harmony import */ var util_comments__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! util/comments */ \"../ui/util/comments.js\");\n/* harmony import */ var effects_use_screensize__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! effects/use-screensize */ \"../ui/effects/use-screensize.js\");\n/* harmony import */ var component_common_premium_badge__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! component/common/premium-badge */ \"../ui/component/common/premium-badge.jsx\");\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar AUTO_EXPAND_ALL_REPLIES = false;\nvar LENGTH_TO_COLLAPSE = 300;\n\nfunction CommentView(props) {\n  var _classnames;\n\n  var comment = props.comment,\n      myChannelIds = props.myChannelIds,\n      clearPlayingUri = props.clearPlayingUri,\n      claim = props.claim,\n      uri = props.uri,\n      channelIsBlocked = props.channelIsBlocked,\n      updateComment = props.updateComment,\n      fetchReplies = props.fetchReplies,\n      totalReplyPages = props.totalReplyPages,\n      linkedCommentId = props.linkedCommentId,\n      linkedCommentAncestors = props.linkedCommentAncestors,\n      commentingEnabled = props.commentingEnabled,\n      hasChannels = props.hasChannels,\n      doToast = props.doToast,\n      isTopLevel = props.isTopLevel,\n      threadDepth = props.threadDepth,\n      hideActions = props.hideActions,\n      othersReacts = props.othersReacts,\n      playingUri = props.playingUri,\n      stakedLevel = props.stakedLevel,\n      supportDisabled = props.supportDisabled,\n      setQuickReply = props.setQuickReply,\n      quickReply = props.quickReply,\n      selectOdyseeMembershipForUri = props.selectOdyseeMembershipForUri;\n  var authorUri = comment.channel_url,\n      author = comment.channel_name,\n      channelId = comment.channel_id,\n      commentId = comment.comment_id,\n      message = comment.comment,\n      isFiat = comment.is_fiat,\n      isGlobalMod = comment.is_global_mod,\n      isModerator = comment.is_moderator,\n      isPinned = comment.is_pinned,\n      supportAmount = comment.support_amount,\n      numDirectReplies = comment.replies,\n      timestamp = comment.timestamp;\n  var timePosted = timestamp * 1000;\n  var commentIsMine = channelId && myChannelIds && myChannelIds.includes(channelId);\n  var isMobile = Object(effects_use_screensize__WEBPACK_IMPORTED_MODULE_30__[\"useIsMobile\"])();\n\n  var _useHistory = Object(react_router__WEBPACK_IMPORTED_MODULE_22__[\"useHistory\"])(),\n      push = _useHistory.push,\n      replace = _useHistory.replace,\n      _useHistory$location = _useHistory.location,\n      pathname = _useHistory$location.pathname,\n      search = _useHistory$location.search;\n\n  var isLinkedComment = linkedCommentId && linkedCommentId === commentId;\n  var isInLinkedCommentChain = linkedCommentId && linkedCommentAncestors[linkedCommentId] && linkedCommentAncestors[linkedCommentId].includes(commentId);\n  var showRepliesOnMount = isInLinkedCommentChain || AUTO_EXPAND_ALL_REPLIES;\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_7___default.a.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isReplying = _React$useState2[0],\n      setReplying = _React$useState2[1];\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useState\"])(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isEditing = _useState2[0],\n      setEditing = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useState\"])(message),\n      _useState4 = _slicedToArray(_useState3, 2),\n      editedMessage = _useState4[0],\n      setCommentValue = _useState4[1];\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useState\"])(editedMessage.length),\n      _useState6 = _slicedToArray(_useState5, 2),\n      charCount = _useState6[0],\n      setCharCount = _useState6[1];\n\n  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useState\"])(showRepliesOnMount),\n      _useState8 = _slicedToArray(_useState7, 2),\n      showReplies = _useState8[0],\n      setShowReplies = _useState8[1];\n\n  var _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useState\"])(showRepliesOnMount ? 1 : 0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      page = _useState10[0],\n      setPage = _useState10[1];\n\n  var _usePersistedState = Object(effects_use_persisted_state__WEBPACK_IMPORTED_MODULE_19__[\"default\"])('comment-editor-mode', false),\n      _usePersistedState2 = _slicedToArray(_usePersistedState, 1),\n      advancedEditor = _usePersistedState2[0];\n\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_7___default.a.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      displayDeadComment = _React$useState4[0],\n      setDisplayDeadComment = _React$useState4[1];\n\n  var likesCount = othersReacts && othersReacts.like || 0;\n  var dislikesCount = othersReacts && othersReacts.dislike || 0;\n  var totalLikesAndDislikes = likesCount + dislikesCount;\n  var slimedToDeath = totalLikesAndDislikes >= 5 && dislikesCount / totalLikesAndDislikes > 0.8;\n  var contentChannelClaim = Object(util_claim__WEBPACK_IMPORTED_MODULE_28__[\"getChannelFromClaim\"])(claim);\n  var commentByOwnerOfContent = contentChannelClaim && contentChannelClaim.permanent_url === authorUri;\n  var stickerFromMessage = Object(util_comments__WEBPACK_IMPORTED_MODULE_29__[\"parseSticker\"])(message);\n  var channelOwnerOfContent;\n\n  try {\n    var _parseURI = Object(util_lbryURI__WEBPACK_IMPORTED_MODULE_8__[\"parseURI\"])(uri),\n        channelName = _parseURI.channelName;\n\n    if (channelName) {\n      channelOwnerOfContent = channelName;\n    }\n  } catch (e) {}\n\n  Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useEffect\"])(function () {\n    if (isEditing) {\n      setCharCount(editedMessage.length); // a user will try and press the escape key to cancel editing their comment\n\n      var handleEscape = function handleEscape(event) {\n        if (event.keyCode === constants_keycodes__WEBPACK_IMPORTED_MODULE_2__[\"ESCAPE\"]) {\n          setEditing(false);\n        }\n      };\n\n      window.addEventListener('keydown', handleEscape); // removes the listener so it doesn't cause problems elsewhere in the app\n\n      return function () {\n        window.removeEventListener('keydown', handleEscape);\n      };\n    }\n  }, [author, authorUri, editedMessage, isEditing, setEditing]);\n  Object(react__WEBPACK_IMPORTED_MODULE_7__[\"useEffect\"])(function () {\n    if (page > 0) {\n      fetchReplies(uri, commentId, page, constants_comment__WEBPACK_IMPORTED_MODULE_4__[\"COMMENT_PAGE_SIZE_REPLIES\"], constants_comment__WEBPACK_IMPORTED_MODULE_4__[\"SORT_BY\"].OLDEST);\n    }\n  }, [page, uri, commentId, fetchReplies]);\n\n  function handleEditMessageChanged(event) {\n    setCommentValue(!config__WEBPACK_IMPORTED_MODULE_6__[\"SIMPLE_SITE\"] && advancedEditor ? event : event.target.value);\n  }\n\n  function handleEditComment() {\n    if (playingUri.source === 'comment') {\n      clearPlayingUri();\n    }\n\n    setEditing(true);\n  }\n\n  function handleSubmit() {\n    updateComment(commentId, editedMessage);\n    if (setQuickReply) setQuickReply(_objectSpread({}, quickReply, {\n      comment_id: commentId,\n      comment: editedMessage\n    }));\n    setEditing(false);\n  }\n\n  function handleCommentReply() {\n    if (!hasChannels) {\n      push(\"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_1__[\"CHANNEL_NEW\"], \"?redirect=\").concat(pathname));\n      doToast({\n        message: __('A channel is required to comment on %SITE_NAME%', {\n          SITE_NAME: config__WEBPACK_IMPORTED_MODULE_6__[\"SITE_NAME\"]\n        })\n      });\n    } else {\n      setReplying(!isReplying);\n    }\n  }\n\n  function handleTimeClick() {\n    var urlParams = new URLSearchParams(search);\n    urlParams[\"delete\"]('lc');\n    urlParams.append('lc', commentId);\n    replace(\"\".concat(pathname, \"?\").concat(urlParams.toString()));\n  }\n\n  var linkedCommentRef = react__WEBPACK_IMPORTED_MODULE_7___default.a.useCallback(function (node) {\n    if (node !== null && window.pendingLinkedCommentScroll) {\n      var ROUGH_HEADER_HEIGHT = 125; // @see: --header-height\n\n      delete window.pendingLinkedCommentScroll;\n      var mobileChatElem = document.querySelector('.MuiPaper-root .card--enable-overflow');\n      var drawerElem = document.querySelector('.MuiDrawer-root');\n      var elem = isMobile && mobileChatElem || window;\n\n      if (elem) {\n        // $FlowFixMe\n        elem.scrollTo({\n          top: node.getBoundingClientRect().top + ( // $FlowFixMe\n          mobileChatElem && drawerElem ? drawerElem.getBoundingClientRect().top * -1 : elem.scrollY) - ROUGH_HEADER_HEIGHT,\n          left: 0,\n          behavior: 'smooth'\n        });\n      }\n    }\n  }, [isMobile]);\n  return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"li\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_18___default()('comment', {\n      'comment--top-level': isTopLevel,\n      'comment--reply': !isTopLevel,\n      'comment--superchat': supportAmount > 0\n    }),\n    id: commentId\n  }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n    ref: isLinkedComment ? linkedCommentRef : undefined,\n    className: classnames__WEBPACK_IMPORTED_MODULE_18___default()('comment__content', (_classnames = {}, _defineProperty(_classnames, constants_classnames__WEBPACK_IMPORTED_MODULE_3__[\"COMMENT_HIGHLIGHTED\"], isLinkedComment), _defineProperty(_classnames, 'comment--slimed', slimedToDeath && !displayDeadComment), _classnames))\n  }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n    className: \"comment__thumbnail-wrapper\"\n  }, authorUri ? react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_channelThumbnail__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n    uri: authorUri,\n    obscure: channelIsBlocked,\n    xsmall: true,\n    className: \"comment__author-thumbnail\",\n    checkMembership: false\n  }) : react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_channelThumbnail__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n    xsmall: true,\n    className: \"comment__author-thumbnail\",\n    checkMembership: false\n  })), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n    className: \"comment__body-container\"\n  }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n    className: \"comment__meta\"\n  }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n    className: \"comment__meta-information\"\n  }, !author ? react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"span\", {\n    className: \"comment__author\"\n  }, __('Anonymous')) : react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_uriIndicator__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n    className: classnames__WEBPACK_IMPORTED_MODULE_18___default()('comment__author', {\n      'comment__author--creator': commentByOwnerOfContent\n    }),\n    link: true,\n    uri: authorUri,\n    comment: true,\n    showAtSign: true\n  }), isGlobalMod && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_common_comment_badge__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n    label: __('Admin'),\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_0__[\"BADGE_ADMIN\"]\n  }), isModerator && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_common_comment_badge__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n    label: __('Moderator'),\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_0__[\"BADGE_MOD\"]\n  }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_common_premium_badge__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n    membership: selectOdyseeMembershipForUri,\n    linkPage: true\n  }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    className: \"comment__time\",\n    onClick: handleTimeClick,\n    label: react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_dateTime__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n      date: timePosted,\n      timeAgo: true\n    })\n  }), supportAmount > 0 && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_common_credit_amount__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n    isFiat: isFiat,\n    amount: supportAmount,\n    superChatLight: true,\n    size: 12\n  }), isPinned && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"span\", {\n    className: \"comment__pin\"\n  }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_common_icon__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_0__[\"PIN\"],\n    size: 14\n  }), channelOwnerOfContent ? __('Pinned by @%channel%', {\n    channel: channelOwnerOfContent\n  }) : __('Pinned by creator'))), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n    className: \"comment__menu\"\n  }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_reach_menu_button__WEBPACK_IMPORTED_MODULE_15__[\"Menu\"], null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_reach_menu_button__WEBPACK_IMPORTED_MODULE_15__[\"MenuButton\"], {\n    className: \"menu__button\"\n  }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_common_icon__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n    size: 18,\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_0__[\"MORE_VERTICAL\"]\n  })), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_commentMenuList__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n    uri: uri,\n    isTopLevel: isTopLevel,\n    isPinned: isPinned,\n    commentId: commentId,\n    authorUri: authorUri,\n    commentIsMine: commentIsMine,\n    handleEditComment: handleEditComment,\n    supportAmount: supportAmount,\n    setQuickReply: setQuickReply\n  })))), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", null, isEditing ? react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_common_form__WEBPACK_IMPORTED_MODULE_17__[\"Form\"], {\n    onSubmit: handleSubmit\n  }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_common_form__WEBPACK_IMPORTED_MODULE_17__[\"FormField\"], {\n    className: \"comment__edit-input\",\n    type: !config__WEBPACK_IMPORTED_MODULE_6__[\"SIMPLE_SITE\"] && advancedEditor ? 'markdown' : 'textarea',\n    name: \"editing_comment\",\n    value: editedMessage,\n    charCount: charCount,\n    onChange: handleEditMessageChanged,\n    textAreaMaxLength: constants_form_field__WEBPACK_IMPORTED_MODULE_5__[\"FF_MAX_CHARS_IN_COMMENT\"],\n    handleSubmit: handleSubmit\n  }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n    className: \"section__actions section__actions--no-margin\"\n  }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    button: \"primary\",\n    type: \"submit\",\n    label: __('Done'),\n    requiresAuth: true,\n    disabled: message === editedMessage\n  }), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    button: \"link\",\n    label: __('Cancel'),\n    onClick: function onClick() {\n      return setEditing(false);\n    }\n  }))) : react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n    className: \"comment__message\"\n  }, slimedToDeath && !displayDeadComment ? react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n    onClick: function onClick() {\n      return setDisplayDeadComment(true);\n    },\n    className: \"comment__dead\"\n  }, __('This comment was slimed to death.'), \" \", react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_common_icon__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_0__[\"SLIME_ACTIVE\"]\n  })) : stickerFromMessage ? react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n    className: \"sticker__comment\"\n  }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_optimizedImage__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n    src: stickerFromMessage.url,\n    waitLoad: true,\n    loading: \"lazy\"\n  })) : editedMessage.length >= LENGTH_TO_COLLAPSE ? react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_expandable__WEBPACK_IMPORTED_MODULE_11__[\"default\"], null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_common_markdown_preview__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n    content: message,\n    promptLinks: true,\n    parentCommentId: commentId,\n    stakedLevel: stakedLevel,\n    hasMembership: selectOdyseeMembershipForUri\n  })) : react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_common_markdown_preview__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n    content: message,\n    promptLinks: true,\n    parentCommentId: commentId,\n    stakedLevel: stakedLevel,\n    hasMembership: selectOdyseeMembershipForUri\n  })), !hideActions && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n    className: \"comment__actions\"\n  }, threadDepth !== 0 && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    requiresAuth: true,\n    label: commentingEnabled ? __('Reply') : __('Log in to reply'),\n    className: \"comment__action\",\n    onClick: handleCommentReply,\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_0__[\"REPLY\"],\n    iconSize: isMobile && 12\n  }), config__WEBPACK_IMPORTED_MODULE_6__[\"ENABLE_COMMENT_REACTIONS\"] && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_commentReactions__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n    uri: uri,\n    commentId: commentId\n  })), numDirectReplies > 0 && !showReplies && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n    className: \"comment__actions\"\n  }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    label: numDirectReplies < 2 ? __('Show reply') : __('Show %count% replies', {\n      count: numDirectReplies\n    }),\n    button: \"link\",\n    onClick: function onClick() {\n      setShowReplies(true);\n\n      if (page === 0) {\n        setPage(1);\n      }\n    },\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_0__[\"DOWN\"]\n  })), numDirectReplies > 0 && showReplies && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(\"div\", {\n    className: \"comment__actions\"\n  }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    label: __('Hide replies'),\n    button: \"link\",\n    onClick: function onClick() {\n      return setShowReplies(false);\n    },\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_0__[\"UP\"]\n  })), isReplying && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_commentCreate__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n    isReply: true,\n    uri: uri,\n    parentId: commentId,\n    onDoneReplying: function onDoneReplying() {\n      setShowReplies(true);\n      setReplying(false);\n    },\n    onCancelReplying: function onCancelReplying() {\n      setReplying(false);\n    },\n    supportDisabled: supportDisabled\n  }))))), showReplies && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(component_commentsReplies__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n    threadDepth: threadDepth - 1,\n    uri: uri,\n    parentId: commentId,\n    linkedCommentId: linkedCommentId,\n    numDirectReplies: numDirectReplies,\n    onShowMore: function onShowMore() {\n      return setPage(page + 1);\n    },\n    hasMore: page < totalReplyPages\n  }));\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CommentView);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! i18n.js */ \"../ui/i18n.js\")[\"__\"]))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L2NvbW1lbnQvdmlldy5qc3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vdWkvY29tcG9uZW50L2NvbW1lbnQvdmlldy5qc3g/MTRlNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAZmxvd1xuaW1wb3J0ICogYXMgSUNPTlMgZnJvbSAnY29uc3RhbnRzL2ljb25zJztcbmltcG9ydCAqIGFzIFBBR0VTIGZyb20gJ2NvbnN0YW50cy9wYWdlcyc7XG5pbXBvcnQgKiBhcyBLRVlDT0RFUyBmcm9tICdjb25zdGFudHMva2V5Y29kZXMnO1xuaW1wb3J0IHsgQ09NTUVOVF9ISUdITElHSFRFRCB9IGZyb20gJ2NvbnN0YW50cy9jbGFzc25hbWVzJztcbmltcG9ydCB7IFNPUlRfQlksIENPTU1FTlRfUEFHRV9TSVpFX1JFUExJRVMgfSBmcm9tICdjb25zdGFudHMvY29tbWVudCc7XG5pbXBvcnQgeyBGRl9NQVhfQ0hBUlNfSU5fQ09NTUVOVCB9IGZyb20gJ2NvbnN0YW50cy9mb3JtLWZpZWxkJztcbmltcG9ydCB7IFNJVEVfTkFNRSwgU0lNUExFX1NJVEUsIEVOQUJMRV9DT01NRU5UX1JFQUNUSU9OUyB9IGZyb20gJ2NvbmZpZyc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHBhcnNlVVJJIH0gZnJvbSAndXRpbC9sYnJ5VVJJJztcbmltcG9ydCBEYXRlVGltZSBmcm9tICdjb21wb25lbnQvZGF0ZVRpbWUnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdjb21wb25lbnQvYnV0dG9uJztcbmltcG9ydCBFeHBhbmRhYmxlIGZyb20gJ2NvbXBvbmVudC9leHBhbmRhYmxlJztcbmltcG9ydCBNYXJrZG93blByZXZpZXcgZnJvbSAnY29tcG9uZW50L2NvbW1vbi9tYXJrZG93bi1wcmV2aWV3JztcbmltcG9ydCBDb21tZW50QmFkZ2UgZnJvbSAnY29tcG9uZW50L2NvbW1vbi9jb21tZW50LWJhZGdlJztcbmltcG9ydCBDaGFubmVsVGh1bWJuYWlsIGZyb20gJ2NvbXBvbmVudC9jaGFubmVsVGh1bWJuYWlsJztcbmltcG9ydCB7IE1lbnUsIE1lbnVCdXR0b24gfSBmcm9tICdAcmVhY2gvbWVudS1idXR0b24nO1xuaW1wb3J0IEljb24gZnJvbSAnY29tcG9uZW50L2NvbW1vbi9pY29uJztcbmltcG9ydCB7IEZvcm1GaWVsZCwgRm9ybSB9IGZyb20gJ2NvbXBvbmVudC9jb21tb24vZm9ybSc7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB1c2VQZXJzaXN0ZWRTdGF0ZSBmcm9tICdlZmZlY3RzL3VzZS1wZXJzaXN0ZWQtc3RhdGUnO1xuaW1wb3J0IENvbW1lbnRSZWFjdGlvbnMgZnJvbSAnY29tcG9uZW50L2NvbW1lbnRSZWFjdGlvbnMnO1xuaW1wb3J0IENvbW1lbnRzUmVwbGllcyBmcm9tICdjb21wb25lbnQvY29tbWVudHNSZXBsaWVzJztcbmltcG9ydCB7IHVzZUhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuaW1wb3J0IENvbW1lbnRDcmVhdGUgZnJvbSAnY29tcG9uZW50L2NvbW1lbnRDcmVhdGUnO1xuaW1wb3J0IENvbW1lbnRNZW51TGlzdCBmcm9tICdjb21wb25lbnQvY29tbWVudE1lbnVMaXN0JztcbmltcG9ydCBVcmlJbmRpY2F0b3IgZnJvbSAnY29tcG9uZW50L3VyaUluZGljYXRvcic7XG5pbXBvcnQgQ3JlZGl0QW1vdW50IGZyb20gJ2NvbXBvbmVudC9jb21tb24vY3JlZGl0LWFtb3VudCc7XG5pbXBvcnQgT3B0aW1pemVkSW1hZ2UgZnJvbSAnY29tcG9uZW50L29wdGltaXplZEltYWdlJztcbmltcG9ydCB7IGdldENoYW5uZWxGcm9tQ2xhaW0gfSBmcm9tICd1dGlsL2NsYWltJztcbmltcG9ydCB7IHBhcnNlU3RpY2tlciB9IGZyb20gJ3V0aWwvY29tbWVudHMnO1xuaW1wb3J0IHsgdXNlSXNNb2JpbGUgfSBmcm9tICdlZmZlY3RzL3VzZS1zY3JlZW5zaXplJztcbmltcG9ydCBQcmVtaXVtQmFkZ2UgZnJvbSAnY29tcG9uZW50L2NvbW1vbi9wcmVtaXVtLWJhZGdlJztcblxuY29uc3QgQVVUT19FWFBBTkRfQUxMX1JFUExJRVMgPSBmYWxzZTtcblxudHlwZSBQcm9wcyA9IHtcbiAgY29tbWVudDogQ29tbWVudCxcbiAgbXlDaGFubmVsSWRzOiA/QXJyYXk8c3RyaW5nPixcbiAgY2xlYXJQbGF5aW5nVXJpOiAoKSA9PiB2b2lkLFxuICB1cmk6IHN0cmluZyxcbiAgY2xhaW06IFN0cmVhbUNsYWltLFxuICBjaGFubmVsSXNCbG9ja2VkOiBib29sZWFuLCAvLyBpZiB0aGUgY2hhbm5lbCBpcyBibGFja2xpc3RlZCBpbiB0aGUgYXBwXG4gIGNsYWltSXNNaW5lOiBib29sZWFuLCAvLyBpZiB5b3UgY29udHJvbCB0aGUgY2xhaW0gd2hpY2ggdGhpcyBjb21tZW50IHdhcyBwb3N0ZWQgb25cbiAgdXBkYXRlQ29tbWVudDogKHN0cmluZywgc3RyaW5nKSA9PiB2b2lkLFxuICBmZXRjaFJlcGxpZXM6IChzdHJpbmcsIHN0cmluZywgbnVtYmVyLCBudW1iZXIsIG51bWJlcikgPT4gdm9pZCxcbiAgdG90YWxSZXBseVBhZ2VzOiBudW1iZXIsXG4gIGNvbW1lbnRNb2RCbG9jazogKHN0cmluZykgPT4gdm9pZCxcbiAgbGlua2VkQ29tbWVudElkPzogc3RyaW5nLFxuICBsaW5rZWRDb21tZW50QW5jZXN0b3JzOiB7IFtzdHJpbmddOiBBcnJheTxzdHJpbmc+IH0sXG4gIGhhc0NoYW5uZWxzOiBib29sZWFuLFxuICBjb21tZW50aW5nRW5hYmxlZDogYm9vbGVhbixcbiAgZG9Ub2FzdDogKHsgbWVzc2FnZTogc3RyaW5nIH0pID0+IHZvaWQsXG4gIGlzVG9wTGV2ZWw/OiBib29sZWFuLFxuICB0aHJlYWREZXB0aDogbnVtYmVyLFxuICBoaWRlQWN0aW9ucz86IGJvb2xlYW4sXG4gIG90aGVyc1JlYWN0czogP3tcbiAgICBsaWtlOiBudW1iZXIsXG4gICAgZGlzbGlrZTogbnVtYmVyLFxuICB9LFxuICBjb21tZW50SWRlbnRpdHlDaGFubmVsOiBhbnksXG4gIGFjdGl2ZUNoYW5uZWxDbGFpbTogP0NoYW5uZWxDbGFpbSxcbiAgcGxheWluZ1VyaTogUGxheWluZ1VyaSxcbiAgc3Rha2VkTGV2ZWw6IG51bWJlcixcbiAgc3VwcG9ydERpc2FibGVkOiBib29sZWFuLFxuICBzZXRRdWlja1JlcGx5OiAoYW55KSA9PiB2b2lkLFxuICBxdWlja1JlcGx5OiBhbnksXG4gIHNlbGVjdE9keXNlZU1lbWJlcnNoaXBGb3JVcmk6IHN0cmluZyxcbn07XG5cbmNvbnN0IExFTkdUSF9UT19DT0xMQVBTRSA9IDMwMDtcblxuZnVuY3Rpb24gQ29tbWVudFZpZXcocHJvcHM6IFByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBjb21tZW50LFxuICAgIG15Q2hhbm5lbElkcyxcbiAgICBjbGVhclBsYXlpbmdVcmksXG4gICAgY2xhaW0sXG4gICAgdXJpLFxuICAgIGNoYW5uZWxJc0Jsb2NrZWQsXG4gICAgdXBkYXRlQ29tbWVudCxcbiAgICBmZXRjaFJlcGxpZXMsXG4gICAgdG90YWxSZXBseVBhZ2VzLFxuICAgIGxpbmtlZENvbW1lbnRJZCxcbiAgICBsaW5rZWRDb21tZW50QW5jZXN0b3JzLFxuICAgIGNvbW1lbnRpbmdFbmFibGVkLFxuICAgIGhhc0NoYW5uZWxzLFxuICAgIGRvVG9hc3QsXG4gICAgaXNUb3BMZXZlbCxcbiAgICB0aHJlYWREZXB0aCxcbiAgICBoaWRlQWN0aW9ucyxcbiAgICBvdGhlcnNSZWFjdHMsXG4gICAgcGxheWluZ1VyaSxcbiAgICBzdGFrZWRMZXZlbCxcbiAgICBzdXBwb3J0RGlzYWJsZWQsXG4gICAgc2V0UXVpY2tSZXBseSxcbiAgICBxdWlja1JlcGx5LFxuICAgIHNlbGVjdE9keXNlZU1lbWJlcnNoaXBGb3JVcmksXG4gIH0gPSBwcm9wcztcblxuICBjb25zdCB7XG4gICAgY2hhbm5lbF91cmw6IGF1dGhvclVyaSxcbiAgICBjaGFubmVsX25hbWU6IGF1dGhvcixcbiAgICBjaGFubmVsX2lkOiBjaGFubmVsSWQsXG4gICAgY29tbWVudF9pZDogY29tbWVudElkLFxuICAgIGNvbW1lbnQ6IG1lc3NhZ2UsXG4gICAgaXNfZmlhdDogaXNGaWF0LFxuICAgIGlzX2dsb2JhbF9tb2Q6IGlzR2xvYmFsTW9kLFxuICAgIGlzX21vZGVyYXRvcjogaXNNb2RlcmF0b3IsXG4gICAgaXNfcGlubmVkOiBpc1Bpbm5lZCxcbiAgICBzdXBwb3J0X2Ftb3VudDogc3VwcG9ydEFtb3VudCxcbiAgICByZXBsaWVzOiBudW1EaXJlY3RSZXBsaWVzLFxuICAgIHRpbWVzdGFtcCxcbiAgfSA9IGNvbW1lbnQ7XG5cbiAgY29uc3QgdGltZVBvc3RlZCA9IHRpbWVzdGFtcCAqIDEwMDA7XG4gIGNvbnN0IGNvbW1lbnRJc01pbmUgPSBjaGFubmVsSWQgJiYgbXlDaGFubmVsSWRzICYmIG15Q2hhbm5lbElkcy5pbmNsdWRlcyhjaGFubmVsSWQpO1xuXG4gIGNvbnN0IGlzTW9iaWxlID0gdXNlSXNNb2JpbGUoKTtcblxuICBjb25zdCB7XG4gICAgcHVzaCxcbiAgICByZXBsYWNlLFxuICAgIGxvY2F0aW9uOiB7IHBhdGhuYW1lLCBzZWFyY2ggfSxcbiAgfSA9IHVzZUhpc3RvcnkoKTtcblxuICBjb25zdCBpc0xpbmtlZENvbW1lbnQgPSBsaW5rZWRDb21tZW50SWQgJiYgbGlua2VkQ29tbWVudElkID09PSBjb21tZW50SWQ7XG4gIGNvbnN0IGlzSW5MaW5rZWRDb21tZW50Q2hhaW4gPVxuICAgIGxpbmtlZENvbW1lbnRJZCAmJlxuICAgIGxpbmtlZENvbW1lbnRBbmNlc3RvcnNbbGlua2VkQ29tbWVudElkXSAmJlxuICAgIGxpbmtlZENvbW1lbnRBbmNlc3RvcnNbbGlua2VkQ29tbWVudElkXS5pbmNsdWRlcyhjb21tZW50SWQpO1xuICBjb25zdCBzaG93UmVwbGllc09uTW91bnQgPSBpc0luTGlua2VkQ29tbWVudENoYWluIHx8IEFVVE9fRVhQQU5EX0FMTF9SRVBMSUVTO1xuXG4gIGNvbnN0IFtpc1JlcGx5aW5nLCBzZXRSZXBseWluZ10gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0VkaXRpbmcsIHNldEVkaXRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZWRpdGVkTWVzc2FnZSwgc2V0Q29tbWVudFZhbHVlXSA9IHVzZVN0YXRlKG1lc3NhZ2UpO1xuICBjb25zdCBbY2hhckNvdW50LCBzZXRDaGFyQ291bnRdID0gdXNlU3RhdGUoZWRpdGVkTWVzc2FnZS5sZW5ndGgpO1xuICBjb25zdCBbc2hvd1JlcGxpZXMsIHNldFNob3dSZXBsaWVzXSA9IHVzZVN0YXRlKHNob3dSZXBsaWVzT25Nb3VudCk7XG4gIGNvbnN0IFtwYWdlLCBzZXRQYWdlXSA9IHVzZVN0YXRlKHNob3dSZXBsaWVzT25Nb3VudCA/IDEgOiAwKTtcbiAgY29uc3QgW2FkdmFuY2VkRWRpdG9yXSA9IHVzZVBlcnNpc3RlZFN0YXRlKCdjb21tZW50LWVkaXRvci1tb2RlJywgZmFsc2UpO1xuICBjb25zdCBbZGlzcGxheURlYWRDb21tZW50LCBzZXREaXNwbGF5RGVhZENvbW1lbnRdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBsaWtlc0NvdW50ID0gKG90aGVyc1JlYWN0cyAmJiBvdGhlcnNSZWFjdHMubGlrZSkgfHwgMDtcbiAgY29uc3QgZGlzbGlrZXNDb3VudCA9IChvdGhlcnNSZWFjdHMgJiYgb3RoZXJzUmVhY3RzLmRpc2xpa2UpIHx8IDA7XG4gIGNvbnN0IHRvdGFsTGlrZXNBbmREaXNsaWtlcyA9IGxpa2VzQ291bnQgKyBkaXNsaWtlc0NvdW50O1xuICBjb25zdCBzbGltZWRUb0RlYXRoID0gdG90YWxMaWtlc0FuZERpc2xpa2VzID49IDUgJiYgZGlzbGlrZXNDb3VudCAvIHRvdGFsTGlrZXNBbmREaXNsaWtlcyA+IDAuODtcbiAgY29uc3QgY29udGVudENoYW5uZWxDbGFpbSA9IGdldENoYW5uZWxGcm9tQ2xhaW0oY2xhaW0pO1xuICBjb25zdCBjb21tZW50QnlPd25lck9mQ29udGVudCA9IGNvbnRlbnRDaGFubmVsQ2xhaW0gJiYgY29udGVudENoYW5uZWxDbGFpbS5wZXJtYW5lbnRfdXJsID09PSBhdXRob3JVcmk7XG4gIGNvbnN0IHN0aWNrZXJGcm9tTWVzc2FnZSA9IHBhcnNlU3RpY2tlcihtZXNzYWdlKTtcblxuICBsZXQgY2hhbm5lbE93bmVyT2ZDb250ZW50O1xuICB0cnkge1xuICAgIGNvbnN0IHsgY2hhbm5lbE5hbWUgfSA9IHBhcnNlVVJJKHVyaSk7XG4gICAgaWYgKGNoYW5uZWxOYW1lKSB7XG4gICAgICBjaGFubmVsT3duZXJPZkNvbnRlbnQgPSBjaGFubmVsTmFtZTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNFZGl0aW5nKSB7XG4gICAgICBzZXRDaGFyQ291bnQoZWRpdGVkTWVzc2FnZS5sZW5ndGgpO1xuXG4gICAgICAvLyBhIHVzZXIgd2lsbCB0cnkgYW5kIHByZXNzIHRoZSBlc2NhcGUga2V5IHRvIGNhbmNlbCBlZGl0aW5nIHRoZWlyIGNvbW1lbnRcbiAgICAgIGNvbnN0IGhhbmRsZUVzY2FwZSA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gS0VZQ09ERVMuRVNDQVBFKSB7XG4gICAgICAgICAgc2V0RWRpdGluZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlRXNjYXBlKTtcblxuICAgICAgLy8gcmVtb3ZlcyB0aGUgbGlzdGVuZXIgc28gaXQgZG9lc24ndCBjYXVzZSBwcm9ibGVtcyBlbHNld2hlcmUgaW4gdGhlIGFwcFxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVFc2NhcGUpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIFthdXRob3IsIGF1dGhvclVyaSwgZWRpdGVkTWVzc2FnZSwgaXNFZGl0aW5nLCBzZXRFZGl0aW5nXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocGFnZSA+IDApIHtcbiAgICAgIGZldGNoUmVwbGllcyh1cmksIGNvbW1lbnRJZCwgcGFnZSwgQ09NTUVOVF9QQUdFX1NJWkVfUkVQTElFUywgU09SVF9CWS5PTERFU1QpO1xuICAgIH1cbiAgfSwgW3BhZ2UsIHVyaSwgY29tbWVudElkLCBmZXRjaFJlcGxpZXNdKTtcblxuICBmdW5jdGlvbiBoYW5kbGVFZGl0TWVzc2FnZUNoYW5nZWQoZXZlbnQpIHtcbiAgICBzZXRDb21tZW50VmFsdWUoIVNJTVBMRV9TSVRFICYmIGFkdmFuY2VkRWRpdG9yID8gZXZlbnQgOiBldmVudC50YXJnZXQudmFsdWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlRWRpdENvbW1lbnQoKSB7XG4gICAgaWYgKHBsYXlpbmdVcmkuc291cmNlID09PSAnY29tbWVudCcpIHtcbiAgICAgIGNsZWFyUGxheWluZ1VyaSgpO1xuICAgIH1cbiAgICBzZXRFZGl0aW5nKHRydWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlU3VibWl0KCkge1xuICAgIHVwZGF0ZUNvbW1lbnQoY29tbWVudElkLCBlZGl0ZWRNZXNzYWdlKTtcbiAgICBpZiAoc2V0UXVpY2tSZXBseSkgc2V0UXVpY2tSZXBseSh7IC4uLnF1aWNrUmVwbHksIGNvbW1lbnRfaWQ6IGNvbW1lbnRJZCwgY29tbWVudDogZWRpdGVkTWVzc2FnZSB9KTtcbiAgICBzZXRFZGl0aW5nKGZhbHNlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUNvbW1lbnRSZXBseSgpIHtcbiAgICBpZiAoIWhhc0NoYW5uZWxzKSB7XG4gICAgICBwdXNoKGAvJC8ke1BBR0VTLkNIQU5ORUxfTkVXfT9yZWRpcmVjdD0ke3BhdGhuYW1lfWApO1xuICAgICAgZG9Ub2FzdCh7IG1lc3NhZ2U6IF9fKCdBIGNoYW5uZWwgaXMgcmVxdWlyZWQgdG8gY29tbWVudCBvbiAlU0lURV9OQU1FJScsIHsgU0lURV9OQU1FIH0pIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRSZXBseWluZyghaXNSZXBseWluZyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlVGltZUNsaWNrKCkge1xuICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoc2VhcmNoKTtcbiAgICB1cmxQYXJhbXMuZGVsZXRlKCdsYycpO1xuICAgIHVybFBhcmFtcy5hcHBlbmQoJ2xjJywgY29tbWVudElkKTtcbiAgICByZXBsYWNlKGAke3BhdGhuYW1lfT8ke3VybFBhcmFtcy50b1N0cmluZygpfWApO1xuICB9XG5cbiAgY29uc3QgbGlua2VkQ29tbWVudFJlZiA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIChub2RlKSA9PiB7XG4gICAgICBpZiAobm9kZSAhPT0gbnVsbCAmJiB3aW5kb3cucGVuZGluZ0xpbmtlZENvbW1lbnRTY3JvbGwpIHtcbiAgICAgICAgY29uc3QgUk9VR0hfSEVBREVSX0hFSUdIVCA9IDEyNTsgLy8gQHNlZTogLS1oZWFkZXItaGVpZ2h0XG4gICAgICAgIGRlbGV0ZSB3aW5kb3cucGVuZGluZ0xpbmtlZENvbW1lbnRTY3JvbGw7XG5cbiAgICAgICAgY29uc3QgbW9iaWxlQ2hhdEVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuTXVpUGFwZXItcm9vdCAuY2FyZC0tZW5hYmxlLW92ZXJmbG93Jyk7XG4gICAgICAgIGNvbnN0IGRyYXdlckVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuTXVpRHJhd2VyLXJvb3QnKTtcbiAgICAgICAgY29uc3QgZWxlbSA9IChpc01vYmlsZSAmJiBtb2JpbGVDaGF0RWxlbSkgfHwgd2luZG93O1xuXG4gICAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICAgIGVsZW0uc2Nyb2xsVG8oe1xuICAgICAgICAgICAgdG9wOlxuICAgICAgICAgICAgICBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArXG4gICAgICAgICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgICAgICAgKG1vYmlsZUNoYXRFbGVtICYmIGRyYXdlckVsZW0gPyBkcmF3ZXJFbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCAqIC0xIDogZWxlbS5zY3JvbGxZKSAtXG4gICAgICAgICAgICAgIFJPVUdIX0hFQURFUl9IRUlHSFQsXG4gICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBbaXNNb2JpbGVdXG4gICk7XG5cbiAgcmV0dXJuIChcbiAgICA8bGlcbiAgICAgIGNsYXNzTmFtZT17Y2xhc3NuYW1lcygnY29tbWVudCcsIHtcbiAgICAgICAgJ2NvbW1lbnQtLXRvcC1sZXZlbCc6IGlzVG9wTGV2ZWwsXG4gICAgICAgICdjb21tZW50LS1yZXBseSc6ICFpc1RvcExldmVsLFxuICAgICAgICAnY29tbWVudC0tc3VwZXJjaGF0Jzogc3VwcG9ydEFtb3VudCA+IDAsXG4gICAgICB9KX1cbiAgICAgIGlkPXtjb21tZW50SWR9XG4gICAgPlxuICAgICAgPGRpdlxuICAgICAgICByZWY9e2lzTGlua2VkQ29tbWVudCA/IGxpbmtlZENvbW1lbnRSZWYgOiB1bmRlZmluZWR9XG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NuYW1lcygnY29tbWVudF9fY29udGVudCcsIHtcbiAgICAgICAgICBbQ09NTUVOVF9ISUdITElHSFRFRF06IGlzTGlua2VkQ29tbWVudCxcbiAgICAgICAgICAnY29tbWVudC0tc2xpbWVkJzogc2xpbWVkVG9EZWF0aCAmJiAhZGlzcGxheURlYWRDb21tZW50LFxuICAgICAgICB9KX1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb21tZW50X190aHVtYm5haWwtd3JhcHBlclwiPlxuICAgICAgICAgIHthdXRob3JVcmkgPyAoXG4gICAgICAgICAgICA8Q2hhbm5lbFRodW1ibmFpbFxuICAgICAgICAgICAgICB1cmk9e2F1dGhvclVyaX1cbiAgICAgICAgICAgICAgb2JzY3VyZT17Y2hhbm5lbElzQmxvY2tlZH1cbiAgICAgICAgICAgICAgeHNtYWxsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNvbW1lbnRfX2F1dGhvci10aHVtYm5haWxcIlxuICAgICAgICAgICAgICBjaGVja01lbWJlcnNoaXA9e2ZhbHNlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPENoYW5uZWxUaHVtYm5haWwgeHNtYWxsIGNsYXNzTmFtZT1cImNvbW1lbnRfX2F1dGhvci10aHVtYm5haWxcIiBjaGVja01lbWJlcnNoaXA9e2ZhbHNlfSAvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29tbWVudF9fYm9keS1jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbW1lbnRfX21ldGFcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29tbWVudF9fbWV0YS1pbmZvcm1hdGlvblwiPlxuICAgICAgICAgICAgICB7IWF1dGhvciA/IChcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjb21tZW50X19hdXRob3JcIj57X18oJ0Fub255bW91cycpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8VXJpSW5kaWNhdG9yXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzbmFtZXMoJ2NvbW1lbnRfX2F1dGhvcicsIHtcbiAgICAgICAgICAgICAgICAgICAgJ2NvbW1lbnRfX2F1dGhvci0tY3JlYXRvcic6IGNvbW1lbnRCeU93bmVyT2ZDb250ZW50LFxuICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICBsaW5rXG4gICAgICAgICAgICAgICAgICB1cmk9e2F1dGhvclVyaX1cbiAgICAgICAgICAgICAgICAgIGNvbW1lbnRcbiAgICAgICAgICAgICAgICAgIHNob3dBdFNpZ25cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7aXNHbG9iYWxNb2QgJiYgPENvbW1lbnRCYWRnZSBsYWJlbD17X18oJ0FkbWluJyl9IGljb249e0lDT05TLkJBREdFX0FETUlOfSAvPn1cbiAgICAgICAgICAgICAge2lzTW9kZXJhdG9yICYmIDxDb21tZW50QmFkZ2UgbGFiZWw9e19fKCdNb2RlcmF0b3InKX0gaWNvbj17SUNPTlMuQkFER0VfTU9EfSAvPn1cbiAgICAgICAgICAgICAgPFByZW1pdW1CYWRnZSBtZW1iZXJzaGlwPXtzZWxlY3RPZHlzZWVNZW1iZXJzaGlwRm9yVXJpfSBsaW5rUGFnZSAvPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY29tbWVudF9fdGltZVwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlVGltZUNsaWNrfVxuICAgICAgICAgICAgICAgIGxhYmVsPXs8RGF0ZVRpbWUgZGF0ZT17dGltZVBvc3RlZH0gdGltZUFnbyAvPn1cbiAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICB7c3VwcG9ydEFtb3VudCA+IDAgJiYgPENyZWRpdEFtb3VudCBpc0ZpYXQ9e2lzRmlhdH0gYW1vdW50PXtzdXBwb3J0QW1vdW50fSBzdXBlckNoYXRMaWdodCBzaXplPXsxMn0gLz59XG5cbiAgICAgICAgICAgICAge2lzUGlubmVkICYmIChcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjb21tZW50X19waW5cIj5cbiAgICAgICAgICAgICAgICAgIDxJY29uIGljb249e0lDT05TLlBJTn0gc2l6ZT17MTR9IC8+XG4gICAgICAgICAgICAgICAgICB7Y2hhbm5lbE93bmVyT2ZDb250ZW50XG4gICAgICAgICAgICAgICAgICAgID8gX18oJ1Bpbm5lZCBieSBAJWNoYW5uZWwlJywgeyBjaGFubmVsOiBjaGFubmVsT3duZXJPZkNvbnRlbnQgfSlcbiAgICAgICAgICAgICAgICAgICAgOiBfXygnUGlubmVkIGJ5IGNyZWF0b3InKX1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29tbWVudF9fbWVudVwiPlxuICAgICAgICAgICAgICA8TWVudT5cbiAgICAgICAgICAgICAgICA8TWVudUJ1dHRvbiBjbGFzc05hbWU9XCJtZW51X19idXR0b25cIj5cbiAgICAgICAgICAgICAgICAgIDxJY29uIHNpemU9ezE4fSBpY29uPXtJQ09OUy5NT1JFX1ZFUlRJQ0FMfSAvPlxuICAgICAgICAgICAgICAgIDwvTWVudUJ1dHRvbj5cbiAgICAgICAgICAgICAgICA8Q29tbWVudE1lbnVMaXN0XG4gICAgICAgICAgICAgICAgICB1cmk9e3VyaX1cbiAgICAgICAgICAgICAgICAgIGlzVG9wTGV2ZWw9e2lzVG9wTGV2ZWx9XG4gICAgICAgICAgICAgICAgICBpc1Bpbm5lZD17aXNQaW5uZWR9XG4gICAgICAgICAgICAgICAgICBjb21tZW50SWQ9e2NvbW1lbnRJZH1cbiAgICAgICAgICAgICAgICAgIGF1dGhvclVyaT17YXV0aG9yVXJpfVxuICAgICAgICAgICAgICAgICAgY29tbWVudElzTWluZT17Y29tbWVudElzTWluZX1cbiAgICAgICAgICAgICAgICAgIGhhbmRsZUVkaXRDb21tZW50PXtoYW5kbGVFZGl0Q29tbWVudH1cbiAgICAgICAgICAgICAgICAgIHN1cHBvcnRBbW91bnQ9e3N1cHBvcnRBbW91bnR9XG4gICAgICAgICAgICAgICAgICBzZXRRdWlja1JlcGx5PXtzZXRRdWlja1JlcGx5fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvTWVudT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICB7aXNFZGl0aW5nID8gKFxuICAgICAgICAgICAgICA8Rm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0fT5cbiAgICAgICAgICAgICAgICA8Rm9ybUZpZWxkXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjb21tZW50X19lZGl0LWlucHV0XCJcbiAgICAgICAgICAgICAgICAgIHR5cGU9eyFTSU1QTEVfU0lURSAmJiBhZHZhbmNlZEVkaXRvciA/ICdtYXJrZG93bicgOiAndGV4dGFyZWEnfVxuICAgICAgICAgICAgICAgICAgbmFtZT1cImVkaXRpbmdfY29tbWVudFwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17ZWRpdGVkTWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgIGNoYXJDb3VudD17Y2hhckNvdW50fVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUVkaXRNZXNzYWdlQ2hhbmdlZH1cbiAgICAgICAgICAgICAgICAgIHRleHRBcmVhTWF4TGVuZ3RoPXtGRl9NQVhfQ0hBUlNfSU5fQ09NTUVOVH1cbiAgICAgICAgICAgICAgICAgIGhhbmRsZVN1Ym1pdD17aGFuZGxlU3VibWl0fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uX19hY3Rpb25zIHNlY3Rpb25fX2FjdGlvbnMtLW5vLW1hcmdpblwiPlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBidXR0b249XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPXtfXygnRG9uZScpfVxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlc0F1dGg9e0lTX1dFQn1cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e21lc3NhZ2UgPT09IGVkaXRlZE1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBidXR0b249XCJsaW5rXCIgbGFiZWw9e19fKCdDYW5jZWwnKX0gb25DbGljaz17KCkgPT4gc2V0RWRpdGluZyhmYWxzZSl9IC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvRm9ybT5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb21tZW50X19tZXNzYWdlXCI+XG4gICAgICAgICAgICAgICAgICB7c2xpbWVkVG9EZWF0aCAmJiAhZGlzcGxheURlYWRDb21tZW50ID8gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IG9uQ2xpY2s9eygpID0+IHNldERpc3BsYXlEZWFkQ29tbWVudCh0cnVlKX0gY2xhc3NOYW1lPVwiY29tbWVudF9fZGVhZFwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtfXygnVGhpcyBjb21tZW50IHdhcyBzbGltZWQgdG8gZGVhdGguJyl9IDxJY29uIGljb249e0lDT05TLlNMSU1FX0FDVElWRX0gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApIDogc3RpY2tlckZyb21NZXNzYWdlID8gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN0aWNrZXJfX2NvbW1lbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8T3B0aW1pemVkSW1hZ2Ugc3JjPXtzdGlja2VyRnJvbU1lc3NhZ2UudXJsfSB3YWl0TG9hZCBsb2FkaW5nPVwibGF6eVwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSA6IGVkaXRlZE1lc3NhZ2UubGVuZ3RoID49IExFTkdUSF9UT19DT0xMQVBTRSA/IChcbiAgICAgICAgICAgICAgICAgICAgPEV4cGFuZGFibGU+XG4gICAgICAgICAgICAgICAgICAgICAgPE1hcmtkb3duUHJldmlld1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudD17bWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHByb21wdExpbmtzXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRDb21tZW50SWQ9e2NvbW1lbnRJZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWtlZExldmVsPXtzdGFrZWRMZXZlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc01lbWJlcnNoaXA9e3NlbGVjdE9keXNlZU1lbWJlcnNoaXBGb3JVcml9XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9FeHBhbmRhYmxlPlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPE1hcmtkb3duUHJldmlld1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e21lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgcHJvbXB0TGlua3NcbiAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRDb21tZW50SWQ9e2NvbW1lbnRJZH1cbiAgICAgICAgICAgICAgICAgICAgICBzdGFrZWRMZXZlbD17c3Rha2VkTGV2ZWx9XG4gICAgICAgICAgICAgICAgICAgICAgaGFzTWVtYmVyc2hpcD17c2VsZWN0T2R5c2VlTWVtYmVyc2hpcEZvclVyaX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7IWhpZGVBY3Rpb25zICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29tbWVudF9fYWN0aW9uc1wiPlxuICAgICAgICAgICAgICAgICAgICB7dGhyZWFkRGVwdGggIT09IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVzQXV0aD17SVNfV0VCfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e2NvbW1lbnRpbmdFbmFibGVkID8gX18oJ1JlcGx5JykgOiBfXygnTG9nIGluIHRvIHJlcGx5Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjb21tZW50X19hY3Rpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ29tbWVudFJlcGx5fVxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbj17SUNPTlMuUkVQTFl9XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZT17aXNNb2JpbGUgJiYgMTJ9XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAge0VOQUJMRV9DT01NRU5UX1JFQUNUSU9OUyAmJiA8Q29tbWVudFJlYWN0aW9ucyB1cmk9e3VyaX0gY29tbWVudElkPXtjb21tZW50SWR9IC8+fVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgIHtudW1EaXJlY3RSZXBsaWVzID4gMCAmJiAhc2hvd1JlcGxpZXMgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb21tZW50X19hY3Rpb25zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17XG4gICAgICAgICAgICAgICAgICAgICAgICBudW1EaXJlY3RSZXBsaWVzIDwgMlxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IF9fKCdTaG93IHJlcGx5JylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBfXygnU2hvdyAlY291bnQlIHJlcGxpZXMnLCB7IGNvdW50OiBudW1EaXJlY3RSZXBsaWVzIH0pXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbj1cImxpbmtcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dSZXBsaWVzKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2UgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFnZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIGljb249e0lDT05TLkRPV059XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAge251bURpcmVjdFJlcGxpZXMgPiAwICYmIHNob3dSZXBsaWVzICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29tbWVudF9fYWN0aW9uc1wiPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e19fKCdIaWRlIHJlcGxpZXMnKX1cbiAgICAgICAgICAgICAgICAgICAgICBidXR0b249XCJsaW5rXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93UmVwbGllcyhmYWxzZSl9XG4gICAgICAgICAgICAgICAgICAgICAgaWNvbj17SUNPTlMuVVB9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAge2lzUmVwbHlpbmcgJiYgKFxuICAgICAgICAgICAgICAgICAgPENvbW1lbnRDcmVhdGVcbiAgICAgICAgICAgICAgICAgICAgaXNSZXBseVxuICAgICAgICAgICAgICAgICAgICB1cmk9e3VyaX1cbiAgICAgICAgICAgICAgICAgICAgcGFyZW50SWQ9e2NvbW1lbnRJZH1cbiAgICAgICAgICAgICAgICAgICAgb25Eb25lUmVwbHlpbmc9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRTaG93UmVwbGllcyh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRSZXBseWluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsUmVwbHlpbmc9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRSZXBseWluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHN1cHBvcnREaXNhYmxlZD17c3VwcG9ydERpc2FibGVkfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHtzaG93UmVwbGllcyAmJiAoXG4gICAgICAgIDxDb21tZW50c1JlcGxpZXNcbiAgICAgICAgICB0aHJlYWREZXB0aD17dGhyZWFkRGVwdGggLSAxfVxuICAgICAgICAgIHVyaT17dXJpfVxuICAgICAgICAgIHBhcmVudElkPXtjb21tZW50SWR9XG4gICAgICAgICAgbGlua2VkQ29tbWVudElkPXtsaW5rZWRDb21tZW50SWR9XG4gICAgICAgICAgbnVtRGlyZWN0UmVwbGllcz17bnVtRGlyZWN0UmVwbGllc31cbiAgICAgICAgICBvblNob3dNb3JlPXsoKSA9PiBzZXRQYWdlKHBhZ2UgKyAxKX1cbiAgICAgICAgICBoYXNNb3JlPXtwYWdlIDwgdG90YWxSZXBseVBhZ2VzfVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICA8L2xpPlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBDb21tZW50VmlldztcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFvQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQTJDQTtBQUNBO0FBRUE7QUFDQTtBQS9DQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQXFEQTtBQUNBO0FBSUE7QUFDQTtBQTVEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFvRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQURBO0FBR0E7QUFqQkE7QUFvQkE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBUEE7QUFTQTtBQUNBO0FBdEJBO0FBMkJBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBTkE7QUFTQTtBQUNBO0FBRkE7QUFPQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBUUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBR0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUhBO0FBTUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBS0E7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQWdCQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU9BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUdBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQVdBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVNBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFFQTtBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQVhBO0FBYUE7QUFiQTtBQW1CQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFIQTtBQUlBO0FBSkE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVFBO0FBQ0E7QUFUQTtBQVdBO0FBWEE7QUFzQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFOQTtBQU9BO0FBUEE7QUFZQTtBQUNBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../ui/component/comment/view.jsx\n");

/***/ }),

/***/ "../ui/component/commentReactions/index.js":
/*!*************************************************!*\
  !*** ../ui/component/commentReactions/index.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ \"../node_modules/react-redux/es/index.js\");\n/* harmony import */ var _view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./view */ \"../ui/component/commentReactions/view.jsx\");\n/* harmony import */ var redux_selectors_claims__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! redux/selectors/claims */ \"../ui/redux/selectors/claims.js\");\n/* harmony import */ var redux_actions_claims__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! redux/actions/claims */ \"../ui/redux/actions/claims.js\");\n/* harmony import */ var redux_actions_notifications__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! redux/actions/notifications */ \"../ui/redux/actions/notifications.js\");\n/* harmony import */ var redux_selectors_comments__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! redux/selectors/comments */ \"../ui/redux/selectors/comments.js\");\n/* harmony import */ var redux_actions_comments__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! redux/actions/comments */ \"../ui/redux/actions/comments.js\");\n/* harmony import */ var redux_selectors_app__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! redux/selectors/app */ \"../ui/redux/selectors/app.js\");\n\n\n\n\n\n\n\n\n\nvar select = function select(state, props) {\n  var activeChannelClaim = Object(redux_selectors_app__WEBPACK_IMPORTED_MODULE_7__[\"selectActiveChannelClaim\"])(state);\n  var activeChannelId = activeChannelClaim && activeChannelClaim.claim_id;\n  var reactionKey = activeChannelId ? \"\".concat(props.commentId, \":\").concat(activeChannelId) : props.commentId;\n  var claim = Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_2__[\"selectClaimForUri\"])(state, props.uri);\n  return {\n    claim: claim,\n    claimIsMine: Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_2__[\"selectClaimIsMine\"])(state, claim),\n    myReacts: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_5__[\"selectMyReactsForComment\"])(state, reactionKey),\n    othersReacts: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_5__[\"selectOthersReactsForComment\"])(state, reactionKey),\n    activeChannelId: activeChannelId\n  };\n};\n\nvar perform = function perform(dispatch) {\n  return {\n    resolve: function resolve(uri) {\n      return dispatch(Object(redux_actions_claims__WEBPACK_IMPORTED_MODULE_3__[\"doResolveUri\"])(uri));\n    },\n    react: function react(commentId, type) {\n      return dispatch(Object(redux_actions_comments__WEBPACK_IMPORTED_MODULE_6__[\"doCommentReact\"])(commentId, type));\n    },\n    doToast: function doToast(params) {\n      return dispatch(Object(redux_actions_notifications__WEBPACK_IMPORTED_MODULE_4__[\"doToast\"])(params));\n    }\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_0__[\"connect\"])(select, perform)(_view__WEBPACK_IMPORTED_MODULE_1__[\"default\"]));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L2NvbW1lbnRSZWFjdGlvbnMvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vdWkvY29tcG9uZW50L2NvbW1lbnRSZWFjdGlvbnMvaW5kZXguanM/NWYyNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IENvbW1lbnQgZnJvbSAnLi92aWV3JztcbmltcG9ydCB7IHNlbGVjdENsYWltSXNNaW5lLCBzZWxlY3RDbGFpbUZvclVyaSB9IGZyb20gJ3JlZHV4L3NlbGVjdG9ycy9jbGFpbXMnO1xuaW1wb3J0IHsgZG9SZXNvbHZlVXJpIH0gZnJvbSAncmVkdXgvYWN0aW9ucy9jbGFpbXMnO1xuaW1wb3J0IHsgZG9Ub2FzdCB9IGZyb20gJ3JlZHV4L2FjdGlvbnMvbm90aWZpY2F0aW9ucyc7XG5pbXBvcnQgeyBzZWxlY3RNeVJlYWN0c0ZvckNvbW1lbnQsIHNlbGVjdE90aGVyc1JlYWN0c0ZvckNvbW1lbnQgfSBmcm9tICdyZWR1eC9zZWxlY3RvcnMvY29tbWVudHMnO1xuaW1wb3J0IHsgZG9Db21tZW50UmVhY3QgfSBmcm9tICdyZWR1eC9hY3Rpb25zL2NvbW1lbnRzJztcbmltcG9ydCB7IHNlbGVjdEFjdGl2ZUNoYW5uZWxDbGFpbSB9IGZyb20gJ3JlZHV4L3NlbGVjdG9ycy9hcHAnO1xuXG5jb25zdCBzZWxlY3QgPSAoc3RhdGUsIHByb3BzKSA9PiB7XG4gIGNvbnN0IGFjdGl2ZUNoYW5uZWxDbGFpbSA9IHNlbGVjdEFjdGl2ZUNoYW5uZWxDbGFpbShzdGF0ZSk7XG4gIGNvbnN0IGFjdGl2ZUNoYW5uZWxJZCA9IGFjdGl2ZUNoYW5uZWxDbGFpbSAmJiBhY3RpdmVDaGFubmVsQ2xhaW0uY2xhaW1faWQ7XG4gIGNvbnN0IHJlYWN0aW9uS2V5ID0gYWN0aXZlQ2hhbm5lbElkID8gYCR7cHJvcHMuY29tbWVudElkfToke2FjdGl2ZUNoYW5uZWxJZH1gIDogcHJvcHMuY29tbWVudElkO1xuICBjb25zdCBjbGFpbSA9IHNlbGVjdENsYWltRm9yVXJpKHN0YXRlLCBwcm9wcy51cmkpO1xuXG4gIHJldHVybiB7XG4gICAgY2xhaW0sXG4gICAgY2xhaW1Jc01pbmU6IHNlbGVjdENsYWltSXNNaW5lKHN0YXRlLCBjbGFpbSksXG4gICAgbXlSZWFjdHM6IHNlbGVjdE15UmVhY3RzRm9yQ29tbWVudChzdGF0ZSwgcmVhY3Rpb25LZXkpLFxuICAgIG90aGVyc1JlYWN0czogc2VsZWN0T3RoZXJzUmVhY3RzRm9yQ29tbWVudChzdGF0ZSwgcmVhY3Rpb25LZXkpLFxuICAgIGFjdGl2ZUNoYW5uZWxJZCxcbiAgfTtcbn07XG5cbmNvbnN0IHBlcmZvcm0gPSAoZGlzcGF0Y2gpID0+ICh7XG4gIHJlc29sdmU6ICh1cmkpID0+IGRpc3BhdGNoKGRvUmVzb2x2ZVVyaSh1cmkpKSxcbiAgcmVhY3Q6IChjb21tZW50SWQsIHR5cGUpID0+IGRpc3BhdGNoKGRvQ29tbWVudFJlYWN0KGNvbW1lbnRJZCwgdHlwZSkpLFxuICBkb1RvYXN0OiAocGFyYW1zKSA9PiBkaXNwYXRjaChkb1RvYXN0KHBhcmFtcykpLFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3Qoc2VsZWN0LCBwZXJmb3JtKShDb21tZW50KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBTkE7QUFDQTtBQWNBO0FBQUE7QUFDQTtBQUFBO0FBREE7QUFFQTtBQUFBO0FBRkE7QUFHQTtBQUFBO0FBQUE7QUFIQTtBQUFBO0FBQ0E7QUFLQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../ui/component/commentReactions/index.js\n");

/***/ }),

/***/ "../ui/component/commentReactions/view.jsx":
/*!*************************************************!*\
  !*** ../ui/component/commentReactions/view.jsx ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CommentReactions; });\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! config */ \"../config.js\");\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(config__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var constants_icons__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! constants/icons */ \"../ui/constants/icons.js\");\n/* harmony import */ var constants_pages__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! constants/pages */ \"../ui/constants/pages.js\");\n/* harmony import */ var constants_pages__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(constants_pages__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var constants_reactions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! constants/reactions */ \"../ui/constants/reactions.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! classnames */ \"../node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var component_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! component/button */ \"../ui/component/button/index.js\");\n/* harmony import */ var component_channelThumbnail__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! component/channelThumbnail */ \"../ui/component/channelThumbnail/index.js\");\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-router */ \"../node_modules/react-router/esm/react-router.js\");\n/* harmony import */ var effects_use_screensize__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! effects/use-screensize */ \"../ui/effects/use-screensize.js\");\n\n\n\n\n\n\n\n\n\n\nfunction CommentReactions(props) {\n  var myReacts = props.myReacts,\n      othersReacts = props.othersReacts,\n      commentId = props.commentId,\n      react = props.react,\n      claimIsMine = props.claimIsMine,\n      uri = props.uri,\n      claim = props.claim,\n      activeChannelId = props.activeChannelId,\n      doToast = props.doToast,\n      hideCreatorLike = props.hideCreatorLike,\n      resolve = props.resolve;\n\n  var _useHistory = Object(react_router__WEBPACK_IMPORTED_MODULE_8__[\"useHistory\"])(),\n      push = _useHistory.push,\n      pathname = _useHistory.location.pathname;\n\n  var isMobile = Object(effects_use_screensize__WEBPACK_IMPORTED_MODULE_9__[\"useIsMobile\"])();\n  react__WEBPACK_IMPORTED_MODULE_4___default.a.useEffect(function () {\n    if (!claim) {\n      resolve(uri);\n    }\n  }, [claim, resolve, uri]);\n  var canCreatorReact = claim && claimIsMine && (claim.value_type === 'channel' ? claim.claim_id === activeChannelId : claim.signing_channel && claim.signing_channel.claim_id === activeChannelId);\n  var authorUri = claim && claim.value_type === 'channel' ? claim.canonical_url : claim && claim.signing_channel && claim.signing_channel.canonical_url;\n\n  var getCountForReact = function getCountForReact(type) {\n    var count = 0;\n\n    if (othersReacts && othersReacts[type]) {\n      count += othersReacts[type];\n    }\n\n    if (myReacts && myReacts.includes(type)) {\n      count += 1;\n    }\n\n    return count;\n  };\n\n  var shouldHide = !canCreatorReact && hideCreatorLike;\n  var creatorLiked = getCountForReact(constants_reactions__WEBPACK_IMPORTED_MODULE_3__[\"CREATOR_LIKE\"]) > 0;\n  var likeIcon = config__WEBPACK_IMPORTED_MODULE_0__[\"SIMPLE_SITE\"] ? myReacts && myReacts.includes(constants_reactions__WEBPACK_IMPORTED_MODULE_3__[\"LIKE\"]) ? constants_icons__WEBPACK_IMPORTED_MODULE_1__[\"FIRE_ACTIVE\"] : constants_icons__WEBPACK_IMPORTED_MODULE_1__[\"FIRE\"] : constants_icons__WEBPACK_IMPORTED_MODULE_1__[\"UPVOTE\"];\n  var dislikeIcon = config__WEBPACK_IMPORTED_MODULE_0__[\"SIMPLE_SITE\"] ? myReacts && myReacts.includes(constants_reactions__WEBPACK_IMPORTED_MODULE_3__[\"DISLIKE\"]) ? constants_icons__WEBPACK_IMPORTED_MODULE_1__[\"SLIME_ACTIVE\"] : constants_icons__WEBPACK_IMPORTED_MODULE_1__[\"SLIME\"] : constants_icons__WEBPACK_IMPORTED_MODULE_1__[\"DOWNVOTE\"];\n\n  function handleCommentLike() {\n    if (activeChannelId) {\n      react(commentId, constants_reactions__WEBPACK_IMPORTED_MODULE_3__[\"LIKE\"]);\n    } else {\n      promptForChannel();\n    }\n  }\n\n  function handleCommentDislike() {\n    if (activeChannelId) {\n      react(commentId, constants_reactions__WEBPACK_IMPORTED_MODULE_3__[\"DISLIKE\"]);\n    } else {\n      promptForChannel();\n    }\n  }\n\n  function promptForChannel() {\n    push(\"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"CHANNEL_NEW\"], \"?redirect=\").concat(pathname, \"&lc=\").concat(commentId));\n    doToast({\n      message: __('A channel is required to throw fire and slime')\n    });\n  }\n\n  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    requiresAuth: true,\n    title: __('Upvote'),\n    icon: likeIcon,\n    iconSize: isMobile && 12,\n    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()('comment__action button-like', {\n      'comment__action--active': myReacts && myReacts.includes(constants_reactions__WEBPACK_IMPORTED_MODULE_3__[\"LIKE\"])\n    }),\n    onClick: handleCommentLike,\n    label: react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"span\", {\n      className: \"comment__reaction-count\"\n    }, getCountForReact(constants_reactions__WEBPACK_IMPORTED_MODULE_3__[\"LIKE\"]))\n  }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    requiresAuth: true,\n    title: __('Downvote'),\n    icon: dislikeIcon,\n    iconSize: isMobile && 12,\n    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()('comment__action button-dislike', {\n      'comment__action--active': myReacts && myReacts.includes(constants_reactions__WEBPACK_IMPORTED_MODULE_3__[\"DISLIKE\"])\n    }),\n    onClick: handleCommentDislike,\n    label: react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"span\", {\n      className: \"comment__reaction-count\"\n    }, getCountForReact(constants_reactions__WEBPACK_IMPORTED_MODULE_3__[\"DISLIKE\"]))\n  }), !shouldHide && config__WEBPACK_IMPORTED_MODULE_0__[\"ENABLE_CREATOR_REACTIONS\"] && (canCreatorReact || creatorLiked) && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    disabled: !canCreatorReact || !claimIsMine,\n    requiresAuth: true,\n    title: claimIsMine ? __('You loved this') : __('Creator loved this'),\n    icon: creatorLiked ? constants_icons__WEBPACK_IMPORTED_MODULE_1__[\"CREATOR_LIKE\"] : constants_icons__WEBPACK_IMPORTED_MODULE_1__[\"SUBSCRIBE\"],\n    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()('comment__action comment__action--creator-like'),\n    onClick: function onClick() {\n      return react(commentId, constants_reactions__WEBPACK_IMPORTED_MODULE_3__[\"CREATOR_LIKE\"]);\n    }\n  }, creatorLiked && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(component_channelThumbnail__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    xsmall: true,\n    uri: authorUri,\n    hideStakedIndicator: true,\n    className: \"comment__creator-like\",\n    allowGifs: true\n  })));\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! i18n.js */ \"../ui/i18n.js\")[\"__\"]))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L2NvbW1lbnRSZWFjdGlvbnMvdmlldy5qc3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vdWkvY29tcG9uZW50L2NvbW1lbnRSZWFjdGlvbnMvdmlldy5qc3g/YjE5OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAZmxvd1xuaW1wb3J0IHsgRU5BQkxFX0NSRUFUT1JfUkVBQ1RJT05TLCBTSU1QTEVfU0lURSB9IGZyb20gJ2NvbmZpZyc7XG5pbXBvcnQgKiBhcyBJQ09OUyBmcm9tICdjb25zdGFudHMvaWNvbnMnO1xuaW1wb3J0ICogYXMgUEFHRVMgZnJvbSAnY29uc3RhbnRzL3BhZ2VzJztcbmltcG9ydCAqIGFzIFJFQUNUSU9OX1RZUEVTIGZyb20gJ2NvbnN0YW50cy9yZWFjdGlvbnMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdjb21wb25lbnQvYnV0dG9uJztcbmltcG9ydCBDaGFubmVsVGh1bWJuYWlsIGZyb20gJ2NvbXBvbmVudC9jaGFubmVsVGh1bWJuYWlsJztcbmltcG9ydCB7IHVzZUhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuaW1wb3J0IHsgdXNlSXNNb2JpbGUgfSBmcm9tICdlZmZlY3RzL3VzZS1zY3JlZW5zaXplJztcblxudHlwZSBQcm9wcyA9IHtcbiAgbXlSZWFjdHM6IEFycmF5PHN0cmluZz4sXG4gIG90aGVyc1JlYWN0czogYW55LFxuICByZWFjdDogKHN0cmluZywgc3RyaW5nKSA9PiB2b2lkLFxuICBjb21tZW50SWQ6IHN0cmluZyxcbiAgcGVuZGluZ0NvbW1lbnRSZWFjdHM6IEFycmF5PHN0cmluZz4sXG4gIGNsYWltSXNNaW5lOiBib29sZWFuLFxuICBhY3RpdmVDaGFubmVsSWQ6ID9zdHJpbmcsXG4gIHVyaTogc3RyaW5nLFxuICBjbGFpbTogP0NoYW5uZWxDbGFpbSxcbiAgZG9Ub2FzdDogKHsgbWVzc2FnZTogc3RyaW5nIH0pID0+IHZvaWQsXG4gIGhpZGVDcmVhdG9yTGlrZTogYm9vbGVhbixcbiAgcmVzb2x2ZTogKHN0cmluZykgPT4gdm9pZCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbW1lbnRSZWFjdGlvbnMocHJvcHM6IFByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBteVJlYWN0cyxcbiAgICBvdGhlcnNSZWFjdHMsXG4gICAgY29tbWVudElkLFxuICAgIHJlYWN0LFxuICAgIGNsYWltSXNNaW5lLFxuICAgIHVyaSxcbiAgICBjbGFpbSxcbiAgICBhY3RpdmVDaGFubmVsSWQsXG4gICAgZG9Ub2FzdCxcbiAgICBoaWRlQ3JlYXRvckxpa2UsXG4gICAgcmVzb2x2ZSxcbiAgfSA9IHByb3BzO1xuICBjb25zdCB7XG4gICAgcHVzaCxcbiAgICBsb2NhdGlvbjogeyBwYXRobmFtZSB9LFxuICB9ID0gdXNlSGlzdG9yeSgpO1xuXG4gIGNvbnN0IGlzTW9iaWxlID0gdXNlSXNNb2JpbGUoKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghY2xhaW0pIHtcbiAgICAgIHJlc29sdmUodXJpKTtcbiAgICB9XG4gIH0sIFtjbGFpbSwgcmVzb2x2ZSwgdXJpXSk7XG5cbiAgY29uc3QgY2FuQ3JlYXRvclJlYWN0ID1cbiAgICBjbGFpbSAmJlxuICAgIGNsYWltSXNNaW5lICYmXG4gICAgKGNsYWltLnZhbHVlX3R5cGUgPT09ICdjaGFubmVsJ1xuICAgICAgPyBjbGFpbS5jbGFpbV9pZCA9PT0gYWN0aXZlQ2hhbm5lbElkXG4gICAgICA6IGNsYWltLnNpZ25pbmdfY2hhbm5lbCAmJiBjbGFpbS5zaWduaW5nX2NoYW5uZWwuY2xhaW1faWQgPT09IGFjdGl2ZUNoYW5uZWxJZCk7XG4gIGNvbnN0IGF1dGhvclVyaSA9XG4gICAgY2xhaW0gJiYgY2xhaW0udmFsdWVfdHlwZSA9PT0gJ2NoYW5uZWwnXG4gICAgICA/IGNsYWltLmNhbm9uaWNhbF91cmxcbiAgICAgIDogY2xhaW0gJiYgY2xhaW0uc2lnbmluZ19jaGFubmVsICYmIGNsYWltLnNpZ25pbmdfY2hhbm5lbC5jYW5vbmljYWxfdXJsO1xuXG4gIGNvbnN0IGdldENvdW50Rm9yUmVhY3QgPSAodHlwZSkgPT4ge1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgaWYgKG90aGVyc1JlYWN0cyAmJiBvdGhlcnNSZWFjdHNbdHlwZV0pIHtcbiAgICAgIGNvdW50ICs9IG90aGVyc1JlYWN0c1t0eXBlXTtcbiAgICB9XG4gICAgaWYgKG15UmVhY3RzICYmIG15UmVhY3RzLmluY2x1ZGVzKHR5cGUpKSB7XG4gICAgICBjb3VudCArPSAxO1xuICAgIH1cbiAgICByZXR1cm4gY291bnQ7XG4gIH07XG4gIGNvbnN0IHNob3VsZEhpZGUgPSAhY2FuQ3JlYXRvclJlYWN0ICYmIGhpZGVDcmVhdG9yTGlrZTtcbiAgY29uc3QgY3JlYXRvckxpa2VkID0gZ2V0Q291bnRGb3JSZWFjdChSRUFDVElPTl9UWVBFUy5DUkVBVE9SX0xJS0UpID4gMDtcbiAgY29uc3QgbGlrZUljb24gPSBTSU1QTEVfU0lURVxuICAgID8gbXlSZWFjdHMgJiYgbXlSZWFjdHMuaW5jbHVkZXMoUkVBQ1RJT05fVFlQRVMuTElLRSlcbiAgICAgID8gSUNPTlMuRklSRV9BQ1RJVkVcbiAgICAgIDogSUNPTlMuRklSRVxuICAgIDogSUNPTlMuVVBWT1RFO1xuICBjb25zdCBkaXNsaWtlSWNvbiA9IFNJTVBMRV9TSVRFXG4gICAgPyBteVJlYWN0cyAmJiBteVJlYWN0cy5pbmNsdWRlcyhSRUFDVElPTl9UWVBFUy5ESVNMSUtFKVxuICAgICAgPyBJQ09OUy5TTElNRV9BQ1RJVkVcbiAgICAgIDogSUNPTlMuU0xJTUVcbiAgICA6IElDT05TLkRPV05WT1RFO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZUNvbW1lbnRMaWtlKCkge1xuICAgIGlmIChhY3RpdmVDaGFubmVsSWQpIHtcbiAgICAgIHJlYWN0KGNvbW1lbnRJZCwgUkVBQ1RJT05fVFlQRVMuTElLRSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb21wdEZvckNoYW5uZWwoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVDb21tZW50RGlzbGlrZSgpIHtcbiAgICBpZiAoYWN0aXZlQ2hhbm5lbElkKSB7XG4gICAgICByZWFjdChjb21tZW50SWQsIFJFQUNUSU9OX1RZUEVTLkRJU0xJS0UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9tcHRGb3JDaGFubmVsKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcHJvbXB0Rm9yQ2hhbm5lbCgpIHtcbiAgICBwdXNoKGAvJC8ke1BBR0VTLkNIQU5ORUxfTkVXfT9yZWRpcmVjdD0ke3BhdGhuYW1lfSZsYz0ke2NvbW1lbnRJZH1gKTtcbiAgICBkb1RvYXN0KHsgbWVzc2FnZTogX18oJ0EgY2hhbm5lbCBpcyByZXF1aXJlZCB0byB0aHJvdyBmaXJlIGFuZCBzbGltZScpIH0pO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPEJ1dHRvblxuICAgICAgICByZXF1aXJlc0F1dGg9e0lTX1dFQn1cbiAgICAgICAgdGl0bGU9e19fKCdVcHZvdGUnKX1cbiAgICAgICAgaWNvbj17bGlrZUljb259XG4gICAgICAgIGljb25TaXplPXtpc01vYmlsZSAmJiAxMn1cbiAgICAgICAgY2xhc3NOYW1lPXtjbGFzc25hbWVzKCdjb21tZW50X19hY3Rpb24gYnV0dG9uLWxpa2UnLCB7XG4gICAgICAgICAgJ2NvbW1lbnRfX2FjdGlvbi0tYWN0aXZlJzogbXlSZWFjdHMgJiYgbXlSZWFjdHMuaW5jbHVkZXMoUkVBQ1RJT05fVFlQRVMuTElLRSksXG4gICAgICAgIH0pfVxuICAgICAgICBvbkNsaWNrPXtoYW5kbGVDb21tZW50TGlrZX1cbiAgICAgICAgbGFiZWw9ezxzcGFuIGNsYXNzTmFtZT1cImNvbW1lbnRfX3JlYWN0aW9uLWNvdW50XCI+e2dldENvdW50Rm9yUmVhY3QoUkVBQ1RJT05fVFlQRVMuTElLRSl9PC9zcGFuPn1cbiAgICAgIC8+XG4gICAgICA8QnV0dG9uXG4gICAgICAgIHJlcXVpcmVzQXV0aD17SVNfV0VCfVxuICAgICAgICB0aXRsZT17X18oJ0Rvd252b3RlJyl9XG4gICAgICAgIGljb249e2Rpc2xpa2VJY29ufVxuICAgICAgICBpY29uU2l6ZT17aXNNb2JpbGUgJiYgMTJ9XG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NuYW1lcygnY29tbWVudF9fYWN0aW9uIGJ1dHRvbi1kaXNsaWtlJywge1xuICAgICAgICAgICdjb21tZW50X19hY3Rpb24tLWFjdGl2ZSc6IG15UmVhY3RzICYmIG15UmVhY3RzLmluY2x1ZGVzKFJFQUNUSU9OX1RZUEVTLkRJU0xJS0UpLFxuICAgICAgICB9KX1cbiAgICAgICAgb25DbGljaz17aGFuZGxlQ29tbWVudERpc2xpa2V9XG4gICAgICAgIGxhYmVsPXs8c3BhbiBjbGFzc05hbWU9XCJjb21tZW50X19yZWFjdGlvbi1jb3VudFwiPntnZXRDb3VudEZvclJlYWN0KFJFQUNUSU9OX1RZUEVTLkRJU0xJS0UpfTwvc3Bhbj59XG4gICAgICAvPlxuXG4gICAgICB7IXNob3VsZEhpZGUgJiYgRU5BQkxFX0NSRUFUT1JfUkVBQ1RJT05TICYmIChjYW5DcmVhdG9yUmVhY3QgfHwgY3JlYXRvckxpa2VkKSAmJiAoXG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICBkaXNhYmxlZD17IWNhbkNyZWF0b3JSZWFjdCB8fCAhY2xhaW1Jc01pbmV9XG4gICAgICAgICAgcmVxdWlyZXNBdXRoPXtJU19XRUJ9XG4gICAgICAgICAgdGl0bGU9e2NsYWltSXNNaW5lID8gX18oJ1lvdSBsb3ZlZCB0aGlzJykgOiBfXygnQ3JlYXRvciBsb3ZlZCB0aGlzJyl9XG4gICAgICAgICAgaWNvbj17Y3JlYXRvckxpa2VkID8gSUNPTlMuQ1JFQVRPUl9MSUtFIDogSUNPTlMuU1VCU0NSSUJFfVxuICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NuYW1lcygnY29tbWVudF9fYWN0aW9uIGNvbW1lbnRfX2FjdGlvbi0tY3JlYXRvci1saWtlJyl9XG4gICAgICAgICAgb25DbGljaz17KCkgPT4gcmVhY3QoY29tbWVudElkLCBSRUFDVElPTl9UWVBFUy5DUkVBVE9SX0xJS0UpfVxuICAgICAgICA+XG4gICAgICAgICAge2NyZWF0b3JMaWtlZCAmJiAoXG4gICAgICAgICAgICA8Q2hhbm5lbFRodW1ibmFpbCB4c21hbGwgdXJpPXthdXRob3JVcml9IGhpZGVTdGFrZWRJbmRpY2F0b3IgY2xhc3NOYW1lPVwiY29tbWVudF9fY3JlYXRvci1saWtlXCIgYWxsb3dHaWZzIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICApfVxuICAgIDwvPlxuICApO1xufVxuIl0sIm1hcHBpbmdzIjoiQUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBaUJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFrQkE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFNQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBUkE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBVEE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBVEE7QUFjQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBTkE7QUFTQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFNQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../ui/component/commentReactions/view.jsx\n");

/***/ }),

/***/ "../ui/component/commentsList/index.js":
/*!*********************************************!*\
  !*** ../ui/component/commentsList/index.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ \"../node_modules/react-redux/es/index.js\");\n/* harmony import */ var redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! redux/selectors/claims */ \"../ui/redux/selectors/claims.js\");\n/* harmony import */ var redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! redux/selectors/comments */ \"../ui/redux/selectors/comments.js\");\n/* harmony import */ var redux_actions_comments__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! redux/actions/comments */ \"../ui/redux/actions/comments.js\");\n/* harmony import */ var redux_selectors_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! redux/selectors/app */ \"../ui/redux/selectors/app.js\");\n/* harmony import */ var util_claim__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! util/claim */ \"../ui/util/claim.js\");\n/* harmony import */ var redux_actions_user__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! redux/actions/user */ \"../ui/redux/actions/user.js\");\n/* harmony import */ var _view__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./view */ \"../ui/component/commentsList/view.jsx\");\n\n\n\n\n\n\n\n\n\nvar select = function select(state, props) {\n  var uri = props.uri;\n  var claim = Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__[\"selectClaimForUri\"])(state, uri);\n  var activeChannelClaim = Object(redux_selectors_app__WEBPACK_IMPORTED_MODULE_4__[\"selectActiveChannelClaim\"])(state);\n  return {\n    topLevelComments: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"selectTopLevelCommentsForUri\"])(state, uri),\n    allCommentIds: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"selectCommentIdsForUri\"])(state, uri),\n    pinnedComments: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"selectPinnedCommentsForUri\"])(state, uri),\n    topLevelTotalPages: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"makeSelectTopLevelTotalPagesForUri\"])(uri)(state),\n    totalComments: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"selectTotalCommentsCountForUri\"])(state, uri),\n    claimId: claim && claim.claim_id,\n    channelId: Object(util_claim__WEBPACK_IMPORTED_MODULE_5__[\"getChannelIdFromClaim\"])(claim),\n    claimIsMine: Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__[\"selectClaimIsMine\"])(state, claim),\n    isFetchingComments: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"selectIsFetchingComments\"])(state),\n    isFetchingCommentsById: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"selectIsFetchingCommentsById\"])(state),\n    isFetchingReacts: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"selectIsFetchingReacts\"])(state),\n    fetchingChannels: Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__[\"selectFetchingMyChannels\"])(state),\n    settingsByChannelId: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"selectSettingsByChannelId\"])(state),\n    myReactsByCommentId: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"selectMyReacts\"])(state),\n    othersReactsById: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"selectOthersReacts\"])(state),\n    activeChannelId: activeChannelClaim && activeChannelClaim.claim_id,\n    claimsByUri: Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__[\"selectClaimsByUri\"])(state)\n  };\n};\n\nvar perform = {\n  fetchTopLevelComments: redux_actions_comments__WEBPACK_IMPORTED_MODULE_3__[\"doCommentList\"],\n  fetchComment: redux_actions_comments__WEBPACK_IMPORTED_MODULE_3__[\"doCommentById\"],\n  fetchReacts: redux_actions_comments__WEBPACK_IMPORTED_MODULE_3__[\"doCommentReactList\"],\n  resetComments: redux_actions_comments__WEBPACK_IMPORTED_MODULE_3__[\"doCommentReset\"],\n  doFetchUserMemberships: redux_actions_user__WEBPACK_IMPORTED_MODULE_6__[\"doFetchUserMemberships\"]\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_0__[\"connect\"])(select, perform)(_view__WEBPACK_IMPORTED_MODULE_7__[\"default\"]));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L2NvbW1lbnRzTGlzdC9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi91aS9jb21wb25lbnQvY29tbWVudHNMaXN0L2luZGV4LmpzPzRkN2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7XG4gIHNlbGVjdENsYWltRm9yVXJpLFxuICBzZWxlY3RDbGFpbUlzTWluZSxcbiAgc2VsZWN0RmV0Y2hpbmdNeUNoYW5uZWxzLFxuICBzZWxlY3RDbGFpbXNCeVVyaSxcbn0gZnJvbSAncmVkdXgvc2VsZWN0b3JzL2NsYWltcyc7XG5pbXBvcnQge1xuICBzZWxlY3RUb3BMZXZlbENvbW1lbnRzRm9yVXJpLFxuICBtYWtlU2VsZWN0VG9wTGV2ZWxUb3RhbFBhZ2VzRm9yVXJpLFxuICBzZWxlY3RJc0ZldGNoaW5nQ29tbWVudHMsXG4gIHNlbGVjdElzRmV0Y2hpbmdDb21tZW50c0J5SWQsXG4gIHNlbGVjdElzRmV0Y2hpbmdSZWFjdHMsXG4gIHNlbGVjdFRvdGFsQ29tbWVudHNDb3VudEZvclVyaSxcbiAgc2VsZWN0T3RoZXJzUmVhY3RzLFxuICBzZWxlY3RNeVJlYWN0cyxcbiAgc2VsZWN0Q29tbWVudElkc0ZvclVyaSxcbiAgc2VsZWN0U2V0dGluZ3NCeUNoYW5uZWxJZCxcbiAgc2VsZWN0UGlubmVkQ29tbWVudHNGb3JVcmksXG59IGZyb20gJ3JlZHV4L3NlbGVjdG9ycy9jb21tZW50cyc7XG5pbXBvcnQgeyBkb0NvbW1lbnRSZXNldCwgZG9Db21tZW50TGlzdCwgZG9Db21tZW50QnlJZCwgZG9Db21tZW50UmVhY3RMaXN0IH0gZnJvbSAncmVkdXgvYWN0aW9ucy9jb21tZW50cyc7XG5pbXBvcnQgeyBzZWxlY3RBY3RpdmVDaGFubmVsQ2xhaW0gfSBmcm9tICdyZWR1eC9zZWxlY3RvcnMvYXBwJztcbmltcG9ydCB7IGdldENoYW5uZWxJZEZyb21DbGFpbSB9IGZyb20gJ3V0aWwvY2xhaW0nO1xuaW1wb3J0IHsgZG9GZXRjaFVzZXJNZW1iZXJzaGlwcyB9IGZyb20gJ3JlZHV4L2FjdGlvbnMvdXNlcic7XG5pbXBvcnQgQ29tbWVudHNMaXN0IGZyb20gJy4vdmlldyc7XG5cbmNvbnN0IHNlbGVjdCA9IChzdGF0ZSwgcHJvcHMpID0+IHtcbiAgY29uc3QgeyB1cmkgfSA9IHByb3BzO1xuXG4gIGNvbnN0IGNsYWltID0gc2VsZWN0Q2xhaW1Gb3JVcmkoc3RhdGUsIHVyaSk7XG4gIGNvbnN0IGFjdGl2ZUNoYW5uZWxDbGFpbSA9IHNlbGVjdEFjdGl2ZUNoYW5uZWxDbGFpbShzdGF0ZSk7XG5cbiAgcmV0dXJuIHtcbiAgICB0b3BMZXZlbENvbW1lbnRzOiBzZWxlY3RUb3BMZXZlbENvbW1lbnRzRm9yVXJpKHN0YXRlLCB1cmkpLFxuICAgIGFsbENvbW1lbnRJZHM6IHNlbGVjdENvbW1lbnRJZHNGb3JVcmkoc3RhdGUsIHVyaSksXG4gICAgcGlubmVkQ29tbWVudHM6IHNlbGVjdFBpbm5lZENvbW1lbnRzRm9yVXJpKHN0YXRlLCB1cmkpLFxuICAgIHRvcExldmVsVG90YWxQYWdlczogbWFrZVNlbGVjdFRvcExldmVsVG90YWxQYWdlc0ZvclVyaSh1cmkpKHN0YXRlKSxcbiAgICB0b3RhbENvbW1lbnRzOiBzZWxlY3RUb3RhbENvbW1lbnRzQ291bnRGb3JVcmkoc3RhdGUsIHVyaSksXG4gICAgY2xhaW1JZDogY2xhaW0gJiYgY2xhaW0uY2xhaW1faWQsXG4gICAgY2hhbm5lbElkOiBnZXRDaGFubmVsSWRGcm9tQ2xhaW0oY2xhaW0pLFxuICAgIGNsYWltSXNNaW5lOiBzZWxlY3RDbGFpbUlzTWluZShzdGF0ZSwgY2xhaW0pLFxuICAgIGlzRmV0Y2hpbmdDb21tZW50czogc2VsZWN0SXNGZXRjaGluZ0NvbW1lbnRzKHN0YXRlKSxcbiAgICBpc0ZldGNoaW5nQ29tbWVudHNCeUlkOiBzZWxlY3RJc0ZldGNoaW5nQ29tbWVudHNCeUlkKHN0YXRlKSxcbiAgICBpc0ZldGNoaW5nUmVhY3RzOiBzZWxlY3RJc0ZldGNoaW5nUmVhY3RzKHN0YXRlKSxcbiAgICBmZXRjaGluZ0NoYW5uZWxzOiBzZWxlY3RGZXRjaGluZ015Q2hhbm5lbHMoc3RhdGUpLFxuICAgIHNldHRpbmdzQnlDaGFubmVsSWQ6IHNlbGVjdFNldHRpbmdzQnlDaGFubmVsSWQoc3RhdGUpLFxuICAgIG15UmVhY3RzQnlDb21tZW50SWQ6IHNlbGVjdE15UmVhY3RzKHN0YXRlKSxcbiAgICBvdGhlcnNSZWFjdHNCeUlkOiBzZWxlY3RPdGhlcnNSZWFjdHMoc3RhdGUpLFxuICAgIGFjdGl2ZUNoYW5uZWxJZDogYWN0aXZlQ2hhbm5lbENsYWltICYmIGFjdGl2ZUNoYW5uZWxDbGFpbS5jbGFpbV9pZCxcbiAgICBjbGFpbXNCeVVyaTogc2VsZWN0Q2xhaW1zQnlVcmkoc3RhdGUpLFxuICB9O1xufTtcblxuY29uc3QgcGVyZm9ybSA9IHtcbiAgZmV0Y2hUb3BMZXZlbENvbW1lbnRzOiBkb0NvbW1lbnRMaXN0LFxuICBmZXRjaENvbW1lbnQ6IGRvQ29tbWVudEJ5SWQsXG4gIGZldGNoUmVhY3RzOiBkb0NvbW1lbnRSZWFjdExpc3QsXG4gIHJlc2V0Q29tbWVudHM6IGRvQ29tbWVudFJlc2V0LFxuICBkb0ZldGNoVXNlck1lbWJlcnNoaXBzLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChzZWxlY3QsIHBlcmZvcm0pKENvbW1lbnRzTGlzdCk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFNQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBakJBO0FBTkE7QUFDQTtBQTBCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQVFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../ui/component/commentsList/index.js\n");

/***/ }),

/***/ "../ui/component/commentsList/view.jsx":
/*!*********************************************!*\
  !*** ../ui/component/commentsList/view.jsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CommentList; });\n/* harmony import */ var constants_comment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! constants/comment */ \"../ui/constants/comment.js\");\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! config */ \"../config.js\");\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(config__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var effects_use_screensize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effects/use-screensize */ \"../ui/effects/use-screensize.js\");\n/* harmony import */ var util_comments__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! util/comments */ \"../ui/util/comments.js\");\n/* harmony import */ var constants_icons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! constants/icons */ \"../ui/constants/icons.js\");\n/* harmony import */ var constants_reactions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! constants/reactions */ \"../ui/constants/reactions.js\");\n/* harmony import */ var component_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! component/button */ \"../ui/component/button/index.js\");\n/* harmony import */ var component_common_card__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! component/common/card */ \"../ui/component/common/card.jsx\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! classnames */ \"../node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var component_commentCreate__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! component/commentCreate */ \"../ui/component/commentCreate/index.js\");\n/* harmony import */ var component_comment__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! component/comment */ \"../ui/component/comment/index.js\");\n/* harmony import */ var util_debounce__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! util/debounce */ \"../ui/util/debounce.js\");\n/* harmony import */ var component_common_empty__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! component/common/empty */ \"../ui/component/common/empty.jsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var component_spinner__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! component/spinner */ \"../ui/component/spinner/index.js\");\n/* harmony import */ var effects_use_persisted_state__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! effects/use-persisted-state */ \"../ui/effects/use-persisted-state.js\");\n/* harmony import */ var effects_use_get_user_memberships__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! effects/use-get-user-memberships */ \"../ui/effects/use-get-user-memberships.js\");\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar DEBOUNCE_SCROLL_HANDLER_MS = 200;\n\nfunction scaleToDevicePixelRatio(value) {\n  var devicePixelRatio = window.devicePixelRatio || 1.0;\n\n  if (devicePixelRatio < 1.0) {\n    return Math.ceil(value / devicePixelRatio);\n  }\n\n  return Math.ceil(value * devicePixelRatio);\n}\n\nfunction CommentList(props) {\n  var allCommentIds = props.allCommentIds,\n      uri = props.uri,\n      pinnedComments = props.pinnedComments,\n      topLevelComments = props.topLevelComments,\n      topLevelTotalPages = props.topLevelTotalPages,\n      claimId = props.claimId,\n      channelId = props.channelId,\n      claimIsMine = props.claimIsMine,\n      isFetchingComments = props.isFetchingComments,\n      isFetchingReacts = props.isFetchingReacts,\n      linkedCommentId = props.linkedCommentId,\n      totalComments = props.totalComments,\n      fetchingChannels = props.fetchingChannels,\n      myReactsByCommentId = props.myReactsByCommentId,\n      othersReactsById = props.othersReactsById,\n      activeChannelId = props.activeChannelId,\n      settingsByChannelId = props.settingsByChannelId,\n      commentsAreExpanded = props.commentsAreExpanded,\n      fetchTopLevelComments = props.fetchTopLevelComments,\n      fetchComment = props.fetchComment,\n      fetchReacts = props.fetchReacts,\n      resetComments = props.resetComments,\n      claimsByUri = props.claimsByUri,\n      doFetchUserMemberships = props.doFetchUserMemberships;\n  var isMobile = Object(effects_use_screensize__WEBPACK_IMPORTED_MODULE_2__[\"useIsMobile\"])();\n  var isMediumScreen = Object(effects_use_screensize__WEBPACK_IMPORTED_MODULE_2__[\"useIsMediumScreen\"])();\n  var spinnerRef = react__WEBPACK_IMPORTED_MODULE_13___default.a.useRef();\n  var commentListRef = react__WEBPACK_IMPORTED_MODULE_13___default.a.useRef();\n  var DEFAULT_SORT = config__WEBPACK_IMPORTED_MODULE_1__[\"ENABLE_COMMENT_REACTIONS\"] ? constants_comment__WEBPACK_IMPORTED_MODULE_0__[\"SORT_BY\"].POPULARITY : constants_comment__WEBPACK_IMPORTED_MODULE_0__[\"SORT_BY\"].NEWEST;\n\n  var _usePersistedState = Object(effects_use_persisted_state__WEBPACK_IMPORTED_MODULE_15__[\"default\"])('comment-sort-by', DEFAULT_SORT),\n      _usePersistedState2 = _slicedToArray(_usePersistedState, 2),\n      sort = _usePersistedState2[0],\n      setSort = _usePersistedState2[1];\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_13___default.a.useState(1),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      page = _React$useState2[0],\n      setPage = _React$useState2[1];\n\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_13___default.a.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      didInitialPageFetch = _React$useState4[0],\n      setInitialPageFetch = _React$useState4[1];\n\n  var hasDefaultExpansion = commentsAreExpanded || !isMediumScreen || isMobile;\n\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_13___default.a.useState(hasDefaultExpansion),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      expandedComments = _React$useState6[0],\n      setExpandedComments = _React$useState6[1];\n\n  var totalFetchedComments = allCommentIds ? allCommentIds.length : 0;\n  var channelSettings = channelId ? settingsByChannelId[channelId] : undefined;\n  var moreBelow = page < topLevelTotalPages;\n  var title = Object(util_comments__WEBPACK_IMPORTED_MODULE_3__[\"getCommentsListTitle\"])(totalComments); // Display comments immediately if not fetching reactions\n  // If not, wait to show comments until reactions are fetched\n\n  var _React$useState7 = react__WEBPACK_IMPORTED_MODULE_13___default.a.useState(Boolean(othersReactsById) || !config__WEBPACK_IMPORTED_MODULE_1__[\"ENABLE_COMMENT_REACTIONS\"]),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      readyToDisplayComments = _React$useState8[0],\n      setReadyToDisplayComments = _React$useState8[1]; // get commenter claim ids for checking premium status\n\n\n  var commenterClaimIds = topLevelComments.map(function (comment) {\n    return comment.channel_id;\n  }); // update premium status\n\n  var shouldFetchUserMemberships = true;\n  Object(effects_use_get_user_memberships__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(shouldFetchUserMemberships, commenterClaimIds, claimsByUri, doFetchUserMemberships, [topLevelComments], true);\n  var handleReset = react__WEBPACK_IMPORTED_MODULE_13___default.a.useCallback(function () {\n    if (claimId) resetComments(claimId);\n    setPage(1);\n  }, [claimId, resetComments]);\n\n  function changeSort(newSort) {\n    if (sort !== newSort) {\n      setSort(newSort);\n      setPage(0); // Invalidate existing comments\n    }\n  } // Force comments reset\n\n\n  Object(react__WEBPACK_IMPORTED_MODULE_13__[\"useEffect\"])(function () {\n    if (page === 0) {\n      handleReset();\n    }\n  }, [handleReset, page]); // Reset comments only on claim switch\n\n  Object(react__WEBPACK_IMPORTED_MODULE_13__[\"useEffect\"])(function () {\n    return function () {\n      return handleReset();\n    };\n  }, [handleReset]); // Fetch top-level comments\n\n  Object(react__WEBPACK_IMPORTED_MODULE_13__[\"useEffect\"])(function () {\n    if (page !== 0) {\n      if (page === 1 && linkedCommentId) {\n        fetchComment(linkedCommentId);\n      }\n\n      fetchTopLevelComments(uri, undefined, page, constants_comment__WEBPACK_IMPORTED_MODULE_0__[\"COMMENT_PAGE_SIZE_TOP_LEVEL\"], sort);\n    } // no need to listen for uri change, claimId change will trigger page which\n    // will handle this\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [fetchComment, fetchTopLevelComments, linkedCommentId, page, sort]); // Fetch reacts\n\n  Object(react__WEBPACK_IMPORTED_MODULE_13__[\"useEffect\"])(function () {\n    if (totalFetchedComments > 0 && config__WEBPACK_IMPORTED_MODULE_1__[\"ENABLE_COMMENT_REACTIONS\"] && !fetchingChannels && !isFetchingReacts) {\n      var idsForReactionFetch;\n\n      if (!othersReactsById || !myReactsByCommentId) {\n        idsForReactionFetch = allCommentIds;\n      } else {\n        idsForReactionFetch = allCommentIds.filter(function (commentId) {\n          var key = activeChannelId ? \"\".concat(commentId, \":\").concat(activeChannelId) : commentId;\n          return !othersReactsById[key] || activeChannelId && !myReactsByCommentId[key];\n        });\n      }\n\n      if (idsForReactionFetch.length !== 0) {\n        fetchReacts(idsForReactionFetch).then(function () {\n          setReadyToDisplayComments(true);\n        })[\"catch\"](function () {\n          return setReadyToDisplayComments(true);\n        });\n      }\n    }\n  }, [activeChannelId, allCommentIds, fetchReacts, fetchingChannels, isFetchingReacts, myReactsByCommentId, othersReactsById, totalFetchedComments]); // Scroll to linked-comment\n\n  Object(react__WEBPACK_IMPORTED_MODULE_13__[\"useEffect\"])(function () {\n    if (linkedCommentId) {\n      window.pendingLinkedCommentScroll = true;\n    } else {\n      delete window.pendingLinkedCommentScroll;\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []); // Infinite scroll\n\n  Object(react__WEBPACK_IMPORTED_MODULE_13__[\"useEffect\"])(function () {\n    if (topLevelComments.length === 0) return;\n\n    function shouldFetchNextPage(page, topLevelTotalPages) {\n      var yPrefetchPx = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1000;\n      if (!spinnerRef || !spinnerRef.current) return false;\n      var rect = spinnerRef.current.getBoundingClientRect(); // $FlowFixMe\n\n      var windowH = window.innerHeight || document.documentElement.clientHeight; // $FlowFixMe\n\n      var windowW = window.innerWidth || document.documentElement.clientWidth; // $FlowFixMe\n\n      var isApproachingViewport = yPrefetchPx !== 0 && rect.top < windowH + scaleToDevicePixelRatio(yPrefetchPx);\n      var isInViewport = rect.width > 0 && rect.height > 0 && rect.bottom >= 0 && rect.right >= 0 && // $FlowFixMe\n      rect.top <= windowH && // $FlowFixMe\n      rect.left <= windowW;\n      return (isInViewport || isApproachingViewport) && page < topLevelTotalPages;\n    }\n\n    var handleCommentScroll = Object(util_debounce__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(function () {\n      if (shouldFetchNextPage(page, topLevelTotalPages)) {\n        setPage(page + 1);\n        setInitialPageFetch(true);\n      }\n    }, DEBOUNCE_SCROLL_HANDLER_MS);\n\n    if (!didInitialPageFetch) {\n      handleCommentScroll();\n      setInitialPageFetch(true);\n    }\n\n    if (hasDefaultExpansion && !isFetchingComments && readyToDisplayComments && moreBelow) {\n      var commentsInDrawer = Boolean(document.querySelector('.MuiDrawer-root .card--enable-overflow'));\n      var scrollingElement = commentsInDrawer ? document.querySelector('.card--enable-overflow') : window;\n\n      if (scrollingElement) {\n        scrollingElement.addEventListener('scroll', handleCommentScroll);\n        return function () {\n          return scrollingElement.removeEventListener('scroll', handleCommentScroll);\n        };\n      }\n    }\n  }, [topLevelComments, hasDefaultExpansion, didInitialPageFetch, isFetchingComments, isMobile, moreBelow, page, readyToDisplayComments, topLevelTotalPages]);\n  var commentProps = {\n    isTopLevel: true,\n    threadDepth: 3,\n    uri: uri,\n    claimIsMine: claimIsMine,\n    linkedCommentId: linkedCommentId\n  };\n  var actionButtonsProps = {\n    totalComments: totalComments,\n    sort: sort,\n    changeSort: changeSort,\n    setPage: setPage,\n    handleRefresh: function handleRefresh() {\n      return setPage(0);\n    }\n  };\n  return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(component_common_card__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    className: \"card--enable-overflow\",\n    title: !isMobile && title,\n    titleActions: react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(CommentActionButtons, actionButtonsProps),\n    actions: react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_13___default.a.Fragment, null, isMobile && react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(CommentActionButtons, actionButtonsProps), react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(component_commentCreate__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n      uri: uri\n    }), channelSettings && channelSettings.comments_enabled && !isFetchingComments && !totalComments && react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(component_common_empty__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n      padded: true,\n      text: __('That was pretty deep. What do you think?')\n    }), react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(\"ul\", {\n      ref: commentListRef,\n      className: classnames__WEBPACK_IMPORTED_MODULE_8___default()('comments', {\n        'comments--contracted': isMediumScreen && !expandedComments && totalComments > 1\n      })\n    }, readyToDisplayComments && react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_13___default.a.Fragment, null, pinnedComments && react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(CommentElements, _extends({\n      comments: pinnedComments\n    }, commentProps)), react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(CommentElements, _extends({\n      comments: topLevelComments\n    }, commentProps)))), !hasDefaultExpansion && react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(\"div\", {\n      className: \"card__bottom-actions card__bottom-actions--comments\"\n    }, (!expandedComments || moreBelow) && totalComments > 1 && react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      button: \"link\",\n      title: !expandedComments ? __('Expand') : __('More'),\n      label: !expandedComments ? __('Expand') : __('More'),\n      onClick: function onClick() {\n        return !expandedComments ? setExpandedComments(true) : setPage(page + 1);\n      }\n    }), expandedComments && totalComments > 1 && react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      button: \"link\",\n      title: __('Collapse'),\n      label: __('Collapse'),\n      onClick: function onClick() {\n        setExpandedComments(false);\n\n        if (commentListRef.current) {\n          var ADDITIONAL_OFFSET = 200;\n          var refTop = commentListRef.current.getBoundingClientRect().top;\n          window.scrollTo({\n            top: refTop + window.pageYOffset - ADDITIONAL_OFFSET,\n            behavior: 'smooth'\n          });\n        }\n      }\n    })), (isFetchingComments || hasDefaultExpansion && moreBelow) && react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(\"div\", {\n      className: \"main--empty\",\n      ref: spinnerRef\n    }, react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(component_spinner__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n      type: \"small\"\n    })))\n  });\n}\n\nvar CommentElements = function CommentElements(commentProps) {\n  var comments = commentProps.comments,\n      commentsProps = _objectWithoutProperties(commentProps, [\"comments\"]);\n\n  return comments.map(function (comment) {\n    return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(component_comment__WEBPACK_IMPORTED_MODULE_10__[\"default\"], _extends({\n      key: comment.comment_id,\n      comment: comment\n    }, commentsProps));\n  });\n};\n\nvar CommentActionButtons = function CommentActionButtons(actionButtonsProps) {\n  var totalComments = actionButtonsProps.totalComments,\n      sort = actionButtonsProps.sort,\n      changeSort = actionButtonsProps.changeSort,\n      handleRefresh = actionButtonsProps.handleRefresh;\n  var sortButtonProps = {\n    activeSort: sort,\n    changeSort: changeSort\n  };\n  return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_13___default.a.Fragment, null, totalComments > 1 && config__WEBPACK_IMPORTED_MODULE_1__[\"ENABLE_COMMENT_REACTIONS\"] && react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(\"span\", {\n    className: \"comment__sort\"\n  }, react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(SortButton, _extends({}, sortButtonProps, {\n    label: __('Best'),\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_4__[\"BEST\"],\n    sortOption: constants_comment__WEBPACK_IMPORTED_MODULE_0__[\"SORT_BY\"].POPULARITY\n  })), react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(SortButton, _extends({}, sortButtonProps, {\n    label: __('Controversial'),\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_4__[\"CONTROVERSIAL\"],\n    sortOption: constants_comment__WEBPACK_IMPORTED_MODULE_0__[\"SORT_BY\"].CONTROVERSY\n  })), react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(SortButton, _extends({}, sortButtonProps, {\n    label: __('New'),\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_4__[\"NEW\"],\n    sortOption: constants_comment__WEBPACK_IMPORTED_MODULE_0__[\"SORT_BY\"].NEWEST\n  }))), react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    button: \"alt\",\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_4__[\"REFRESH\"],\n    title: __('Refresh'),\n    onClick: handleRefresh\n  }));\n};\n\nvar SortButton = function SortButton(sortButtonProps) {\n  var activeSort = sortButtonProps.activeSort,\n      sortOption = sortButtonProps.sortOption,\n      changeSort = sortButtonProps.changeSort,\n      buttonProps = _objectWithoutProperties(sortButtonProps, [\"activeSort\", \"sortOption\", \"changeSort\"]);\n\n  return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_6__[\"default\"], _extends({}, buttonProps, {\n    className: classnames__WEBPACK_IMPORTED_MODULE_8___default()(\"button-toggle\", {\n      'button-toggle--active': activeSort === sortOption\n    }),\n    button: \"alt\",\n    iconSize: 18,\n    onClick: function onClick() {\n      return changeSort(sortOption);\n    }\n  }));\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! i18n.js */ \"../ui/i18n.js\")[\"__\"]))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L2NvbW1lbnRzTGlzdC92aWV3LmpzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi91aS9jb21wb25lbnQvY29tbWVudHNMaXN0L3ZpZXcuanN4PzdmNTEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQGZsb3dcbmltcG9ydCB7IENPTU1FTlRfUEFHRV9TSVpFX1RPUF9MRVZFTCwgU09SVF9CWSB9IGZyb20gJ2NvbnN0YW50cy9jb21tZW50JztcbmltcG9ydCB7IEVOQUJMRV9DT01NRU5UX1JFQUNUSU9OUyB9IGZyb20gJ2NvbmZpZyc7XG5pbXBvcnQgeyB1c2VJc01vYmlsZSwgdXNlSXNNZWRpdW1TY3JlZW4gfSBmcm9tICdlZmZlY3RzL3VzZS1zY3JlZW5zaXplJztcbmltcG9ydCB7IGdldENvbW1lbnRzTGlzdFRpdGxlIH0gZnJvbSAndXRpbC9jb21tZW50cyc7XG5pbXBvcnQgKiBhcyBJQ09OUyBmcm9tICdjb25zdGFudHMvaWNvbnMnO1xuaW1wb3J0ICogYXMgUkVBQ1RJT05fVFlQRVMgZnJvbSAnY29uc3RhbnRzL3JlYWN0aW9ucyc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ2NvbXBvbmVudC9idXR0b24nO1xuaW1wb3J0IENhcmQgZnJvbSAnY29tcG9uZW50L2NvbW1vbi9jYXJkJztcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IENvbW1lbnRDcmVhdGUgZnJvbSAnY29tcG9uZW50L2NvbW1lbnRDcmVhdGUnO1xuaW1wb3J0IENvbW1lbnRWaWV3IGZyb20gJ2NvbXBvbmVudC9jb21tZW50JztcbmltcG9ydCBkZWJvdW5jZSBmcm9tICd1dGlsL2RlYm91bmNlJztcbmltcG9ydCBFbXB0eSBmcm9tICdjb21wb25lbnQvY29tbW9uL2VtcHR5JztcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgU3Bpbm5lciBmcm9tICdjb21wb25lbnQvc3Bpbm5lcic7XG5pbXBvcnQgdXNlUGVyc2lzdGVkU3RhdGUgZnJvbSAnZWZmZWN0cy91c2UtcGVyc2lzdGVkLXN0YXRlJztcbmltcG9ydCB1c2VHZXRVc2VyTWVtYmVyc2hpcHMgZnJvbSAnZWZmZWN0cy91c2UtZ2V0LXVzZXItbWVtYmVyc2hpcHMnO1xuXG5jb25zdCBERUJPVU5DRV9TQ1JPTExfSEFORExFUl9NUyA9IDIwMDtcblxuZnVuY3Rpb24gc2NhbGVUb0RldmljZVBpeGVsUmF0aW8odmFsdWUpIHtcbiAgY29uc3QgZGV2aWNlUGl4ZWxSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEuMDtcbiAgaWYgKGRldmljZVBpeGVsUmF0aW8gPCAxLjApIHtcbiAgICByZXR1cm4gTWF0aC5jZWlsKHZhbHVlIC8gZGV2aWNlUGl4ZWxSYXRpbyk7XG4gIH1cbiAgcmV0dXJuIE1hdGguY2VpbCh2YWx1ZSAqIGRldmljZVBpeGVsUmF0aW8pO1xufVxuXG50eXBlIFByb3BzID0ge1xuICBhbGxDb21tZW50SWRzOiBhbnksXG4gIHBpbm5lZENvbW1lbnRzOiBBcnJheTxDb21tZW50PixcbiAgdG9wTGV2ZWxDb21tZW50czogQXJyYXk8Q29tbWVudD4sXG4gIHRvcExldmVsVG90YWxQYWdlczogbnVtYmVyLFxuICB1cmk6IHN0cmluZyxcbiAgY2xhaW1JZD86IHN0cmluZyxcbiAgY2hhbm5lbElkPzogc3RyaW5nLFxuICBjbGFpbUlzTWluZTogYm9vbGVhbixcbiAgaXNGZXRjaGluZ0NvbW1lbnRzOiBib29sZWFuLFxuICBpc0ZldGNoaW5nQ29tbWVudHNCeUlkOiBib29sZWFuLFxuICBpc0ZldGNoaW5nUmVhY3RzOiBib29sZWFuLFxuICBsaW5rZWRDb21tZW50SWQ/OiBzdHJpbmcsXG4gIHRvdGFsQ29tbWVudHM6IG51bWJlcixcbiAgZmV0Y2hpbmdDaGFubmVsczogYm9vbGVhbixcbiAgbXlSZWFjdHNCeUNvbW1lbnRJZDogP3sgW3N0cmluZ106IEFycmF5PHN0cmluZz4gfSwgLy8gXCJDb21tZW50SWQ6TXlDaGFubmVsSWRcIiAtPiByZWFjdGlvbiBhcnJheSAobm90ZSB0aGUgSUQgY29uY2F0ZW5hdGlvbilcbiAgb3RoZXJzUmVhY3RzQnlJZDogP3sgW3N0cmluZ106IHsgW1JFQUNUSU9OX1RZUEVTLkxJS0UgfCBSRUFDVElPTl9UWVBFUy5ESVNMSUtFXTogbnVtYmVyIH0gfSxcbiAgYWN0aXZlQ2hhbm5lbElkOiA/c3RyaW5nLFxuICBzZXR0aW5nc0J5Q2hhbm5lbElkOiB7IFtjaGFubmVsSWQ6IHN0cmluZ106IFBlckNoYW5uZWxTZXR0aW5ncyB9LFxuICBjb21tZW50c0FyZUV4cGFuZGVkPzogYm9vbGVhbixcbiAgZmV0Y2hUb3BMZXZlbENvbW1lbnRzOiAodXJpOiBzdHJpbmcsIHBhcmVudElkOiA/c3RyaW5nLCBwYWdlOiBudW1iZXIsIHBhZ2VTaXplOiBudW1iZXIsIHNvcnRCeTogbnVtYmVyKSA9PiB2b2lkLFxuICBmZXRjaENvbW1lbnQ6IChjb21tZW50SWQ6IHN0cmluZykgPT4gdm9pZCxcbiAgZmV0Y2hSZWFjdHM6IChjb21tZW50SWRzOiBBcnJheTxzdHJpbmc+KSA9PiBQcm9taXNlPGFueT4sXG4gIHJlc2V0Q29tbWVudHM6IChjbGFpbUlkOiBzdHJpbmcpID0+IHZvaWQsXG4gIGNsYWltc0J5VXJpOiB7IFtzdHJpbmddOiBhbnkgfSxcbiAgZG9GZXRjaFVzZXJNZW1iZXJzaGlwczogKGNsYWltSWRDc3Y6IHN0cmluZykgPT4gdm9pZCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbW1lbnRMaXN0KHByb3BzOiBQcm9wcykge1xuICBjb25zdCB7XG4gICAgYWxsQ29tbWVudElkcyxcbiAgICB1cmksXG4gICAgcGlubmVkQ29tbWVudHMsXG4gICAgdG9wTGV2ZWxDb21tZW50cyxcbiAgICB0b3BMZXZlbFRvdGFsUGFnZXMsXG4gICAgY2xhaW1JZCxcbiAgICBjaGFubmVsSWQsXG4gICAgY2xhaW1Jc01pbmUsXG4gICAgaXNGZXRjaGluZ0NvbW1lbnRzLFxuICAgIGlzRmV0Y2hpbmdSZWFjdHMsXG4gICAgbGlua2VkQ29tbWVudElkLFxuICAgIHRvdGFsQ29tbWVudHMsXG4gICAgZmV0Y2hpbmdDaGFubmVscyxcbiAgICBteVJlYWN0c0J5Q29tbWVudElkLFxuICAgIG90aGVyc1JlYWN0c0J5SWQsXG4gICAgYWN0aXZlQ2hhbm5lbElkLFxuICAgIHNldHRpbmdzQnlDaGFubmVsSWQsXG4gICAgY29tbWVudHNBcmVFeHBhbmRlZCxcbiAgICBmZXRjaFRvcExldmVsQ29tbWVudHMsXG4gICAgZmV0Y2hDb21tZW50LFxuICAgIGZldGNoUmVhY3RzLFxuICAgIHJlc2V0Q29tbWVudHMsXG4gICAgY2xhaW1zQnlVcmksXG4gICAgZG9GZXRjaFVzZXJNZW1iZXJzaGlwcyxcbiAgfSA9IHByb3BzO1xuXG4gIGNvbnN0IGlzTW9iaWxlID0gdXNlSXNNb2JpbGUoKTtcbiAgY29uc3QgaXNNZWRpdW1TY3JlZW4gPSB1c2VJc01lZGl1bVNjcmVlbigpO1xuXG4gIGNvbnN0IHNwaW5uZXJSZWYgPSBSZWFjdC51c2VSZWYoKTtcbiAgY29uc3QgY29tbWVudExpc3RSZWYgPSBSZWFjdC51c2VSZWYoKTtcbiAgY29uc3QgREVGQVVMVF9TT1JUID0gRU5BQkxFX0NPTU1FTlRfUkVBQ1RJT05TID8gU09SVF9CWS5QT1BVTEFSSVRZIDogU09SVF9CWS5ORVdFU1Q7XG4gIGNvbnN0IFtzb3J0LCBzZXRTb3J0XSA9IHVzZVBlcnNpc3RlZFN0YXRlKCdjb21tZW50LXNvcnQtYnknLCBERUZBVUxUX1NPUlQpO1xuICBjb25zdCBbcGFnZSwgc2V0UGFnZV0gPSBSZWFjdC51c2VTdGF0ZSgxKTtcbiAgY29uc3QgW2RpZEluaXRpYWxQYWdlRmV0Y2gsIHNldEluaXRpYWxQYWdlRmV0Y2hdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBoYXNEZWZhdWx0RXhwYW5zaW9uID0gY29tbWVudHNBcmVFeHBhbmRlZCB8fCAhaXNNZWRpdW1TY3JlZW4gfHwgaXNNb2JpbGU7XG4gIGNvbnN0IFtleHBhbmRlZENvbW1lbnRzLCBzZXRFeHBhbmRlZENvbW1lbnRzXSA9IFJlYWN0LnVzZVN0YXRlKGhhc0RlZmF1bHRFeHBhbnNpb24pO1xuXG4gIGNvbnN0IHRvdGFsRmV0Y2hlZENvbW1lbnRzID0gYWxsQ29tbWVudElkcyA/IGFsbENvbW1lbnRJZHMubGVuZ3RoIDogMDtcbiAgY29uc3QgY2hhbm5lbFNldHRpbmdzID0gY2hhbm5lbElkID8gc2V0dGluZ3NCeUNoYW5uZWxJZFtjaGFubmVsSWRdIDogdW5kZWZpbmVkO1xuICBjb25zdCBtb3JlQmVsb3cgPSBwYWdlIDwgdG9wTGV2ZWxUb3RhbFBhZ2VzO1xuICBjb25zdCB0aXRsZSA9IGdldENvbW1lbnRzTGlzdFRpdGxlKHRvdGFsQ29tbWVudHMpO1xuXG4gIC8vIERpc3BsYXkgY29tbWVudHMgaW1tZWRpYXRlbHkgaWYgbm90IGZldGNoaW5nIHJlYWN0aW9uc1xuICAvLyBJZiBub3QsIHdhaXQgdG8gc2hvdyBjb21tZW50cyB1bnRpbCByZWFjdGlvbnMgYXJlIGZldGNoZWRcbiAgY29uc3QgW3JlYWR5VG9EaXNwbGF5Q29tbWVudHMsIHNldFJlYWR5VG9EaXNwbGF5Q29tbWVudHNdID0gUmVhY3QudXNlU3RhdGUoXG4gICAgQm9vbGVhbihvdGhlcnNSZWFjdHNCeUlkKSB8fCAhRU5BQkxFX0NPTU1FTlRfUkVBQ1RJT05TXG4gICk7XG5cbiAgLy8gZ2V0IGNvbW1lbnRlciBjbGFpbSBpZHMgZm9yIGNoZWNraW5nIHByZW1pdW0gc3RhdHVzXG4gIGNvbnN0IGNvbW1lbnRlckNsYWltSWRzID0gdG9wTGV2ZWxDb21tZW50cy5tYXAoKGNvbW1lbnQpID0+IGNvbW1lbnQuY2hhbm5lbF9pZCk7XG5cbiAgLy8gdXBkYXRlIHByZW1pdW0gc3RhdHVzXG4gIGNvbnN0IHNob3VsZEZldGNoVXNlck1lbWJlcnNoaXBzID0gdHJ1ZTtcbiAgdXNlR2V0VXNlck1lbWJlcnNoaXBzKFxuICAgIHNob3VsZEZldGNoVXNlck1lbWJlcnNoaXBzLFxuICAgIGNvbW1lbnRlckNsYWltSWRzLFxuICAgIGNsYWltc0J5VXJpLFxuICAgIGRvRmV0Y2hVc2VyTWVtYmVyc2hpcHMsXG4gICAgW3RvcExldmVsQ29tbWVudHNdLFxuICAgIHRydWVcbiAgKTtcblxuICBjb25zdCBoYW5kbGVSZXNldCA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoY2xhaW1JZCkgcmVzZXRDb21tZW50cyhjbGFpbUlkKTtcbiAgICBzZXRQYWdlKDEpO1xuICB9LCBbY2xhaW1JZCwgcmVzZXRDb21tZW50c10pO1xuXG4gIGZ1bmN0aW9uIGNoYW5nZVNvcnQobmV3U29ydCkge1xuICAgIGlmIChzb3J0ICE9PSBuZXdTb3J0KSB7XG4gICAgICBzZXRTb3J0KG5ld1NvcnQpO1xuICAgICAgc2V0UGFnZSgwKTsgLy8gSW52YWxpZGF0ZSBleGlzdGluZyBjb21tZW50c1xuICAgIH1cbiAgfVxuXG4gIC8vIEZvcmNlIGNvbW1lbnRzIHJlc2V0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHBhZ2UgPT09IDApIHtcbiAgICAgIGhhbmRsZVJlc2V0KCk7XG4gICAgfVxuICB9LCBbaGFuZGxlUmVzZXQsIHBhZ2VdKTtcblxuICAvLyBSZXNldCBjb21tZW50cyBvbmx5IG9uIGNsYWltIHN3aXRjaFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiBoYW5kbGVSZXNldCgpO1xuICB9LCBbaGFuZGxlUmVzZXRdKTtcblxuICAvLyBGZXRjaCB0b3AtbGV2ZWwgY29tbWVudHNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocGFnZSAhPT0gMCkge1xuICAgICAgaWYgKHBhZ2UgPT09IDEgJiYgbGlua2VkQ29tbWVudElkKSB7XG4gICAgICAgIGZldGNoQ29tbWVudChsaW5rZWRDb21tZW50SWQpO1xuICAgICAgfVxuXG4gICAgICBmZXRjaFRvcExldmVsQ29tbWVudHModXJpLCB1bmRlZmluZWQsIHBhZ2UsIENPTU1FTlRfUEFHRV9TSVpFX1RPUF9MRVZFTCwgc29ydCk7XG4gICAgfVxuXG4gICAgLy8gbm8gbmVlZCB0byBsaXN0ZW4gZm9yIHVyaSBjaGFuZ2UsIGNsYWltSWQgY2hhbmdlIHdpbGwgdHJpZ2dlciBwYWdlIHdoaWNoXG4gICAgLy8gd2lsbCBoYW5kbGUgdGhpc1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW2ZldGNoQ29tbWVudCwgZmV0Y2hUb3BMZXZlbENvbW1lbnRzLCBsaW5rZWRDb21tZW50SWQsIHBhZ2UsIHNvcnRdKTtcblxuICAvLyBGZXRjaCByZWFjdHNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodG90YWxGZXRjaGVkQ29tbWVudHMgPiAwICYmIEVOQUJMRV9DT01NRU5UX1JFQUNUSU9OUyAmJiAhZmV0Y2hpbmdDaGFubmVscyAmJiAhaXNGZXRjaGluZ1JlYWN0cykge1xuICAgICAgbGV0IGlkc0ZvclJlYWN0aW9uRmV0Y2g7XG5cbiAgICAgIGlmICghb3RoZXJzUmVhY3RzQnlJZCB8fCAhbXlSZWFjdHNCeUNvbW1lbnRJZCkge1xuICAgICAgICBpZHNGb3JSZWFjdGlvbkZldGNoID0gYWxsQ29tbWVudElkcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlkc0ZvclJlYWN0aW9uRmV0Y2ggPSBhbGxDb21tZW50SWRzLmZpbHRlcigoY29tbWVudElkKSA9PiB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gYWN0aXZlQ2hhbm5lbElkID8gYCR7Y29tbWVudElkfToke2FjdGl2ZUNoYW5uZWxJZH1gIDogY29tbWVudElkO1xuICAgICAgICAgIHJldHVybiAhb3RoZXJzUmVhY3RzQnlJZFtrZXldIHx8IChhY3RpdmVDaGFubmVsSWQgJiYgIW15UmVhY3RzQnlDb21tZW50SWRba2V5XSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoaWRzRm9yUmVhY3Rpb25GZXRjaC5sZW5ndGggIT09IDApIHtcbiAgICAgICAgZmV0Y2hSZWFjdHMoaWRzRm9yUmVhY3Rpb25GZXRjaClcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBzZXRSZWFkeVRvRGlzcGxheUNvbW1lbnRzKHRydWUpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKCgpID0+IHNldFJlYWR5VG9EaXNwbGF5Q29tbWVudHModHJ1ZSkpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW1xuICAgIGFjdGl2ZUNoYW5uZWxJZCxcbiAgICBhbGxDb21tZW50SWRzLFxuICAgIGZldGNoUmVhY3RzLFxuICAgIGZldGNoaW5nQ2hhbm5lbHMsXG4gICAgaXNGZXRjaGluZ1JlYWN0cyxcbiAgICBteVJlYWN0c0J5Q29tbWVudElkLFxuICAgIG90aGVyc1JlYWN0c0J5SWQsXG4gICAgdG90YWxGZXRjaGVkQ29tbWVudHMsXG4gIF0pO1xuXG4gIC8vIFNjcm9sbCB0byBsaW5rZWQtY29tbWVudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChsaW5rZWRDb21tZW50SWQpIHtcbiAgICAgIHdpbmRvdy5wZW5kaW5nTGlua2VkQ29tbWVudFNjcm9sbCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSB3aW5kb3cucGVuZGluZ0xpbmtlZENvbW1lbnRTY3JvbGw7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW10pO1xuXG4gIC8vIEluZmluaXRlIHNjcm9sbFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0b3BMZXZlbENvbW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgZnVuY3Rpb24gc2hvdWxkRmV0Y2hOZXh0UGFnZShwYWdlLCB0b3BMZXZlbFRvdGFsUGFnZXMsIHlQcmVmZXRjaFB4ID0gMTAwMCkge1xuICAgICAgaWYgKCFzcGlubmVyUmVmIHx8ICFzcGlubmVyUmVmLmN1cnJlbnQpIHJldHVybiBmYWxzZTtcblxuICAgICAgY29uc3QgcmVjdCA9IHNwaW5uZXJSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsgLy8gJEZsb3dGaXhNZVxuICAgICAgY29uc3Qgd2luZG93SCA9IHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OyAvLyAkRmxvd0ZpeE1lXG4gICAgICBjb25zdCB3aW5kb3dXID0gd2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoOyAvLyAkRmxvd0ZpeE1lXG5cbiAgICAgIGNvbnN0IGlzQXBwcm9hY2hpbmdWaWV3cG9ydCA9IHlQcmVmZXRjaFB4ICE9PSAwICYmIHJlY3QudG9wIDwgd2luZG93SCArIHNjYWxlVG9EZXZpY2VQaXhlbFJhdGlvKHlQcmVmZXRjaFB4KTtcblxuICAgICAgY29uc3QgaXNJblZpZXdwb3J0ID1cbiAgICAgICAgcmVjdC53aWR0aCA+IDAgJiZcbiAgICAgICAgcmVjdC5oZWlnaHQgPiAwICYmXG4gICAgICAgIHJlY3QuYm90dG9tID49IDAgJiZcbiAgICAgICAgcmVjdC5yaWdodCA+PSAwICYmXG4gICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgcmVjdC50b3AgPD0gd2luZG93SCAmJlxuICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgIHJlY3QubGVmdCA8PSB3aW5kb3dXO1xuXG4gICAgICByZXR1cm4gKGlzSW5WaWV3cG9ydCB8fCBpc0FwcHJvYWNoaW5nVmlld3BvcnQpICYmIHBhZ2UgPCB0b3BMZXZlbFRvdGFsUGFnZXM7XG4gICAgfVxuXG4gICAgY29uc3QgaGFuZGxlQ29tbWVudFNjcm9sbCA9IGRlYm91bmNlKCgpID0+IHtcbiAgICAgIGlmIChzaG91bGRGZXRjaE5leHRQYWdlKHBhZ2UsIHRvcExldmVsVG90YWxQYWdlcykpIHtcbiAgICAgICAgc2V0UGFnZShwYWdlICsgMSk7XG4gICAgICAgIHNldEluaXRpYWxQYWdlRmV0Y2godHJ1ZSk7XG4gICAgICB9XG4gICAgfSwgREVCT1VOQ0VfU0NST0xMX0hBTkRMRVJfTVMpO1xuXG4gICAgaWYgKCFkaWRJbml0aWFsUGFnZUZldGNoKSB7XG4gICAgICBoYW5kbGVDb21tZW50U2Nyb2xsKCk7XG4gICAgICBzZXRJbml0aWFsUGFnZUZldGNoKHRydWUpO1xuICAgIH1cblxuICAgIGlmIChoYXNEZWZhdWx0RXhwYW5zaW9uICYmICFpc0ZldGNoaW5nQ29tbWVudHMgJiYgcmVhZHlUb0Rpc3BsYXlDb21tZW50cyAmJiBtb3JlQmVsb3cpIHtcbiAgICAgIGNvbnN0IGNvbW1lbnRzSW5EcmF3ZXIgPSBCb29sZWFuKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5NdWlEcmF3ZXItcm9vdCAuY2FyZC0tZW5hYmxlLW92ZXJmbG93JykpO1xuICAgICAgY29uc3Qgc2Nyb2xsaW5nRWxlbWVudCA9IGNvbW1lbnRzSW5EcmF3ZXIgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZC0tZW5hYmxlLW92ZXJmbG93JykgOiB3aW5kb3c7XG5cbiAgICAgIGlmIChzY3JvbGxpbmdFbGVtZW50KSB7XG4gICAgICAgIHNjcm9sbGluZ0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlQ29tbWVudFNjcm9sbCk7XG5cbiAgICAgICAgcmV0dXJuICgpID0+IHNjcm9sbGluZ0VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlQ29tbWVudFNjcm9sbCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbXG4gICAgdG9wTGV2ZWxDb21tZW50cyxcbiAgICBoYXNEZWZhdWx0RXhwYW5zaW9uLFxuICAgIGRpZEluaXRpYWxQYWdlRmV0Y2gsXG4gICAgaXNGZXRjaGluZ0NvbW1lbnRzLFxuICAgIGlzTW9iaWxlLFxuICAgIG1vcmVCZWxvdyxcbiAgICBwYWdlLFxuICAgIHJlYWR5VG9EaXNwbGF5Q29tbWVudHMsXG4gICAgdG9wTGV2ZWxUb3RhbFBhZ2VzLFxuICBdKTtcblxuICBjb25zdCBjb21tZW50UHJvcHMgPSB7IGlzVG9wTGV2ZWw6IHRydWUsIHRocmVhZERlcHRoOiAzLCB1cmksIGNsYWltSXNNaW5lLCBsaW5rZWRDb21tZW50SWQgfTtcbiAgY29uc3QgYWN0aW9uQnV0dG9uc1Byb3BzID0ge1xuICAgIHRvdGFsQ29tbWVudHMsXG4gICAgc29ydCxcbiAgICBjaGFuZ2VTb3J0LFxuICAgIHNldFBhZ2UsXG4gICAgaGFuZGxlUmVmcmVzaDogKCkgPT4gc2V0UGFnZSgwKSxcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxDYXJkXG4gICAgICBjbGFzc05hbWU9XCJjYXJkLS1lbmFibGUtb3ZlcmZsb3dcIlxuICAgICAgdGl0bGU9eyFpc01vYmlsZSAmJiB0aXRsZX1cbiAgICAgIHRpdGxlQWN0aW9ucz17PENvbW1lbnRBY3Rpb25CdXR0b25zIHsuLi5hY3Rpb25CdXR0b25zUHJvcHN9IC8+fVxuICAgICAgYWN0aW9ucz17XG4gICAgICAgIDw+XG4gICAgICAgICAge2lzTW9iaWxlICYmIDxDb21tZW50QWN0aW9uQnV0dG9ucyB7Li4uYWN0aW9uQnV0dG9uc1Byb3BzfSAvPn1cblxuICAgICAgICAgIDxDb21tZW50Q3JlYXRlIHVyaT17dXJpfSAvPlxuXG4gICAgICAgICAge2NoYW5uZWxTZXR0aW5ncyAmJiBjaGFubmVsU2V0dGluZ3MuY29tbWVudHNfZW5hYmxlZCAmJiAhaXNGZXRjaGluZ0NvbW1lbnRzICYmICF0b3RhbENvbW1lbnRzICYmIChcbiAgICAgICAgICAgIDxFbXB0eSBwYWRkZWQgdGV4dD17X18oJ1RoYXQgd2FzIHByZXR0eSBkZWVwLiBXaGF0IGRvIHlvdSB0aGluaz8nKX0gLz5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgPHVsXG4gICAgICAgICAgICByZWY9e2NvbW1lbnRMaXN0UmVmfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc25hbWVzKCdjb21tZW50cycsIHtcbiAgICAgICAgICAgICAgJ2NvbW1lbnRzLS1jb250cmFjdGVkJzogaXNNZWRpdW1TY3JlZW4gJiYgIWV4cGFuZGVkQ29tbWVudHMgJiYgdG90YWxDb21tZW50cyA+IDEsXG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7cmVhZHlUb0Rpc3BsYXlDb21tZW50cyAmJiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAge3Bpbm5lZENvbW1lbnRzICYmIDxDb21tZW50RWxlbWVudHMgY29tbWVudHM9e3Bpbm5lZENvbW1lbnRzfSB7Li4uY29tbWVudFByb3BzfSAvPn1cbiAgICAgICAgICAgICAgICA8Q29tbWVudEVsZW1lbnRzIGNvbW1lbnRzPXt0b3BMZXZlbENvbW1lbnRzfSB7Li4uY29tbWVudFByb3BzfSAvPlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC91bD5cblxuICAgICAgICAgIHshaGFzRGVmYXVsdEV4cGFuc2lvbiAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmRfX2JvdHRvbS1hY3Rpb25zIGNhcmRfX2JvdHRvbS1hY3Rpb25zLS1jb21tZW50c1wiPlxuICAgICAgICAgICAgICB7KCFleHBhbmRlZENvbW1lbnRzIHx8IG1vcmVCZWxvdykgJiYgdG90YWxDb21tZW50cyA+IDEgJiYgKFxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIGJ1dHRvbj1cImxpbmtcIlxuICAgICAgICAgICAgICAgICAgdGl0bGU9eyFleHBhbmRlZENvbW1lbnRzID8gX18oJ0V4cGFuZCcpIDogX18oJ01vcmUnKX1cbiAgICAgICAgICAgICAgICAgIGxhYmVsPXshZXhwYW5kZWRDb21tZW50cyA/IF9fKCdFeHBhbmQnKSA6IF9fKCdNb3JlJyl9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiAoIWV4cGFuZGVkQ29tbWVudHMgPyBzZXRFeHBhbmRlZENvbW1lbnRzKHRydWUpIDogc2V0UGFnZShwYWdlICsgMSkpfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIHtleHBhbmRlZENvbW1lbnRzICYmIHRvdGFsQ29tbWVudHMgPiAxICYmIChcbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICBidXR0b249XCJsaW5rXCJcbiAgICAgICAgICAgICAgICAgIHRpdGxlPXtfXygnQ29sbGFwc2UnKX1cbiAgICAgICAgICAgICAgICAgIGxhYmVsPXtfXygnQ29sbGFwc2UnKX1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0RXhwYW5kZWRDb21tZW50cyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21tZW50TGlzdFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgQURESVRJT05BTF9PRkZTRVQgPSAyMDA7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVmVG9wID0gY29tbWVudExpc3RSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogcmVmVG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0IC0gQURESVRJT05BTF9PRkZTRVQsXG4gICAgICAgICAgICAgICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcsXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7KGlzRmV0Y2hpbmdDb21tZW50cyB8fCAoaGFzRGVmYXVsdEV4cGFuc2lvbiAmJiBtb3JlQmVsb3cpKSAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1haW4tLWVtcHR5XCIgcmVmPXtzcGlubmVyUmVmfT5cbiAgICAgICAgICAgICAgPFNwaW5uZXIgdHlwZT1cInNtYWxsXCIgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvPlxuICAgICAgfVxuICAgIC8+XG4gICk7XG59XG5cbnR5cGUgQ29tbWVudFByb3BzID0ge1xuICBjb21tZW50czogQXJyYXk8Q29tbWVudD4sXG59O1xuXG5jb25zdCBDb21tZW50RWxlbWVudHMgPSAoY29tbWVudFByb3BzOiBDb21tZW50UHJvcHMpID0+IHtcbiAgY29uc3QgeyBjb21tZW50cywgLi4uY29tbWVudHNQcm9wcyB9ID0gY29tbWVudFByb3BzO1xuXG4gIHJldHVybiBjb21tZW50cy5tYXAoKGNvbW1lbnQpID0+IDxDb21tZW50VmlldyBrZXk9e2NvbW1lbnQuY29tbWVudF9pZH0gY29tbWVudD17Y29tbWVudH0gey4uLmNvbW1lbnRzUHJvcHN9IC8+KTtcbn07XG5cbnR5cGUgQWN0aW9uQnV0dG9uc1Byb3BzID0ge1xuICB0b3RhbENvbW1lbnRzOiBudW1iZXIsXG4gIHNvcnQ6IHN0cmluZyxcbiAgY2hhbmdlU29ydDogKHN0cmluZykgPT4gdm9pZCxcbiAgaGFuZGxlUmVmcmVzaDogKCkgPT4gdm9pZCxcbn07XG5cbmNvbnN0IENvbW1lbnRBY3Rpb25CdXR0b25zID0gKGFjdGlvbkJ1dHRvbnNQcm9wczogQWN0aW9uQnV0dG9uc1Byb3BzKSA9PiB7XG4gIGNvbnN0IHsgdG90YWxDb21tZW50cywgc29ydCwgY2hhbmdlU29ydCwgaGFuZGxlUmVmcmVzaCB9ID0gYWN0aW9uQnV0dG9uc1Byb3BzO1xuXG4gIGNvbnN0IHNvcnRCdXR0b25Qcm9wcyA9IHsgYWN0aXZlU29ydDogc29ydCwgY2hhbmdlU29ydCB9O1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIHt0b3RhbENvbW1lbnRzID4gMSAmJiBFTkFCTEVfQ09NTUVOVF9SRUFDVElPTlMgJiYgKFxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjb21tZW50X19zb3J0XCI+XG4gICAgICAgICAgPFNvcnRCdXR0b24gey4uLnNvcnRCdXR0b25Qcm9wc30gbGFiZWw9e19fKCdCZXN0Jyl9IGljb249e0lDT05TLkJFU1R9IHNvcnRPcHRpb249e1NPUlRfQlkuUE9QVUxBUklUWX0gLz5cbiAgICAgICAgICA8U29ydEJ1dHRvblxuICAgICAgICAgICAgey4uLnNvcnRCdXR0b25Qcm9wc31cbiAgICAgICAgICAgIGxhYmVsPXtfXygnQ29udHJvdmVyc2lhbCcpfVxuICAgICAgICAgICAgaWNvbj17SUNPTlMuQ09OVFJPVkVSU0lBTH1cbiAgICAgICAgICAgIHNvcnRPcHRpb249e1NPUlRfQlkuQ09OVFJPVkVSU1l9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8U29ydEJ1dHRvbiB7Li4uc29ydEJ1dHRvblByb3BzfSBsYWJlbD17X18oJ05ldycpfSBpY29uPXtJQ09OUy5ORVd9IHNvcnRPcHRpb249e1NPUlRfQlkuTkVXRVNUfSAvPlxuICAgICAgICA8L3NwYW4+XG4gICAgICApfVxuXG4gICAgICA8QnV0dG9uIGJ1dHRvbj1cImFsdFwiIGljb249e0lDT05TLlJFRlJFU0h9IHRpdGxlPXtfXygnUmVmcmVzaCcpfSBvbkNsaWNrPXtoYW5kbGVSZWZyZXNofSAvPlxuICAgIDwvPlxuICApO1xufTtcblxudHlwZSBTb3J0QnV0dG9uUHJvcHMgPSB7XG4gIGFjdGl2ZVNvcnQ6IHN0cmluZyxcbiAgc29ydE9wdGlvbjogc3RyaW5nLFxuICBjaGFuZ2VTb3J0OiAoc3RyaW5nKSA9PiB2b2lkLFxufTtcblxuY29uc3QgU29ydEJ1dHRvbiA9IChzb3J0QnV0dG9uUHJvcHM6IFNvcnRCdXR0b25Qcm9wcykgPT4ge1xuICBjb25zdCB7IGFjdGl2ZVNvcnQsIHNvcnRPcHRpb24sIGNoYW5nZVNvcnQsIC4uLmJ1dHRvblByb3BzIH0gPSBzb3J0QnV0dG9uUHJvcHM7XG5cbiAgcmV0dXJuIChcbiAgICA8QnV0dG9uXG4gICAgICB7Li4uYnV0dG9uUHJvcHN9XG4gICAgICBjbGFzc05hbWU9e2NsYXNzbmFtZXMoYGJ1dHRvbi10b2dnbGVgLCB7ICdidXR0b24tdG9nZ2xlLS1hY3RpdmUnOiBhY3RpdmVTb3J0ID09PSBzb3J0T3B0aW9uIH0pfVxuICAgICAgYnV0dG9uPVwiYWx0XCJcbiAgICAgIGljb25TaXplPXsxOH1cbiAgICAgIG9uQ2xpY2s9eygpID0+IGNoYW5nZVNvcnQoc29ydE9wdGlvbil9XG4gICAgLz5cbiAgKTtcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBNkJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBNEJBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQWxDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFvQ0E7QUFDQTtBQXRDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBdUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQS9DQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFrREE7QUFBQTtBQXBEQTtBQUNBO0FBc0RBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTFFQTtBQUNBO0FBQ0E7QUE0RUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBTUE7QUFDQTtBQUFBO0FBQUE7QUFEQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVVBO0FBQ0E7QUFDQTtBQVpBO0FBQ0E7QUFjQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUZBO0FBSUE7QUFKQTtBQUtBO0FBQ0E7QUFwQkE7QUFDQTtBQWdDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBSkE7QUFDQTtBQURBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUE5Q0E7QUEyREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBTEE7QUFRQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQURBO0FBRkE7QUFRQTtBQUFBO0FBQ0E7QUFBQTtBQU1BO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFKQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQWRBO0FBcUJBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUE3REE7QUFvRUE7QUFDQTtBQUtBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSEE7QUFDQTtBQVlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFwQkE7QUFDQTtBQThCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFMQTtBQUpBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../ui/component/commentsList/view.jsx\n");

/***/ }),

/***/ "../ui/component/commentsReplies/index.js":
/*!************************************************!*\
  !*** ../ui/component/commentsReplies/index.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ \"../node_modules/react-redux/es/index.js\");\n/* harmony import */ var redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! redux/selectors/claims */ \"../ui/redux/selectors/claims.js\");\n/* harmony import */ var redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! redux/selectors/comments */ \"../ui/redux/selectors/comments.js\");\n/* harmony import */ var _view__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./view */ \"../ui/component/commentsReplies/view.jsx\");\n\n\n\n\n\nvar select = function select(state, props) {\n  var uri = props.uri,\n      parentId = props.parentId;\n  return {\n    fetchedReplies: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"selectRepliesForParentId\"])(state, parentId),\n    claimIsMine: Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__[\"selectClaimIsMineForUri\"])(state, uri),\n    isFetching: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"selectIsFetchingCommentsForParentId\"])(state, parentId)\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_0__[\"connect\"])(select)(_view__WEBPACK_IMPORTED_MODULE_3__[\"default\"]));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L2NvbW1lbnRzUmVwbGllcy9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi91aS9jb21wb25lbnQvY29tbWVudHNSZXBsaWVzL2luZGV4LmpzPzBlYzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IHNlbGVjdENsYWltSXNNaW5lRm9yVXJpIH0gZnJvbSAncmVkdXgvc2VsZWN0b3JzL2NsYWltcyc7XG5pbXBvcnQgeyBzZWxlY3RJc0ZldGNoaW5nQ29tbWVudHNGb3JQYXJlbnRJZCwgc2VsZWN0UmVwbGllc0ZvclBhcmVudElkIH0gZnJvbSAncmVkdXgvc2VsZWN0b3JzL2NvbW1lbnRzJztcbmltcG9ydCBDb21tZW50c1JlcGxpZXMgZnJvbSAnLi92aWV3JztcblxuY29uc3Qgc2VsZWN0ID0gKHN0YXRlLCBwcm9wcykgPT4ge1xuICBjb25zdCB7IHVyaSwgcGFyZW50SWQgfSA9IHByb3BzO1xuXG4gIHJldHVybiB7XG4gICAgZmV0Y2hlZFJlcGxpZXM6IHNlbGVjdFJlcGxpZXNGb3JQYXJlbnRJZChzdGF0ZSwgcGFyZW50SWQpLFxuICAgIGNsYWltSXNNaW5lOiBzZWxlY3RDbGFpbUlzTWluZUZvclVyaShzdGF0ZSwgdXJpKSxcbiAgICBpc0ZldGNoaW5nOiBzZWxlY3RJc0ZldGNoaW5nQ29tbWVudHNGb3JQYXJlbnRJZChzdGF0ZSwgcGFyZW50SWQpLFxuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChzZWxlY3QpKENvbW1lbnRzUmVwbGllcyk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUhBO0FBQ0E7QUFTQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../ui/component/commentsReplies/index.js\n");

/***/ }),

/***/ "../ui/component/commentsReplies/view.jsx":
/*!************************************************!*\
  !*** ../ui/component/commentsReplies/view.jsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CommentsReplies; });\n/* harmony import */ var constants_icons__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! constants/icons */ \"../ui/constants/icons.js\");\n/* harmony import */ var component_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! component/button */ \"../ui/component/button/index.js\");\n/* harmony import */ var component_comment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! component/comment */ \"../ui/component/comment/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var component_spinner__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! component/spinner */ \"../ui/component/spinner/index.js\");\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\n\n\n\n\n\nfunction CommentsReplies(props) {\n  var uri = props.uri,\n      fetchedReplies = props.fetchedReplies,\n      claimIsMine = props.claimIsMine,\n      linkedCommentId = props.linkedCommentId,\n      threadDepth = props.threadDepth,\n      numDirectReplies = props.numDirectReplies,\n      isFetching = props.isFetching,\n      hasMore = props.hasMore,\n      supportDisabled = props.supportDisabled,\n      onShowMore = props.onShowMore;\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_3___default.a.useState(true),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isExpanded = _React$useState2[0],\n      setExpanded = _React$useState2[1];\n\n  return !numDirectReplies ? null : react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    className: \"comment__replies-container\"\n  }, !isExpanded ? react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    className: \"comment__actions--nested\"\n  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    className: \"comment__action\",\n    label: __('Show Replies'),\n    onClick: function onClick() {\n      return setExpanded(!isExpanded);\n    },\n    icon: isExpanded ? constants_icons__WEBPACK_IMPORTED_MODULE_0__[\"UP\"] : constants_icons__WEBPACK_IMPORTED_MODULE_0__[\"DOWN\"]\n  })) : react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    className: \"comment__replies\"\n  }, fetchedReplies.length > 0 && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    className: \"comment__threadline\",\n    \"aria-label\": \"Hide Replies\",\n    onClick: function onClick() {\n      return setExpanded(false);\n    }\n  }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"ul\", {\n    className: \"comments--replies\"\n  }, fetchedReplies.map(function (comment) {\n    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(component_comment__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n      key: comment.comment_id,\n      threadDepth: threadDepth,\n      uri: uri,\n      comment: comment,\n      claimIsMine: claimIsMine,\n      linkedCommentId: linkedCommentId,\n      supportDisabled: supportDisabled\n    });\n  }))), isExpanded && fetchedReplies && hasMore && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    className: \"comment__actions--nested\"\n  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n    button: \"link\",\n    label: __('Show more'),\n    onClick: function onClick() {\n      return onShowMore && onShowMore();\n    },\n    className: \"button--uri-indicator\"\n  })), isFetching && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    className: \"comment__replies-container\"\n  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    className: \"comment__actions--nested\"\n  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(component_spinner__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    type: \"small\"\n  }))));\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! i18n.js */ \"../ui/i18n.js\")[\"__\"]))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L2NvbW1lbnRzUmVwbGllcy92aWV3LmpzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi91aS9jb21wb25lbnQvY29tbWVudHNSZXBsaWVzL3ZpZXcuanN4P2FhN2EiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQGZsb3dcbmltcG9ydCAqIGFzIElDT05TIGZyb20gJ2NvbnN0YW50cy9pY29ucyc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ2NvbXBvbmVudC9idXR0b24nO1xuaW1wb3J0IENvbW1lbnQgZnJvbSAnY29tcG9uZW50L2NvbW1lbnQnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBTcGlubmVyIGZyb20gJ2NvbXBvbmVudC9zcGlubmVyJztcblxudHlwZSBQcm9wcyA9IHtcbiAgdXJpOiBzdHJpbmcsXG4gIGxpbmtlZENvbW1lbnRJZD86IHN0cmluZyxcbiAgdGhyZWFkRGVwdGg6IG51bWJlcixcbiAgbnVtRGlyZWN0UmVwbGllczogbnVtYmVyLCAvLyBUb3RhbCByZXBsaWVzIGZvciBwYXJlbnRJZCBhcyByZXBvcnRlZCBieSAnY29tbWVudFtyZXBsaWVzXScuIEluY2x1ZGVzIGJsb2NrZWQgaXRlbXMuXG4gIGhhc01vcmU6IGJvb2xlYW4sXG4gIHN1cHBvcnREaXNhYmxlZDogYm9vbGVhbixcbiAgb25TaG93TW9yZT86ICgpID0+IHZvaWQsXG4gIC8vIHJlZHV4XG4gIGZldGNoZWRSZXBsaWVzOiBBcnJheTxDb21tZW50PixcbiAgY2xhaW1Jc01pbmU6IGJvb2xlYW4sXG4gIGlzRmV0Y2hpbmc6IGJvb2xlYW4sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb21tZW50c1JlcGxpZXMocHJvcHM6IFByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICB1cmksXG4gICAgZmV0Y2hlZFJlcGxpZXMsXG4gICAgY2xhaW1Jc01pbmUsXG4gICAgbGlua2VkQ29tbWVudElkLFxuICAgIHRocmVhZERlcHRoLFxuICAgIG51bURpcmVjdFJlcGxpZXMsXG4gICAgaXNGZXRjaGluZyxcbiAgICBoYXNNb3JlLFxuICAgIHN1cHBvcnREaXNhYmxlZCxcbiAgICBvblNob3dNb3JlLFxuICB9ID0gcHJvcHM7XG5cbiAgY29uc3QgW2lzRXhwYW5kZWQsIHNldEV4cGFuZGVkXSA9IFJlYWN0LnVzZVN0YXRlKHRydWUpO1xuXG4gIHJldHVybiAhbnVtRGlyZWN0UmVwbGllcyA/IG51bGwgOiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb21tZW50X19yZXBsaWVzLWNvbnRhaW5lclwiPlxuICAgICAgeyFpc0V4cGFuZGVkID8gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbW1lbnRfX2FjdGlvbnMtLW5lc3RlZFwiPlxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImNvbW1lbnRfX2FjdGlvblwiXG4gICAgICAgICAgICBsYWJlbD17X18oJ1Nob3cgUmVwbGllcycpfVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0RXhwYW5kZWQoIWlzRXhwYW5kZWQpfVxuICAgICAgICAgICAgaWNvbj17aXNFeHBhbmRlZCA/IElDT05TLlVQIDogSUNPTlMuRE9XTn1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICkgOiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29tbWVudF9fcmVwbGllc1wiPlxuICAgICAgICAgIHtmZXRjaGVkUmVwbGllcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiY29tbWVudF9fdGhyZWFkbGluZVwiIGFyaWEtbGFiZWw9XCJIaWRlIFJlcGxpZXNcIiBvbkNsaWNrPXsoKSA9PiBzZXRFeHBhbmRlZChmYWxzZSl9IC8+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJjb21tZW50cy0tcmVwbGllc1wiPlxuICAgICAgICAgICAge2ZldGNoZWRSZXBsaWVzLm1hcCgoY29tbWVudCkgPT4gKFxuICAgICAgICAgICAgICA8Q29tbWVudFxuICAgICAgICAgICAgICAgIGtleT17Y29tbWVudC5jb21tZW50X2lkfVxuICAgICAgICAgICAgICAgIHRocmVhZERlcHRoPXt0aHJlYWREZXB0aH1cbiAgICAgICAgICAgICAgICB1cmk9e3VyaX1cbiAgICAgICAgICAgICAgICBjb21tZW50PXtjb21tZW50fVxuICAgICAgICAgICAgICAgIGNsYWltSXNNaW5lPXtjbGFpbUlzTWluZX1cbiAgICAgICAgICAgICAgICBsaW5rZWRDb21tZW50SWQ9e2xpbmtlZENvbW1lbnRJZH1cbiAgICAgICAgICAgICAgICBzdXBwb3J0RGlzYWJsZWQ9e3N1cHBvcnREaXNhYmxlZH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAge2lzRXhwYW5kZWQgJiYgZmV0Y2hlZFJlcGxpZXMgJiYgaGFzTW9yZSAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29tbWVudF9fYWN0aW9ucy0tbmVzdGVkXCI+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgYnV0dG9uPVwibGlua1wiXG4gICAgICAgICAgICBsYWJlbD17X18oJ1Nob3cgbW9yZScpfVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25TaG93TW9yZSAmJiBvblNob3dNb3JlKCl9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidXR0b24tLXVyaS1pbmRpY2F0b3JcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAge2lzRmV0Y2hpbmcgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbW1lbnRfX3JlcGxpZXMtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb21tZW50X19hY3Rpb25zLS1uZXN0ZWRcIj5cbiAgICAgICAgICAgIDxTcGlubmVyIHR5cGU9XCJzbWFsbFwiIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZ0JBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFlQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFIQTtBQUlBO0FBSkE7QUFRQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQWxCQTtBQWlDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFIQTtBQUlBO0FBSkE7QUFVQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFNQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../ui/component/commentsReplies/view.jsx\n");

/***/ }),

/***/ "../ui/component/expandable/index.js":
/*!*******************************************!*\
  !*** ../ui/component/expandable/index.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./view */ \"../ui/component/expandable/view.jsx\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_view__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L2V4cGFuZGFibGUvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vdWkvY29tcG9uZW50L2V4cGFuZGFibGUvaW5kZXguanM/ZmRiOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRXhwYW5kYWJsZSBmcm9tICcuL3ZpZXcnO1xuXG5leHBvcnQgZGVmYXVsdCBFeHBhbmRhYmxlO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../ui/component/expandable/index.js\n");

/***/ }),

/***/ "../ui/component/expandable/view.jsx":
/*!*******************************************!*\
  !*** ../ui/component/expandable/view.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Expandable; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ \"../node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var component_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! component/button */ \"../ui/component/button/index.js\");\n/* harmony import */ var effects_use_on_resize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! effects/use-on-resize */ \"../ui/effects/use-on-resize.js\");\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\n\n\n\n\nvar COLLAPSED_HEIGHT = 120;\nfunction Expandable(props) {\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      expanded = _useState2[0],\n      setExpanded = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      rect = _useState4[0],\n      setRect = _useState4[1];\n\n  var children = props.children;\n  var ref = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useRef\"])(); // Update the rect initially & when the window size changes.\n\n  Object(effects_use_on_resize__WEBPACK_IMPORTED_MODULE_3__[\"useOnResize\"])(function () {\n    if (ref.current) {\n      setRect(ref.current.getBoundingClientRect());\n    }\n  }); // Update the rect when children changes,\n  // not sure if this is needed but a situation could arise when the\n  // component re-renders with a different children prop,\n  // Can enable on a later date if needed.\n  // useLayoutEffect(() => {\n  //   console.log('render, useLayoutEffect');\n  //   if (ref.current) {\n  //     setRect(ref.current.getBoundingClientRect());\n  //   }\n  // }, [children]);\n\n  function handleClick() {\n    setExpanded(!expanded);\n  }\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    ref: ref\n  }, rect && rect.height > COLLAPSED_HEIGHT ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    ref: ref\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()({\n      'expandable--open': expanded,\n      'expandable--closed': !expanded\n    })\n  }, children), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    button: \"link\",\n    className: \"expandable__button\",\n    label: expanded ? __('Less') : __('More'),\n    onClick: handleClick\n  })) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, children));\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! i18n.js */ \"../ui/i18n.js\")[\"__\"]))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L2V4cGFuZGFibGUvdmlldy5qc3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vdWkvY29tcG9uZW50L2V4cGFuZGFibGUvdmlldy5qc3g/NGYwMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAZmxvd1xuaW1wb3J0IFJlYWN0LCB7IHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBCdXR0b24gZnJvbSAnY29tcG9uZW50L2J1dHRvbic7XG5pbXBvcnQgeyB1c2VPblJlc2l6ZSB9IGZyb20gJ2VmZmVjdHMvdXNlLW9uLXJlc2l6ZSc7XG5cbmNvbnN0IENPTExBUFNFRF9IRUlHSFQgPSAxMjA7XG5cbnR5cGUgUHJvcHMgPSB7XG4gIGNoaWxkcmVuOiBSZWFjdCROb2RlIHwgQXJyYXk8UmVhY3QkTm9kZT4sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBFeHBhbmRhYmxlKHByb3BzOiBQcm9wcykge1xuICBjb25zdCBbZXhwYW5kZWQsIHNldEV4cGFuZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3JlY3QsIHNldFJlY3RdID0gdXNlU3RhdGUoKTtcbiAgY29uc3QgeyBjaGlsZHJlbiB9ID0gcHJvcHM7XG4gIGNvbnN0IHJlZiA9IHVzZVJlZigpO1xuXG4gIC8vIFVwZGF0ZSB0aGUgcmVjdCBpbml0aWFsbHkgJiB3aGVuIHRoZSB3aW5kb3cgc2l6ZSBjaGFuZ2VzLlxuICB1c2VPblJlc2l6ZSgoKSA9PiB7XG4gICAgaWYgKHJlZi5jdXJyZW50KSB7XG4gICAgICBzZXRSZWN0KHJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFVwZGF0ZSB0aGUgcmVjdCB3aGVuIGNoaWxkcmVuIGNoYW5nZXMsXG4gIC8vIG5vdCBzdXJlIGlmIHRoaXMgaXMgbmVlZGVkIGJ1dCBhIHNpdHVhdGlvbiBjb3VsZCBhcmlzZSB3aGVuIHRoZVxuICAvLyBjb21wb25lbnQgcmUtcmVuZGVycyB3aXRoIGEgZGlmZmVyZW50IGNoaWxkcmVuIHByb3AsXG4gIC8vIENhbiBlbmFibGUgb24gYSBsYXRlciBkYXRlIGlmIG5lZWRlZC5cbiAgLy8gdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgLy8gICBjb25zb2xlLmxvZygncmVuZGVyLCB1c2VMYXlvdXRFZmZlY3QnKTtcbiAgLy8gICBpZiAocmVmLmN1cnJlbnQpIHtcbiAgLy8gICAgIHNldFJlY3QocmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICAvLyAgIH1cbiAgLy8gfSwgW2NoaWxkcmVuXSk7XG5cbiAgZnVuY3Rpb24gaGFuZGxlQ2xpY2soKSB7XG4gICAgc2V0RXhwYW5kZWQoIWV4cGFuZGVkKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiByZWY9e3JlZn0+XG4gICAgICB7cmVjdCAmJiByZWN0LmhlaWdodCA+IENPTExBUFNFRF9IRUlHSFQgPyAoXG4gICAgICAgIDxkaXYgcmVmPXtyZWZ9PlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NuYW1lcyh7XG4gICAgICAgICAgICAgICdleHBhbmRhYmxlLS1vcGVuJzogZXhwYW5kZWQsXG4gICAgICAgICAgICAgICdleHBhbmRhYmxlLS1jbG9zZWQnOiAhZXhwYW5kZWQsXG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgYnV0dG9uPVwibGlua1wiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJleHBhbmRhYmxlX19idXR0b25cIlxuICAgICAgICAgICAgbGFiZWw9e2V4cGFuZGVkID8gX18oJ0xlc3MnKSA6IF9fKCdNb3JlJyl9XG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDbGlja31cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICkgOiAoXG4gICAgICAgIDxkaXY+e2NoaWxkcmVufTwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBVkE7QUFjQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUZBO0FBREE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBWUE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../ui/component/expandable/view.jsx\n");

/***/ })

}]);