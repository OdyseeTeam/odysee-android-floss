webpackHotUpdate("ui-202209270633",{

/***/ "../ui/component/fileThumbnail/view.jsx":
/*!**********************************************!*\
  !*** ../ui/component/fileThumbnail/view.jsx ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! config */ \"../config.js\");\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(config__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var effects_use_screensize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effects/use-screensize */ \"../ui/effects/use-screensize.js\");\n/* harmony import */ var util_thumbnail__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! util/thumbnail */ \"../ui/util/thumbnail.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var component_common_freezeframe_wrapper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! component/common/freezeframe-wrapper */ \"../ui/component/common/freezeframe-wrapper.jsx\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! classnames */ \"../node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _internal_thumb__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./internal/thumb */ \"../ui/component/fileThumbnail/internal/thumb.jsx\");\n/* harmony import */ var component_previewTilePurchaseOverlay__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! component/previewTilePurchaseOverlay */ \"../ui/component/previewTilePurchaseOverlay/index.js\");\n/* harmony import */ var _previewOverlayProtectedContent__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../previewOverlayProtectedContent */ \"../ui/component/previewOverlayProtectedContent/index.js\");\n\n\n\n\n\n\n\n\n\n\nfunction FileThumbnail(props) {\n  var uri = props.uri,\n      tileLayout = props.tileLayout,\n      rawThumbnail = props.thumbnail,\n      children = props.children,\n      _props$allowGifs = props.allowGifs,\n      allowGifs = _props$allowGifs === void 0 ? false : _props$allowGifs,\n      className = props.className,\n      small = props.small,\n      forcePlaceholder = props.forcePlaceholder,\n      hasResolvedClaim = props.hasResolvedClaim,\n      thumbnailFromClaim = props.thumbnailFromClaim,\n      doResolveUri = props.doResolveUri;\n  var isMobile = Object(effects_use_screensize__WEBPACK_IMPORTED_MODULE_1__[\"useIsMobile\"])();\n  var passedThumbnail = rawThumbnail && rawThumbnail.trim().replace(/^http:\\/\\//i, 'https://');\n  var thumbnail = passedThumbnail || thumbnailFromClaim;\n  var isGif = thumbnail && thumbnail.endsWith('gif');\n  react__WEBPACK_IMPORTED_MODULE_3___default.a.useEffect(function () {\n    if (hasResolvedClaim === false && uri && !passedThumbnail) {\n      doResolveUri(uri);\n    }\n  }, [hasResolvedClaim, passedThumbnail, doResolveUri, uri]);\n\n  if (!allowGifs && isGif) {\n    var _url = Object(util_thumbnail__WEBPACK_IMPORTED_MODULE_2__[\"getImageProxyUrl\"])(thumbnail);\n\n    return _url && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(component_common_freezeframe_wrapper__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n      small: small,\n      src: _url,\n      className: classnames__WEBPACK_IMPORTED_MODULE_5___default()('media__thumb', className, {\n        'media__thumb--resolving': hasResolvedClaim === false,\n        'media__thumb--small': small\n      })\n    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_previewOverlayProtectedContent__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      uri: uri\n    }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(component_previewTilePurchaseOverlay__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n      uri: uri\n    }), children);\n  }\n\n  var fallback = config__WEBPACK_IMPORTED_MODULE_0__[\"MISSING_THUMB_DEFAULT\"] ? Object(util_thumbnail__WEBPACK_IMPORTED_MODULE_2__[\"getThumbnailCdnUrl\"])({\n    thumbnail: config__WEBPACK_IMPORTED_MODULE_0__[\"MISSING_THUMB_DEFAULT\"]\n  }) : undefined;\n  var url = thumbnail || (hasResolvedClaim ? config__WEBPACK_IMPORTED_MODULE_0__[\"MISSING_THUMB_DEFAULT\"] : ''); // Pass image urls through a compression proxy\n\n  if (thumbnail) {\n    if (isGif) {\n      url = Object(util_thumbnail__WEBPACK_IMPORTED_MODULE_2__[\"getImageProxyUrl\"])(thumbnail); // Note: the '!allowGifs' case is handled in Freezeframe above.\n    } else {\n      url = Object(util_thumbnail__WEBPACK_IMPORTED_MODULE_2__[\"getThumbnailCdnUrl\"])({\n        thumbnail: thumbnail,\n        width: isMobile && tileLayout ? config__WEBPACK_IMPORTED_MODULE_0__[\"THUMBNAIL_WIDTH_POSTER\"] : config__WEBPACK_IMPORTED_MODULE_0__[\"THUMBNAIL_WIDTH\"],\n        height: isMobile && tileLayout ? config__WEBPACK_IMPORTED_MODULE_0__[\"THUMBNAIL_HEIGHT_POSTER\"] : config__WEBPACK_IMPORTED_MODULE_0__[\"THUMBNAIL_HEIGHT\"],\n        quality: config__WEBPACK_IMPORTED_MODULE_0__[\"THUMBNAIL_QUALITY\"]\n      });\n    }\n  }\n\n  var thumbnailUrl = url ? url.replace(/'/g, \"\\\\'\") : '';\n\n  if (hasResolvedClaim || thumbnailUrl || forcePlaceholder && !uri) {\n    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_internal_thumb__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      small: small,\n      thumb: thumbnailUrl || config__WEBPACK_IMPORTED_MODULE_0__[\"MISSING_THUMB_DEFAULT\"],\n      fallback: fallback,\n      className: className\n    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_previewOverlayProtectedContent__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      uri: uri\n    }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(component_previewTilePurchaseOverlay__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n      uri: uri\n    }), children);\n  }\n\n  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_5___default()('media__thumb', className, {\n      'media__thumb--resolving': hasResolvedClaim === false,\n      'media__thumb--small': small\n    })\n  }, children);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (FileThumbnail);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L2ZpbGVUaHVtYm5haWwvdmlldy5qc3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vdWkvY29tcG9uZW50L2ZpbGVUaHVtYm5haWwvdmlldy5qc3g/NzZjNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAZmxvd1xuaW1wb3J0IHR5cGUgeyBOb2RlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtcbiAgVEhVTUJOQUlMX1dJRFRILFxuICBUSFVNQk5BSUxfV0lEVEhfUE9TVEVSLFxuICBUSFVNQk5BSUxfSEVJR0hULFxuICBUSFVNQk5BSUxfSEVJR0hUX1BPU1RFUixcbiAgVEhVTUJOQUlMX1FVQUxJVFksXG4gIE1JU1NJTkdfVEhVTUJfREVGQVVMVCxcbn0gZnJvbSAnY29uZmlnJztcbmltcG9ydCB7IHVzZUlzTW9iaWxlIH0gZnJvbSAnZWZmZWN0cy91c2Utc2NyZWVuc2l6ZSc7XG5pbXBvcnQgeyBnZXRJbWFnZVByb3h5VXJsLCBnZXRUaHVtYm5haWxDZG5VcmwgfSBmcm9tICd1dGlsL3RodW1ibmFpbCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEZyZWV6ZWZyYW1lV3JhcHBlciBmcm9tICdjb21wb25lbnQvY29tbW9uL2ZyZWV6ZWZyYW1lLXdyYXBwZXInO1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgVGh1bWIgZnJvbSAnLi9pbnRlcm5hbC90aHVtYic7XG5pbXBvcnQgUHJldmlld1RpbGVQdXJjaGFzZU92ZXJsYXkgZnJvbSAnY29tcG9uZW50L3ByZXZpZXdUaWxlUHVyY2hhc2VPdmVybGF5JztcbmltcG9ydCBQcmV2aWV3T3ZlcmxheVByb3RlY3RlZENvbnRlbnQgZnJvbSAnLi4vcHJldmlld092ZXJsYXlQcm90ZWN0ZWRDb250ZW50JztcblxudHlwZSBQcm9wcyA9IHtcbiAgdXJpPzogc3RyaW5nLFxuICB0aWxlTGF5b3V0PzogYm9vbGVhbixcbiAgdGh1bWJuYWlsOiA/c3RyaW5nLCAvLyBleHRlcm5hbGx5IHNvdXJjZWQgaW1hZ2VcbiAgY2hpbGRyZW4/OiBOb2RlLFxuICBhbGxvd0dpZnM6IGJvb2xlYW4sXG4gIGNsYWltOiA/U3RyZWFtQ2xhaW0sXG4gIGNsYXNzTmFtZT86IHN0cmluZyxcbiAgc21hbGw/OiBib29sZWFuLFxuICBmb3JjZVBsYWNlaG9sZGVyPzogYm9vbGVhbixcbiAgLy8gLS0gcmVkdXggLS1cbiAgaGFzUmVzb2x2ZWRDbGFpbTogP2Jvb2xlYW4sIC8vIHVuZGVmaW5lZCBpZiB1cmkgaXMgbm90IGdpdmVuIChpcnJlbGV2YW50KTsgYm9vbGVhbiBvdGhlcndpc2UuXG4gIHRodW1ibmFpbEZyb21DbGFpbTogP3N0cmluZyxcbiAgZG9SZXNvbHZlVXJpOiAodXJpOiBzdHJpbmcpID0+IHZvaWQsXG59O1xuXG5mdW5jdGlvbiBGaWxlVGh1bWJuYWlsKHByb3BzOiBQcm9wcykge1xuICBjb25zdCB7XG4gICAgdXJpLFxuICAgIHRpbGVMYXlvdXQsXG4gICAgdGh1bWJuYWlsOiByYXdUaHVtYm5haWwsXG4gICAgY2hpbGRyZW4sXG4gICAgYWxsb3dHaWZzID0gZmFsc2UsXG4gICAgY2xhc3NOYW1lLFxuICAgIHNtYWxsLFxuICAgIGZvcmNlUGxhY2Vob2xkZXIsXG4gICAgLy8gLS0gcmVkdXggLS1cbiAgICBoYXNSZXNvbHZlZENsYWltLFxuICAgIHRodW1ibmFpbEZyb21DbGFpbSxcbiAgICBkb1Jlc29sdmVVcmksXG4gIH0gPSBwcm9wcztcblxuICBjb25zdCBpc01vYmlsZSA9IHVzZUlzTW9iaWxlKCk7XG5cbiAgY29uc3QgcGFzc2VkVGh1bWJuYWlsID0gcmF3VGh1bWJuYWlsICYmIHJhd1RodW1ibmFpbC50cmltKCkucmVwbGFjZSgvXmh0dHA6XFwvXFwvL2ksICdodHRwczovLycpO1xuICBjb25zdCB0aHVtYm5haWwgPSBwYXNzZWRUaHVtYm5haWwgfHwgdGh1bWJuYWlsRnJvbUNsYWltO1xuICBjb25zdCBpc0dpZiA9IHRodW1ibmFpbCAmJiB0aHVtYm5haWwuZW5kc1dpdGgoJ2dpZicpO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGhhc1Jlc29sdmVkQ2xhaW0gPT09IGZhbHNlICYmIHVyaSAmJiAhcGFzc2VkVGh1bWJuYWlsKSB7XG4gICAgICBkb1Jlc29sdmVVcmkodXJpKTtcbiAgICB9XG4gIH0sIFtoYXNSZXNvbHZlZENsYWltLCBwYXNzZWRUaHVtYm5haWwsIGRvUmVzb2x2ZVVyaSwgdXJpXSk7XG5cbiAgaWYgKCFhbGxvd0dpZnMgJiYgaXNHaWYpIHtcbiAgICBjb25zdCB1cmwgPSBnZXRJbWFnZVByb3h5VXJsKHRodW1ibmFpbCk7XG4gICAgXG4gICAgcmV0dXJuIChcbiAgICAgIHVybCAmJiAoXG4gICAgICAgIDxGcmVlemVmcmFtZVdyYXBwZXJcbiAgICAgICAgICBzbWFsbD17c21hbGx9XG4gICAgICAgICAgc3JjPXt1cmx9XG4gICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc25hbWVzKCdtZWRpYV9fdGh1bWInLCBjbGFzc05hbWUsIHtcbiAgICAgICAgICAgICdtZWRpYV9fdGh1bWItLXJlc29sdmluZyc6IGhhc1Jlc29sdmVkQ2xhaW0gPT09IGZhbHNlLFxuICAgICAgICAgICAgJ21lZGlhX190aHVtYi0tc21hbGwnOiBzbWFsbCxcbiAgICAgICAgICB9KX1cbiAgICAgICAgPlxuICAgICAgICAgIDxQcmV2aWV3T3ZlcmxheVByb3RlY3RlZENvbnRlbnQgdXJpPXt1cml9IC8+XG4gICAgICAgICAgPFByZXZpZXdUaWxlUHVyY2hhc2VPdmVybGF5IHVyaT17dXJpfSAvPlxuICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9GcmVlemVmcmFtZVdyYXBwZXI+XG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGZhbGxiYWNrID0gTUlTU0lOR19USFVNQl9ERUZBVUxUID8gZ2V0VGh1bWJuYWlsQ2RuVXJsKHsgdGh1bWJuYWlsOiBNSVNTSU5HX1RIVU1CX0RFRkFVTFQgfSkgOiB1bmRlZmluZWQ7XG5cbiAgbGV0IHVybCA9IHRodW1ibmFpbCB8fCAoaGFzUmVzb2x2ZWRDbGFpbSA/IE1JU1NJTkdfVEhVTUJfREVGQVVMVCA6ICcnKTtcbiAgLy8gUGFzcyBpbWFnZSB1cmxzIHRocm91Z2ggYSBjb21wcmVzc2lvbiBwcm94eVxuICBpZiAodGh1bWJuYWlsKSB7XG4gICAgaWYgKGlzR2lmKSB7XG4gICAgICB1cmwgPSBnZXRJbWFnZVByb3h5VXJsKHRodW1ibmFpbCk7IC8vIE5vdGU6IHRoZSAnIWFsbG93R2lmcycgY2FzZSBpcyBoYW5kbGVkIGluIEZyZWV6ZWZyYW1lIGFib3ZlLlxuICAgIH0gZWxzZSB7XG4gICAgICB1cmwgPSBnZXRUaHVtYm5haWxDZG5Vcmwoe1xuICAgICAgICB0aHVtYm5haWwsXG4gICAgICAgIHdpZHRoOiBpc01vYmlsZSAmJiB0aWxlTGF5b3V0ID8gVEhVTUJOQUlMX1dJRFRIX1BPU1RFUiA6IFRIVU1CTkFJTF9XSURUSCxcbiAgICAgICAgaGVpZ2h0OiBpc01vYmlsZSAmJiB0aWxlTGF5b3V0ID8gVEhVTUJOQUlMX0hFSUdIVF9QT1NURVIgOiBUSFVNQk5BSUxfSEVJR0hULFxuICAgICAgICBxdWFsaXR5OiBUSFVNQk5BSUxfUVVBTElUWSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHRodW1ibmFpbFVybCA9IHVybCA/IHVybC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIikgOiAnJztcblxuICBpZiAoaGFzUmVzb2x2ZWRDbGFpbSB8fCB0aHVtYm5haWxVcmwgfHwgKGZvcmNlUGxhY2Vob2xkZXIgJiYgIXVyaSkpIHtcblxuICAgIHJldHVybiAoXG4gICAgICA8VGh1bWIgc21hbGw9e3NtYWxsfSB0aHVtYj17dGh1bWJuYWlsVXJsIHx8IE1JU1NJTkdfVEhVTUJfREVGQVVMVH0gZmFsbGJhY2s9e2ZhbGxiYWNrfSBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICAgIDxQcmV2aWV3T3ZlcmxheVByb3RlY3RlZENvbnRlbnQgdXJpPXt1cml9IC8+XG4gICAgICAgIDxQcmV2aWV3VGlsZVB1cmNoYXNlT3ZlcmxheSB1cmk9e3VyaX0gLz5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9UaHVtYj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9e2NsYXNzbmFtZXMoJ21lZGlhX190aHVtYicsIGNsYXNzTmFtZSwge1xuICAgICAgICAnbWVkaWFfX3RodW1iLS1yZXNvbHZpbmcnOiBoYXNSZXNvbHZlZENsYWltID09PSBmYWxzZSxcbiAgICAgICAgJ21lZGlhX190aHVtYi0tc21hbGwnOiBzbWFsbCxcbiAgICAgIH0pfVxuICAgID5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgRmlsZVRodW1ibmFpbDtcbiJdLCJtYXBwaW5ncyI6IkFBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWlCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWdCQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSEE7QUFRQTtBQUFBO0FBQ0E7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUZBO0FBREE7QUFTQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../ui/component/fileThumbnail/view.jsx\n");

/***/ })

})