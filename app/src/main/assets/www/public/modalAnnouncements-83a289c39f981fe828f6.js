(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["modalAnnouncements"],{

/***/ "../ui/modal/modalAnnouncements/index.js":
/*!***********************************************!*\
  !*** ../ui/modal/modalAnnouncements/index.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./view */ \"../ui/modal/modalAnnouncements/view.jsx\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ \"../node_modules/react-redux/es/index.js\");\n/* harmony import */ var redux_actions_app__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! redux/actions/app */ \"../ui/redux/actions/app.js\");\n/* harmony import */ var redux_actions_content__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! redux/actions/content */ \"../ui/redux/actions/content.js\");\n/* harmony import */ var redux_selectors_content__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! redux/selectors/content */ \"../ui/redux/selectors/content.js\");\n/* harmony import */ var redux_selectors_settings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! redux/selectors/settings */ \"../ui/redux/selectors/settings.js\");\n/* harmony import */ var redux_selectors_user__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! redux/selectors/user */ \"../ui/redux/selectors/user.js\");\n\n\n\n\n\n\n\n\nvar select = function select(state) {\n  return {\n    authenticated: Object(redux_selectors_user__WEBPACK_IMPORTED_MODULE_6__[\"selectUserVerifiedEmail\"])(state),\n    announcement: Object(redux_selectors_settings__WEBPACK_IMPORTED_MODULE_5__[\"selectHomepageAnnouncement\"])(state),\n    lastViewedHash: Object(redux_selectors_content__WEBPACK_IMPORTED_MODULE_4__[\"selectLastViewedAnnouncement\"])(state)\n  };\n};\n\nvar perform = {\n  doHideModal: redux_actions_app__WEBPACK_IMPORTED_MODULE_2__[\"doHideModal\"],\n  doSetLastViewedAnnouncement: redux_actions_content__WEBPACK_IMPORTED_MODULE_3__[\"doSetLastViewedAnnouncement\"]\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(select, perform)(_view__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvbW9kYWwvbW9kYWxBbm5vdW5jZW1lbnRzL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3VpL21vZGFsL21vZGFsQW5ub3VuY2VtZW50cy9pbmRleC5qcz8xNTc2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBNb2RhbEFubm91bmNlbWVudHMgZnJvbSAnLi92aWV3JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBkb0hpZGVNb2RhbCB9IGZyb20gJ3JlZHV4L2FjdGlvbnMvYXBwJztcbmltcG9ydCB7IGRvU2V0TGFzdFZpZXdlZEFubm91bmNlbWVudCB9IGZyb20gJ3JlZHV4L2FjdGlvbnMvY29udGVudCc7XG5pbXBvcnQgeyBzZWxlY3RMYXN0Vmlld2VkQW5ub3VuY2VtZW50IH0gZnJvbSAncmVkdXgvc2VsZWN0b3JzL2NvbnRlbnQnO1xuaW1wb3J0IHsgc2VsZWN0SG9tZXBhZ2VBbm5vdW5jZW1lbnQgfSBmcm9tICdyZWR1eC9zZWxlY3RvcnMvc2V0dGluZ3MnO1xuaW1wb3J0IHsgc2VsZWN0VXNlclZlcmlmaWVkRW1haWwgfSBmcm9tICdyZWR1eC9zZWxlY3RvcnMvdXNlcic7XG5cbmNvbnN0IHNlbGVjdCA9IChzdGF0ZSkgPT4gKHtcbiAgYXV0aGVudGljYXRlZDogc2VsZWN0VXNlclZlcmlmaWVkRW1haWwoc3RhdGUpLFxuICBhbm5vdW5jZW1lbnQ6IHNlbGVjdEhvbWVwYWdlQW5ub3VuY2VtZW50KHN0YXRlKSxcbiAgbGFzdFZpZXdlZEhhc2g6IHNlbGVjdExhc3RWaWV3ZWRBbm5vdW5jZW1lbnQoc3RhdGUpLFxufSk7XG5cbmNvbnN0IHBlcmZvcm0gPSB7XG4gIGRvSGlkZU1vZGFsLFxuICBkb1NldExhc3RWaWV3ZWRBbm5vdW5jZW1lbnQsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KHNlbGVjdCwgcGVyZm9ybSkoTW9kYWxBbm5vdW5jZW1lbnRzKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFBQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFLQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../ui/modal/modalAnnouncements/index.js\n");

/***/ }),

/***/ "../ui/modal/modalAnnouncements/view.jsx":
/*!***********************************************!*\
  !*** ../ui/modal/modalAnnouncements/view.jsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ModalAnnouncements; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ \"../node_modules/react-router-dom/esm/react-router-dom.js\");\n/* harmony import */ var component_common_card__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! component/common/card */ \"../ui/component/common/card.jsx\");\n/* harmony import */ var component_common_markdown_preview__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! component/common/markdown-preview */ \"../ui/component/common/markdown-preview.jsx\");\n/* harmony import */ var constants_pages__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! constants/pages */ \"../ui/constants/pages.js\");\n/* harmony import */ var constants_pages__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(constants_pages__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var modal_modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! modal/modal */ \"../ui/modal/modal.jsx\");\n/* harmony import */ var util_string__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! util/string */ \"../ui/util/string.js\");\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\n\n\n\n\n\n\n\nfunction ModalAnnouncements(props) {\n  var authenticated = props.authenticated,\n      announcement = props.announcement,\n      lastViewedHash = props.lastViewedHash,\n      isAutoInvoked = props.isAutoInvoked,\n      doHideModal = props.doHideModal,\n      doSetLastViewedAnnouncement = props.doSetLastViewedAnnouncement;\n\n  var _useHistory = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"useHistory\"])(),\n      pathname = _useHistory.location.pathname;\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      show = _React$useState2[0],\n      setShow = _React$useState2[1];\n\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect(function () {\n    if (!authenticated || pathname !== '/' && pathname !== \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_4__[\"HELP\"]) || announcement === '') {\n      doHideModal();\n      return;\n    }\n\n    var hash = Object(util_string__WEBPACK_IMPORTED_MODULE_6__[\"getSimpleStrHash\"])(announcement);\n\n    if (lastViewedHash.includes(hash)) {\n      if (isAutoInvoked) {\n        doHideModal();\n      } else {\n        setShow(true);\n      }\n    } else {\n      setShow(true);\n      doSetLastViewedAnnouncement(hash);\n    }\n  }, []);\n\n  if (!show) {\n    return null;\n  }\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(modal_modal__WEBPACK_IMPORTED_MODULE_5__[\"Modal\"], {\n    type: \"card\",\n    isOpen: true,\n    onAborted: doHideModal\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(component_common_card__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    className: \"announcement\",\n    actions: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(component_common_markdown_preview__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n      className: \"markdown-preview--announcement\",\n      content: announcement,\n      simpleLinks: true\n    })\n  }));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvbW9kYWwvbW9kYWxBbm5vdW5jZW1lbnRzL3ZpZXcuanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3VpL21vZGFsL21vZGFsQW5ub3VuY2VtZW50cy92aWV3LmpzeD85NTlmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEBmbG93XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlSGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IENhcmQgZnJvbSAnY29tcG9uZW50L2NvbW1vbi9jYXJkJztcbmltcG9ydCBNYXJrZG93blByZXZpZXcgZnJvbSAnY29tcG9uZW50L2NvbW1vbi9tYXJrZG93bi1wcmV2aWV3JztcbmltcG9ydCAqIGFzIFBBR0VTIGZyb20gJ2NvbnN0YW50cy9wYWdlcyc7XG5pbXBvcnQgeyBNb2RhbCB9IGZyb20gJ21vZGFsL21vZGFsJztcbmltcG9ydCB7IGdldFNpbXBsZVN0ckhhc2ggfSBmcm9tICd1dGlsL3N0cmluZyc7XG5cbnR5cGUgUHJvcHMgPSB7XG4gIGlzQXV0b0ludm9rZWQ/OiBib29sZWFuLFxuICAvLyAtLS0gcmVkdXggLS0tXG4gIGF1dGhlbnRpY2F0ZWQ/OiBib29sZWFuLFxuICBhbm5vdW5jZW1lbnQ6IHN0cmluZyxcbiAgbGFzdFZpZXdlZEhhc2g6IExhc3RWaWV3ZWRBbm5vdW5jZW1lbnQsXG4gIGRvSGlkZU1vZGFsOiAoKSA9PiB2b2lkLFxuICBkb1NldExhc3RWaWV3ZWRBbm5vdW5jZW1lbnQ6IChoYXNoOiBzdHJpbmcpID0+IHZvaWQsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNb2RhbEFubm91bmNlbWVudHMocHJvcHM6IFByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBhdXRoZW50aWNhdGVkLFxuICAgIGFubm91bmNlbWVudCxcbiAgICBsYXN0Vmlld2VkSGFzaCxcbiAgICBpc0F1dG9JbnZva2VkLFxuICAgIGRvSGlkZU1vZGFsLFxuICAgIGRvU2V0TGFzdFZpZXdlZEFubm91bmNlbWVudCxcbiAgfSA9IHByb3BzO1xuXG4gIGNvbnN0IHtcbiAgICBsb2NhdGlvbjogeyBwYXRobmFtZSB9LFxuICB9ID0gdXNlSGlzdG9yeSgpO1xuXG4gIGNvbnN0IFtzaG93LCBzZXRTaG93XSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghYXV0aGVudGljYXRlZCB8fCAocGF0aG5hbWUgIT09ICcvJyAmJiBwYXRobmFtZSAhPT0gYC8kLyR7UEFHRVMuSEVMUH1gKSB8fCBhbm5vdW5jZW1lbnQgPT09ICcnKSB7XG4gICAgICBkb0hpZGVNb2RhbCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGhhc2ggPSBnZXRTaW1wbGVTdHJIYXNoKGFubm91bmNlbWVudCk7XG5cbiAgICBpZiAobGFzdFZpZXdlZEhhc2guaW5jbHVkZXMoaGFzaCkpIHtcbiAgICAgIGlmIChpc0F1dG9JbnZva2VkKSB7XG4gICAgICAgIGRvSGlkZU1vZGFsKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRTaG93KHRydWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXRTaG93KHRydWUpO1xuICAgICAgZG9TZXRMYXN0Vmlld2VkQW5ub3VuY2VtZW50KGhhc2gpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIGlmICghc2hvdykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8TW9kYWwgdHlwZT1cImNhcmRcIiBpc09wZW4gb25BYm9ydGVkPXtkb0hpZGVNb2RhbH0+XG4gICAgICA8Q2FyZFxuICAgICAgICBjbGFzc05hbWU9XCJhbm5vdW5jZW1lbnRcIlxuICAgICAgICBhY3Rpb25zPXs8TWFya2Rvd25QcmV2aWV3IGNsYXNzTmFtZT1cIm1hcmtkb3duLXByZXZpZXctLWFubm91bmNlbWVudFwiIGNvbnRlbnQ9e2Fubm91bmNlbWVudH0gc2ltcGxlTGlua3MgLz59XG4gICAgICAvPlxuICAgIDwvTW9kYWw+XG4gICk7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFlQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7QUFqQkE7QUFDQTtBQW1CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFGQTtBQU1BIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../ui/modal/modalAnnouncements/view.jsx\n");

/***/ })

}]);