webpackHotUpdate("livestreamCreate~livestreamSetup",{

/***/ "../ui/component/copyableText/view.jsx":
/*!*********************************************!*\
  !*** ../ui/component/copyableText/view.jsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CopyableText; });\n/* harmony import */ var constants_icons__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! constants/icons */ \"../ui/constants/icons.js\");\n/* harmony import */ var component_common_form__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! component/common/form */ \"../ui/component/common/form.jsx\");\n/* harmony import */ var component_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! component/button */ \"../ui/component/button/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\n\n\n\n\nfunction CopyableText(props) {\n  var copyable = props.copyable,\n      onlyCopy = props.onlyCopy,\n      doToast = props.doToast,\n      snackMessage = props.snackMessage,\n      label = props.label,\n      _props$primaryButton = props.primaryButton,\n      primaryButton = _props$primaryButton === void 0 ? false : _props$primaryButton,\n      name = props.name,\n      onCopy = props.onCopy,\n      enableInputMask = props.enableInputMask;\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_3___default.a.useState(enableInputMask),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      maskInput = _React$useState2[0],\n      setMaskInput = _React$useState2[1];\n\n  var input = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useRef\"])();\n\n  function handleCopyText() {\n    if (enableInputMask || onlyCopy) {\n      navigator.clipboard.writeText(copyable).then(function () {\n        doToast({\n          message: snackMessage || __('Text copied')\n        });\n      })[\"catch\"](function () {\n        doToast({\n          message: __('Failed to copy.'),\n          isError: true\n        });\n      });\n    } else {\n      var topRef = input.current;\n\n      if (topRef && topRef.input && topRef.input.current) {\n        topRef.input.current.select();\n\n        if (onCopy) {\n          // Allow clients to change the selection before making the copy.\n          onCopy(topRef.input.current);\n        }\n      }\n\n      document.execCommand('copy');\n      doToast({\n        message: snackMessage || __('Text copied')\n      });\n    }\n  }\n\n  function onFocus() {\n    // We have to go a layer deep since the input is inside the form component\n    var topRef = input.current;\n\n    if (topRef && topRef.input && topRef.input.current) {\n      topRef.input.current.select();\n    }\n  }\n\n  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(component_common_form__WEBPACK_IMPORTED_MODULE_1__[\"FormField\"], {\n    type: maskInput ? 'password' : 'text',\n    className: \"form-field--copyable\",\n    readOnly: true,\n    name: name,\n    label: label,\n    value: copyable || '',\n    ref: input,\n    onFocus: onFocus,\n    inputButton: react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n      button: primaryButton ? 'primary' : 'secondary',\n      icon: constants_icons__WEBPACK_IMPORTED_MODULE_0__[\"COPY\"],\n      onClick: handleCopyText\n    }),\n    helper: enableInputMask && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n      button: \"link\",\n      onClick: function onClick() {\n        return setMaskInput(!maskInput);\n      },\n      label: maskInput ? __('Show') : __('Hide')\n    })\n  });\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! i18n.js */ \"../ui/i18n.js\")[\"__\"]))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L2NvcHlhYmxlVGV4dC92aWV3LmpzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi91aS9jb21wb25lbnQvY29weWFibGVUZXh0L3ZpZXcuanN4PzMwYjQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQGZsb3dcbmltcG9ydCAqIGFzIElDT05TIGZyb20gJ2NvbnN0YW50cy9pY29ucyc7XG5pbXBvcnQgeyBGb3JtRmllbGQgfSBmcm9tICdjb21wb25lbnQvY29tbW9uL2Zvcm0nO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdjb21wb25lbnQvYnV0dG9uJztcbmltcG9ydCBSZWFjdCwgeyB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5cbnR5cGUgUHJvcHMgPSB7XG4gIGNvcHlhYmxlOiBzdHJpbmcsXG4gIG9ubHlDb3B5OiBib29sZWFuLFxuICBzbmFja01lc3NhZ2U6ID9zdHJpbmcsXG4gIGRvVG9hc3Q6ICh7IG1lc3NhZ2U6IHN0cmluZyB9KSA9PiB2b2lkLFxuICBsYWJlbD86IHN0cmluZyxcbiAgcHJpbWFyeUJ1dHRvbj86IGJvb2xlYW4sXG4gIG5hbWU/OiBzdHJpbmcsXG4gIG9uQ29weT86IChzdHJpbmcpID0+IHN0cmluZyxcbiAgZW5hYmxlSW5wdXRNYXNrPzogYm9vbGVhbixcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvcHlhYmxlVGV4dChwcm9wczogUHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGNvcHlhYmxlLFxuICAgIG9ubHlDb3B5LFxuICAgIGRvVG9hc3QsXG4gICAgc25hY2tNZXNzYWdlLFxuICAgIGxhYmVsLFxuICAgIHByaW1hcnlCdXR0b24gPSBmYWxzZSxcbiAgICBuYW1lLFxuICAgIG9uQ29weSxcbiAgICBlbmFibGVJbnB1dE1hc2ssXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgW21hc2tJbnB1dCwgc2V0TWFza0lucHV0XSA9IFJlYWN0LnVzZVN0YXRlKGVuYWJsZUlucHV0TWFzayk7XG5cbiAgY29uc3QgaW5wdXQgPSB1c2VSZWYoKTtcblxuICBmdW5jdGlvbiBoYW5kbGVDb3B5VGV4dCgpIHtcbiAgICBpZiAoZW5hYmxlSW5wdXRNYXNrIHx8IG9ubHlDb3B5KSB7XG4gICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkXG4gICAgICAgIC53cml0ZVRleHQoY29weWFibGUpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBkb1RvYXN0KHsgbWVzc2FnZTogc25hY2tNZXNzYWdlIHx8IF9fKCdUZXh0IGNvcGllZCcpIH0pO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgIGRvVG9hc3QoeyBtZXNzYWdlOiBfXygnRmFpbGVkIHRvIGNvcHkuJyksIGlzRXJyb3I6IHRydWUgfSk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB0b3BSZWYgPSBpbnB1dC5jdXJyZW50O1xuICAgICAgaWYgKHRvcFJlZiAmJiB0b3BSZWYuaW5wdXQgJiYgdG9wUmVmLmlucHV0LmN1cnJlbnQpIHtcbiAgICAgICAgdG9wUmVmLmlucHV0LmN1cnJlbnQuc2VsZWN0KCk7XG4gICAgICAgIGlmIChvbkNvcHkpIHtcbiAgICAgICAgICAvLyBBbGxvdyBjbGllbnRzIHRvIGNoYW5nZSB0aGUgc2VsZWN0aW9uIGJlZm9yZSBtYWtpbmcgdGhlIGNvcHkuXG4gICAgICAgICAgb25Db3B5KHRvcFJlZi5pbnB1dC5jdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpO1xuICAgICAgZG9Ub2FzdCh7IG1lc3NhZ2U6IHNuYWNrTWVzc2FnZSB8fCBfXygnVGV4dCBjb3BpZWQnKSB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkZvY3VzKCkge1xuICAgIC8vIFdlIGhhdmUgdG8gZ28gYSBsYXllciBkZWVwIHNpbmNlIHRoZSBpbnB1dCBpcyBpbnNpZGUgdGhlIGZvcm0gY29tcG9uZW50XG4gICAgY29uc3QgdG9wUmVmID0gaW5wdXQuY3VycmVudDtcbiAgICBpZiAodG9wUmVmICYmIHRvcFJlZi5pbnB1dCAmJiB0b3BSZWYuaW5wdXQuY3VycmVudCkge1xuICAgICAgdG9wUmVmLmlucHV0LmN1cnJlbnQuc2VsZWN0KCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8Rm9ybUZpZWxkXG4gICAgICB0eXBlPXttYXNrSW5wdXQgPyAncGFzc3dvcmQnIDogJ3RleHQnfVxuICAgICAgY2xhc3NOYW1lPVwiZm9ybS1maWVsZC0tY29weWFibGVcIlxuICAgICAgcmVhZE9ubHlcbiAgICAgIG5hbWU9e25hbWV9XG4gICAgICBsYWJlbD17bGFiZWx9XG4gICAgICB2YWx1ZT17Y29weWFibGUgfHwgJyd9XG4gICAgICByZWY9e2lucHV0fVxuICAgICAgb25Gb2N1cz17b25Gb2N1c31cbiAgICAgIGlucHV0QnV0dG9uPXtcbiAgICAgICAgPEJ1dHRvbiBidXR0b249e3ByaW1hcnlCdXR0b24gPyAncHJpbWFyeScgOiAnc2Vjb25kYXJ5J30gaWNvbj17SUNPTlMuQ09QWX0gb25DbGljaz17aGFuZGxlQ29weVRleHR9IC8+XG4gICAgICB9XG4gICAgICBoZWxwZXI9e1xuICAgICAgICBlbmFibGVJbnB1dE1hc2sgJiYgKFxuICAgICAgICAgIDxCdXR0b24gYnV0dG9uPVwibGlua1wiIG9uQ2xpY2s9eygpID0+IHNldE1hc2tJbnB1dCghbWFza0lucHV0KX0gbGFiZWw9e21hc2tJbnB1dCA/IF9fKCdTaG93JykgOiBfXygnSGlkZScpfSAvPlxuICAgICAgICApXG4gICAgICB9XG4gICAgLz5cbiAgKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBSEE7QUFNQTtBQUFBO0FBQUE7QUFBQTtBQU5BO0FBREE7QUFVQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFkQTtBQW1CQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../ui/component/copyableText/view.jsx\n");

/***/ }),

/***/ "../ui/component/publish/livestream/livestreamForm/view.jsx":
/*!******************************************************************!*\
  !*** ../ui/component/publish/livestream/livestreamForm/view.jsx ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__) {/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! config */ \"../config.js\");\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(config__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var constants_icons__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! constants/icons */ \"../ui/constants/icons.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lbry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lbry */ \"../ui/lbry.js\");\n/* harmony import */ var util_lbryURI__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! util/lbryURI */ \"../ui/util/lbryURI.js\");\n/* harmony import */ var constants_thumbnail_upload_statuses__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! constants/thumbnail_upload_statuses */ \"../ui/constants/thumbnail_upload_statuses.js\");\n/* harmony import */ var component_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! component/button */ \"../ui/component/button/index.js\");\n/* harmony import */ var component_channelSelector__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! component/channelSelector */ \"../ui/component/channelSelector/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! classnames */ \"../node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var component_tagsSelect__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! component/tagsSelect */ \"../ui/component/tagsSelect/index.js\");\n/* harmony import */ var component_publish_shared_publishDescription__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! component/publish/shared/publishDescription */ \"../ui/component/publish/shared/publishDescription/index.js\");\n/* harmony import */ var component_publish_shared_publishAdditionalOptions__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! component/publish/shared/publishAdditionalOptions */ \"../ui/component/publish/shared/publishAdditionalOptions/index.js\");\n/* harmony import */ var component_publish_shared_publishFormErrors__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! component/publish/shared/publishFormErrors */ \"../ui/component/publish/shared/publishFormErrors/index.js\");\n/* harmony import */ var component_publish_shared_publishStreamReleaseDate__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! component/publish/shared/publishStreamReleaseDate */ \"../ui/component/publish/shared/publishStreamReleaseDate/index.js\");\n/* harmony import */ var component_publish_livestream_publishLivestream__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! component/publish/livestream/publishLivestream */ \"../ui/component/publish/livestream/publishLivestream/index.js\");\n/* harmony import */ var component_selectThumbnail__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! component/selectThumbnail */ \"../ui/component/selectThumbnail/index.js\");\n/* harmony import */ var component_common_card__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! component/common/card */ \"../ui/component/common/card.jsx\");\n/* harmony import */ var component_i18nMessage__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! component/i18nMessage */ \"../ui/component/i18nMessage/index.js\");\n/* harmony import */ var constants_publish_types__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! constants/publish_types */ \"../ui/constants/publish_types.js\");\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! react-router */ \"../node_modules/react-router/esm/react-router.js\");\n/* harmony import */ var component_spinner__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! component/spinner */ \"../ui/component/spinner/index.js\");\n/* harmony import */ var util_hex__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! util/hex */ \"../ui/util/hex.js\");\n/* harmony import */ var constants_livestream__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! constants/livestream */ \"../ui/constants/livestream.js\");\n/* harmony import */ var constants_publish_sources__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! constants/publish_sources */ \"../ui/constants/publish_sources.js\");\n/* harmony import */ var effects_use_screensize__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! effects/use-screensize */ \"../ui/effects/use-screensize.js\");\n/* harmony import */ var component_common_tooltip__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! component/common/tooltip */ \"../ui/component/common/tooltip.jsx\");\n/* harmony import */ var component_publishProtectedContent__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! component/publishProtectedContent */ \"../ui/component/publishProtectedContent/index.js\");\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n/*\n  On submit, this component calls publish, which dispatches doPublishDesktop.\n  doPublishDesktop calls lbry-redux Lbry publish method using lbry-redux publish state as params.\n  Publish simply instructs the SDK to find the file path on disk and publish it with the provided metadata.\n  On web, the Lbry publish method call is overridden in platform/web/api-setup, using a function in platform/web/publish.\n  File upload is carried out in the background by that function.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n // import PublishPrice from 'component/publish/shared/publishPrice';\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction LivestreamForm(props) {\n  // Detect upload type from query in URL\n  var thumbnail = props.thumbnail,\n      thumbnailError = props.thumbnailError,\n      name = props.name,\n      editingURI = props.editingURI,\n      myClaimForUri = props.myClaimForUri,\n      resolveUri = props.resolveUri,\n      title = props.title,\n      bid = props.bid,\n      bidError = props.bidError,\n      uploadThumbnailStatus = props.uploadThumbnailStatus,\n      resetThumbnailStatus = props.resetThumbnailStatus,\n      updatePublishForm = props.updatePublishForm,\n      filePath = props.filePath,\n      fileText = props.fileText,\n      publishing = props.publishing,\n      publishSuccess = props.publishSuccess,\n      publishError = props.publishError,\n      clearPublish = props.clearPublish,\n      isStillEditing = props.isStillEditing,\n      tags = props.tags,\n      publish = props.publish,\n      checkAvailability = props.checkAvailability,\n      ytSignupPending = props.ytSignupPending,\n      modal = props.modal,\n      enablePublishPreview = props.enablePublishPreview,\n      activeChannelClaim = props.activeChannelClaim,\n      description = props.description,\n      balance = props.balance,\n      permanentUrl = props.permanentUrl,\n      remoteUrl = props.remoteUrl,\n      isClaimingInitialRewards = props.isClaimingInitialRewards,\n      claimInitialRewards = props.claimInitialRewards,\n      hasClaimedInitialRewards = props.hasClaimedInitialRewards,\n      setClearStatus = props.setClearStatus,\n      remoteFileUrl = props.remoteFileUrl,\n      urlSource = props.urlSource;\n  var isMobile = Object(effects_use_screensize__WEBPACK_IMPORTED_MODULE_24__[\"useIsMobile\"])();\n  var inEditMode = Boolean(editingURI);\n\n  var _useHistory = Object(react_router__WEBPACK_IMPORTED_MODULE_19__[\"useHistory\"])(),\n      replace = _useHistory.replace,\n      location = _useHistory.location;\n\n  var urlParams = new URLSearchParams(location.search);\n  var TYPE_PARAM = 'type';\n  var uploadType = urlParams.get(TYPE_PARAM);\n\n  var _uploadType = uploadType && uploadType.toLowerCase();\n\n  var activeChannelName = activeChannelClaim && activeChannelClaim.name;\n  var mode = constants_publish_types__WEBPACK_IMPORTED_MODULE_18__[\"LIVESTREAM\"];\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_2___default.a.useState('New'),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      publishMode = _React$useState2[0],\n      setPublishMode = _React$useState2[1];\n\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_2___default.a.useState('keep'),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      replaySource = _React$useState4[0],\n      setReplaySource = _React$useState4[1];\n\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_2___default.a.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      isCheckingLivestreams = _React$useState6[0],\n      setCheckingLivestreams = _React$useState6[1]; // Used to check if the url name has changed:\n  // A new file needs to be provided\n\n\n  var _React$useState7 = react__WEBPACK_IMPORTED_MODULE_2___default.a.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      prevName = _React$useState8[0],\n      setPrevName = _React$useState8[1];\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      waitForFile = _useState2[0],\n      setWaitForFile = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      overMaxBitrate = _useState4[0],\n      setOverMaxBitrate = _useState4[1];\n\n  var _React$useState9 = react__WEBPACK_IMPORTED_MODULE_2___default.a.useState([]),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      livestreamData = _React$useState10[0],\n      setLivestreamData = _React$useState10[1];\n\n  var hasLivestreamData = livestreamData && Boolean(livestreamData.length);\n  var TAGS_LIMIT = 5;\n  var fileFormDisabled = mode === constants_publish_types__WEBPACK_IMPORTED_MODULE_18__[\"FILE\"] && !filePath && !remoteUrl;\n  var emptyPostError = mode === constants_publish_types__WEBPACK_IMPORTED_MODULE_18__[\"POST\"] && (!fileText || fileText.trim() === '');\n  var formDisabled = fileFormDisabled && !editingURI || emptyPostError || publishing;\n  var isInProgress = filePath || editingURI || name || title; // Editing content info\n\n  var fileMimeType = myClaimForUri && myClaimForUri.value && myClaimForUri.value.source ? myClaimForUri.value.source.media_type : undefined;\n  var claimChannelId = myClaimForUri && myClaimForUri.signing_channel && myClaimForUri.signing_channel.claim_id || activeChannelClaim && activeChannelClaim.claim_id; // const nameEdited = isStillEditing && name !== prevName;\n\n  var thumbnailUploaded = uploadThumbnailStatus === constants_thumbnail_upload_statuses__WEBPACK_IMPORTED_MODULE_5__[\"COMPLETE\"] && thumbnail;\n  var waitingForFile = waitForFile && !remoteUrl && !filePath; // If they are editing, they don't need a new file chosen\n\n  var formValidLessFile = name && Object(util_lbryURI__WEBPACK_IMPORTED_MODULE_4__[\"isNameValid\"])(name) && title && !overMaxBitrate && bid && thumbnail && !bidError && !emptyPostError && !(thumbnailError && !thumbnailUploaded) && !(uploadThumbnailStatus === constants_thumbnail_upload_statuses__WEBPACK_IMPORTED_MODULE_5__[\"IN_PROGRESS\"]);\n  var isOverwritingExistingClaim = !editingURI && myClaimForUri;\n  var formValid = isOverwritingExistingClaim ? false : editingURI && !filePath // if we're editing we don't need a file\n  ? isStillEditing && formValidLessFile && !waitingForFile : formValidLessFile;\n\n  var _React$useState11 = react__WEBPACK_IMPORTED_MODULE_2___default.a.useState(false),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      previewing = _React$useState12[0],\n      setPreviewing = _React$useState12[1];\n\n  var disabled = !title || !name || publishMode === 'Replay' && !remoteFileUrl;\n  var isClear = !title && !name && !description && !thumbnail;\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    setClearStatus(isClear);\n  }, [isClear]);\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    if (activeChannelClaim && activeChannelClaim.claim_id && activeChannelName) {\n      fetchLivestreams(activeChannelClaim.claim_id, activeChannelName);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [claimChannelId, activeChannelName]);\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    if (!hasClaimedInitialRewards) {\n      claimInitialRewards();\n    }\n  }, [hasClaimedInitialRewards, claimInitialRewards]);\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    if (!modal) {\n      var timer = setTimeout(function () {\n        setPreviewing(false);\n      }, 250);\n      return function () {\n        return clearTimeout(timer);\n      };\n    }\n  }, [modal]);\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    if (publishError) {\n      setPreviewing(false);\n      updatePublishForm({\n        publishError: undefined\n      });\n    }\n  }, [publishError]); // move this to lbryinc OR to a file under ui, and/or provide a standardized livestreaming config.\n\n  function fetchLivestreams(channelId, channelName) {\n    var signedMessage, encodedChannelName, newEndpointUrl, responseFromNewApi, data, newData, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, dataItem, objectToPush;\n\n    return regeneratorRuntime.async(function fetchLivestreams$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setCheckingLivestreams(true);\n            _context.prev = 1;\n            _context.next = 4;\n            return regeneratorRuntime.awrap(lbry__WEBPACK_IMPORTED_MODULE_3__[\"default\"].channel_sign({\n              channel_id: channelId,\n              hexdata: Object(util_hex__WEBPACK_IMPORTED_MODULE_21__[\"toHex\"])(channelName || '')\n            }).then(function (data) {\n              signedMessage = data;\n            }));\n\n          case 4:\n            _context.next = 9;\n            break;\n\n          case 6:\n            _context.prev = 6;\n            _context.t0 = _context[\"catch\"](1);\n            throw _context.t0;\n\n          case 9:\n            if (!signedMessage) {\n              _context.next = 41;\n              break;\n            }\n\n            encodedChannelName = encodeURIComponent(channelName || '');\n            newEndpointUrl = \"\".concat(constants_livestream__WEBPACK_IMPORTED_MODULE_22__[\"NEW_LIVESTREAM_REPLAY_API\"], \"?channel_claim_id=\").concat(String(channelId)) + \"&signature=\".concat(signedMessage.signature, \"&signature_ts=\").concat(signedMessage.signing_ts, \"&channel_name=\").concat(encodedChannelName || '');\n            _context.next = 14;\n            return regeneratorRuntime.awrap(fetch(newEndpointUrl));\n\n          case 14:\n            responseFromNewApi = _context.sent;\n            _context.next = 17;\n            return regeneratorRuntime.awrap(responseFromNewApi.json());\n\n          case 17:\n            data = _context.sent.data;\n            newData = [];\n\n            if (!(data && data.length > 0)) {\n              _context.next = 39;\n              break;\n            }\n\n            _iteratorNormalCompletion = true;\n            _didIteratorError = false;\n            _iteratorError = undefined;\n            _context.prev = 23;\n\n            for (_iterator = data[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              dataItem = _step.value;\n\n              if (dataItem.Status.toLowerCase() === 'inprogress' || dataItem.Status.toLowerCase() === 'ready') {\n                objectToPush = {\n                  data: {\n                    fileLocation: dataItem.URL,\n                    fileDuration: dataItem.Status.toLowerCase() === 'inprogress' ? __('Processing...(') + dataItem.PercentComplete + '%)' : (dataItem.Duration / 1000000000).toString(),\n                    thumbnails: dataItem.ThumbnailURLs !== null ? dataItem.ThumbnailURLs : [],\n                    uploadedAt: dataItem.Created\n                  }\n                };\n                newData.push(objectToPush);\n              }\n            }\n\n            _context.next = 31;\n            break;\n\n          case 27:\n            _context.prev = 27;\n            _context.t1 = _context[\"catch\"](23);\n            _didIteratorError = true;\n            _iteratorError = _context.t1;\n\n          case 31:\n            _context.prev = 31;\n            _context.prev = 32;\n\n            if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n              _iterator[\"return\"]();\n            }\n\n          case 34:\n            _context.prev = 34;\n\n            if (!_didIteratorError) {\n              _context.next = 37;\n              break;\n            }\n\n            throw _iteratorError;\n\n          case 37:\n            return _context.finish(34);\n\n          case 38:\n            return _context.finish(31);\n\n          case 39:\n            setLivestreamData(newData);\n            setCheckingLivestreams(false);\n\n          case 41:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 6], [23, 27, 31, 39], [32,, 34, 38]]);\n  }\n\n  var isLivestreamMode = mode === constants_publish_types__WEBPACK_IMPORTED_MODULE_18__[\"LIVESTREAM\"];\n  var submitLabel;\n\n  if (isClaimingInitialRewards) {\n    submitLabel = __('Claiming credits...');\n  } else if (publishing) {\n    if (isStillEditing || inEditMode) {\n      submitLabel = __('Saving...');\n    } else {\n      submitLabel = __('Creating...');\n    }\n  } else if (previewing) {\n    submitLabel = react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_spinner__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n      type: \"small\"\n    });\n  } else {\n    if (isStillEditing || inEditMode) {\n      submitLabel = __('Save');\n    } else {\n      submitLabel = __('Create');\n    }\n  } // if you enter the page and it is stuck in publishing, \"stop it.\"\n\n\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    if (publishing || publishSuccess) {\n      clearPublish();\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [clearPublish]);\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    if (!thumbnail) {\n      resetThumbnailStatus();\n    }\n  }, [thumbnail, resetThumbnailStatus]); // Save previous name of the editing claim\n\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    if (isStillEditing && (!prevName || !prevName.trim() === '')) {\n      if (name !== prevName) {\n        setPrevName(name);\n      }\n    }\n  }, [name, prevName, setPrevName, isStillEditing]); // Every time the channel or name changes, resolve the uris to find winning bid amounts\n\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    // We are only going to store the full uri, but we need to resolve the uri with and without the channel name\n    var uri;\n\n    try {\n      uri = name && Object(util_lbryURI__WEBPACK_IMPORTED_MODULE_4__[\"buildURI\"])({\n        streamName: name,\n        activeChannelName: activeChannelName\n      });\n    } catch (e) {}\n\n    if (activeChannelName && name) {\n      // resolve without the channel name so we know the winning bid for it\n      try {\n        var uriLessChannel = Object(util_lbryURI__WEBPACK_IMPORTED_MODULE_4__[\"buildURI\"])({\n          streamName: name\n        });\n        resolveUri(uriLessChannel);\n      } catch (e) {}\n    }\n\n    var isValid = uri && Object(util_lbryURI__WEBPACK_IMPORTED_MODULE_4__[\"isURIValid\"])(uri);\n\n    if (uri && isValid && checkAvailability && name) {\n      resolveUri(uri);\n      checkAvailability(name);\n      updatePublishForm({\n        uri: uri\n      });\n    }\n  }, [name, activeChannelName, resolveUri, updatePublishForm, checkAvailability]); // because publish editingUri is channel_short/claim_long and we don't have that, resolve it.\n\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    if (editingURI) {\n      resolveUri(editingURI);\n      setPublishMode('Edit');\n    } else if (urlSource) {\n      setPublishMode(urlSource);\n    } else {\n      setPublishMode('New');\n      updatePublishForm({\n        isLivestreamPublish: true,\n        remoteFileUrl: undefined\n      });\n    }\n  }, [editingURI, resolveUri]);\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    updatePublishForm({\n      isMarkdownPost: false,\n      isLivestreamPublish: true\n    });\n  }, [mode, updatePublishForm]);\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    if (publishMode === 'New') {\n      updatePublishForm({\n        isLivestreamPublish: true,\n        remoteFileUrl: undefined\n      });\n    }\n  }, [publishMode]);\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    updatePublishForm({\n      channel: activeChannelName\n    });\n  }, [activeChannelName, updatePublishForm, isLivestreamMode]); // if we have a type urlparam, update it? necessary?\n\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    if (!_uploadType) return;\n    var newParams = new URLSearchParams();\n    newParams.set(TYPE_PARAM, mode.toLowerCase());\n    replace({\n      search: newParams.toString()\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [mode, _uploadType]);\n\n  function handlePublish() {\n    var outputFile, runPublish;\n    return regeneratorRuntime.async(function handlePublish$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            outputFile = filePath;\n            runPublish = false; // Publish file\n\n            if (mode === constants_publish_types__WEBPACK_IMPORTED_MODULE_18__[\"FILE\"] || isLivestreamMode) {\n              runPublish = true;\n            }\n\n            if (runPublish) {\n              if (enablePublishPreview) {\n                setPreviewing(true);\n                publish(outputFile, true);\n              } else {\n                publish(outputFile, false);\n              }\n            }\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    });\n  } // When accessing to publishing, make sure to reset file input attributes\n  // since we can't restore from previous user selection (like we do\n  // with other properties such as name, title, etc.) for security reasons.\n\n\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    if (mode === constants_publish_types__WEBPACK_IMPORTED_MODULE_18__[\"FILE\"]) {\n      updatePublishForm({\n        filePath: '',\n        fileDur: 0,\n        fileSize: 0\n      });\n    }\n  }, [mode, updatePublishForm]); // File Source Selector State.\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      fileSource = _useState6[0],\n      setFileSource = _useState6[1];\n\n  var changeFileSource = function changeFileSource(state) {\n    return setFileSource(state);\n  };\n\n  if (publishing) {\n    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      className: \"main--empty\"\n    }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"h1\", {\n      className: \"section__subtitle\"\n    }, __('Publishing...')), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_spinner__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n      delayed: true\n    }));\n  }\n\n  var isFormIncomplete = isClaimingInitialRewards || formDisabled || !formValid || uploadThumbnailStatus === constants_thumbnail_upload_statuses__WEBPACK_IMPORTED_MODULE_5__[\"IN_PROGRESS\"] || ytSignupPending || previewing; // Editing claim uri\n\n  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: balance < 0.01 ? 'disabled' : ''\n  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"card-stack\"\n  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_common_card__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n    className: \"card--livestream\"\n  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    key: 'New',\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_1__[\"LIVESTREAM\"],\n    iconSize: 18,\n    label: 'New Livestream',\n    button: \"alt\",\n    onClick: function onClick() {\n      setPublishMode('New');\n    },\n    disabled: editingURI,\n    className: classnames__WEBPACK_IMPORTED_MODULE_8___default()('button-toggle', {\n      'button-toggle--active': publishMode === 'New'\n    })\n  }), publishMode !== 'Edit' && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    key: 'Replay',\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_1__[\"MENU\"],\n    iconSize: 18,\n    label: 'Choose Replay',\n    button: \"alt\",\n    onClick: function onClick() {\n      setPublishMode('Replay');\n    },\n    disabled: !hasLivestreamData || publishMode === 'Edit',\n    className: classnames__WEBPACK_IMPORTED_MODULE_8___default()('button-toggle', {\n      'button-toggle--active': publishMode === 'Replay'\n    })\n  }), publishMode === 'Edit' && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    key: 'Edit',\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_1__[\"EDIT\"],\n    iconSize: 18,\n    label: 'Edit / Update',\n    button: \"alt\",\n    onClick: function onClick() {\n      setPublishMode('Edit');\n    },\n    className: \"button-toggle button-toggle--active\"\n  })), !isMobile && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_channelSelector__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    hideAnon: true,\n    autoSet: true,\n    channelToSet: claimChannelId,\n    isTabHeader: true\n  }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_common_tooltip__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n    title: __('Check for Replays')\n  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    button: \"secondary\",\n    label: __('Check for Replays'),\n    disabled: isCheckingLivestreams,\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_1__[\"REFRESH\"],\n    onClick: function onClick() {\n      return fetchLivestreams(claimChannelId, activeChannelName);\n    }\n  }))), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_publish_livestream_publishLivestream__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n    inEditMode: inEditMode,\n    fileSource: publishMode === 'New' || publishMode === 'Edit' ? fileSource : constants_publish_sources__WEBPACK_IMPORTED_MODULE_23__[\"SOURCE_SELECT\"],\n    changeFileSource: changeFileSource,\n    uri: permanentUrl,\n    mode: publishMode === 'New' ? constants_publish_types__WEBPACK_IMPORTED_MODULE_18__[\"LIVESTREAM\"] : constants_publish_types__WEBPACK_IMPORTED_MODULE_18__[\"FILE\"],\n    fileMimeType: fileMimeType,\n    disabled: publishing,\n    inProgress: isInProgress,\n    livestreamData: livestreamData,\n    setWaitForFile: setWaitForFile,\n    setOverMaxBitrate: setOverMaxBitrate,\n    isCheckingLivestreams: isCheckingLivestreams,\n    checkLivestreams: fetchLivestreams,\n    channelId: claimChannelId,\n    channelName: activeChannelName,\n    setReplaySource: setReplaySource,\n    replaySource: replaySource\n  }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_publish_shared_publishDescription__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    disabled: disabled\n  }), !publishing && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_8___default()({\n      'card--disabled': disabled\n    })\n  }, (publishMode === 'New' || publishMode === 'Edit' && replaySource === 'keep') && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_common_card__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n    body: react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_publish_shared_publishStreamReleaseDate__WEBPACK_IMPORTED_MODULE_13__[\"default\"], null)\n  }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_common_card__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n    actions: react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_selectThumbnail__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n      livestreamData: livestreamData\n    })\n  }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_publishProtectedContent__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n    claim: myClaimForUri,\n    location: 'livestream'\n  }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"h2\", {\n    className: \"card__title\",\n    style: {\n      marginTop: 'var(--spacing-l)'\n    }\n  }, __('Tags')), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_tagsSelect__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n    suggestMature: !config__WEBPACK_IMPORTED_MODULE_0__[\"SIMPLE_SITE\"],\n    disableAutoFocus: true,\n    hideHeader: true,\n    label: __('Selected Tags'),\n    empty: __('No tags added'),\n    limitSelect: TAGS_LIMIT,\n    help: __(\"Add tags that are relevant to your content so those who're looking for it can find it more easily. If your content is best suited for mature audiences, ensure it is tagged 'mature'.\"),\n    placeholder: __('gaming, crypto'),\n    onSelect: function onSelect(newTags) {\n      var validatedTags = [];\n      newTags.forEach(function (newTag) {\n        if (!tags.some(function (tag) {\n          return tag.name === newTag.name;\n        })) {\n          validatedTags.push(newTag);\n        }\n      });\n      updatePublishForm({\n        tags: [].concat(_toConsumableArray(tags), validatedTags)\n      });\n    },\n    onRemove: function onRemove(clickedTag) {\n      var newTags = tags.slice().filter(function (tag) {\n        return tag.name !== clickedTag.name;\n      });\n      updatePublishForm({\n        tags: newTags\n      });\n    },\n    tagsChosen: tags\n  }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_publish_shared_publishAdditionalOptions__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n    isLivestream: isLivestreamMode,\n    disabled: disabled,\n    showSchedulingOptions: publishMode === 'New' || publishMode === 'Edit' && replaySource\n  })), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"section\", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"section__actions\"\n  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    button: \"primary\",\n    onClick: handlePublish,\n    label: submitLabel,\n    disabled: isFormIncomplete\n  }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_channelSelector__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    hideAnon: true,\n    disabled: isFormIncomplete,\n    autoSet: true,\n    channelToSet: claimChannelId,\n    isPublishMenu: true\n  })), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"p\", {\n    className: \"help\"\n  }, !formDisabled && !formValid ? react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_publish_shared_publishFormErrors__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n    title: title,\n    mode: mode,\n    waitForFile: waitingForFile,\n    overMaxBitrate: overMaxBitrate\n  }) : react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_i18nMessage__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n    tokens: {\n      odysee_terms_of_service: react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n        button: \"link\",\n        href: \"https://odysee.com/$/tos\",\n        label: __('%site_name% Terms of Service', {\n          site_name: config__WEBPACK_IMPORTED_MODULE_0__[\"SITE_NAME\"]\n        })\n      }),\n      odysee_community_guidelines: react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n        button: \"link\",\n        href: \"https://odysee.com/@OdyseeHelp:b/Community-Guidelines:c\",\n        label: __('Community Guidelines')\n      })\n    }\n  }, \"By continuing, you accept the %odysee_terms_of_service% and %odysee_community_guidelines%.\")))));\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (LivestreamForm);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! i18n.js */ \"../ui/i18n.js\")[\"__\"]))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L3B1Ymxpc2gvbGl2ZXN0cmVhbS9saXZlc3RyZWFtRm9ybS92aWV3LmpzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi91aS9jb21wb25lbnQvcHVibGlzaC9saXZlc3RyZWFtL2xpdmVzdHJlYW1Gb3JtL3ZpZXcuanN4P2E3MTciXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQGZsb3dcblxuLypcbiAgT24gc3VibWl0LCB0aGlzIGNvbXBvbmVudCBjYWxscyBwdWJsaXNoLCB3aGljaCBkaXNwYXRjaGVzIGRvUHVibGlzaERlc2t0b3AuXG4gIGRvUHVibGlzaERlc2t0b3AgY2FsbHMgbGJyeS1yZWR1eCBMYnJ5IHB1Ymxpc2ggbWV0aG9kIHVzaW5nIGxicnktcmVkdXggcHVibGlzaCBzdGF0ZSBhcyBwYXJhbXMuXG4gIFB1Ymxpc2ggc2ltcGx5IGluc3RydWN0cyB0aGUgU0RLIHRvIGZpbmQgdGhlIGZpbGUgcGF0aCBvbiBkaXNrIGFuZCBwdWJsaXNoIGl0IHdpdGggdGhlIHByb3ZpZGVkIG1ldGFkYXRhLlxuICBPbiB3ZWIsIHRoZSBMYnJ5IHB1Ymxpc2ggbWV0aG9kIGNhbGwgaXMgb3ZlcnJpZGRlbiBpbiBwbGF0Zm9ybS93ZWIvYXBpLXNldHVwLCB1c2luZyBhIGZ1bmN0aW9uIGluIHBsYXRmb3JtL3dlYi9wdWJsaXNoLlxuICBGaWxlIHVwbG9hZCBpcyBjYXJyaWVkIG91dCBpbiB0aGUgYmFja2dyb3VuZCBieSB0aGF0IGZ1bmN0aW9uLlxuICovXG5cbmltcG9ydCB7IFNJVEVfTkFNRSwgU0lNUExFX1NJVEUgfSBmcm9tICdjb25maWcnO1xuaW1wb3J0ICogYXMgSUNPTlMgZnJvbSAnY29uc3RhbnRzL2ljb25zJztcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IExicnkgZnJvbSAnbGJyeSc7XG5pbXBvcnQgeyBidWlsZFVSSSwgaXNVUklWYWxpZCwgaXNOYW1lVmFsaWQgfSBmcm9tICd1dGlsL2xicnlVUkknO1xuaW1wb3J0ICogYXMgVEhVTUJOQUlMX1NUQVRVU0VTIGZyb20gJ2NvbnN0YW50cy90aHVtYm5haWxfdXBsb2FkX3N0YXR1c2VzJztcbmltcG9ydCBCdXR0b24gZnJvbSAnY29tcG9uZW50L2J1dHRvbic7XG5pbXBvcnQgQ2hhbm5lbFNlbGVjdCBmcm9tICdjb21wb25lbnQvY2hhbm5lbFNlbGVjdG9yJztcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFRhZ3NTZWxlY3QgZnJvbSAnY29tcG9uZW50L3RhZ3NTZWxlY3QnO1xuaW1wb3J0IFB1Ymxpc2hEZXNjcmlwdGlvbiBmcm9tICdjb21wb25lbnQvcHVibGlzaC9zaGFyZWQvcHVibGlzaERlc2NyaXB0aW9uJztcbi8vIGltcG9ydCBQdWJsaXNoUHJpY2UgZnJvbSAnY29tcG9uZW50L3B1Ymxpc2gvc2hhcmVkL3B1Ymxpc2hQcmljZSc7XG5pbXBvcnQgUHVibGlzaEFkZGl0aW9uYWxPcHRpb25zIGZyb20gJ2NvbXBvbmVudC9wdWJsaXNoL3NoYXJlZC9wdWJsaXNoQWRkaXRpb25hbE9wdGlvbnMnO1xuaW1wb3J0IFB1Ymxpc2hGb3JtRXJyb3JzIGZyb20gJ2NvbXBvbmVudC9wdWJsaXNoL3NoYXJlZC9wdWJsaXNoRm9ybUVycm9ycyc7XG5pbXBvcnQgUHVibGlzaFN0cmVhbVJlbGVhc2VEYXRlIGZyb20gJ2NvbXBvbmVudC9wdWJsaXNoL3NoYXJlZC9wdWJsaXNoU3RyZWFtUmVsZWFzZURhdGUnO1xuaW1wb3J0IFB1Ymxpc2hMaXZlc3RyZWFtIGZyb20gJ2NvbXBvbmVudC9wdWJsaXNoL2xpdmVzdHJlYW0vcHVibGlzaExpdmVzdHJlYW0nO1xuaW1wb3J0IFNlbGVjdFRodW1ibmFpbCBmcm9tICdjb21wb25lbnQvc2VsZWN0VGh1bWJuYWlsJztcbmltcG9ydCBDYXJkIGZyb20gJ2NvbXBvbmVudC9jb21tb24vY2FyZCc7XG5pbXBvcnQgSTE4bk1lc3NhZ2UgZnJvbSAnY29tcG9uZW50L2kxOG5NZXNzYWdlJztcbmltcG9ydCAqIGFzIFBVQkxJU0hfTU9ERVMgZnJvbSAnY29uc3RhbnRzL3B1Ymxpc2hfdHlwZXMnO1xuaW1wb3J0IHsgdXNlSGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5pbXBvcnQgU3Bpbm5lciBmcm9tICdjb21wb25lbnQvc3Bpbm5lcic7XG5pbXBvcnQgeyB0b0hleCB9IGZyb20gJ3V0aWwvaGV4JztcbmltcG9ydCB7IE5FV19MSVZFU1RSRUFNX1JFUExBWV9BUEkgfSBmcm9tICdjb25zdGFudHMvbGl2ZXN0cmVhbSc7XG5pbXBvcnQgeyBTT1VSQ0VfU0VMRUNUIH0gZnJvbSAnY29uc3RhbnRzL3B1Ymxpc2hfc291cmNlcyc7XG5pbXBvcnQgeyB1c2VJc01vYmlsZSB9IGZyb20gJ2VmZmVjdHMvdXNlLXNjcmVlbnNpemUnO1xuaW1wb3J0IFRvb2x0aXAgZnJvbSAnY29tcG9uZW50L2NvbW1vbi90b29sdGlwJztcbmltcG9ydCBQdWJsaXNoUHJvdGVjdGVkQ29udGVudCBmcm9tICdjb21wb25lbnQvcHVibGlzaFByb3RlY3RlZENvbnRlbnQnO1xuXG50eXBlIFByb3BzID0ge1xuICB0YWdzOiBBcnJheTxUYWc+LFxuICBwdWJsaXNoOiAoc291cmNlPzogc3RyaW5nIHwgRmlsZSwgP2Jvb2xlYW4pID0+IHZvaWQsXG4gIGZpbGVQYXRoOiBzdHJpbmcgfCBGaWxlLFxuICBmaWxlVGV4dDogc3RyaW5nLFxuICBiaWQ6ID9udW1iZXIsXG4gIGJpZEVycm9yOiA/c3RyaW5nLFxuICBlZGl0aW5nVVJJOiA/c3RyaW5nLFxuICB0aXRsZTogP3N0cmluZyxcbiAgdGh1bWJuYWlsOiA/c3RyaW5nLFxuICB0aHVtYm5haWxFcnJvcjogP2Jvb2xlYW4sXG4gIHVwbG9hZFRodW1ibmFpbFN0YXR1czogP3N0cmluZyxcbiAgdGh1bWJuYWlsUGF0aDogP3N0cmluZyxcbiAgZGVzY3JpcHRpb246ID9zdHJpbmcsXG4gIGxhbmd1YWdlOiBzdHJpbmcsXG4gIG5zZnc6IGJvb2xlYW4sXG4gIGNvbnRlbnRJc0ZyZWU6IGJvb2xlYW4sXG4gIGZlZToge1xuICAgIGFtb3VudDogc3RyaW5nLFxuICAgIGN1cnJlbmN5OiBzdHJpbmcsXG4gIH0sXG4gIG5hbWU6ID9zdHJpbmcsXG4gIG5hbWVFcnJvcjogP3N0cmluZyxcbiAgd2lubmluZ0JpZEZvckNsYWltVXJpOiBudW1iZXIsXG4gIG15Q2xhaW1Gb3JVcmk6ID9TdHJlYW1DbGFpbSxcbiAgbGljZW5zZVR5cGU6IHN0cmluZyxcbiAgb3RoZXJMaWNlbnNlRGVzY3JpcHRpb246ID9zdHJpbmcsXG4gIGxpY2Vuc2VVcmw6ID9zdHJpbmcsXG4gIC8vIHVzZUxCUllVcGxvYWRlcjogP2Jvb2xlYW4sXG4gIHB1Ymxpc2hpbmc6IGJvb2xlYW4sXG4gIHB1Ymxpc2hTdWNjZXNzOiBib29sZWFuLFxuICBwdWJsaXNoRXJyb3I/OiBib29sZWFuLFxuICBiYWxhbmNlOiBudW1iZXIsXG4gIGlzU3RpbGxFZGl0aW5nOiBib29sZWFuLFxuICBjbGVhclB1Ymxpc2g6ICgpID0+IHZvaWQsXG4gIHJlc29sdmVVcmk6IChzdHJpbmcpID0+IHZvaWQsXG4gIHJlc2V0VGh1bWJuYWlsU3RhdHVzOiAoKSA9PiB2b2lkLFxuICAvLyBBZGQgYmFjayB0eXBlXG4gIHVwZGF0ZVB1Ymxpc2hGb3JtOiAoYW55KSA9PiB2b2lkLFxuICBjaGVja0F2YWlsYWJpbGl0eTogKHN0cmluZykgPT4gdm9pZCxcbiAgeXRTaWdudXBQZW5kaW5nOiBib29sZWFuLFxuICBtb2RhbDogeyBpZDogc3RyaW5nLCBtb2RhbFByb3BzOiB7fSB9LFxuICBlbmFibGVQdWJsaXNoUHJldmlldzogYm9vbGVhbixcbiAgYWN0aXZlQ2hhbm5lbENsYWltOiA/Q2hhbm5lbENsYWltLFxuICB1c2VyOiA/VXNlcixcbiAgaXNMaXZlc3RyZWFtQ2xhaW06IGJvb2xlYW4sXG4gIGlzUG9zdENsYWltOiBib29sZWFuLFxuICBwZXJtYW5lbnRVcmw6ID9zdHJpbmcsXG4gIHJlbW90ZVVybDogP3N0cmluZyxcbiAgaXNDbGFpbWluZ0luaXRpYWxSZXdhcmRzOiBib29sZWFuLFxuICBjbGFpbUluaXRpYWxSZXdhcmRzOiAoKSA9PiB2b2lkLFxuICBoYXNDbGFpbWVkSW5pdGlhbFJld2FyZHM6IGJvb2xlYW4sXG4gIHNldENsZWFyU3RhdHVzOiAoYm9vbGVhbikgPT4gdm9pZCxcbiAgLy8gZGlzYWJsZWQ/OiBib29sZWFuLFxuICByZW1vdGVGaWxlVXJsPzogc3RyaW5nLFxuICB1cmxTb3VyY2U/OiBzdHJpbmcsXG59O1xuXG5mdW5jdGlvbiBMaXZlc3RyZWFtRm9ybShwcm9wczogUHJvcHMpIHtcbiAgLy8gRGV0ZWN0IHVwbG9hZCB0eXBlIGZyb20gcXVlcnkgaW4gVVJMXG4gIGNvbnN0IHtcbiAgICB0aHVtYm5haWwsXG4gICAgdGh1bWJuYWlsRXJyb3IsXG4gICAgbmFtZSxcbiAgICBlZGl0aW5nVVJJLFxuICAgIG15Q2xhaW1Gb3JVcmksXG4gICAgcmVzb2x2ZVVyaSxcbiAgICB0aXRsZSxcbiAgICBiaWQsXG4gICAgYmlkRXJyb3IsXG4gICAgdXBsb2FkVGh1bWJuYWlsU3RhdHVzLFxuICAgIHJlc2V0VGh1bWJuYWlsU3RhdHVzLFxuICAgIHVwZGF0ZVB1Ymxpc2hGb3JtLFxuICAgIGZpbGVQYXRoLFxuICAgIGZpbGVUZXh0LFxuICAgIHB1Ymxpc2hpbmcsXG4gICAgcHVibGlzaFN1Y2Nlc3MsXG4gICAgcHVibGlzaEVycm9yLFxuICAgIGNsZWFyUHVibGlzaCxcbiAgICBpc1N0aWxsRWRpdGluZyxcbiAgICB0YWdzLFxuICAgIHB1Ymxpc2gsXG4gICAgY2hlY2tBdmFpbGFiaWxpdHksXG4gICAgeXRTaWdudXBQZW5kaW5nLFxuICAgIG1vZGFsLFxuICAgIGVuYWJsZVB1Ymxpc2hQcmV2aWV3LFxuICAgIGFjdGl2ZUNoYW5uZWxDbGFpbSxcbiAgICBkZXNjcmlwdGlvbixcbiAgICAvLyB1c2VyLFxuICAgIGJhbGFuY2UsXG4gICAgcGVybWFuZW50VXJsLFxuICAgIHJlbW90ZVVybCxcbiAgICBpc0NsYWltaW5nSW5pdGlhbFJld2FyZHMsXG4gICAgY2xhaW1Jbml0aWFsUmV3YXJkcyxcbiAgICBoYXNDbGFpbWVkSW5pdGlhbFJld2FyZHMsXG4gICAgc2V0Q2xlYXJTdGF0dXMsXG4gICAgcmVtb3RlRmlsZVVybCxcbiAgICB1cmxTb3VyY2UsXG4gIH0gPSBwcm9wcztcblxuICBjb25zdCBpc01vYmlsZSA9IHVzZUlzTW9iaWxlKCk7XG5cbiAgY29uc3QgaW5FZGl0TW9kZSA9IEJvb2xlYW4oZWRpdGluZ1VSSSk7XG4gIGNvbnN0IHsgcmVwbGFjZSwgbG9jYXRpb24gfSA9IHVzZUhpc3RvcnkoKTtcbiAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhsb2NhdGlvbi5zZWFyY2gpO1xuICBjb25zdCBUWVBFX1BBUkFNID0gJ3R5cGUnO1xuICBjb25zdCB1cGxvYWRUeXBlID0gdXJsUGFyYW1zLmdldChUWVBFX1BBUkFNKTtcbiAgY29uc3QgX3VwbG9hZFR5cGUgPSB1cGxvYWRUeXBlICYmIHVwbG9hZFR5cGUudG9Mb3dlckNhc2UoKTtcbiAgY29uc3QgYWN0aXZlQ2hhbm5lbE5hbWUgPSBhY3RpdmVDaGFubmVsQ2xhaW0gJiYgYWN0aXZlQ2hhbm5lbENsYWltLm5hbWU7XG5cbiAgY29uc3QgbW9kZSA9IFBVQkxJU0hfTU9ERVMuTElWRVNUUkVBTTtcbiAgY29uc3QgW3B1Ymxpc2hNb2RlLCBzZXRQdWJsaXNoTW9kZV0gPSBSZWFjdC51c2VTdGF0ZSgnTmV3Jyk7XG4gIGNvbnN0IFtyZXBsYXlTb3VyY2UsIHNldFJlcGxheVNvdXJjZV0gPSBSZWFjdC51c2VTdGF0ZSgna2VlcCcpO1xuICBjb25zdCBbaXNDaGVja2luZ0xpdmVzdHJlYW1zLCBzZXRDaGVja2luZ0xpdmVzdHJlYW1zXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBVc2VkIHRvIGNoZWNrIGlmIHRoZSB1cmwgbmFtZSBoYXMgY2hhbmdlZDpcbiAgLy8gQSBuZXcgZmlsZSBuZWVkcyB0byBiZSBwcm92aWRlZFxuICBjb25zdCBbcHJldk5hbWUsIHNldFByZXZOYW1lXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBbd2FpdEZvckZpbGUsIHNldFdhaXRGb3JGaWxlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW292ZXJNYXhCaXRyYXRlLCBzZXRPdmVyTWF4Qml0cmF0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgW2xpdmVzdHJlYW1EYXRhLCBzZXRMaXZlc3RyZWFtRGF0YV0gPSBSZWFjdC51c2VTdGF0ZShbXSk7XG4gIGNvbnN0IGhhc0xpdmVzdHJlYW1EYXRhID0gbGl2ZXN0cmVhbURhdGEgJiYgQm9vbGVhbihsaXZlc3RyZWFtRGF0YS5sZW5ndGgpO1xuXG4gIGNvbnN0IFRBR1NfTElNSVQgPSA1O1xuICBjb25zdCBmaWxlRm9ybURpc2FibGVkID0gbW9kZSA9PT0gUFVCTElTSF9NT0RFUy5GSUxFICYmICFmaWxlUGF0aCAmJiAhcmVtb3RlVXJsO1xuICBjb25zdCBlbXB0eVBvc3RFcnJvciA9IG1vZGUgPT09IFBVQkxJU0hfTU9ERVMuUE9TVCAmJiAoIWZpbGVUZXh0IHx8IGZpbGVUZXh0LnRyaW0oKSA9PT0gJycpO1xuICBjb25zdCBmb3JtRGlzYWJsZWQgPSAoZmlsZUZvcm1EaXNhYmxlZCAmJiAhZWRpdGluZ1VSSSkgfHwgZW1wdHlQb3N0RXJyb3IgfHwgcHVibGlzaGluZztcbiAgY29uc3QgaXNJblByb2dyZXNzID0gZmlsZVBhdGggfHwgZWRpdGluZ1VSSSB8fCBuYW1lIHx8IHRpdGxlO1xuICAvLyBFZGl0aW5nIGNvbnRlbnQgaW5mb1xuICBjb25zdCBmaWxlTWltZVR5cGUgPVxuICAgIG15Q2xhaW1Gb3JVcmkgJiYgbXlDbGFpbUZvclVyaS52YWx1ZSAmJiBteUNsYWltRm9yVXJpLnZhbHVlLnNvdXJjZVxuICAgICAgPyBteUNsYWltRm9yVXJpLnZhbHVlLnNvdXJjZS5tZWRpYV90eXBlXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgY29uc3QgY2xhaW1DaGFubmVsSWQgPVxuICAgIChteUNsYWltRm9yVXJpICYmIG15Q2xhaW1Gb3JVcmkuc2lnbmluZ19jaGFubmVsICYmIG15Q2xhaW1Gb3JVcmkuc2lnbmluZ19jaGFubmVsLmNsYWltX2lkKSB8fFxuICAgIChhY3RpdmVDaGFubmVsQ2xhaW0gJiYgYWN0aXZlQ2hhbm5lbENsYWltLmNsYWltX2lkKTtcblxuICAvLyBjb25zdCBuYW1lRWRpdGVkID0gaXNTdGlsbEVkaXRpbmcgJiYgbmFtZSAhPT0gcHJldk5hbWU7XG4gIGNvbnN0IHRodW1ibmFpbFVwbG9hZGVkID0gdXBsb2FkVGh1bWJuYWlsU3RhdHVzID09PSBUSFVNQk5BSUxfU1RBVFVTRVMuQ09NUExFVEUgJiYgdGh1bWJuYWlsO1xuXG4gIGNvbnN0IHdhaXRpbmdGb3JGaWxlID0gd2FpdEZvckZpbGUgJiYgIXJlbW90ZVVybCAmJiAhZmlsZVBhdGg7XG4gIC8vIElmIHRoZXkgYXJlIGVkaXRpbmcsIHRoZXkgZG9uJ3QgbmVlZCBhIG5ldyBmaWxlIGNob3NlblxuICBjb25zdCBmb3JtVmFsaWRMZXNzRmlsZSA9XG4gICAgbmFtZSAmJlxuICAgIGlzTmFtZVZhbGlkKG5hbWUpICYmXG4gICAgdGl0bGUgJiZcbiAgICAhb3Zlck1heEJpdHJhdGUgJiZcbiAgICBiaWQgJiZcbiAgICB0aHVtYm5haWwgJiZcbiAgICAhYmlkRXJyb3IgJiZcbiAgICAhZW1wdHlQb3N0RXJyb3IgJiZcbiAgICAhKHRodW1ibmFpbEVycm9yICYmICF0aHVtYm5haWxVcGxvYWRlZCkgJiZcbiAgICAhKHVwbG9hZFRodW1ibmFpbFN0YXR1cyA9PT0gVEhVTUJOQUlMX1NUQVRVU0VTLklOX1BST0dSRVNTKTtcblxuICBjb25zdCBpc092ZXJ3cml0aW5nRXhpc3RpbmdDbGFpbSA9ICFlZGl0aW5nVVJJICYmIG15Q2xhaW1Gb3JVcmk7XG5cbiAgY29uc3QgZm9ybVZhbGlkID0gaXNPdmVyd3JpdGluZ0V4aXN0aW5nQ2xhaW1cbiAgICA/IGZhbHNlXG4gICAgOiBlZGl0aW5nVVJJICYmICFmaWxlUGF0aCAvLyBpZiB3ZSdyZSBlZGl0aW5nIHdlIGRvbid0IG5lZWQgYSBmaWxlXG4gICAgPyBpc1N0aWxsRWRpdGluZyAmJiBmb3JtVmFsaWRMZXNzRmlsZSAmJiAhd2FpdGluZ0ZvckZpbGVcbiAgICA6IGZvcm1WYWxpZExlc3NGaWxlO1xuXG4gIGNvbnN0IFtwcmV2aWV3aW5nLCBzZXRQcmV2aWV3aW5nXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBkaXNhYmxlZCA9ICF0aXRsZSB8fCAhbmFtZSB8fCAocHVibGlzaE1vZGUgPT09ICdSZXBsYXknICYmICFyZW1vdGVGaWxlVXJsKTtcbiAgY29uc3QgaXNDbGVhciA9ICF0aXRsZSAmJiAhbmFtZSAmJiAhZGVzY3JpcHRpb24gJiYgIXRodW1ibmFpbDtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldENsZWFyU3RhdHVzKGlzQ2xlYXIpO1xuICB9LCBbaXNDbGVhcl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFjdGl2ZUNoYW5uZWxDbGFpbSAmJiBhY3RpdmVDaGFubmVsQ2xhaW0uY2xhaW1faWQgJiYgYWN0aXZlQ2hhbm5lbE5hbWUpIHtcbiAgICAgIGZldGNoTGl2ZXN0cmVhbXMoYWN0aXZlQ2hhbm5lbENsYWltLmNsYWltX2lkLCBhY3RpdmVDaGFubmVsTmFtZSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW2NsYWltQ2hhbm5lbElkLCBhY3RpdmVDaGFubmVsTmFtZV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFoYXNDbGFpbWVkSW5pdGlhbFJld2FyZHMpIHtcbiAgICAgIGNsYWltSW5pdGlhbFJld2FyZHMoKTtcbiAgICB9XG4gIH0sIFtoYXNDbGFpbWVkSW5pdGlhbFJld2FyZHMsIGNsYWltSW5pdGlhbFJld2FyZHNdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghbW9kYWwpIHtcbiAgICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHNldFByZXZpZXdpbmcoZmFsc2UpO1xuICAgICAgfSwgMjUwKTtcblxuICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgfVxuICB9LCBbbW9kYWxdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwdWJsaXNoRXJyb3IpIHtcbiAgICAgIHNldFByZXZpZXdpbmcoZmFsc2UpO1xuICAgICAgdXBkYXRlUHVibGlzaEZvcm0oeyBwdWJsaXNoRXJyb3I6IHVuZGVmaW5lZCB9KTtcbiAgICB9XG4gIH0sIFtwdWJsaXNoRXJyb3JdKTtcblxuICAvLyBtb3ZlIHRoaXMgdG8gbGJyeWluYyBPUiB0byBhIGZpbGUgdW5kZXIgdWksIGFuZC9vciBwcm92aWRlIGEgc3RhbmRhcmRpemVkIGxpdmVzdHJlYW1pbmcgY29uZmlnLlxuICBhc3luYyBmdW5jdGlvbiBmZXRjaExpdmVzdHJlYW1zKGNoYW5uZWxJZCwgY2hhbm5lbE5hbWUpIHtcbiAgICBzZXRDaGVja2luZ0xpdmVzdHJlYW1zKHRydWUpO1xuICAgIGxldCBzaWduZWRNZXNzYWdlO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBMYnJ5LmNoYW5uZWxfc2lnbih7XG4gICAgICAgIGNoYW5uZWxfaWQ6IGNoYW5uZWxJZCxcbiAgICAgICAgaGV4ZGF0YTogdG9IZXgoY2hhbm5lbE5hbWUgfHwgJycpLFxuICAgICAgfSkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICBzaWduZWRNZXNzYWdlID0gZGF0YTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIGlmIChzaWduZWRNZXNzYWdlKSB7XG4gICAgICBjb25zdCBlbmNvZGVkQ2hhbm5lbE5hbWUgPSBlbmNvZGVVUklDb21wb25lbnQoY2hhbm5lbE5hbWUgfHwgJycpO1xuICAgICAgY29uc3QgbmV3RW5kcG9pbnRVcmwgPVxuICAgICAgICBgJHtORVdfTElWRVNUUkVBTV9SRVBMQVlfQVBJfT9jaGFubmVsX2NsYWltX2lkPSR7U3RyaW5nKGNoYW5uZWxJZCl9YCArXG4gICAgICAgIGAmc2lnbmF0dXJlPSR7c2lnbmVkTWVzc2FnZS5zaWduYXR1cmV9JnNpZ25hdHVyZV90cz0ke3NpZ25lZE1lc3NhZ2Uuc2lnbmluZ190c30mY2hhbm5lbF9uYW1lPSR7XG4gICAgICAgICAgZW5jb2RlZENoYW5uZWxOYW1lIHx8ICcnXG4gICAgICAgIH1gO1xuXG4gICAgICBjb25zdCByZXNwb25zZUZyb21OZXdBcGkgPSBhd2FpdCBmZXRjaChuZXdFbmRwb2ludFVybCk7XG5cbiAgICAgIGNvbnN0IGRhdGEgPSAoYXdhaXQgcmVzcG9uc2VGcm9tTmV3QXBpLmpzb24oKSkuZGF0YTtcblxuICAgICAgbGV0IG5ld0RhdGEgPSBbXTtcbiAgICAgIGlmIChkYXRhICYmIGRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGNvbnN0IGRhdGFJdGVtIG9mIGRhdGEpIHtcbiAgICAgICAgICBpZiAoZGF0YUl0ZW0uU3RhdHVzLnRvTG93ZXJDYXNlKCkgPT09ICdpbnByb2dyZXNzJyB8fCBkYXRhSXRlbS5TdGF0dXMudG9Mb3dlckNhc2UoKSA9PT0gJ3JlYWR5Jykge1xuICAgICAgICAgICAgY29uc3Qgb2JqZWN0VG9QdXNoID0ge1xuICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgZmlsZUxvY2F0aW9uOiBkYXRhSXRlbS5VUkwsXG4gICAgICAgICAgICAgICAgZmlsZUR1cmF0aW9uOlxuICAgICAgICAgICAgICAgICAgZGF0YUl0ZW0uU3RhdHVzLnRvTG93ZXJDYXNlKCkgPT09ICdpbnByb2dyZXNzJ1xuICAgICAgICAgICAgICAgICAgICA/IF9fKCdQcm9jZXNzaW5nLi4uKCcpICsgZGF0YUl0ZW0uUGVyY2VudENvbXBsZXRlICsgJyUpJ1xuICAgICAgICAgICAgICAgICAgICA6IChkYXRhSXRlbS5EdXJhdGlvbiAvIDEwMDAwMDAwMDApLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgdGh1bWJuYWlsczogZGF0YUl0ZW0uVGh1bWJuYWlsVVJMcyAhPT0gbnVsbCA/IGRhdGFJdGVtLlRodW1ibmFpbFVSTHMgOiBbXSxcbiAgICAgICAgICAgICAgICB1cGxvYWRlZEF0OiBkYXRhSXRlbS5DcmVhdGVkLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG5ld0RhdGEucHVzaChvYmplY3RUb1B1c2gpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzZXRMaXZlc3RyZWFtRGF0YShuZXdEYXRhKTtcbiAgICAgIHNldENoZWNraW5nTGl2ZXN0cmVhbXMoZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGlzTGl2ZXN0cmVhbU1vZGUgPSBtb2RlID09PSBQVUJMSVNIX01PREVTLkxJVkVTVFJFQU07XG4gIGxldCBzdWJtaXRMYWJlbDtcblxuICBpZiAoaXNDbGFpbWluZ0luaXRpYWxSZXdhcmRzKSB7XG4gICAgc3VibWl0TGFiZWwgPSBfXygnQ2xhaW1pbmcgY3JlZGl0cy4uLicpO1xuICB9IGVsc2UgaWYgKHB1Ymxpc2hpbmcpIHtcbiAgICBpZiAoaXNTdGlsbEVkaXRpbmcgfHwgaW5FZGl0TW9kZSkge1xuICAgICAgc3VibWl0TGFiZWwgPSBfXygnU2F2aW5nLi4uJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN1Ym1pdExhYmVsID0gX18oJ0NyZWF0aW5nLi4uJyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHByZXZpZXdpbmcpIHtcbiAgICBzdWJtaXRMYWJlbCA9IDxTcGlubmVyIHR5cGU9XCJzbWFsbFwiIC8+O1xuICB9IGVsc2Uge1xuICAgIGlmIChpc1N0aWxsRWRpdGluZyB8fCBpbkVkaXRNb2RlKSB7XG4gICAgICBzdWJtaXRMYWJlbCA9IF9fKCdTYXZlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN1Ym1pdExhYmVsID0gX18oJ0NyZWF0ZScpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHlvdSBlbnRlciB0aGUgcGFnZSBhbmQgaXQgaXMgc3R1Y2sgaW4gcHVibGlzaGluZywgXCJzdG9wIGl0LlwiXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHB1Ymxpc2hpbmcgfHwgcHVibGlzaFN1Y2Nlc3MpIHtcbiAgICAgIGNsZWFyUHVibGlzaCgpO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtjbGVhclB1Ymxpc2hdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghdGh1bWJuYWlsKSB7XG4gICAgICByZXNldFRodW1ibmFpbFN0YXR1cygpO1xuICAgIH1cbiAgfSwgW3RodW1ibmFpbCwgcmVzZXRUaHVtYm5haWxTdGF0dXNdKTtcblxuICAvLyBTYXZlIHByZXZpb3VzIG5hbWUgb2YgdGhlIGVkaXRpbmcgY2xhaW1cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNTdGlsbEVkaXRpbmcgJiYgKCFwcmV2TmFtZSB8fCAhcHJldk5hbWUudHJpbSgpID09PSAnJykpIHtcbiAgICAgIGlmIChuYW1lICE9PSBwcmV2TmFtZSkge1xuICAgICAgICBzZXRQcmV2TmFtZShuYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtuYW1lLCBwcmV2TmFtZSwgc2V0UHJldk5hbWUsIGlzU3RpbGxFZGl0aW5nXSk7XG5cbiAgLy8gRXZlcnkgdGltZSB0aGUgY2hhbm5lbCBvciBuYW1lIGNoYW5nZXMsIHJlc29sdmUgdGhlIHVyaXMgdG8gZmluZCB3aW5uaW5nIGJpZCBhbW91bnRzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gV2UgYXJlIG9ubHkgZ29pbmcgdG8gc3RvcmUgdGhlIGZ1bGwgdXJpLCBidXQgd2UgbmVlZCB0byByZXNvbHZlIHRoZSB1cmkgd2l0aCBhbmQgd2l0aG91dCB0aGUgY2hhbm5lbCBuYW1lXG4gICAgbGV0IHVyaTtcbiAgICB0cnkge1xuICAgICAgdXJpID0gbmFtZSAmJiBidWlsZFVSSSh7IHN0cmVhbU5hbWU6IG5hbWUsIGFjdGl2ZUNoYW5uZWxOYW1lIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG5cbiAgICBpZiAoYWN0aXZlQ2hhbm5lbE5hbWUgJiYgbmFtZSkge1xuICAgICAgLy8gcmVzb2x2ZSB3aXRob3V0IHRoZSBjaGFubmVsIG5hbWUgc28gd2Uga25vdyB0aGUgd2lubmluZyBiaWQgZm9yIGl0XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB1cmlMZXNzQ2hhbm5lbCA9IGJ1aWxkVVJJKHsgc3RyZWFtTmFtZTogbmFtZSB9KTtcbiAgICAgICAgcmVzb2x2ZVVyaSh1cmlMZXNzQ2hhbm5lbCk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cblxuICAgIGNvbnN0IGlzVmFsaWQgPSB1cmkgJiYgaXNVUklWYWxpZCh1cmkpO1xuICAgIGlmICh1cmkgJiYgaXNWYWxpZCAmJiBjaGVja0F2YWlsYWJpbGl0eSAmJiBuYW1lKSB7XG4gICAgICByZXNvbHZlVXJpKHVyaSk7XG4gICAgICBjaGVja0F2YWlsYWJpbGl0eShuYW1lKTtcbiAgICAgIHVwZGF0ZVB1Ymxpc2hGb3JtKHsgdXJpIH0pO1xuICAgIH1cbiAgfSwgW25hbWUsIGFjdGl2ZUNoYW5uZWxOYW1lLCByZXNvbHZlVXJpLCB1cGRhdGVQdWJsaXNoRm9ybSwgY2hlY2tBdmFpbGFiaWxpdHldKTtcblxuICAvLyBiZWNhdXNlIHB1Ymxpc2ggZWRpdGluZ1VyaSBpcyBjaGFubmVsX3Nob3J0L2NsYWltX2xvbmcgYW5kIHdlIGRvbid0IGhhdmUgdGhhdCwgcmVzb2x2ZSBpdC5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZWRpdGluZ1VSSSkge1xuICAgICAgcmVzb2x2ZVVyaShlZGl0aW5nVVJJKTtcbiAgICAgIHNldFB1Ymxpc2hNb2RlKCdFZGl0Jyk7XG4gICAgfSBlbHNlIGlmICh1cmxTb3VyY2UpIHtcbiAgICAgIHNldFB1Ymxpc2hNb2RlKHVybFNvdXJjZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFB1Ymxpc2hNb2RlKCdOZXcnKTtcbiAgICAgIHVwZGF0ZVB1Ymxpc2hGb3JtKHsgaXNMaXZlc3RyZWFtUHVibGlzaDogdHJ1ZSwgcmVtb3RlRmlsZVVybDogdW5kZWZpbmVkIH0pO1xuICAgIH1cbiAgfSwgW2VkaXRpbmdVUkksIHJlc29sdmVVcmldKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHVwZGF0ZVB1Ymxpc2hGb3JtKHtcbiAgICAgIGlzTWFya2Rvd25Qb3N0OiBmYWxzZSxcbiAgICAgIGlzTGl2ZXN0cmVhbVB1Ymxpc2g6IHRydWUsXG4gICAgfSk7XG4gIH0sIFttb2RlLCB1cGRhdGVQdWJsaXNoRm9ybV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHB1Ymxpc2hNb2RlID09PSAnTmV3Jykge1xuICAgICAgdXBkYXRlUHVibGlzaEZvcm0oeyBpc0xpdmVzdHJlYW1QdWJsaXNoOiB0cnVlLCByZW1vdGVGaWxlVXJsOiB1bmRlZmluZWQgfSk7XG4gICAgfVxuICB9LCBbcHVibGlzaE1vZGVdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHVwZGF0ZVB1Ymxpc2hGb3JtKHsgY2hhbm5lbDogYWN0aXZlQ2hhbm5lbE5hbWUgfSk7XG4gIH0sIFthY3RpdmVDaGFubmVsTmFtZSwgdXBkYXRlUHVibGlzaEZvcm0sIGlzTGl2ZXN0cmVhbU1vZGVdKTtcblxuICAvLyBpZiB3ZSBoYXZlIGEgdHlwZSB1cmxwYXJhbSwgdXBkYXRlIGl0PyBuZWNlc3Nhcnk/XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFfdXBsb2FkVHlwZSkgcmV0dXJuO1xuICAgIGNvbnN0IG5ld1BhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICBuZXdQYXJhbXMuc2V0KFRZUEVfUEFSQU0sIG1vZGUudG9Mb3dlckNhc2UoKSk7XG4gICAgcmVwbGFjZSh7IHNlYXJjaDogbmV3UGFyYW1zLnRvU3RyaW5nKCkgfSk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbbW9kZSwgX3VwbG9hZFR5cGVdKTtcblxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVQdWJsaXNoKCkge1xuICAgIGxldCBvdXRwdXRGaWxlID0gZmlsZVBhdGg7XG4gICAgbGV0IHJ1blB1Ymxpc2ggPSBmYWxzZTtcblxuICAgIC8vIFB1Ymxpc2ggZmlsZVxuICAgIGlmIChtb2RlID09PSBQVUJMSVNIX01PREVTLkZJTEUgfHwgaXNMaXZlc3RyZWFtTW9kZSkge1xuICAgICAgcnVuUHVibGlzaCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHJ1blB1Ymxpc2gpIHtcbiAgICAgIGlmIChlbmFibGVQdWJsaXNoUHJldmlldykge1xuICAgICAgICBzZXRQcmV2aWV3aW5nKHRydWUpO1xuICAgICAgICBwdWJsaXNoKG91dHB1dEZpbGUsIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHVibGlzaChvdXRwdXRGaWxlLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gV2hlbiBhY2Nlc3NpbmcgdG8gcHVibGlzaGluZywgbWFrZSBzdXJlIHRvIHJlc2V0IGZpbGUgaW5wdXQgYXR0cmlidXRlc1xuICAvLyBzaW5jZSB3ZSBjYW4ndCByZXN0b3JlIGZyb20gcHJldmlvdXMgdXNlciBzZWxlY3Rpb24gKGxpa2Ugd2UgZG9cbiAgLy8gd2l0aCBvdGhlciBwcm9wZXJ0aWVzIHN1Y2ggYXMgbmFtZSwgdGl0bGUsIGV0Yy4pIGZvciBzZWN1cml0eSByZWFzb25zLlxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChtb2RlID09PSBQVUJMSVNIX01PREVTLkZJTEUpIHtcbiAgICAgIHVwZGF0ZVB1Ymxpc2hGb3JtKHsgZmlsZVBhdGg6ICcnLCBmaWxlRHVyOiAwLCBmaWxlU2l6ZTogMCB9KTtcbiAgICB9XG4gIH0sIFttb2RlLCB1cGRhdGVQdWJsaXNoRm9ybV0pO1xuXG4gIC8vIEZpbGUgU291cmNlIFNlbGVjdG9yIFN0YXRlLlxuICBjb25zdCBbZmlsZVNvdXJjZSwgc2V0RmlsZVNvdXJjZV0gPSB1c2VTdGF0ZSgpO1xuICBjb25zdCBjaGFuZ2VGaWxlU291cmNlID0gKHN0YXRlKSA9PiBzZXRGaWxlU291cmNlKHN0YXRlKTtcblxuICBpZiAocHVibGlzaGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1haW4tLWVtcHR5XCI+XG4gICAgICAgIDxoMSBjbGFzc05hbWU9XCJzZWN0aW9uX19zdWJ0aXRsZVwiPntfXygnUHVibGlzaGluZy4uLicpfTwvaDE+XG4gICAgICAgIDxTcGlubmVyIGRlbGF5ZWQgLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBjb25zdCBpc0Zvcm1JbmNvbXBsZXRlID1cbiAgICBpc0NsYWltaW5nSW5pdGlhbFJld2FyZHMgfHxcbiAgICBmb3JtRGlzYWJsZWQgfHxcbiAgICAhZm9ybVZhbGlkIHx8XG4gICAgdXBsb2FkVGh1bWJuYWlsU3RhdHVzID09PSBUSFVNQk5BSUxfU1RBVFVTRVMuSU5fUFJPR1JFU1MgfHxcbiAgICB5dFNpZ251cFBlbmRpbmcgfHxcbiAgICBwcmV2aWV3aW5nO1xuXG4gIC8vIEVkaXRpbmcgY2xhaW0gdXJpXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2JhbGFuY2UgPCAwLjAxID8gJ2Rpc2FibGVkJyA6ICcnfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1zdGFja1wiPlxuICAgICAgICA8Q2FyZCBjbGFzc05hbWU9XCJjYXJkLS1saXZlc3RyZWFtXCI+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAga2V5PXsnTmV3J31cbiAgICAgICAgICAgICAgaWNvbj17SUNPTlMuTElWRVNUUkVBTX1cbiAgICAgICAgICAgICAgaWNvblNpemU9ezE4fVxuICAgICAgICAgICAgICBsYWJlbD17J05ldyBMaXZlc3RyZWFtJ31cbiAgICAgICAgICAgICAgYnV0dG9uPVwiYWx0XCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFB1Ymxpc2hNb2RlKCdOZXcnKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2VkaXRpbmdVUkl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NuYW1lcygnYnV0dG9uLXRvZ2dsZScsIHsgJ2J1dHRvbi10b2dnbGUtLWFjdGl2ZSc6IHB1Ymxpc2hNb2RlID09PSAnTmV3JyB9KX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB7cHVibGlzaE1vZGUgIT09ICdFZGl0JyAmJiAoXG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBrZXk9eydSZXBsYXknfVxuICAgICAgICAgICAgICAgIGljb249e0lDT05TLk1FTlV9XG4gICAgICAgICAgICAgICAgaWNvblNpemU9ezE4fVxuICAgICAgICAgICAgICAgIGxhYmVsPXsnQ2hvb3NlIFJlcGxheSd9XG4gICAgICAgICAgICAgICAgYnV0dG9uPVwiYWx0XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRQdWJsaXNoTW9kZSgnUmVwbGF5Jyk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWhhc0xpdmVzdHJlYW1EYXRhIHx8IHB1Ymxpc2hNb2RlID09PSAnRWRpdCd9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc25hbWVzKCdidXR0b24tdG9nZ2xlJywgeyAnYnV0dG9uLXRvZ2dsZS0tYWN0aXZlJzogcHVibGlzaE1vZGUgPT09ICdSZXBsYXknIH0pfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHtwdWJsaXNoTW9kZSA9PT0gJ0VkaXQnICYmIChcbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIGtleT17J0VkaXQnfVxuICAgICAgICAgICAgICAgIGljb249e0lDT05TLkVESVR9XG4gICAgICAgICAgICAgICAgaWNvblNpemU9ezE4fVxuICAgICAgICAgICAgICAgIGxhYmVsPXsnRWRpdCAvIFVwZGF0ZSd9XG4gICAgICAgICAgICAgICAgYnV0dG9uPVwiYWx0XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRQdWJsaXNoTW9kZSgnRWRpdCcpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnV0dG9uLXRvZ2dsZSBidXR0b24tdG9nZ2xlLS1hY3RpdmVcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7IWlzTW9iaWxlICYmIDxDaGFubmVsU2VsZWN0IGhpZGVBbm9uIGF1dG9TZXQgY2hhbm5lbFRvU2V0PXtjbGFpbUNoYW5uZWxJZH0gaXNUYWJIZWFkZXIgLz59XG4gICAgICAgICAgPFRvb2x0aXAgdGl0bGU9e19fKCdDaGVjayBmb3IgUmVwbGF5cycpfT5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgYnV0dG9uPVwic2Vjb25kYXJ5XCJcbiAgICAgICAgICAgICAgbGFiZWw9e19fKCdDaGVjayBmb3IgUmVwbGF5cycpfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNDaGVja2luZ0xpdmVzdHJlYW1zfVxuICAgICAgICAgICAgICBpY29uPXtJQ09OUy5SRUZSRVNIfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBmZXRjaExpdmVzdHJlYW1zKGNsYWltQ2hhbm5lbElkLCBhY3RpdmVDaGFubmVsTmFtZSl9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgPC9DYXJkPlxuXG4gICAgICAgIDxQdWJsaXNoTGl2ZXN0cmVhbVxuICAgICAgICAgIGluRWRpdE1vZGU9e2luRWRpdE1vZGV9XG4gICAgICAgICAgZmlsZVNvdXJjZT17cHVibGlzaE1vZGUgPT09ICdOZXcnIHx8IHB1Ymxpc2hNb2RlID09PSAnRWRpdCcgPyBmaWxlU291cmNlIDogU09VUkNFX1NFTEVDVH1cbiAgICAgICAgICBjaGFuZ2VGaWxlU291cmNlPXtjaGFuZ2VGaWxlU291cmNlfVxuICAgICAgICAgIHVyaT17cGVybWFuZW50VXJsfVxuICAgICAgICAgIG1vZGU9e3B1Ymxpc2hNb2RlID09PSAnTmV3JyA/IFBVQkxJU0hfTU9ERVMuTElWRVNUUkVBTSA6IFBVQkxJU0hfTU9ERVMuRklMRX1cbiAgICAgICAgICBmaWxlTWltZVR5cGU9e2ZpbGVNaW1lVHlwZX1cbiAgICAgICAgICBkaXNhYmxlZD17cHVibGlzaGluZ31cbiAgICAgICAgICBpblByb2dyZXNzPXtpc0luUHJvZ3Jlc3N9XG4gICAgICAgICAgbGl2ZXN0cmVhbURhdGE9e2xpdmVzdHJlYW1EYXRhfVxuICAgICAgICAgIHNldFdhaXRGb3JGaWxlPXtzZXRXYWl0Rm9yRmlsZX1cbiAgICAgICAgICBzZXRPdmVyTWF4Qml0cmF0ZT17c2V0T3Zlck1heEJpdHJhdGV9XG4gICAgICAgICAgaXNDaGVja2luZ0xpdmVzdHJlYW1zPXtpc0NoZWNraW5nTGl2ZXN0cmVhbXN9XG4gICAgICAgICAgY2hlY2tMaXZlc3RyZWFtcz17ZmV0Y2hMaXZlc3RyZWFtc31cbiAgICAgICAgICBjaGFubmVsSWQ9e2NsYWltQ2hhbm5lbElkfVxuICAgICAgICAgIGNoYW5uZWxOYW1lPXthY3RpdmVDaGFubmVsTmFtZX1cbiAgICAgICAgICBzZXRSZXBsYXlTb3VyY2U9e3NldFJlcGxheVNvdXJjZX1cbiAgICAgICAgICByZXBsYXlTb3VyY2U9e3JlcGxheVNvdXJjZX1cbiAgICAgICAgLz5cblxuICAgICAgICA8UHVibGlzaERlc2NyaXB0aW9uIGRpc2FibGVkPXtkaXNhYmxlZH0gLz5cblxuICAgICAgICB7IXB1Ymxpc2hpbmcgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc25hbWVzKHsgJ2NhcmQtLWRpc2FibGVkJzogZGlzYWJsZWQgfSl9PlxuICAgICAgICAgICAgeyhwdWJsaXNoTW9kZSA9PT0gJ05ldycgfHwgKHB1Ymxpc2hNb2RlID09PSAnRWRpdCcgJiYgcmVwbGF5U291cmNlID09PSAna2VlcCcpKSAmJiAoXG4gICAgICAgICAgICAgIDxDYXJkIGJvZHk9ezxQdWJsaXNoU3RyZWFtUmVsZWFzZURhdGUgLz59IC8+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICA8Q2FyZCBhY3Rpb25zPXs8U2VsZWN0VGh1bWJuYWlsIGxpdmVzdHJlYW1EYXRhPXtsaXZlc3RyZWFtRGF0YX0gLz59IC8+XG5cbiAgICAgICAgICAgIDxQdWJsaXNoUHJvdGVjdGVkQ29udGVudCBjbGFpbT17bXlDbGFpbUZvclVyaX0gbG9jYXRpb249eydsaXZlc3RyZWFtJ30gLz5cblxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cImNhcmRfX3RpdGxlXCIgc3R5bGU9e3sgbWFyZ2luVG9wOiAndmFyKC0tc3BhY2luZy1sKScgfX0+XG4gICAgICAgICAgICAgIHtfXygnVGFncycpfVxuICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgIDxUYWdzU2VsZWN0XG4gICAgICAgICAgICAgIHN1Z2dlc3RNYXR1cmU9eyFTSU1QTEVfU0lURX1cbiAgICAgICAgICAgICAgZGlzYWJsZUF1dG9Gb2N1c1xuICAgICAgICAgICAgICBoaWRlSGVhZGVyXG4gICAgICAgICAgICAgIGxhYmVsPXtfXygnU2VsZWN0ZWQgVGFncycpfVxuICAgICAgICAgICAgICBlbXB0eT17X18oJ05vIHRhZ3MgYWRkZWQnKX1cbiAgICAgICAgICAgICAgbGltaXRTZWxlY3Q9e1RBR1NfTElNSVR9XG4gICAgICAgICAgICAgIGhlbHA9e19fKFxuICAgICAgICAgICAgICAgIFwiQWRkIHRhZ3MgdGhhdCBhcmUgcmVsZXZhbnQgdG8geW91ciBjb250ZW50IHNvIHRob3NlIHdobydyZSBsb29raW5nIGZvciBpdCBjYW4gZmluZCBpdCBtb3JlIGVhc2lseS4gSWYgeW91ciBjb250ZW50IGlzIGJlc3Qgc3VpdGVkIGZvciBtYXR1cmUgYXVkaWVuY2VzLCBlbnN1cmUgaXQgaXMgdGFnZ2VkICdtYXR1cmUnLlwiXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtfXygnZ2FtaW5nLCBjcnlwdG8nKX1cbiAgICAgICAgICAgICAgb25TZWxlY3Q9eyhuZXdUYWdzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsaWRhdGVkVGFncyA9IFtdO1xuICAgICAgICAgICAgICAgIG5ld1RhZ3MuZm9yRWFjaCgobmV3VGFnKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoIXRhZ3Muc29tZSgodGFnKSA9PiB0YWcubmFtZSA9PT0gbmV3VGFnLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlZFRhZ3MucHVzaChuZXdUYWcpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHVwZGF0ZVB1Ymxpc2hGb3JtKHsgdGFnczogWy4uLnRhZ3MsIC4uLnZhbGlkYXRlZFRhZ3NdIH0pO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvblJlbW92ZT17KGNsaWNrZWRUYWcpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdUYWdzID0gdGFncy5zbGljZSgpLmZpbHRlcigodGFnKSA9PiB0YWcubmFtZSAhPT0gY2xpY2tlZFRhZy5uYW1lKTtcbiAgICAgICAgICAgICAgICB1cGRhdGVQdWJsaXNoRm9ybSh7IHRhZ3M6IG5ld1RhZ3MgfSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIHRhZ3NDaG9zZW49e3RhZ3N9XG4gICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICA8UHVibGlzaEFkZGl0aW9uYWxPcHRpb25zXG4gICAgICAgICAgICAgIGlzTGl2ZXN0cmVhbT17aXNMaXZlc3RyZWFtTW9kZX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAgICAgICBzaG93U2NoZWR1bGluZ09wdGlvbnM9e3B1Ymxpc2hNb2RlID09PSAnTmV3JyB8fCAocHVibGlzaE1vZGUgPT09ICdFZGl0JyAmJiByZXBsYXlTb3VyY2UpfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgPHNlY3Rpb24+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uX19hY3Rpb25zXCI+XG4gICAgICAgICAgICA8QnV0dG9uIGJ1dHRvbj1cInByaW1hcnlcIiBvbkNsaWNrPXtoYW5kbGVQdWJsaXNofSBsYWJlbD17c3VibWl0TGFiZWx9IGRpc2FibGVkPXtpc0Zvcm1JbmNvbXBsZXRlfSAvPlxuICAgICAgICAgICAgPENoYW5uZWxTZWxlY3QgaGlkZUFub24gZGlzYWJsZWQ9e2lzRm9ybUluY29tcGxldGV9IGF1dG9TZXQgY2hhbm5lbFRvU2V0PXtjbGFpbUNoYW5uZWxJZH0gaXNQdWJsaXNoTWVudSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImhlbHBcIj5cbiAgICAgICAgICAgIHshZm9ybURpc2FibGVkICYmICFmb3JtVmFsaWQgPyAoXG4gICAgICAgICAgICAgIDxQdWJsaXNoRm9ybUVycm9yc1xuICAgICAgICAgICAgICAgIHRpdGxlPXt0aXRsZX1cbiAgICAgICAgICAgICAgICBtb2RlPXttb2RlfVxuICAgICAgICAgICAgICAgIHdhaXRGb3JGaWxlPXt3YWl0aW5nRm9yRmlsZX1cbiAgICAgICAgICAgICAgICBvdmVyTWF4Qml0cmF0ZT17b3Zlck1heEJpdHJhdGV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8STE4bk1lc3NhZ2VcbiAgICAgICAgICAgICAgICB0b2tlbnM9e3tcbiAgICAgICAgICAgICAgICAgIG9keXNlZV90ZXJtc19vZl9zZXJ2aWNlOiAoXG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBidXR0b249XCJsaW5rXCJcbiAgICAgICAgICAgICAgICAgICAgICBocmVmPVwiaHR0cHM6Ly9vZHlzZWUuY29tLyQvdG9zXCJcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17X18oJyVzaXRlX25hbWUlIFRlcm1zIG9mIFNlcnZpY2UnLCB7IHNpdGVfbmFtZTogU0lURV9OQU1FIH0pfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIG9keXNlZV9jb21tdW5pdHlfZ3VpZGVsaW5lczogKFxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgYnV0dG9uPVwibGlua1wiXG4gICAgICAgICAgICAgICAgICAgICAgaHJlZj1cImh0dHBzOi8vb2R5c2VlLmNvbS9AT2R5c2VlSGVscDpiL0NvbW11bml0eS1HdWlkZWxpbmVzOmNcIlxuICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXtfXygnQ29tbXVuaXR5IEd1aWRlbGluZXMnKX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEJ5IGNvbnRpbnVpbmcsIHlvdSBhY2NlcHQgdGhlICVvZHlzZWVfdGVybXNfb2Zfc2VydmljZSUgYW5kICVvZHlzZWVfY29tbXVuaXR5X2d1aWRlbGluZXMlLlxuICAgICAgICAgICAgICA8L0kxOG5NZXNzYWdlPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvc2VjdGlvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBMaXZlc3RyZWFtRm9ybTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMkRBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUEwQ0E7QUFFQTtBQUNBO0FBN0NBO0FBQUE7QUFBQTtBQUNBO0FBNkNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQXJEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBMERBO0FBQ0E7QUFDQTtBQTVEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBZ0VBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFZQTtBQUVBO0FBRUE7QUFDQTtBQXZHQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBMkdBO0FBQ0E7QUFFQTtBQUNBO0FBREE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBREE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUlBO0FBQUE7QUFBQTtBQUNBO0FBUEE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUpBO0FBQ0E7QUFPQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUZBO0FBSUE7QUFSQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBYUE7QUFDQTtBQWZBO0FBQUE7QUFDQTtBQURBO0FBcUJBO0FBckJBO0FBQUE7QUFDQTtBQURBO0FBdUJBO0FBRUE7QUFDQTtBQTFCQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQTBCQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQVBBO0FBREE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQTNDQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFEQTtBQTZDQTtBQUNBO0FBQ0E7QUEvQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQWlEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBTEE7QUFPQTtBQUFBO0FBQUE7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUF0TkE7QUFDQTtBQUNBO0FBd05BO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFEQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFEQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFwQkE7QUFDQTtBQXVCQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFEQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQVRBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQURBO0FBT0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFBQTtBQUFBO0FBREE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBSkE7QUFDQTtBQU9BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBakJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQS9TQTtBQW1VQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFIQTtBQUNBO0FBdFVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUE0VUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFTQTtBQUNBO0FBQUE7QUFBQTtBQVZBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVNBO0FBQ0E7QUFBQTtBQUFBO0FBVkE7QUFlQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBU0E7QUFUQTtBQWFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFMQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFqQkE7QUFvQkE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUFBO0FBQUE7QUFsQkE7QUFvQkE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUF0QkE7QUF3QkE7QUF4QkE7QUE0QkE7QUFDQTtBQUNBO0FBSEE7QUFRQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBUUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFIQTtBQU1BO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFUQTtBQURBO0FBMEJBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../ui/component/publish/livestream/livestreamForm/view.jsx\n");

/***/ }),

/***/ "../ui/component/publish/livestream/publishLivestream/view.jsx":
/*!*********************************************************************!*\
  !*** ../ui/component/publish/livestream/publishLivestream/view.jsx ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__) {/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! config */ \"../config.js\");\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(config__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var constants_publish_sources__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! constants/publish_sources */ \"../ui/constants/publish_sources.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var component_common_card__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! component/common/card */ \"../ui/component/common/card.jsx\");\n/* harmony import */ var component_common_form__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! component/common/form */ \"../ui/component/common/form.jsx\");\n/* harmony import */ var util_lbryURI__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! util/lbryURI */ \"../ui/util/lbryURI.js\");\n/* harmony import */ var component_spinner__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! component/spinner */ \"../ui/component/spinner/index.js\");\n/* harmony import */ var constants_publish_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! constants/publish_types */ \"../ui/constants/publish_types.js\");\n/* harmony import */ var _shared_publishName__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../shared/publishName */ \"../ui/component/publish/shared/publishName/index.js\");\n/* harmony import */ var component_copyableText__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! component/copyableText */ \"../ui/component/copyableText/index.js\");\n/* harmony import */ var component_common_empty__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! component/common/empty */ \"../ui/component/common/empty.jsx\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! moment */ \"../node_modules/moment/moment.js\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! classnames */ \"../node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var react_paginate__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react-paginate */ \"../node_modules/react-paginate/dist/index.js\");\n/* harmony import */ var react_paginate__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react_paginate__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var component_common_file_selector__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! component/common/file-selector */ \"../ui/component/common/file-selector.jsx\");\n/* harmony import */ var component_button__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! component/button */ \"../ui/component/button/index.js\");\n/* harmony import */ var _style_scss__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./style.scss */ \"../ui/component/publish/livestream/publishLivestream/style.scss\");\n/* harmony import */ var _style_scss__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_style_scss__WEBPACK_IMPORTED_MODULE_16__);\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction PublishLivestream(props) {\n  var uri = props.uri,\n      mode = props.mode,\n      name = props.name,\n      title = props.title,\n      balance = props.balance,\n      filePath = props.filePath,\n      isStillEditing = props.isStillEditing,\n      updatePublishForm = props.doUpdatePublishForm,\n      doToast = props.doToast,\n      size = props.size,\n      duration = props.duration,\n      isVid = props.isVid,\n      disabled = props.disabled,\n      livestreamData = props.livestreamData,\n      isCheckingLivestreams = props.isCheckingLivestreams,\n      setOverMaxBitrate = props.setOverMaxBitrate,\n      fileSource = props.fileSource,\n      changeFileSource = props.changeFileSource,\n      inEditMode = props.inEditMode,\n      setReplaySource = props.setReplaySource,\n      replaySource = props.replaySource;\n  var livestreamDataStr = JSON.stringify(livestreamData);\n  var hasLivestreamData = livestreamData && Boolean(livestreamData.length);\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedFileIndex = _useState2[0],\n      setSelectedFileIndex = _useState2[1];\n\n  var PAGE_SIZE = 4;\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(1),\n      _useState4 = _slicedToArray(_useState3, 2),\n      currentPage = _useState4[0],\n      setCurrentPage = _useState4[1];\n\n  var totalPages = hasLivestreamData && livestreamData.length > PAGE_SIZE ? Math.ceil(livestreamData.length / PAGE_SIZE) : 1;\n  var replayTitleLabel = !inEditMode ? __('Select Replay') : __('Use Replay');\n  var RECOMMENDED_BITRATE = 9500000;\n  var MAX_BITRATE = 19500000;\n  var TV_PUBLISH_SIZE_LIMIT_BYTES = config__WEBPACK_IMPORTED_MODULE_0__[\"WEB_PUBLISH_SIZE_LIMIT_GB\"] * 1073741824;\n  var TV_PUBLISH_SIZE_LIMIT_GB_STR = String(config__WEBPACK_IMPORTED_MODULE_0__[\"WEB_PUBLISH_SIZE_LIMIT_GB\"]);\n  var bitRate = getBitrate(size, duration);\n  var bitRateIsOverMax = bitRate > MAX_BITRATE;\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      oversized = _useState6[0],\n      setOversized = _useState6[1];\n\n  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      currentFile = _useState8[0],\n      setCurrentFile = _useState8[1];\n\n  var UPLOAD_SIZE_MESSAGE = __('%SITE_NAME% uploads are limited to %limit% GB.', {\n    SITE_NAME: config__WEBPACK_IMPORTED_MODULE_0__[\"SITE_NAME\"],\n    limit: TV_PUBLISH_SIZE_LIMIT_GB_STR\n  }); // Reset filePath if publish mode changed\n\n\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    updatePublishForm({\n      filePath: ''\n    });\n  }, [mode, isStillEditing, updatePublishForm]); // Reset title when form gets cleared\n\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    updatePublishForm({\n      title: title\n    });\n  }, [filePath]); // Initialize default file source state for each mode.\n\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    switch (mode) {\n      case constants_publish_types__WEBPACK_IMPORTED_MODULE_7__[\"LIVESTREAM\"]:\n        if (inEditMode) {\n          changeFileSource(constants_publish_sources__WEBPACK_IMPORTED_MODULE_1__[\"SOURCE_SELECT\"]);\n        } else {\n          changeFileSource(constants_publish_sources__WEBPACK_IMPORTED_MODULE_1__[\"SOURCE_NONE\"]);\n        }\n\n        break;\n\n      case constants_publish_types__WEBPACK_IMPORTED_MODULE_7__[\"FILE\"]:\n        changeFileSource(constants_publish_sources__WEBPACK_IMPORTED_MODULE_1__[\"SOURCE_UPLOAD\"]);\n        break;\n    }\n  }, [mode, hasLivestreamData]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  var normalizeUrlForProtocol = function normalizeUrlForProtocol(url) {\n    if (url && url.startsWith('https://')) {\n      return url;\n    } else {\n      if (url && url.startsWith('http://')) {\n        return url;\n      } else if (url) {\n        return \"https://\".concat(url);\n      } else return __('Click Check for Replays to update...');\n    }\n  }; // update remoteUrl when replay selected\n\n\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    var livestreamData = JSON.parse(livestreamDataStr);\n\n    if (selectedFileIndex !== null && livestreamData && livestreamData.length) {\n      if (replaySource !== 'upload') {\n        updatePublishForm({\n          remoteFileUrl: normalizeUrlForProtocol(livestreamData[selectedFileIndex].data.fileLocation),\n          isLivestreamPublish: true\n        });\n      } else {\n        updatePublishForm({\n          remoteFileUrl: normalizeUrlForProtocol(livestreamData[selectedFileIndex].data.fileLocation),\n          isLivestreamPublish: false\n        });\n      }\n    }\n  }, [replaySource, selectedFileIndex, updatePublishForm, livestreamDataStr]);\n\n  function handlePaginateReplays(page) {\n    setCurrentPage(page);\n  }\n\n  function handleTitleChange(event) {\n    updatePublishForm({\n      title: event.target.value\n    });\n  }\n\n  function getBitrate(size, duration) {\n    var s = Number(size);\n    var d = Number(duration);\n\n    if (s && d) {\n      return s * 8 / d;\n    } else {\n      return 0;\n    }\n  }\n\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    if (!filePath || filePath === '') {\n      setCurrentFile('');\n      setOversized(false);\n      setOverMaxBitrate(false);\n      updateFileInfo(0, 0, false);\n    } else if (typeof filePath !== 'string') {\n      // Update currentFile file\n      if (filePath.name !== currentFile && filePath.path !== currentFile) {\n        handleFileChange(filePath);\n      }\n    }\n  }, [filePath, currentFile, doToast, updatePublishForm]);\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    setOverMaxBitrate(bitRateIsOverMax);\n  }, [bitRateIsOverMax]);\n\n  function updateFileInfo(duration, size, isvid) {\n    updatePublishForm({\n      fileDur: duration,\n      fileSize: size,\n      fileVid: isvid\n    });\n  }\n  /*\n  function autofillTitle(file) {\n    const newTitle = (file && file.name && file.name.substr(0, file.name.lastIndexOf('.'))) || name || '';\n    if (!title) updatePublishForm({ title: newTitle });\n  }\n  */\n\n\n  function handleFileChange(file) {\n    var clearName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    window.URL = window.URL || window.webkitURL;\n    setOversized(false);\n    setOverMaxBitrate(false); // select file, start to select a new one, then cancel\n\n    if (!file) {\n      if (isStillEditing || !clearName) {\n        updatePublishForm({\n          filePath: ''\n        });\n      } else {\n        updatePublishForm({\n          filePath: '',\n          name: ''\n        });\n      }\n\n      return;\n    } // if video, extract duration so we can warn about bitrateif (typeof file !== 'string') {\n\n\n    var contentType = file.type && file.type.split('/');\n    var isVideo = contentType && contentType[0] === 'video';\n    var isMp4 = contentType && contentType[1] === 'mp4';\n\n    if (isVideo) {\n      if (isMp4) {\n        var video = document.createElement('video');\n        video.preload = 'metadata';\n\n        video.onloadedmetadata = function () {\n          updateFileInfo(video.duration, file.size, isVideo);\n          window.URL.revokeObjectURL(video.src);\n        };\n\n        video.onerror = function () {\n          updateFileInfo(0, file.size, isVideo);\n        };\n\n        video.src = window.URL.createObjectURL(file);\n      } else {\n        updateFileInfo(0, file.size, isVideo);\n      }\n    } else {\n      updateFileInfo(0, file.size, isVideo);\n    }\n\n    updatePublishForm({\n      isLivestreamPublish: false\n    }); // Strip off extention and replace invalid characters\n\n    var fileName = name || file.name && file.name.substr(0, file.name.lastIndexOf('.')) || ''; // we only need to enforce file sizes on 'web'\n\n    if (file.size && Number(file.size) > TV_PUBLISH_SIZE_LIMIT_BYTES) {\n      setOversized(true);\n      doToast({\n        message: __(UPLOAD_SIZE_MESSAGE),\n        isError: true\n      });\n      updatePublishForm({\n        filePath: ''\n      });\n      return;\n    }\n\n    var publishFormParams = {\n      // if electron, we'll set filePath to the path string because SDK is handling publishing.\n      // File.path will be undefined from web due to browser security, so it will default to the File Object.\n      filePath: file.path || file\n    };\n\n    if (!isStillEditing) {\n      publishFormParams.name = Object(util_lbryURI__WEBPACK_IMPORTED_MODULE_5__[\"sanitizeName\"])(fileName);\n    } // File path is not supported on web for security reasons so we use the name instead.\n\n\n    setCurrentFile(file.path || file.name);\n    updatePublishForm(publishFormParams);\n  }\n\n  function getUploadMessage() {\n    if (oversized) {\n      return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"p\", {\n        className: \"help--error\"\n      }, UPLOAD_SIZE_MESSAGE, ' ', react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n        button: \"link\",\n        label: __('Upload Guide'),\n        href: \"https://odysee.com/@OdyseeHelp:b/uploadguide:1\"\n      }));\n    }\n\n    if (isVid && duration && bitRate > RECOMMENDED_BITRATE) {\n      return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"p\", {\n        className: \"help--warning\"\n      }, bitRateIsOverMax ? __('Your video has a bitrate over ~16 Mbps and cannot be processed at this time. We suggest transcoding to provide viewers the best experience.') : __('Your video has a bitrate over 8 Mbps. We suggest transcoding to provide viewers the best experience.'), ' ', react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n        button: \"link\",\n        label: __('Upload Guide'),\n        href: \"https://odysee.com/@OdyseeHelp:b/uploadguide:1?lc=e280f6e6fdec3f5fd4043954c71add50b3fd2d6a9f3ddba979b459da6ae4a1f4\"\n      }));\n    }\n\n    if (isVid && !duration) {\n      return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"p\", {\n        className: \"help--warning\"\n      }, __('Your video may not be the best format. Use MP4s in H264/AAC format and a friendly bitrate (under 8 Mbps) for more reliable streaming.'), ' ', react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n        button: \"link\",\n        label: __('Upload Guide'),\n        href: \"https://odysee.com/@OdyseeHelp:b/uploadguide:1?lc=e280f6e6fdec3f5fd4043954c71add50b3fd2d6a9f3ddba979b459da6ae4a1f4\"\n      }));\n    }\n\n    if (!isStillEditing) {\n      return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"p\", {\n        className: \"help\"\n      }, __('For video content, use MP4s in H264/AAC format and a friendly bitrate (under 8 Mbps) for more reliable streaming. %SITE_NAME% uploads are restricted to %limit% GB.', {\n        SITE_NAME: config__WEBPACK_IMPORTED_MODULE_0__[\"SITE_NAME\"],\n        limit: TV_PUBLISH_SIZE_LIMIT_GB_STR\n      }), ' ', react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n        button: \"link\",\n        label: __('Upload Guide'),\n        href: \"https://odysee.com/@OdyseeHelp:b/uploadguide:1?lc=e280f6e6fdec3f5fd4043954c71add50b3fd2d6a9f3ddba979b459da6ae4a1f4\"\n      }));\n    }\n  }\n\n  function updateReplayOption(value) {\n    setReplaySource(value);\n\n    if (value !== 'choose') {\n      setSelectedFileIndex(null);\n    }\n\n    if (value !== 'upload') {\n      updatePublishForm({\n        filePath: ''\n      });\n    }\n  }\n\n  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_common_card__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    className: classnames__WEBPACK_IMPORTED_MODULE_12___default()({\n      'card--disabled': disabled || balance === 0\n    }),\n    actions: react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      className: \"card--file\"\n    }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_common_form__WEBPACK_IMPORTED_MODULE_4__[\"FormField\"], {\n      type: \"text\",\n      name: \"content_title\",\n      label: __('Title'),\n      placeholder: __('Descriptive titles work best'),\n      disabled: disabled,\n      value: title,\n      onChange: handleTitleChange,\n      className: \"fieldset-group\",\n      max: \"200\",\n      autoFocus: true,\n      autoComplete: \"off\"\n    }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_shared_publishName__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      uri: uri\n    }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, inEditMode && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"fieldset-section\", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"label\", {\n      style: {\n        marginBottom: 'var(--spacing-s)'\n      }\n    }, inEditMode && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_common_form__WEBPACK_IMPORTED_MODULE_4__[\"FormField\"], {\n      name: \"reuse-replay\",\n      key: \"reuse-replay\",\n      type: \"radio\",\n      checked: replaySource === 'keep',\n      onClick: function onClick() {\n        return updateReplayOption('keep');\n      }\n    }), __('Update only'))), (fileSource === constants_publish_sources__WEBPACK_IMPORTED_MODULE_1__[\"SOURCE_SELECT\"] || inEditMode) && hasLivestreamData && !isCheckingLivestreams && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"label\", null, inEditMode && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_common_form__WEBPACK_IMPORTED_MODULE_4__[\"FormField\"], {\n      name: \"show-replays\",\n      key: \"show-replays\",\n      type: \"radio\",\n      checked: replaySource === 'choose',\n      onClick: function onClick() {\n        return updateReplayOption('choose');\n      }\n    }), replayTitleLabel), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      className: classnames__WEBPACK_IMPORTED_MODULE_12___default()('replay-picker--container', {\n        disabled: inEditMode && replaySource !== 'choose'\n      })\n    }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"fieldset-section\", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      className: \"table__wrapper\"\n    }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"table\", {\n      className: \"table table--livestream-data\"\n    }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"tbody\", null, livestreamData.slice((currentPage - 1) * PAGE_SIZE, currentPage * PAGE_SIZE).map(function (item, i) {\n      return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"tr\", {\n        className: \"livestream__data-row-spacer\",\n        key: item.id + '_spacer'\n      }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"tr\", {\n        onClick: function onClick() {\n          return setSelectedFileIndex((currentPage - 1) * PAGE_SIZE + i);\n        },\n        key: item.id,\n        className: classnames__WEBPACK_IMPORTED_MODULE_12___default()('livestream__data-row', {\n          'livestream__data-row--selected': selectedFileIndex === (currentPage - 1) * PAGE_SIZE + i\n        })\n      }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"td\", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_common_form__WEBPACK_IMPORTED_MODULE_4__[\"FormField\"], {\n        type: \"radio\",\n        checked: selectedFileIndex === (currentPage - 1) * PAGE_SIZE + i,\n        label: null,\n        onChange: function onChange() {},\n        onClick: function onClick() {\n          return setSelectedFileIndex((currentPage - 1) * PAGE_SIZE + i);\n        },\n        className: \"livestream__data-row-radio\"\n      })), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"td\", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n        className: \"livestream_thumb_container\"\n      }, item.data.thumbnails.slice(0, 3).map(function (thumb) {\n        return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"img\", {\n          key: thumb,\n          className: \"livestream___thumb\",\n          src: thumb\n        });\n      }))), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"td\", null, item.data.fileDuration && isNaN(item.data.fileDuration) ? item.data.fileDuration : \"\".concat(Math.floor(item.data.fileDuration / 60), \" \").concat(Math.floor(item.data.fileDuration / 60) === 1 ? __('minute') : __('minutes')), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n        className: \"table__item-label\"\n      }, \"\".concat(moment__WEBPACK_IMPORTED_MODULE_11___default()(item.data.uploadedAt).from(moment__WEBPACK_IMPORTED_MODULE_11___default()())))), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"td\", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_copyableText__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n        primaryButton: true,\n        copyable: normalizeUrlForProtocol(item.data.fileLocation),\n        snackMessage: __('Url copied.')\n      }))));\n    }))))), totalPages > 1 && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"fieldset-group\", {\n      \"class\": \"fieldset-group--smushed fieldgroup--paginate\"\n    }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"fieldset-section\", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_paginate__WEBPACK_IMPORTED_MODULE_13___default.a, {\n      pageCount: totalPages,\n      pageRangeDisplayed: 2,\n      previousLabel: \"\\u2039\",\n      nextLabel: \"\\u203A\",\n      activeClassName: \"pagination__item--selected\",\n      pageClassName: \"pagination__item\",\n      previousClassName: \"pagination__item pagination__item--previous\",\n      nextClassName: \"pagination__item pagination__item--next\",\n      breakClassName: \"pagination__item pagination__item--break\",\n      marginPagesDisplayed: 2,\n      onPageChange: function onPageChange(e) {\n        return handlePaginateReplays(e.selected + 1);\n      },\n      forcePage: currentPage - 1,\n      initialPage: currentPage - 1,\n      containerClassName: \"pagination\"\n    }))))), (fileSource === constants_publish_sources__WEBPACK_IMPORTED_MODULE_1__[\"SOURCE_SELECT\"] || inEditMode) && !hasLivestreamData && !isCheckingLivestreams && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"label\", {\n      className: \"disabled\"\n    }, inEditMode && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_common_form__WEBPACK_IMPORTED_MODULE_4__[\"FormField\"], {\n      name: \"show-replays\",\n      key: \"show-replays\",\n      type: \"radio\",\n      checked: replaySource === 'choose',\n      onClick: function onClick() {\n        return updateReplayOption('choose');\n      }\n    }), replayTitleLabel), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      className: \"main--empty empty disabled\"\n    }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_common_empty__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n      text: __('No replays found.')\n    }))), (fileSource === constants_publish_sources__WEBPACK_IMPORTED_MODULE_1__[\"SOURCE_SELECT\"] || inEditMode) && isCheckingLivestreams && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"label\", {\n      className: \"disabled\"\n    }, inEditMode && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_common_form__WEBPACK_IMPORTED_MODULE_4__[\"FormField\"], {\n      name: \"replay-source\",\n      value: \"choose\",\n      key: \"show-replays-spin\",\n      type: \"radio\",\n      checked: replaySource === 'choose',\n      onClick: function onClick() {\n        return updateReplayOption('choose');\n      }\n    }), replayTitleLabel), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      className: \"main--empty empty\"\n    }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_spinner__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      small: true\n    }))), inEditMode && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n      className: \"file-upload\"\n    }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"label\", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_common_form__WEBPACK_IMPORTED_MODULE_4__[\"FormField\"], {\n      name: \"replay-source\",\n      type: \"radio\",\n      checked: replaySource === 'upload',\n      onClick: function onClick() {\n        return updateReplayOption('upload');\n      }\n    }), \"Upload Replay\"), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_common_file_selector__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n      disabled: replaySource !== 'upload',\n      currentPath: currentFile,\n      onFileChosen: handleFileChange,\n      accept: config__WEBPACK_IMPORTED_MODULE_0__[\"SIMPLE_SITE\"] ? 'video/mp4,video/x-m4v,video/*' : undefined,\n      placeholder: __('Select video replay file to upload')\n    }), getUploadMessage())))))\n  });\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (PublishLivestream);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! i18n.js */ \"../ui/i18n.js\")[\"__\"]))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L3B1Ymxpc2gvbGl2ZXN0cmVhbS9wdWJsaXNoTGl2ZXN0cmVhbS92aWV3LmpzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi91aS9jb21wb25lbnQvcHVibGlzaC9saXZlc3RyZWFtL3B1Ymxpc2hMaXZlc3RyZWFtL3ZpZXcuanN4PzI2YjEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQGZsb3dcbmltcG9ydCB7IFNJVEVfTkFNRSwgV0VCX1BVQkxJU0hfU0laRV9MSU1JVF9HQiwgU0lNUExFX1NJVEUgfSBmcm9tICdjb25maWcnO1xuaW1wb3J0IHsgU09VUkNFX05PTkUsIFNPVVJDRV9TRUxFQ1QsIFNPVVJDRV9VUExPQUQgfSBmcm9tICdjb25zdGFudHMvcHVibGlzaF9zb3VyY2VzJztcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IENhcmQgZnJvbSAnY29tcG9uZW50L2NvbW1vbi9jYXJkJztcbmltcG9ydCB7IEZvcm1GaWVsZCB9IGZyb20gJ2NvbXBvbmVudC9jb21tb24vZm9ybSc7XG5pbXBvcnQgeyBzYW5pdGl6ZU5hbWUgfSBmcm9tICd1dGlsL2xicnlVUkknO1xuaW1wb3J0IFNwaW5uZXIgZnJvbSAnY29tcG9uZW50L3NwaW5uZXInO1xuaW1wb3J0ICogYXMgUFVCTElTSF9NT0RFUyBmcm9tICdjb25zdGFudHMvcHVibGlzaF90eXBlcyc7XG5pbXBvcnQgUHVibGlzaE5hbWUgZnJvbSAnLi4vLi4vc2hhcmVkL3B1Ymxpc2hOYW1lJztcbmltcG9ydCBDb3B5YWJsZVRleHQgZnJvbSAnY29tcG9uZW50L2NvcHlhYmxlVGV4dCc7XG5pbXBvcnQgRW1wdHkgZnJvbSAnY29tcG9uZW50L2NvbW1vbi9lbXB0eSc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBSZWFjdFBhZ2luYXRlIGZyb20gJ3JlYWN0LXBhZ2luYXRlJztcbmltcG9ydCBGaWxlU2VsZWN0b3IgZnJvbSAnY29tcG9uZW50L2NvbW1vbi9maWxlLXNlbGVjdG9yJztcbmltcG9ydCBCdXR0b24gZnJvbSAnY29tcG9uZW50L2J1dHRvbic7XG5pbXBvcnQgJy4vc3R5bGUuc2Nzcyc7XG5cbnR5cGUgUHJvcHMgPSB7XG4gIHVyaTogP3N0cmluZyxcbiAgbW9kZTogP3N0cmluZyxcbiAgZGlzYWJsZWQ6IGJvb2xlYW4sXG4gIGxpdmVzdHJlYW1EYXRhOiBMaXZlc3RyZWFtUmVwbGF5RGF0YSxcbiAgaXNDaGVja2luZ0xpdmVzdHJlYW1zOiBib29sZWFuLFxuICBzZXRPdmVyTWF4Qml0cmF0ZTogKGJvb2xlYW4pID0+IHZvaWQsXG4gIGZpbGVTb3VyY2U6IHN0cmluZyxcbiAgY2hhbmdlRmlsZVNvdXJjZTogKHN0cmluZykgPT4gdm9pZCxcbiAgaW5FZGl0TW9kZTogYm9vbGVhbixcbiAgcmVwbGF5U291cmNlPzogc3RyaW5nLFxuICBzZXRSZXBsYXlTb3VyY2U6IChzdHJpbmcpID0+IHZvaWQsXG4gIC8vIC0tLSByZWR1eCAtLS1cbiAgbmFtZTogP3N0cmluZyxcbiAgdGl0bGU6ID9zdHJpbmcsXG4gIGZpbGVQYXRoOiBzdHJpbmcgfCBXZWJGaWxlLFxuICBpc1N0aWxsRWRpdGluZzogYm9vbGVhbixcbiAgYmFsYW5jZTogbnVtYmVyLFxuICBwdWJsaXNoaW5nOiBib29sZWFuLFxuICBzaXplOiBudW1iZXIsXG4gIGR1cmF0aW9uOiBudW1iZXIsXG4gIGlzVmlkOiBib29sZWFuLFxuICBkb1VwZGF0ZVB1Ymxpc2hGb3JtOiAoe30pID0+IHZvaWQsXG4gIGRvVG9hc3Q6ICh7IG1lc3NhZ2U6IHN0cmluZywgaXNFcnJvcj86IGJvb2xlYW4gfSkgPT4gdm9pZCxcbn07XG5cbmZ1bmN0aW9uIFB1Ymxpc2hMaXZlc3RyZWFtKHByb3BzOiBQcm9wcykge1xuICBjb25zdCB7XG4gICAgdXJpLFxuICAgIG1vZGUsXG4gICAgbmFtZSxcbiAgICB0aXRsZSxcbiAgICBiYWxhbmNlLFxuICAgIGZpbGVQYXRoLFxuICAgIGlzU3RpbGxFZGl0aW5nLFxuICAgIGRvVXBkYXRlUHVibGlzaEZvcm06IHVwZGF0ZVB1Ymxpc2hGb3JtLFxuICAgIGRvVG9hc3QsXG4gICAgc2l6ZSxcbiAgICBkdXJhdGlvbixcbiAgICBpc1ZpZCxcbiAgICBkaXNhYmxlZCxcbiAgICBsaXZlc3RyZWFtRGF0YSxcbiAgICBpc0NoZWNraW5nTGl2ZXN0cmVhbXMsXG4gICAgc2V0T3Zlck1heEJpdHJhdGUsXG4gICAgZmlsZVNvdXJjZSxcbiAgICBjaGFuZ2VGaWxlU291cmNlLFxuICAgIGluRWRpdE1vZGUsXG4gICAgc2V0UmVwbGF5U291cmNlLFxuICAgIHJlcGxheVNvdXJjZSxcbiAgfSA9IHByb3BzO1xuXG4gIGNvbnN0IGxpdmVzdHJlYW1EYXRhU3RyID0gSlNPTi5zdHJpbmdpZnkobGl2ZXN0cmVhbURhdGEpO1xuICBjb25zdCBoYXNMaXZlc3RyZWFtRGF0YSA9IGxpdmVzdHJlYW1EYXRhICYmIEJvb2xlYW4obGl2ZXN0cmVhbURhdGEubGVuZ3RoKTtcblxuICBjb25zdCBbc2VsZWN0ZWRGaWxlSW5kZXgsIHNldFNlbGVjdGVkRmlsZUluZGV4XSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBQQUdFX1NJWkUgPSA0O1xuICBjb25zdCBbY3VycmVudFBhZ2UsIHNldEN1cnJlbnRQYWdlXSA9IHVzZVN0YXRlKDEpO1xuXG4gIGNvbnN0IHRvdGFsUGFnZXMgPVxuICAgIGhhc0xpdmVzdHJlYW1EYXRhICYmIGxpdmVzdHJlYW1EYXRhLmxlbmd0aCA+IFBBR0VfU0laRSA/IE1hdGguY2VpbChsaXZlc3RyZWFtRGF0YS5sZW5ndGggLyBQQUdFX1NJWkUpIDogMTtcblxuICBjb25zdCByZXBsYXlUaXRsZUxhYmVsID0gIWluRWRpdE1vZGUgPyBfXygnU2VsZWN0IFJlcGxheScpIDogX18oJ1VzZSBSZXBsYXknKTtcblxuICBjb25zdCBSRUNPTU1FTkRFRF9CSVRSQVRFID0gOTUwMDAwMDtcbiAgY29uc3QgTUFYX0JJVFJBVEUgPSAxOTUwMDAwMDtcbiAgY29uc3QgVFZfUFVCTElTSF9TSVpFX0xJTUlUX0JZVEVTID0gV0VCX1BVQkxJU0hfU0laRV9MSU1JVF9HQiAqIDEwNzM3NDE4MjQ7XG4gIGNvbnN0IFRWX1BVQkxJU0hfU0laRV9MSU1JVF9HQl9TVFIgPSBTdHJpbmcoV0VCX1BVQkxJU0hfU0laRV9MSU1JVF9HQik7XG4gIGNvbnN0IGJpdFJhdGUgPSBnZXRCaXRyYXRlKHNpemUsIGR1cmF0aW9uKTtcbiAgY29uc3QgYml0UmF0ZUlzT3Zlck1heCA9IGJpdFJhdGUgPiBNQVhfQklUUkFURTtcbiAgY29uc3QgW292ZXJzaXplZCwgc2V0T3ZlcnNpemVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2N1cnJlbnRGaWxlLCBzZXRDdXJyZW50RmlsZV0gPSB1c2VTdGF0ZShudWxsKTtcblxuICBjb25zdCBVUExPQURfU0laRV9NRVNTQUdFID0gX18oJyVTSVRFX05BTUUlIHVwbG9hZHMgYXJlIGxpbWl0ZWQgdG8gJWxpbWl0JSBHQi4nLCB7XG4gICAgU0lURV9OQU1FLFxuICAgIGxpbWl0OiBUVl9QVUJMSVNIX1NJWkVfTElNSVRfR0JfU1RSLFxuICB9KTtcblxuICAvLyBSZXNldCBmaWxlUGF0aCBpZiBwdWJsaXNoIG1vZGUgY2hhbmdlZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHVwZGF0ZVB1Ymxpc2hGb3JtKHsgZmlsZVBhdGg6ICcnIH0pO1xuICB9LCBbbW9kZSwgaXNTdGlsbEVkaXRpbmcsIHVwZGF0ZVB1Ymxpc2hGb3JtXSk7XG5cbiAgLy8gUmVzZXQgdGl0bGUgd2hlbiBmb3JtIGdldHMgY2xlYXJlZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHVwZGF0ZVB1Ymxpc2hGb3JtKHsgdGl0bGU6IHRpdGxlIH0pO1xuICB9LCBbZmlsZVBhdGhdKTtcblxuICAvLyBJbml0aWFsaXplIGRlZmF1bHQgZmlsZSBzb3VyY2Ugc3RhdGUgZm9yIGVhY2ggbW9kZS5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgIGNhc2UgUFVCTElTSF9NT0RFUy5MSVZFU1RSRUFNOlxuICAgICAgICBpZiAoaW5FZGl0TW9kZSkge1xuICAgICAgICAgIGNoYW5nZUZpbGVTb3VyY2UoU09VUkNFX1NFTEVDVCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hhbmdlRmlsZVNvdXJjZShTT1VSQ0VfTk9ORSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFBVQkxJU0hfTU9ERVMuRklMRTpcbiAgICAgICAgY2hhbmdlRmlsZVNvdXJjZShTT1VSQ0VfVVBMT0FEKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9LCBbbW9kZSwgaGFzTGl2ZXN0cmVhbURhdGFdKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcblxuICBjb25zdCBub3JtYWxpemVVcmxGb3JQcm90b2NvbCA9ICh1cmwpID0+IHtcbiAgICBpZiAodXJsICYmIHVybC5zdGFydHNXaXRoKCdodHRwczovLycpKSB7XG4gICAgICByZXR1cm4gdXJsO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodXJsICYmIHVybC5zdGFydHNXaXRoKCdodHRwOi8vJykpIHtcbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICAgIH0gZWxzZSBpZiAodXJsKSB7XG4gICAgICAgIHJldHVybiBgaHR0cHM6Ly8ke3VybH1gO1xuICAgICAgfSBlbHNlIHJldHVybiBfXygnQ2xpY2sgQ2hlY2sgZm9yIFJlcGxheXMgdG8gdXBkYXRlLi4uJyk7XG4gICAgfVxuICB9O1xuXG4gIC8vIHVwZGF0ZSByZW1vdGVVcmwgd2hlbiByZXBsYXkgc2VsZWN0ZWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBsaXZlc3RyZWFtRGF0YSA9IEpTT04ucGFyc2UobGl2ZXN0cmVhbURhdGFTdHIpO1xuICAgIGlmIChzZWxlY3RlZEZpbGVJbmRleCAhPT0gbnVsbCAmJiBsaXZlc3RyZWFtRGF0YSAmJiBsaXZlc3RyZWFtRGF0YS5sZW5ndGgpIHtcbiAgICAgIGlmIChyZXBsYXlTb3VyY2UgIT09ICd1cGxvYWQnKSB7XG4gICAgICAgIHVwZGF0ZVB1Ymxpc2hGb3JtKHtcbiAgICAgICAgICByZW1vdGVGaWxlVXJsOiBub3JtYWxpemVVcmxGb3JQcm90b2NvbChsaXZlc3RyZWFtRGF0YVtzZWxlY3RlZEZpbGVJbmRleF0uZGF0YS5maWxlTG9jYXRpb24pLFxuICAgICAgICAgIGlzTGl2ZXN0cmVhbVB1Ymxpc2g6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXBkYXRlUHVibGlzaEZvcm0oe1xuICAgICAgICAgIHJlbW90ZUZpbGVVcmw6IG5vcm1hbGl6ZVVybEZvclByb3RvY29sKGxpdmVzdHJlYW1EYXRhW3NlbGVjdGVkRmlsZUluZGV4XS5kYXRhLmZpbGVMb2NhdGlvbiksXG4gICAgICAgICAgaXNMaXZlc3RyZWFtUHVibGlzaDogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW3JlcGxheVNvdXJjZSwgc2VsZWN0ZWRGaWxlSW5kZXgsIHVwZGF0ZVB1Ymxpc2hGb3JtLCBsaXZlc3RyZWFtRGF0YVN0cl0pO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZVBhZ2luYXRlUmVwbGF5cyhwYWdlKSB7XG4gICAgc2V0Q3VycmVudFBhZ2UocGFnZSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVUaXRsZUNoYW5nZShldmVudCkge1xuICAgIHVwZGF0ZVB1Ymxpc2hGb3JtKHsgdGl0bGU6IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEJpdHJhdGUoc2l6ZSwgZHVyYXRpb24pIHtcbiAgICBjb25zdCBzID0gTnVtYmVyKHNpemUpO1xuICAgIGNvbnN0IGQgPSBOdW1iZXIoZHVyYXRpb24pO1xuICAgIGlmIChzICYmIGQpIHtcbiAgICAgIHJldHVybiAocyAqIDgpIC8gZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWZpbGVQYXRoIHx8IGZpbGVQYXRoID09PSAnJykge1xuICAgICAgc2V0Q3VycmVudEZpbGUoJycpO1xuICAgICAgc2V0T3ZlcnNpemVkKGZhbHNlKTtcbiAgICAgIHNldE92ZXJNYXhCaXRyYXRlKGZhbHNlKTtcbiAgICAgIHVwZGF0ZUZpbGVJbmZvKDAsIDAsIGZhbHNlKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBmaWxlUGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIFVwZGF0ZSBjdXJyZW50RmlsZSBmaWxlXG4gICAgICBpZiAoZmlsZVBhdGgubmFtZSAhPT0gY3VycmVudEZpbGUgJiYgZmlsZVBhdGgucGF0aCAhPT0gY3VycmVudEZpbGUpIHtcbiAgICAgICAgaGFuZGxlRmlsZUNoYW5nZShmaWxlUGF0aCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbZmlsZVBhdGgsIGN1cnJlbnRGaWxlLCBkb1RvYXN0LCB1cGRhdGVQdWJsaXNoRm9ybV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0T3Zlck1heEJpdHJhdGUoYml0UmF0ZUlzT3Zlck1heCk7XG4gIH0sIFtiaXRSYXRlSXNPdmVyTWF4XSk7XG5cbiAgZnVuY3Rpb24gdXBkYXRlRmlsZUluZm8oZHVyYXRpb24sIHNpemUsIGlzdmlkKSB7XG4gICAgdXBkYXRlUHVibGlzaEZvcm0oeyBmaWxlRHVyOiBkdXJhdGlvbiwgZmlsZVNpemU6IHNpemUsIGZpbGVWaWQ6IGlzdmlkIH0pO1xuICB9XG5cbiAgLypcbiAgZnVuY3Rpb24gYXV0b2ZpbGxUaXRsZShmaWxlKSB7XG4gICAgY29uc3QgbmV3VGl0bGUgPSAoZmlsZSAmJiBmaWxlLm5hbWUgJiYgZmlsZS5uYW1lLnN1YnN0cigwLCBmaWxlLm5hbWUubGFzdEluZGV4T2YoJy4nKSkpIHx8IG5hbWUgfHwgJyc7XG4gICAgaWYgKCF0aXRsZSkgdXBkYXRlUHVibGlzaEZvcm0oeyB0aXRsZTogbmV3VGl0bGUgfSk7XG4gIH1cbiAgKi9cbiAgZnVuY3Rpb24gaGFuZGxlRmlsZUNoYW5nZShmaWxlOiBXZWJGaWxlLCBjbGVhck5hbWUgPSB0cnVlKSB7XG4gICAgd2luZG93LlVSTCA9IHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTDtcbiAgICBzZXRPdmVyc2l6ZWQoZmFsc2UpO1xuICAgIHNldE92ZXJNYXhCaXRyYXRlKGZhbHNlKTtcblxuICAgIC8vIHNlbGVjdCBmaWxlLCBzdGFydCB0byBzZWxlY3QgYSBuZXcgb25lLCB0aGVuIGNhbmNlbFxuICAgIGlmICghZmlsZSkge1xuICAgICAgaWYgKGlzU3RpbGxFZGl0aW5nIHx8ICFjbGVhck5hbWUpIHtcbiAgICAgICAgdXBkYXRlUHVibGlzaEZvcm0oeyBmaWxlUGF0aDogJycgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGRhdGVQdWJsaXNoRm9ybSh7IGZpbGVQYXRoOiAnJywgbmFtZTogJycgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gaWYgdmlkZW8sIGV4dHJhY3QgZHVyYXRpb24gc28gd2UgY2FuIHdhcm4gYWJvdXQgYml0cmF0ZWlmICh0eXBlb2YgZmlsZSAhPT0gJ3N0cmluZycpIHtcbiAgICBjb25zdCBjb250ZW50VHlwZSA9IGZpbGUudHlwZSAmJiBmaWxlLnR5cGUuc3BsaXQoJy8nKTtcbiAgICBjb25zdCBpc1ZpZGVvID0gY29udGVudFR5cGUgJiYgY29udGVudFR5cGVbMF0gPT09ICd2aWRlbyc7XG4gICAgY29uc3QgaXNNcDQgPSBjb250ZW50VHlwZSAmJiBjb250ZW50VHlwZVsxXSA9PT0gJ21wNCc7XG5cbiAgICBpZiAoaXNWaWRlbykge1xuICAgICAgaWYgKGlzTXA0KSB7XG4gICAgICAgIGNvbnN0IHZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgdmlkZW8ucHJlbG9hZCA9ICdtZXRhZGF0YSc7XG4gICAgICAgIHZpZGVvLm9ubG9hZGVkbWV0YWRhdGEgPSAoKSA9PiB7XG4gICAgICAgICAgdXBkYXRlRmlsZUluZm8odmlkZW8uZHVyYXRpb24sIGZpbGUuc2l6ZSwgaXNWaWRlbyk7XG4gICAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodmlkZW8uc3JjKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmlkZW8ub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICB1cGRhdGVGaWxlSW5mbygwLCBmaWxlLnNpemUsIGlzVmlkZW8pO1xuICAgICAgICB9O1xuICAgICAgICB2aWRlby5zcmMgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVwZGF0ZUZpbGVJbmZvKDAsIGZpbGUuc2l6ZSwgaXNWaWRlbyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHVwZGF0ZUZpbGVJbmZvKDAsIGZpbGUuc2l6ZSwgaXNWaWRlbyk7XG4gICAgfVxuICAgIHVwZGF0ZVB1Ymxpc2hGb3JtKHsgaXNMaXZlc3RyZWFtUHVibGlzaDogZmFsc2UgfSk7XG5cbiAgICAvLyBTdHJpcCBvZmYgZXh0ZW50aW9uIGFuZCByZXBsYWNlIGludmFsaWQgY2hhcmFjdGVyc1xuICAgIGxldCBmaWxlTmFtZSA9IG5hbWUgfHwgKGZpbGUubmFtZSAmJiBmaWxlLm5hbWUuc3Vic3RyKDAsIGZpbGUubmFtZS5sYXN0SW5kZXhPZignLicpKSkgfHwgJyc7XG5cbiAgICAvLyB3ZSBvbmx5IG5lZWQgdG8gZW5mb3JjZSBmaWxlIHNpemVzIG9uICd3ZWInXG4gICAgaWYgKGZpbGUuc2l6ZSAmJiBOdW1iZXIoZmlsZS5zaXplKSA+IFRWX1BVQkxJU0hfU0laRV9MSU1JVF9CWVRFUykge1xuICAgICAgc2V0T3ZlcnNpemVkKHRydWUpO1xuICAgICAgZG9Ub2FzdCh7IG1lc3NhZ2U6IF9fKFVQTE9BRF9TSVpFX01FU1NBR0UpLCBpc0Vycm9yOiB0cnVlIH0pO1xuICAgICAgdXBkYXRlUHVibGlzaEZvcm0oeyBmaWxlUGF0aDogJycgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcHVibGlzaEZvcm1QYXJhbXM6IHsgZmlsZVBhdGg6IHN0cmluZyB8IFdlYkZpbGUsIG5hbWU/OiBzdHJpbmcsIG9wdGltaXplPzogYm9vbGVhbiB9ID0ge1xuICAgICAgLy8gaWYgZWxlY3Ryb24sIHdlJ2xsIHNldCBmaWxlUGF0aCB0byB0aGUgcGF0aCBzdHJpbmcgYmVjYXVzZSBTREsgaXMgaGFuZGxpbmcgcHVibGlzaGluZy5cbiAgICAgIC8vIEZpbGUucGF0aCB3aWxsIGJlIHVuZGVmaW5lZCBmcm9tIHdlYiBkdWUgdG8gYnJvd3NlciBzZWN1cml0eSwgc28gaXQgd2lsbCBkZWZhdWx0IHRvIHRoZSBGaWxlIE9iamVjdC5cbiAgICAgIGZpbGVQYXRoOiBmaWxlLnBhdGggfHwgZmlsZSxcbiAgICB9O1xuXG4gICAgaWYgKCFpc1N0aWxsRWRpdGluZykge1xuICAgICAgcHVibGlzaEZvcm1QYXJhbXMubmFtZSA9IHNhbml0aXplTmFtZShmaWxlTmFtZSk7XG4gICAgfVxuXG4gICAgLy8gRmlsZSBwYXRoIGlzIG5vdCBzdXBwb3J0ZWQgb24gd2ViIGZvciBzZWN1cml0eSByZWFzb25zIHNvIHdlIHVzZSB0aGUgbmFtZSBpbnN0ZWFkLlxuICAgIHNldEN1cnJlbnRGaWxlKGZpbGUucGF0aCB8fCBmaWxlLm5hbWUpO1xuICAgIHVwZGF0ZVB1Ymxpc2hGb3JtKHB1Ymxpc2hGb3JtUGFyYW1zKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFVwbG9hZE1lc3NhZ2UoKSB7XG4gICAgaWYgKG92ZXJzaXplZCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPHAgY2xhc3NOYW1lPVwiaGVscC0tZXJyb3JcIj5cbiAgICAgICAgICB7VVBMT0FEX1NJWkVfTUVTU0FHRX17JyAnfVxuICAgICAgICAgIDxCdXR0b24gYnV0dG9uPVwibGlua1wiIGxhYmVsPXtfXygnVXBsb2FkIEd1aWRlJyl9IGhyZWY9XCJodHRwczovL29keXNlZS5jb20vQE9keXNlZUhlbHA6Yi91cGxvYWRndWlkZToxXCIgLz5cbiAgICAgICAgPC9wPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoaXNWaWQgJiYgZHVyYXRpb24gJiYgYml0UmF0ZSA+IFJFQ09NTUVOREVEX0JJVFJBVEUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImhlbHAtLXdhcm5pbmdcIj5cbiAgICAgICAgICB7Yml0UmF0ZUlzT3Zlck1heFxuICAgICAgICAgICAgPyBfXyhcbiAgICAgICAgICAgICAgICAnWW91ciB2aWRlbyBoYXMgYSBiaXRyYXRlIG92ZXIgfjE2IE1icHMgYW5kIGNhbm5vdCBiZSBwcm9jZXNzZWQgYXQgdGhpcyB0aW1lLiBXZSBzdWdnZXN0IHRyYW5zY29kaW5nIHRvIHByb3ZpZGUgdmlld2VycyB0aGUgYmVzdCBleHBlcmllbmNlLidcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBfXyhcbiAgICAgICAgICAgICAgICAnWW91ciB2aWRlbyBoYXMgYSBiaXRyYXRlIG92ZXIgOCBNYnBzLiBXZSBzdWdnZXN0IHRyYW5zY29kaW5nIHRvIHByb3ZpZGUgdmlld2VycyB0aGUgYmVzdCBleHBlcmllbmNlLidcbiAgICAgICAgICAgICAgKX17JyAnfVxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGJ1dHRvbj1cImxpbmtcIlxuICAgICAgICAgICAgbGFiZWw9e19fKCdVcGxvYWQgR3VpZGUnKX1cbiAgICAgICAgICAgIGhyZWY9XCJodHRwczovL29keXNlZS5jb20vQE9keXNlZUhlbHA6Yi91cGxvYWRndWlkZToxP2xjPWUyODBmNmU2ZmRlYzNmNWZkNDA0Mzk1NGM3MWFkZDUwYjNmZDJkNmE5ZjNkZGJhOTc5YjQ1OWRhNmFlNGExZjRcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvcD5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGlzVmlkICYmICFkdXJhdGlvbikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPHAgY2xhc3NOYW1lPVwiaGVscC0td2FybmluZ1wiPlxuICAgICAgICAgIHtfXyhcbiAgICAgICAgICAgICdZb3VyIHZpZGVvIG1heSBub3QgYmUgdGhlIGJlc3QgZm9ybWF0LiBVc2UgTVA0cyBpbiBIMjY0L0FBQyBmb3JtYXQgYW5kIGEgZnJpZW5kbHkgYml0cmF0ZSAodW5kZXIgOCBNYnBzKSBmb3IgbW9yZSByZWxpYWJsZSBzdHJlYW1pbmcuJ1xuICAgICAgICAgICl9eycgJ31cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICBidXR0b249XCJsaW5rXCJcbiAgICAgICAgICAgIGxhYmVsPXtfXygnVXBsb2FkIEd1aWRlJyl9XG4gICAgICAgICAgICBocmVmPVwiaHR0cHM6Ly9vZHlzZWUuY29tL0BPZHlzZWVIZWxwOmIvdXBsb2FkZ3VpZGU6MT9sYz1lMjgwZjZlNmZkZWMzZjVmZDQwNDM5NTRjNzFhZGQ1MGIzZmQyZDZhOWYzZGRiYTk3OWI0NTlkYTZhZTRhMWY0XCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L3A+XG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghaXNTdGlsbEVkaXRpbmcpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImhlbHBcIj5cbiAgICAgICAgICB7X18oXG4gICAgICAgICAgICAnRm9yIHZpZGVvIGNvbnRlbnQsIHVzZSBNUDRzIGluIEgyNjQvQUFDIGZvcm1hdCBhbmQgYSBmcmllbmRseSBiaXRyYXRlICh1bmRlciA4IE1icHMpIGZvciBtb3JlIHJlbGlhYmxlIHN0cmVhbWluZy4gJVNJVEVfTkFNRSUgdXBsb2FkcyBhcmUgcmVzdHJpY3RlZCB0byAlbGltaXQlIEdCLicsXG4gICAgICAgICAgICB7IFNJVEVfTkFNRSwgbGltaXQ6IFRWX1BVQkxJU0hfU0laRV9MSU1JVF9HQl9TVFIgfVxuICAgICAgICAgICl9eycgJ31cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICBidXR0b249XCJsaW5rXCJcbiAgICAgICAgICAgIGxhYmVsPXtfXygnVXBsb2FkIEd1aWRlJyl9XG4gICAgICAgICAgICBocmVmPVwiaHR0cHM6Ly9vZHlzZWUuY29tL0BPZHlzZWVIZWxwOmIvdXBsb2FkZ3VpZGU6MT9sYz1lMjgwZjZlNmZkZWMzZjVmZDQwNDM5NTRjNzFhZGQ1MGIzZmQyZDZhOWYzZGRiYTk3OWI0NTlkYTZhZTRhMWY0XCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L3A+XG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVJlcGxheU9wdGlvbih2YWx1ZSkge1xuICAgIHNldFJlcGxheVNvdXJjZSh2YWx1ZSk7XG4gICAgaWYgKHZhbHVlICE9PSAnY2hvb3NlJykge1xuICAgICAgc2V0U2VsZWN0ZWRGaWxlSW5kZXgobnVsbCk7XG4gICAgfVxuICAgIGlmICh2YWx1ZSAhPT0gJ3VwbG9hZCcpIHtcbiAgICAgIHVwZGF0ZVB1Ymxpc2hGb3JtKHsgZmlsZVBhdGg6ICcnIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPENhcmRcbiAgICAgIGNsYXNzTmFtZT17Y2xhc3NuYW1lcyh7XG4gICAgICAgICdjYXJkLS1kaXNhYmxlZCc6IGRpc2FibGVkIHx8IGJhbGFuY2UgPT09IDAsXG4gICAgICB9KX1cbiAgICAgIGFjdGlvbnM9e1xuICAgICAgICA8PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC0tZmlsZVwiPlxuICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgICB7LyogRGVjaWRlIHdoZXRoZXIgdG8gc2hvdyBmaWxlIHVwbG9hZCBvciByZXBsYXkgc2VsZWN0b3IgKi99XG4gICAgICAgICAgICAgIHt9XG4gICAgICAgICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgbmFtZT1cImNvbnRlbnRfdGl0bGVcIlxuICAgICAgICAgICAgICAgIGxhYmVsPXtfXygnVGl0bGUnKX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17X18oJ0Rlc2NyaXB0aXZlIHRpdGxlcyB3b3JrIGJlc3QnKX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RpdGxlfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVUaXRsZUNoYW5nZX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmaWVsZHNldC1ncm91cFwiXG4gICAgICAgICAgICAgICAgbWF4PVwiMjAwXCJcbiAgICAgICAgICAgICAgICBhdXRvRm9jdXNcbiAgICAgICAgICAgICAgICBhdXRvQ29tcGxldGU9XCJvZmZcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8UHVibGlzaE5hbWUgdXJpPXt1cml9IC8+XG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAge2luRWRpdE1vZGUgJiYgKFxuICAgICAgICAgICAgICAgICAgPGZpZWxkc2V0LXNlY3Rpb24+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICd2YXIoLS1zcGFjaW5nLXMpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICB7aW5FZGl0TW9kZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUZpZWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJyZXVzZS1yZXBsYXlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9XCJyZXVzZS1yZXBsYXlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtyZXBsYXlTb3VyY2UgPT09ICdrZWVwJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdXBkYXRlUmVwbGF5T3B0aW9uKCdrZWVwJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAge19fKCdVcGRhdGUgb25seScpfVxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPC9maWVsZHNldC1zZWN0aW9uPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgeyhmaWxlU291cmNlID09PSBTT1VSQ0VfU0VMRUNUIHx8IGluRWRpdE1vZGUpICYmIGhhc0xpdmVzdHJlYW1EYXRhICYmICFpc0NoZWNraW5nTGl2ZXN0cmVhbXMgJiYgKFxuICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgIHtpbkVkaXRNb2RlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cInNob3ctcmVwbGF5c1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT1cInNob3ctcmVwbGF5c1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3JlcGxheVNvdXJjZSA9PT0gJ2Nob29zZSd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHVwZGF0ZVJlcGxheU9wdGlvbignY2hvb3NlJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAge3JlcGxheVRpdGxlTGFiZWx9XG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzbmFtZXMoJ3JlcGxheS1waWNrZXItLWNvbnRhaW5lcicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiBpbkVkaXRNb2RlICYmIHJlcGxheVNvdXJjZSAhPT0gJ2Nob29zZScsXG4gICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8ZmllbGRzZXQtc2VjdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGFibGVfX3dyYXBwZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cInRhYmxlIHRhYmxlLS1saXZlc3RyZWFtLWRhdGFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bGl2ZXN0cmVhbURhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNsaWNlKChjdXJyZW50UGFnZSAtIDEpICogUEFHRV9TSVpFLCBjdXJyZW50UGFnZSAqIFBBR0VfU0laRSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoaXRlbSwgaSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHIgY2xhc3NOYW1lPVwibGl2ZXN0cmVhbV9fZGF0YS1yb3ctc3BhY2VyXCIga2V5PXtpdGVtLmlkICsgJ19zcGFjZXInfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkRmlsZUluZGV4KChjdXJyZW50UGFnZSAtIDEpICogUEFHRV9TSVpFICsgaSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aXRlbS5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc25hbWVzKCdsaXZlc3RyZWFtX19kYXRhLXJvdycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbGl2ZXN0cmVhbV9fZGF0YS1yb3ctLXNlbGVjdGVkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRmlsZUluZGV4ID09PSAoY3VycmVudFBhZ2UgLSAxKSAqIFBBR0VfU0laRSArIGksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3NlbGVjdGVkRmlsZUluZGV4ID09PSAoY3VycmVudFBhZ2UgLSAxKSAqIFBBR0VfU0laRSArIGl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17bnVsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiB7fX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkRmlsZUluZGV4KChjdXJyZW50UGFnZSAtIDEpICogUEFHRV9TSVpFICsgaSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJsaXZlc3RyZWFtX19kYXRhLXJvdy1yYWRpb1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGl2ZXN0cmVhbV90aHVtYl9jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLmRhdGEudGh1bWJuYWlscy5zbGljZSgwLCAzKS5tYXAoKHRodW1iKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcga2V5PXt0aHVtYn0gY2xhc3NOYW1lPVwibGl2ZXN0cmVhbV9fX3RodW1iXCIgc3JjPXt0aHVtYn0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0uZGF0YS5maWxlRHVyYXRpb24gJiYgaXNOYU4oaXRlbS5kYXRhLmZpbGVEdXJhdGlvbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaXRlbS5kYXRhLmZpbGVEdXJhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBgJHtNYXRoLmZsb29yKGl0ZW0uZGF0YS5maWxlRHVyYXRpb24gLyA2MCl9ICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihpdGVtLmRhdGEuZmlsZUR1cmF0aW9uIC8gNjApID09PSAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IF9fKCdtaW51dGUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBfXygnbWludXRlcycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGFibGVfX2l0ZW0tbGFiZWxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtgJHttb21lbnQoaXRlbS5kYXRhLnVwbG9hZGVkQXQpLmZyb20obW9tZW50KCkpfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29weWFibGVUZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmltYXJ5QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3B5YWJsZT17bm9ybWFsaXplVXJsRm9yUHJvdG9jb2woaXRlbS5kYXRhLmZpbGVMb2NhdGlvbil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbmFja01lc3NhZ2U9e19fKCdVcmwgY29waWVkLicpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9maWVsZHNldC1zZWN0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgIHt0b3RhbFBhZ2VzID4gMSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGRzZXQtZ3JvdXAgY2xhc3M9XCJmaWVsZHNldC1ncm91cC0tc211c2hlZCBmaWVsZGdyb3VwLS1wYWdpbmF0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGRzZXQtc2VjdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UmVhY3RQYWdpbmF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUNvdW50PXt0b3RhbFBhZ2VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVJhbmdlRGlzcGxheWVkPXsyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNMYWJlbD1cIuKAuVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0TGFiZWw9XCLigLpcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlQ2xhc3NOYW1lPVwicGFnaW5hdGlvbl9faXRlbS0tc2VsZWN0ZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUNsYXNzTmFtZT1cInBhZ2luYXRpb25fX2l0ZW1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNDbGFzc05hbWU9XCJwYWdpbmF0aW9uX19pdGVtIHBhZ2luYXRpb25fX2l0ZW0tLXByZXZpb3VzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRDbGFzc05hbWU9XCJwYWdpbmF0aW9uX19pdGVtIHBhZ2luYXRpb25fX2l0ZW0tLW5leHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtDbGFzc05hbWU9XCJwYWdpbmF0aW9uX19pdGVtIHBhZ2luYXRpb25fX2l0ZW0tLWJyZWFrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpblBhZ2VzRGlzcGxheWVkPXsyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25QYWdlQ2hhbmdlPXsoZSkgPT4gaGFuZGxlUGFnaW5hdGVSZXBsYXlzKGUuc2VsZWN0ZWQgKyAxKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlUGFnZT17Y3VycmVudFBhZ2UgLSAxfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFBhZ2U9e2N1cnJlbnRQYWdlIC0gMX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lckNsYXNzTmFtZT1cInBhZ2luYXRpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZmllbGRzZXQtc2VjdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZmllbGRzZXQtZ3JvdXA+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHsoZmlsZVNvdXJjZSA9PT0gU09VUkNFX1NFTEVDVCB8fCBpbkVkaXRNb2RlKSAmJiAhaGFzTGl2ZXN0cmVhbURhdGEgJiYgIWlzQ2hlY2tpbmdMaXZlc3RyZWFtcyAmJiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZGlzYWJsZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7aW5FZGl0TW9kZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUZpZWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJzaG93LXJlcGxheXNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9XCJzaG93LXJlcGxheXNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtyZXBsYXlTb3VyY2UgPT09ICdjaG9vc2UnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB1cGRhdGVSZXBsYXlPcHRpb24oJ2Nob29zZScpfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIHtyZXBsYXlUaXRsZUxhYmVsfVxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1haW4tLWVtcHR5IGVtcHR5IGRpc2FibGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPEVtcHR5IHRleHQ9e19fKCdObyByZXBsYXlzIGZvdW5kLicpfSAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgeyhmaWxlU291cmNlID09PSBTT1VSQ0VfU0VMRUNUIHx8IGluRWRpdE1vZGUpICYmIGlzQ2hlY2tpbmdMaXZlc3RyZWFtcyAmJiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZGlzYWJsZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7aW5FZGl0TW9kZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUZpZWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJyZXBsYXktc291cmNlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCJjaG9vc2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9XCJzaG93LXJlcGxheXMtc3BpblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3JlcGxheVNvdXJjZSA9PT0gJ2Nob29zZSd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHVwZGF0ZVJlcGxheU9wdGlvbignY2hvb3NlJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAge3JlcGxheVRpdGxlTGFiZWx9XG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFpbi0tZW1wdHkgZW1wdHlcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8U3Bpbm5lciBzbWFsbCAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICB7aW5FZGl0TW9kZSAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpbGUtdXBsb2FkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUZpZWxkXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwicmVwbGF5LXNvdXJjZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17cmVwbGF5U291cmNlID09PSAndXBsb2FkJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHVwZGF0ZVJlcGxheU9wdGlvbigndXBsb2FkJyl9XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICBVcGxvYWQgUmVwbGF5XG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxGaWxlU2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cmVwbGF5U291cmNlICE9PSAndXBsb2FkJ31cbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGF0aD17Y3VycmVudEZpbGV9XG4gICAgICAgICAgICAgICAgICAgICAgb25GaWxlQ2hvc2VuPXtoYW5kbGVGaWxlQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgIGFjY2VwdD17U0lNUExFX1NJVEUgPyAndmlkZW8vbXA0LHZpZGVvL3gtbTR2LHZpZGVvLyonIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtfXygnU2VsZWN0IHZpZGVvIHJlcGxheSBmaWxlIHRvIHVwbG9hZCcpfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICB7Z2V0VXBsb2FkTWVzc2FnZSgpfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgIHt9XG4gICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8Lz5cbiAgICAgIH1cbiAgICAvPlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBQdWJsaXNoTGl2ZXN0cmVhbTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTJCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXlCQTtBQUNBO0FBQ0E7QUEzQkE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQTRCQTtBQUNBO0FBOUJBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUErQkE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBM0NBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBNkNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBREE7QUFDQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBREE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFWQTtBQURBO0FBQ0E7QUFjQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQUdBO0FBREE7QUFHQTtBQXRGQTtBQUNBO0FBQ0E7QUF3RkE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBREE7QUFNQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFkQTtBQUNBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVhBO0FBY0E7QUFDQTtBQURBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBREE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQVpBO0FBQ0E7QUFDQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFHQTtBQUNBO0FBREE7QUFDQTtBQUVBO0FBVkE7QUFZQTtBQUNBO0FBZEE7QUFnQkE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBS0E7QUFDQTtBQTFEQTtBQUNBO0FBQ0E7QUE0REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFTQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBREE7QUFHQTtBQUVBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFhQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUxBO0FBaUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBTEE7QUFXQTtBQUNBO0FBREE7QUFEQTtBQU1BO0FBQUE7QUFDQTtBQUFBO0FBSUE7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBREE7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUhBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBTEE7QUFNQTtBQU5BO0FBVUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFyQkE7QUFpQ0E7QUFBQTtBQU1BO0FBQ0E7QUFDQTtBQUhBO0FBcERBO0FBa0VBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFYQTtBQVlBO0FBQ0E7QUFDQTtBQWRBO0FBd0JBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUxBO0FBVUE7QUFBQTtBQUNBO0FBQUE7QUFNQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQU5BO0FBV0E7QUFBQTtBQUNBO0FBQUE7QUFNQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBSkE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFwTUE7QUFzTkE7QUFDQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../ui/component/publish/livestream/publishLivestream/view.jsx\n");

/***/ })

})