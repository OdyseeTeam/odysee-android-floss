(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["fileDrop"],{

/***/ "../ui/component/fileDrop/index.js":
/*!*****************************************!*\
  !*** ../ui/component/fileDrop/index.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ \"../node_modules/react-redux/es/index.js\");\n/* harmony import */ var redux_actions_publish__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! redux/actions/publish */ \"../ui/redux/actions/publish.js\");\n/* harmony import */ var redux_selectors_publish__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! redux/selectors/publish */ \"../ui/redux/selectors/publish.js\");\n/* harmony import */ var redux_selectors_app__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! redux/selectors/app */ \"../ui/redux/selectors/app.js\");\n/* harmony import */ var redux_actions_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! redux/actions/app */ \"../ui/redux/actions/app.js\");\n/* harmony import */ var _view__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./view */ \"../ui/component/fileDrop/view.jsx\");\n\n\n\n\n\n\n\nvar select = function select(state) {\n  return {\n    modal: Object(redux_selectors_app__WEBPACK_IMPORTED_MODULE_3__[\"selectModal\"])(state),\n    filePath: Object(redux_selectors_publish__WEBPACK_IMPORTED_MODULE_2__[\"selectPublishFormValue\"])(state, 'filePath')\n  };\n};\n\nvar perform = function perform(dispatch) {\n  return {\n    openModal: function openModal(modal, props) {\n      return dispatch(Object(redux_actions_app__WEBPACK_IMPORTED_MODULE_4__[\"doOpenModal\"])(modal, props));\n    },\n    updatePublishForm: function updatePublishForm(value) {\n      return dispatch(Object(redux_actions_publish__WEBPACK_IMPORTED_MODULE_1__[\"doUpdatePublishForm\"])(value));\n    }\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_0__[\"connect\"])(select, perform)(_view__WEBPACK_IMPORTED_MODULE_5__[\"default\"]));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L2ZpbGVEcm9wL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3VpL2NvbXBvbmVudC9maWxlRHJvcC9pbmRleC5qcz9hYmNiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5cbmltcG9ydCB7IGRvVXBkYXRlUHVibGlzaEZvcm0gfSBmcm9tICdyZWR1eC9hY3Rpb25zL3B1Ymxpc2gnO1xuaW1wb3J0IHsgc2VsZWN0UHVibGlzaEZvcm1WYWx1ZSB9IGZyb20gJ3JlZHV4L3NlbGVjdG9ycy9wdWJsaXNoJztcblxuaW1wb3J0IHsgc2VsZWN0TW9kYWwgfSBmcm9tICdyZWR1eC9zZWxlY3RvcnMvYXBwJztcbmltcG9ydCB7IGRvT3Blbk1vZGFsIH0gZnJvbSAncmVkdXgvYWN0aW9ucy9hcHAnO1xuXG5pbXBvcnQgRmlsZURyb3AgZnJvbSAnLi92aWV3JztcblxuY29uc3Qgc2VsZWN0ID0gKHN0YXRlKSA9PiAoe1xuICBtb2RhbDogc2VsZWN0TW9kYWwoc3RhdGUpLFxuICBmaWxlUGF0aDogc2VsZWN0UHVibGlzaEZvcm1WYWx1ZShzdGF0ZSwgJ2ZpbGVQYXRoJyksXG59KTtcblxuY29uc3QgcGVyZm9ybSA9IChkaXNwYXRjaCkgPT4gKHtcbiAgb3Blbk1vZGFsOiAobW9kYWwsIHByb3BzKSA9PiBkaXNwYXRjaChkb09wZW5Nb2RhbChtb2RhbCwgcHJvcHMpKSxcbiAgdXBkYXRlUHVibGlzaEZvcm06ICh2YWx1ZSkgPT4gZGlzcGF0Y2goZG9VcGRhdGVQdWJsaXNoRm9ybSh2YWx1ZSkpLFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3Qoc2VsZWN0LCBwZXJmb3JtKShGaWxlRHJvcCk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUZBO0FBQUE7QUFDQTtBQUlBO0FBQUE7QUFDQTtBQUFBO0FBREE7QUFFQTtBQUFBO0FBQUE7QUFGQTtBQUFBO0FBQ0E7QUFJQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../ui/component/fileDrop/index.js\n");

/***/ }),

/***/ "../ui/component/fileDrop/view.jsx":
/*!*****************************************!*\
  !*** ../ui/component/fileDrop/view.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var constants_icons__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! constants/icons */ \"../ui/constants/icons.js\");\n/* harmony import */ var constants_pages__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! constants/pages */ \"../ui/constants/pages.js\");\n/* harmony import */ var constants_pages__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(constants_pages__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var constants_modal_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! constants/modal_types */ \"../ui/constants/modal_types.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! classnames */ \"../node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var effects_use_drag_drop__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! effects/use-drag-drop */ \"../ui/effects/use-drag-drop.js\");\n/* harmony import */ var util_web_file_system__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! util/web-file-system */ \"../ui/util/web-file-system.js\");\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-router */ \"../node_modules/react-router/esm/react-router.js\");\n/* harmony import */ var component_common_icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! component/common/icon */ \"../ui/component/common/icon.jsx\");\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\n\n\n\n\n\n\n\n\n\nvar HIDE_TIME_OUT = 600;\nvar TARGET_TIME_OUT = 300;\nvar NAVIGATE_TIME_OUT = 400;\nvar PUBLISH_URL = \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"UPLOAD\"]);\n\nfunction FileDrop(props) {\n  var modal = props.modal,\n      history = props.history,\n      openModal = props.openModal,\n      updatePublishForm = props.updatePublishForm;\n\n  var _useDragDrop = Object(effects_use_drag_drop__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(),\n      drag = _useDragDrop.drag,\n      dropData = _useDragDrop.dropData;\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      files = _React$useState2[0],\n      setFiles = _React$useState2[1];\n\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      error = _React$useState4[0],\n      setError = _React$useState4[1];\n\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(null),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      target = _React$useState6[0],\n      setTarget = _React$useState6[1];\n\n  var hideTimer = react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef(null);\n  var targetTimer = react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef(null);\n  var navigationTimer = react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef(null); // Gets respective icon given a mimetype\n\n  var getFileIcon = function getFileIcon(type) {\n    // Not all files have a type\n    if (!type) return constants_icons__WEBPACK_IMPORTED_MODULE_1__[\"FILE\"]; // Detect common types\n\n    var contentType = type.split('/')[0];\n    if (contentType === 'text') return constants_icons__WEBPACK_IMPORTED_MODULE_1__[\"TEXT\"];\n    if (contentType === 'image') return constants_icons__WEBPACK_IMPORTED_MODULE_1__[\"IMAGE\"];\n    if (contentType === 'video') return constants_icons__WEBPACK_IMPORTED_MODULE_1__[\"VIDEO\"];\n    if (contentType === 'audio') return constants_icons__WEBPACK_IMPORTED_MODULE_1__[\"AUDIO\"]; // Binary file\n\n    return constants_icons__WEBPACK_IMPORTED_MODULE_1__[\"FILE\"];\n  }; // Navigates user to publish page\n\n\n  var navigateToPublish = react__WEBPACK_IMPORTED_MODULE_0___default.a.useCallback(function () {\n    // Navigate only if location is not publish area\n    // - Prevents spam in browser history\n    if (history.location.pathname !== PUBLISH_URL) {\n      history.push(PUBLISH_URL);\n    }\n  }, [history]); // Delay hide and navigation for a smooth transition\n\n  var hideDropArea = react__WEBPACK_IMPORTED_MODULE_0___default.a.useCallback(function () {\n    hideTimer.current = setTimeout(function () {\n      setFiles([]); // Navigate to publish area\n\n      navigationTimer.current = setTimeout(function () {\n        navigateToPublish();\n      }, NAVIGATE_TIME_OUT);\n    }, HIDE_TIME_OUT);\n  }, [navigateToPublish]); // Handle file selection\n\n  var handleFileSelected = react__WEBPACK_IMPORTED_MODULE_0___default.a.useCallback(function (selectedFile) {\n    updatePublishForm({\n      filePath: selectedFile\n    });\n    hideDropArea();\n  }, [updatePublishForm, hideDropArea]); // Clear timers when unmounted\n\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect(function () {\n    return function () {\n      // Clear hide timer\n      if (hideTimer.current) {\n        clearTimeout(hideTimer.current);\n      } // Clear target timer\n\n\n      if (targetTimer.current) {\n        clearTimeout(targetTimer.current);\n      } // Clear navigation timer\n\n\n      if (navigationTimer.current) {\n        clearTimeout(navigationTimer.current);\n      }\n    };\n  }, []); // Clear selected file after modal closed\n\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect(function () {\n    if (target && !files || !files.length) {\n      // Small delay for a better transition\n      targetTimer.current = setTimeout(function () {\n        setTarget(null);\n      }, TARGET_TIME_OUT);\n    }\n  }, [files, target]); // Handle file drop...\n\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect(function () {\n    var _document$documentEle;\n\n    var DROP_AREA_HEIGHT_PCT = 0.2; // @see: css[.file-drop -> height]\n\n    var windowHeight = window.innerHeight || ((_document$documentEle = document.documentElement) === null || _document$documentEle === void 0 ? void 0 : _document$documentEle.clientHeight) || 768;\n    var dropAreaBottom = windowHeight * DROP_AREA_HEIGHT_PCT;\n\n    if (dropData && dropData.y <= dropAreaBottom && !files.length && (!modal || modal.id !== constants_modal_types__WEBPACK_IMPORTED_MODULE_3__[\"FILE_SELECTION\"])) {\n      Object(util_web_file_system__WEBPACK_IMPORTED_MODULE_6__[\"getTree\"])(dropData.dataTransfer).then(function (entries) {\n        if (entries && entries.length) {\n          setFiles(entries);\n        }\n      })[\"catch\"](function (error) {\n        setError(error || true);\n      });\n    }\n  }, [dropData, files, modal]); // File(s) or directory dropped\n\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect(function () {\n    if (!drag && files.length) {\n      // Handle multiple files selection\n      if (files.length > 1) {\n        openModal(constants_modal_types__WEBPACK_IMPORTED_MODULE_3__[\"FILE_SELECTION\"], {\n          files: files\n        });\n        setFiles([]);\n      } else if (files.length === 1) {\n        // Handle single file selection\n        setTarget(files[0]);\n        handleFileSelected(files[0]);\n      }\n    }\n  }, [drag, files, error, openModal, handleFileSelected]); // Show icon based on file type\n\n  var icon = target ? getFileIcon(target.type) : constants_icons__WEBPACK_IMPORTED_MODULE_1__[\"PUBLISH\"]; // Show drop area when files are dragged over or processing dropped file\n\n  var show = files.length === 1 || !target && drag && (!modal || modal.id !== constants_modal_types__WEBPACK_IMPORTED_MODULE_3__[\"FILE_SELECTION\"]);\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    \"aria-hidden\": !show,\n    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()('file-drop', show && 'file-drop--show')\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()('card', 'file-drop__area')\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(component_common_icon__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n    size: 64,\n    icon: icon,\n    className: 'main-icon'\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, target ? target.name : __(\"Drop here to publish!\"), \" \")));\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_router__WEBPACK_IMPORTED_MODULE_7__[\"withRouter\"])(FileDrop));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! i18n.js */ \"../ui/i18n.js\")[\"__\"]))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L2ZpbGVEcm9wL3ZpZXcuanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3VpL2NvbXBvbmVudC9maWxlRHJvcC92aWV3LmpzeD8yNzdmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEBmbG93XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgSUNPTlMgZnJvbSAnY29uc3RhbnRzL2ljb25zJztcbmltcG9ydCAqIGFzIFBBR0VTIGZyb20gJ2NvbnN0YW50cy9wYWdlcyc7XG5pbXBvcnQgKiBhcyBNT0RBTFMgZnJvbSAnY29uc3RhbnRzL21vZGFsX3R5cGVzJztcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHVzZURyYWdEcm9wIGZyb20gJ2VmZmVjdHMvdXNlLWRyYWctZHJvcCc7XG5pbXBvcnQgeyBnZXRUcmVlIH0gZnJvbSAndXRpbC93ZWItZmlsZS1zeXN0ZW0nO1xuaW1wb3J0IHsgd2l0aFJvdXRlciB9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5pbXBvcnQgSWNvbiBmcm9tICdjb21wb25lbnQvY29tbW9uL2ljb24nO1xuXG50eXBlIFByb3BzID0ge1xuICBtb2RhbDogeyBpZDogc3RyaW5nLCBtb2RhbFByb3BzOiB7fSB9LFxuICBmaWxlUGF0aDogc3RyaW5nIHwgV2ViRmlsZSxcbiAgY2xlYXJQdWJsaXNoOiAoKSA9PiB2b2lkLFxuICB1cGRhdGVQdWJsaXNoRm9ybTogKHt9KSA9PiB2b2lkLFxuICBvcGVuTW9kYWw6IChpZDogc3RyaW5nLCB7IGZpbGVzOiBBcnJheTxXZWJGaWxlPiB9KSA9PiB2b2lkLFxuICAvLyBSZWFjdCByb3V0ZXJcbiAgaGlzdG9yeToge1xuICAgIGVudGl0aWVzOiB7fVtdLFxuICAgIGdvQmFjazogKCkgPT4gdm9pZCxcbiAgICBnb0ZvcndhcmQ6ICgpID0+IHZvaWQsXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBsb2NhdGlvbjogeyBwYXRobmFtZTogc3RyaW5nIH0sXG4gICAgcHVzaDogKHN0cmluZykgPT4gdm9pZCxcbiAgfSxcbn07XG5cbmNvbnN0IEhJREVfVElNRV9PVVQgPSA2MDA7XG5jb25zdCBUQVJHRVRfVElNRV9PVVQgPSAzMDA7XG5jb25zdCBOQVZJR0FURV9USU1FX09VVCA9IDQwMDtcbmNvbnN0IFBVQkxJU0hfVVJMID0gYC8kLyR7UEFHRVMuVVBMT0FEfWA7XG5cbmZ1bmN0aW9uIEZpbGVEcm9wKHByb3BzOiBQcm9wcykge1xuICBjb25zdCB7IG1vZGFsLCBoaXN0b3J5LCBvcGVuTW9kYWwsIHVwZGF0ZVB1Ymxpc2hGb3JtIH0gPSBwcm9wcztcbiAgY29uc3QgeyBkcmFnLCBkcm9wRGF0YSB9ID0gdXNlRHJhZ0Ryb3AoKTtcbiAgY29uc3QgW2ZpbGVzLCBzZXRGaWxlc10gPSBSZWFjdC51c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdGFyZ2V0LCBzZXRUYXJnZXRdID0gUmVhY3QudXNlU3RhdGU8P1dlYkZpbGU+KG51bGwpO1xuICBjb25zdCBoaWRlVGltZXIgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIGNvbnN0IHRhcmdldFRpbWVyID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBjb25zdCBuYXZpZ2F0aW9uVGltZXIgPSBSZWFjdC51c2VSZWYobnVsbCk7XG5cbiAgLy8gR2V0cyByZXNwZWN0aXZlIGljb24gZ2l2ZW4gYSBtaW1ldHlwZVxuICBjb25zdCBnZXRGaWxlSWNvbiA9ICh0eXBlKSA9PiB7XG4gICAgLy8gTm90IGFsbCBmaWxlcyBoYXZlIGEgdHlwZVxuICAgIGlmICghdHlwZSkgcmV0dXJuIElDT05TLkZJTEU7XG4gICAgLy8gRGV0ZWN0IGNvbW1vbiB0eXBlc1xuICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gdHlwZS5zcGxpdCgnLycpWzBdO1xuICAgIGlmIChjb250ZW50VHlwZSA9PT0gJ3RleHQnKSByZXR1cm4gSUNPTlMuVEVYVDtcbiAgICBpZiAoY29udGVudFR5cGUgPT09ICdpbWFnZScpIHJldHVybiBJQ09OUy5JTUFHRTtcbiAgICBpZiAoY29udGVudFR5cGUgPT09ICd2aWRlbycpIHJldHVybiBJQ09OUy5WSURFTztcbiAgICBpZiAoY29udGVudFR5cGUgPT09ICdhdWRpbycpIHJldHVybiBJQ09OUy5BVURJTztcbiAgICAvLyBCaW5hcnkgZmlsZVxuICAgIHJldHVybiBJQ09OUy5GSUxFO1xuICB9O1xuXG4gIC8vIE5hdmlnYXRlcyB1c2VyIHRvIHB1Ymxpc2ggcGFnZVxuICBjb25zdCBuYXZpZ2F0ZVRvUHVibGlzaCA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAvLyBOYXZpZ2F0ZSBvbmx5IGlmIGxvY2F0aW9uIGlzIG5vdCBwdWJsaXNoIGFyZWFcbiAgICAvLyAtIFByZXZlbnRzIHNwYW0gaW4gYnJvd3NlciBoaXN0b3J5XG4gICAgaWYgKGhpc3RvcnkubG9jYXRpb24ucGF0aG5hbWUgIT09IFBVQkxJU0hfVVJMKSB7XG4gICAgICBoaXN0b3J5LnB1c2goUFVCTElTSF9VUkwpO1xuICAgIH1cbiAgfSwgW2hpc3RvcnldKTtcblxuICAvLyBEZWxheSBoaWRlIGFuZCBuYXZpZ2F0aW9uIGZvciBhIHNtb290aCB0cmFuc2l0aW9uXG4gIGNvbnN0IGhpZGVEcm9wQXJlYSA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBoaWRlVGltZXIuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0RmlsZXMoW10pO1xuICAgICAgLy8gTmF2aWdhdGUgdG8gcHVibGlzaCBhcmVhXG4gICAgICBuYXZpZ2F0aW9uVGltZXIuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBuYXZpZ2F0ZVRvUHVibGlzaCgpO1xuICAgICAgfSwgTkFWSUdBVEVfVElNRV9PVVQpO1xuICAgIH0sIEhJREVfVElNRV9PVVQpO1xuICB9LCBbbmF2aWdhdGVUb1B1Ymxpc2hdKTtcblxuICAvLyBIYW5kbGUgZmlsZSBzZWxlY3Rpb25cbiAgY29uc3QgaGFuZGxlRmlsZVNlbGVjdGVkID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKHNlbGVjdGVkRmlsZSkgPT4ge1xuICAgICAgdXBkYXRlUHVibGlzaEZvcm0oeyBmaWxlUGF0aDogc2VsZWN0ZWRGaWxlIH0pO1xuICAgICAgaGlkZURyb3BBcmVhKCk7XG4gICAgfSxcbiAgICBbdXBkYXRlUHVibGlzaEZvcm0sIGhpZGVEcm9wQXJlYV1cbiAgKTtcblxuICAvLyBDbGVhciB0aW1lcnMgd2hlbiB1bm1vdW50ZWRcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgLy8gQ2xlYXIgaGlkZSB0aW1lclxuICAgICAgaWYgKGhpZGVUaW1lci5jdXJyZW50KSB7XG4gICAgICAgIGNsZWFyVGltZW91dChoaWRlVGltZXIuY3VycmVudCk7XG4gICAgICB9XG4gICAgICAvLyBDbGVhciB0YXJnZXQgdGltZXJcbiAgICAgIGlmICh0YXJnZXRUaW1lci5jdXJyZW50KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0YXJnZXRUaW1lci5jdXJyZW50KTtcbiAgICAgIH1cbiAgICAgIC8vIENsZWFyIG5hdmlnYXRpb24gdGltZXJcbiAgICAgIGlmIChuYXZpZ2F0aW9uVGltZXIuY3VycmVudCkge1xuICAgICAgICBjbGVhclRpbWVvdXQobmF2aWdhdGlvblRpbWVyLmN1cnJlbnQpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtdKTtcblxuICAvLyBDbGVhciBzZWxlY3RlZCBmaWxlIGFmdGVyIG1vZGFsIGNsb3NlZFxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICgodGFyZ2V0ICYmICFmaWxlcykgfHwgIWZpbGVzLmxlbmd0aCkge1xuICAgICAgLy8gU21hbGwgZGVsYXkgZm9yIGEgYmV0dGVyIHRyYW5zaXRpb25cbiAgICAgIHRhcmdldFRpbWVyLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc2V0VGFyZ2V0KG51bGwpO1xuICAgICAgfSwgVEFSR0VUX1RJTUVfT1VUKTtcbiAgICB9XG4gIH0sIFtmaWxlcywgdGFyZ2V0XSk7XG5cbiAgLy8gSGFuZGxlIGZpbGUgZHJvcC4uLlxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IERST1BfQVJFQV9IRUlHSFRfUENUID0gMC4yOyAvLyBAc2VlOiBjc3NbLmZpbGUtZHJvcCAtPiBoZWlnaHRdXG4gICAgY29uc3Qgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudD8uY2xpZW50SGVpZ2h0IHx8IDc2ODtcbiAgICBjb25zdCBkcm9wQXJlYUJvdHRvbSA9IHdpbmRvd0hlaWdodCAqIERST1BfQVJFQV9IRUlHSFRfUENUO1xuXG4gICAgaWYgKGRyb3BEYXRhICYmIGRyb3BEYXRhLnkgPD0gZHJvcEFyZWFCb3R0b20gJiYgIWZpbGVzLmxlbmd0aCAmJiAoIW1vZGFsIHx8IG1vZGFsLmlkICE9PSBNT0RBTFMuRklMRV9TRUxFQ1RJT04pKSB7XG4gICAgICBnZXRUcmVlKGRyb3BEYXRhLmRhdGFUcmFuc2ZlcilcbiAgICAgICAgLnRoZW4oKGVudHJpZXMpID0+IHtcbiAgICAgICAgICBpZiAoZW50cmllcyAmJiBlbnRyaWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgc2V0RmlsZXMoZW50cmllcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgc2V0RXJyb3IoZXJyb3IgfHwgdHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2Ryb3BEYXRhLCBmaWxlcywgbW9kYWxdKTtcblxuICAvLyBGaWxlKHMpIG9yIGRpcmVjdG9yeSBkcm9wcGVkXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFkcmFnICYmIGZpbGVzLmxlbmd0aCkge1xuICAgICAgLy8gSGFuZGxlIG11bHRpcGxlIGZpbGVzIHNlbGVjdGlvblxuICAgICAgaWYgKGZpbGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgb3Blbk1vZGFsKE1PREFMUy5GSUxFX1NFTEVDVElPTiwgeyBmaWxlczogZmlsZXMgfSk7XG4gICAgICAgIHNldEZpbGVzKFtdKTtcbiAgICAgIH0gZWxzZSBpZiAoZmlsZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIC8vIEhhbmRsZSBzaW5nbGUgZmlsZSBzZWxlY3Rpb25cbiAgICAgICAgc2V0VGFyZ2V0KGZpbGVzWzBdKTtcbiAgICAgICAgaGFuZGxlRmlsZVNlbGVjdGVkKGZpbGVzWzBdKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtkcmFnLCBmaWxlcywgZXJyb3IsIG9wZW5Nb2RhbCwgaGFuZGxlRmlsZVNlbGVjdGVkXSk7XG5cbiAgLy8gU2hvdyBpY29uIGJhc2VkIG9uIGZpbGUgdHlwZVxuICBjb25zdCBpY29uID0gdGFyZ2V0ID8gZ2V0RmlsZUljb24odGFyZ2V0LnR5cGUpIDogSUNPTlMuUFVCTElTSDtcbiAgLy8gU2hvdyBkcm9wIGFyZWEgd2hlbiBmaWxlcyBhcmUgZHJhZ2dlZCBvdmVyIG9yIHByb2Nlc3NpbmcgZHJvcHBlZCBmaWxlXG4gIGNvbnN0IHNob3cgPSBmaWxlcy5sZW5ndGggPT09IDEgfHwgKCF0YXJnZXQgJiYgZHJhZyAmJiAoIW1vZGFsIHx8IG1vZGFsLmlkICE9PSBNT0RBTFMuRklMRV9TRUxFQ1RJT04pKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgYXJpYS1oaWRkZW49eyFzaG93fSBjbGFzc05hbWU9e2NsYXNzbmFtZXMoJ2ZpbGUtZHJvcCcsIHNob3cgJiYgJ2ZpbGUtZHJvcC0tc2hvdycpfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc25hbWVzKCdjYXJkJywgJ2ZpbGUtZHJvcF9fYXJlYScpfT5cbiAgICAgICAgPEljb24gc2l6ZT17NjR9IGljb249e2ljb259IGNsYXNzTmFtZT17J21haW4taWNvbid9IC8+XG4gICAgICAgIDxwPnt0YXJnZXQgPyB0YXJnZXQubmFtZSA6IF9fKGBEcm9wIGhlcmUgdG8gcHVibGlzaCFgKX0gPC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHdpdGhSb3V0ZXIoRmlsZURyb3ApO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFyQkE7QUFDQTtBQUNBO0FBdUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUhBO0FBREE7QUFDQTtBQVVBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFIQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFQQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFaQTtBQURBO0FBQ0E7QUFpQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFOQTtBQUNBO0FBU0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFKQTtBQU9BO0FBUEE7QUFTQTtBQWZBO0FBQ0E7QUFrQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVhBO0FBQ0E7QUFjQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../ui/component/fileDrop/view.jsx\n");

/***/ }),

/***/ "../ui/effects/use-drag-drop.js":
/*!**************************************!*\
  !*** ../ui/effects/use-drag-drop.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return useDragDrop; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nvar _DRAG_SCORE, _DRAG_STATE;\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\n\nvar LISTENER = {\n  ADD: 'add',\n  REMOVE: 'remove'\n};\nvar DRAG_TYPES = {\n  END: 'dragend',\n  START: 'dragstart',\n  ENTER: 'dragenter',\n  LEAVE: 'dragleave'\n};\nvar DRAG_SCORE = (_DRAG_SCORE = {}, _defineProperty(_DRAG_SCORE, DRAG_TYPES.ENTER, 1), _defineProperty(_DRAG_SCORE, DRAG_TYPES.LEAVE, -1), _DRAG_SCORE);\nvar DRAG_STATE = (_DRAG_STATE = {}, _defineProperty(_DRAG_STATE, DRAG_TYPES.END, false), _defineProperty(_DRAG_STATE, DRAG_TYPES.START, true), _DRAG_STATE); // Returns simple detection for global drag-drop\n\nfunction useDragDrop() {\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      drag = _React$useState2[0],\n      setDrag = _React$useState2[1];\n\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      dropData = _React$useState4[0],\n      setDropData = _React$useState4[1];\n\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect(function () {\n    var dragCount = 0;\n    var draggingElement = false; // Handle file drop\n\n    var handleDropEvent = function handleDropEvent(event) {\n      // Ignore non file types ( html elements / text )\n      if (!draggingElement) {\n        event.stopPropagation();\n        event.preventDefault(); // Get files\n\n        var files = event.dataTransfer.files; // Check for files\n\n        if (files.length > 0) {\n          setDropData(event);\n        }\n      } // Reset state ( hide drop zone )\n\n\n      dragCount = 0;\n      setDrag(false);\n    }; // Drag event for non files type ( html elements / text )\n\n\n    var handleDragElementEvent = function handleDragElementEvent(event) {\n      draggingElement = DRAG_STATE[event.type];\n    }; // Drag events\n\n\n    var handleDragEvent = function handleDragEvent(event) {\n      event.stopPropagation();\n      event.preventDefault(); // Prevent multiple drop areas\n\n      dragCount += DRAG_SCORE[event.type]; // Dragged file enters the drop area\n\n      if (dragCount === 1 && !draggingElement && event.type === DRAG_TYPES.ENTER) {\n        setDrag(true);\n      } // Dragged file leaves the drop area\n\n\n      if (dragCount === 0 && event.type === DRAG_TYPES.LEAVE) {\n        setDrag(false);\n      }\n    }; // Register / Unregister listeners\n\n\n    var handleEventListeners = function handleEventListeners(event) {\n      var action = \"\".concat(event, \"EventListener\"); // Handle drop event\n\n      document[action]('drop', handleDropEvent); // Handle drag events\n\n      document[action](DRAG_TYPES.ENTER, handleDragEvent);\n      document[action](DRAG_TYPES.LEAVE, handleDragEvent); // Handle non files drag events\n\n      document[action](DRAG_TYPES.END, handleDragElementEvent);\n      document[action](DRAG_TYPES.START, handleDragElementEvent);\n    }; // On component mounted:\n    // Register event listeners\n\n\n    handleEventListeners(LISTENER.ADD); // On component unmounted:\n\n    return function () {\n      // Unregister event listeners\n      handleEventListeners(LISTENER.REMOVE);\n    };\n  }, []);\n  return {\n    drag: drag,\n    dropData: dropData\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvZWZmZWN0cy91c2UtZHJhZy1kcm9wLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3VpL2VmZmVjdHMvdXNlLWRyYWctZHJvcC5qcz8xNDE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IExJU1RFTkVSID0ge1xuICBBREQ6ICdhZGQnLFxuICBSRU1PVkU6ICdyZW1vdmUnLFxufTtcblxuY29uc3QgRFJBR19UWVBFUyA9IHtcbiAgRU5EOiAnZHJhZ2VuZCcsXG4gIFNUQVJUOiAnZHJhZ3N0YXJ0JyxcbiAgRU5URVI6ICdkcmFnZW50ZXInLFxuICBMRUFWRTogJ2RyYWdsZWF2ZScsXG59O1xuXG5jb25zdCBEUkFHX1NDT1JFID0ge1xuICBbRFJBR19UWVBFUy5FTlRFUl06IDEsXG4gIFtEUkFHX1RZUEVTLkxFQVZFXTogLTEsXG59O1xuXG5jb25zdCBEUkFHX1NUQVRFID0ge1xuICBbRFJBR19UWVBFUy5FTkRdOiBmYWxzZSxcbiAgW0RSQUdfVFlQRVMuU1RBUlRdOiB0cnVlLFxufTtcblxuLy8gUmV0dXJucyBzaW1wbGUgZGV0ZWN0aW9uIGZvciBnbG9iYWwgZHJhZy1kcm9wXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VEcmFnRHJvcCgpIHtcbiAgY29uc3QgW2RyYWcsIHNldERyYWddID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZHJvcERhdGEsIHNldERyb3BEYXRhXSA9IFJlYWN0LnVzZVN0YXRlKG51bGwpO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGRyYWdDb3VudCA9IDA7XG4gICAgbGV0IGRyYWdnaW5nRWxlbWVudCA9IGZhbHNlO1xuXG4gICAgLy8gSGFuZGxlIGZpbGUgZHJvcFxuICAgIGNvbnN0IGhhbmRsZURyb3BFdmVudCA9IChldmVudCkgPT4ge1xuICAgICAgLy8gSWdub3JlIG5vbiBmaWxlIHR5cGVzICggaHRtbCBlbGVtZW50cyAvIHRleHQgKVxuICAgICAgaWYgKCFkcmFnZ2luZ0VsZW1lbnQpIHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIC8vIEdldCBmaWxlc1xuICAgICAgICBjb25zdCBmaWxlcyA9IGV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcztcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGZpbGVzXG4gICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgc2V0RHJvcERhdGEoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBSZXNldCBzdGF0ZSAoIGhpZGUgZHJvcCB6b25lIClcbiAgICAgIGRyYWdDb3VudCA9IDA7XG4gICAgICBzZXREcmFnKGZhbHNlKTtcbiAgICB9O1xuXG4gICAgLy8gRHJhZyBldmVudCBmb3Igbm9uIGZpbGVzIHR5cGUgKCBodG1sIGVsZW1lbnRzIC8gdGV4dCApXG4gICAgY29uc3QgaGFuZGxlRHJhZ0VsZW1lbnRFdmVudCA9IChldmVudCkgPT4ge1xuICAgICAgZHJhZ2dpbmdFbGVtZW50ID0gRFJBR19TVEFURVtldmVudC50eXBlXTtcbiAgICB9O1xuXG4gICAgLy8gRHJhZyBldmVudHNcbiAgICBjb25zdCBoYW5kbGVEcmFnRXZlbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIC8vIFByZXZlbnQgbXVsdGlwbGUgZHJvcCBhcmVhc1xuICAgICAgZHJhZ0NvdW50ICs9IERSQUdfU0NPUkVbZXZlbnQudHlwZV07XG4gICAgICAvLyBEcmFnZ2VkIGZpbGUgZW50ZXJzIHRoZSBkcm9wIGFyZWFcbiAgICAgIGlmIChkcmFnQ291bnQgPT09IDEgJiYgIWRyYWdnaW5nRWxlbWVudCAmJiBldmVudC50eXBlID09PSBEUkFHX1RZUEVTLkVOVEVSKSB7XG4gICAgICAgIHNldERyYWcodHJ1ZSk7XG4gICAgICB9XG4gICAgICAvLyBEcmFnZ2VkIGZpbGUgbGVhdmVzIHRoZSBkcm9wIGFyZWFcbiAgICAgIGlmIChkcmFnQ291bnQgPT09IDAgJiYgZXZlbnQudHlwZSA9PT0gRFJBR19UWVBFUy5MRUFWRSkge1xuICAgICAgICBzZXREcmFnKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gUmVnaXN0ZXIgLyBVbnJlZ2lzdGVyIGxpc3RlbmVyc1xuICAgIGNvbnN0IGhhbmRsZUV2ZW50TGlzdGVuZXJzID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBhY3Rpb24gPSBgJHtldmVudH1FdmVudExpc3RlbmVyYDtcbiAgICAgIC8vIEhhbmRsZSBkcm9wIGV2ZW50XG4gICAgICBkb2N1bWVudFthY3Rpb25dKCdkcm9wJywgaGFuZGxlRHJvcEV2ZW50KTtcbiAgICAgIC8vIEhhbmRsZSBkcmFnIGV2ZW50c1xuICAgICAgZG9jdW1lbnRbYWN0aW9uXShEUkFHX1RZUEVTLkVOVEVSLCBoYW5kbGVEcmFnRXZlbnQpO1xuICAgICAgZG9jdW1lbnRbYWN0aW9uXShEUkFHX1RZUEVTLkxFQVZFLCBoYW5kbGVEcmFnRXZlbnQpO1xuICAgICAgLy8gSGFuZGxlIG5vbiBmaWxlcyBkcmFnIGV2ZW50c1xuICAgICAgZG9jdW1lbnRbYWN0aW9uXShEUkFHX1RZUEVTLkVORCwgaGFuZGxlRHJhZ0VsZW1lbnRFdmVudCk7XG4gICAgICBkb2N1bWVudFthY3Rpb25dKERSQUdfVFlQRVMuU1RBUlQsIGhhbmRsZURyYWdFbGVtZW50RXZlbnQpO1xuICAgIH07XG5cbiAgICAvLyBPbiBjb21wb25lbnQgbW91bnRlZDpcbiAgICAvLyBSZWdpc3RlciBldmVudCBsaXN0ZW5lcnNcbiAgICBoYW5kbGVFdmVudExpc3RlbmVycyhMSVNURU5FUi5BREQpO1xuXG4gICAgLy8gT24gY29tcG9uZW50IHVubW91bnRlZDpcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgLy8gVW5yZWdpc3RlciBldmVudCBsaXN0ZW5lcnNcbiAgICAgIGhhbmRsZUV2ZW50TGlzdGVuZXJzKExJU1RFTkVSLlJFTU9WRSk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiB7IGRyYWcsIGRyb3BEYXRhIH07XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBT0E7QUFLQTtBQUNBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBQ0E7QUFDQTtBQVdBO0FBQ0E7QUFuQkE7QUFDQTtBQUNBO0FBcUJBO0FBQ0E7QUF4QkE7QUFDQTtBQUNBO0FBMEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUF4Q0E7QUFDQTtBQUNBO0FBMENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBckRBO0FBeURBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFGQTtBQTdEQTtBQW1FQTtBQUFBO0FBQUE7QUFBQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../ui/effects/use-drag-drop.js\n");

/***/ }),

/***/ "../ui/util/web-file-system.js":
/*!*************************************!*\
  !*** ../ui/util/web-file-system.js ***!
  \*************************************/
/*! exports provided: getTree */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getTree\", function() { return getTree; });\n// Some functions to work with the new html5 file system API:\n// Wrapper for webkitGetAsEntry\n// Note: webkitGetAsEntry might be renamed to GetAsEntry\nvar getAsEntry = function getAsEntry(item) {\n  if (item.kind === 'file' && item.webkitGetAsEntry) {\n    return item.webkitGetAsEntry();\n  }\n}; // Get file object from fileEntry\n\n\nvar getFile = function getFile(fileEntry) {\n  return new Promise(function (resolve, reject) {\n    return fileEntry.file(resolve, reject);\n  });\n}; // Read entries from directory\n\n\nvar readDirectory = function readDirectory(directory) {\n  // Some browsers don't support this\n  if (directory.createReader !== undefined) {\n    var dirReader = directory.createReader();\n    return new Promise(function (resolve, reject) {\n      return dirReader.readEntries(resolve, reject);\n    });\n  }\n}; // Get file system entries from the dataTransfer items list:\n\n\nvar getFiles = function getFiles(items) {\n  var directoryEntries = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var entries = [];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = items[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var item = _step.value;\n      var entry = directoryEntries ? item : getAsEntry(item);\n\n      if (entry && entry.isFile) {\n        var file = getFile(entry);\n        entries.push(file);\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return Promise.all(entries);\n}; // Generate a valid file tree from dataTransfer:\n// - Ignores directory entries\n// - Ignores recursive search\n\n\nvar getTree = function getTree(dataTransfer) {\n  var items, files, root, directoryEntries, file;\n  return regeneratorRuntime.async(function getTree$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          if (!dataTransfer) {\n            _context.next = 20;\n            break;\n          }\n\n          items = dataTransfer.items, files = dataTransfer.files; // Handle single item drop\n\n          if (!(files.length === 1)) {\n            _context.next = 18;\n            break;\n          }\n\n          root = getAsEntry(items[0]); // Handle entry\n\n          if (!root) {\n            _context.next = 17;\n            break;\n          }\n\n          if (!root.isDirectory) {\n            _context.next = 10;\n            break;\n          }\n\n          _context.next = 8;\n          return regeneratorRuntime.awrap(readDirectory(root));\n\n        case 8:\n          directoryEntries = _context.sent;\n          return _context.abrupt(\"return\", getFiles(directoryEntries, true));\n\n        case 10:\n          if (!root.isFile) {\n            _context.next = 15;\n            break;\n          }\n\n          _context.next = 13;\n          return regeneratorRuntime.awrap(getFile(root));\n\n        case 13:\n          file = _context.sent;\n          return _context.abrupt(\"return\", [file]);\n\n        case 15:\n          _context.next = 18;\n          break;\n\n        case 17:\n          return _context.abrupt(\"return\", files);\n\n        case 18:\n          if (!(files.length > 1)) {\n            _context.next = 20;\n            break;\n          }\n\n          return _context.abrupt(\"return\", getFiles(items));\n\n        case 20:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvdXRpbC93ZWItZmlsZS1zeXN0ZW0uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vdWkvdXRpbC93ZWItZmlsZS1zeXN0ZW0uanM/OWExNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTb21lIGZ1bmN0aW9ucyB0byB3b3JrIHdpdGggdGhlIG5ldyBodG1sNSBmaWxlIHN5c3RlbSBBUEk6XG5cbi8vIFdyYXBwZXIgZm9yIHdlYmtpdEdldEFzRW50cnlcbi8vIE5vdGU6IHdlYmtpdEdldEFzRW50cnkgbWlnaHQgYmUgcmVuYW1lZCB0byBHZXRBc0VudHJ5XG5jb25zdCBnZXRBc0VudHJ5ID0gaXRlbSA9PiB7XG4gIGlmIChpdGVtLmtpbmQgPT09ICdmaWxlJyAmJiBpdGVtLndlYmtpdEdldEFzRW50cnkpIHtcbiAgICByZXR1cm4gaXRlbS53ZWJraXRHZXRBc0VudHJ5KCk7XG4gIH1cbn07XG5cbi8vIEdldCBmaWxlIG9iamVjdCBmcm9tIGZpbGVFbnRyeVxuY29uc3QgZ2V0RmlsZSA9IGZpbGVFbnRyeSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiBmaWxlRW50cnkuZmlsZShyZXNvbHZlLCByZWplY3QpKTtcblxuLy8gUmVhZCBlbnRyaWVzIGZyb20gZGlyZWN0b3J5XG5jb25zdCByZWFkRGlyZWN0b3J5ID0gZGlyZWN0b3J5ID0+IHtcbiAgLy8gU29tZSBicm93c2VycyBkb24ndCBzdXBwb3J0IHRoaXNcbiAgaWYgKGRpcmVjdG9yeS5jcmVhdGVSZWFkZXIgIT09IHVuZGVmaW5lZCkge1xuICAgIGxldCBkaXJSZWFkZXIgPSBkaXJlY3RvcnkuY3JlYXRlUmVhZGVyKCk7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IGRpclJlYWRlci5yZWFkRW50cmllcyhyZXNvbHZlLCByZWplY3QpKTtcbiAgfVxufTtcblxuLy8gR2V0IGZpbGUgc3lzdGVtIGVudHJpZXMgZnJvbSB0aGUgZGF0YVRyYW5zZmVyIGl0ZW1zIGxpc3Q6XG5cbmNvbnN0IGdldEZpbGVzID0gKGl0ZW1zLCBkaXJlY3RvcnlFbnRyaWVzID0gZmFsc2UpID0+IHtcbiAgbGV0IGVudHJpZXMgPSBbXTtcblxuICBmb3IgKGxldCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgY29uc3QgZW50cnkgPSBkaXJlY3RvcnlFbnRyaWVzID8gaXRlbSA6IGdldEFzRW50cnkoaXRlbSk7XG4gICAgaWYgKGVudHJ5ICYmIGVudHJ5LmlzRmlsZSkge1xuICAgICAgY29uc3QgZmlsZSA9IGdldEZpbGUoZW50cnkpO1xuICAgICAgZW50cmllcy5wdXNoKGZpbGUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLmFsbChlbnRyaWVzKTtcbn07XG5cbi8vIEdlbmVyYXRlIGEgdmFsaWQgZmlsZSB0cmVlIGZyb20gZGF0YVRyYW5zZmVyOlxuLy8gLSBJZ25vcmVzIGRpcmVjdG9yeSBlbnRyaWVzXG4vLyAtIElnbm9yZXMgcmVjdXJzaXZlIHNlYXJjaFxuZXhwb3J0IGNvbnN0IGdldFRyZWUgPSBhc3luYyBkYXRhVHJhbnNmZXIgPT4ge1xuICBpZiAoZGF0YVRyYW5zZmVyKSB7XG4gICAgY29uc3QgeyBpdGVtcywgZmlsZXMgfSA9IGRhdGFUcmFuc2ZlcjtcbiAgICAvLyBIYW5kbGUgc2luZ2xlIGl0ZW0gZHJvcFxuICAgIGlmIChmaWxlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGNvbnN0IHJvb3QgPSBnZXRBc0VudHJ5KGl0ZW1zWzBdKTtcbiAgICAgIC8vIEhhbmRsZSBlbnRyeVxuICAgICAgaWYgKHJvb3QpIHtcbiAgICAgICAgLy8gSGFuZGxlIGRpcmVjdG9yeVxuICAgICAgICBpZiAocm9vdC5pc0RpcmVjdG9yeSkge1xuICAgICAgICAgIGNvbnN0IGRpcmVjdG9yeUVudHJpZXMgPSBhd2FpdCByZWFkRGlyZWN0b3J5KHJvb3QpO1xuICAgICAgICAgIC8vIEdldCBlYWNoIGZpbGUgZnJvbSB0aGUgbGlzdFxuICAgICAgICAgIHJldHVybiBnZXRGaWxlcyhkaXJlY3RvcnlFbnRyaWVzLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5sZGUgZmlsZVxuICAgICAgICBpZiAocm9vdC5pc0ZpbGUpIHtcbiAgICAgICAgICBjb25zdCBmaWxlID0gYXdhaXQgZ2V0RmlsZShyb290KTtcbiAgICAgICAgICByZXR1cm4gW2ZpbGVdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBTb21lIGZpbGVzIGhhdmUgaGlkZGVuIGRhdGFUcmFuc2ZlciBpdGVtczpcbiAgICAgICAgLy8gVXNlIHRoZSBkZWZhdWx0IGZpbGUgb2JqZWN0IGluc3RlYWRcbiAgICAgICAgcmV0dXJuIGZpbGVzO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBIYW5kbGUgbXVsdGlwbGUgaXRlbXMgZHJvcFxuICAgIGlmIChmaWxlcy5sZW5ndGggPiAxKSB7XG4gICAgICAvLyBDb252ZXJ0IGl0ZW1zIHRvIGZpbGVFbnRyeSBhbmQgZmlsdGVyIGZpbGVzXG4gICAgICByZXR1cm4gZ2V0RmlsZXMoaXRlbXMpO1xuICAgIH1cbiAgfVxufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBTEE7QUFDQTtBQUNBO0FBUUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUdBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQVVBO0FBWEE7QUFlQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFOQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBVUE7QUFWQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBREE7QUFnQkE7QUFoQkE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../ui/util/web-file-system.js\n");

/***/ })

}]);