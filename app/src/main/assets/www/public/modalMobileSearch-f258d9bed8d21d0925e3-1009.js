"use strict";(self.webpackChunkodysee_com=self.webpackChunkodysee_com||[]).push([[9938,6898],{2355:(e,r,t)=>{t.r(r),t.d(r,{default:()=>ie});var n=t(24582),a=t(20983),l=t(33441),i=t(70897),c=t(16643),o=t(52705),u=t(17351),s=t(7920),f=t(49523),m=t(16395),d=t(73249),v=t(77369),y=t(88441),b=t(66598),p=t.n(b),g=t(96284),h=t(53389),E=t(54971),_=t(94936),w=t(94720),S=t(44908),O=t(18209),N=t(74971),A=t(81352),j=t(58210),R=t(98),U=t(15184),I=(t(79069),t(20206)),C=t(12788),k=t(46351);const L=(0,n.$j)((function(e,r){var t=(0,s.B0y)(e,r.uri);return{claim:t,isSubscribed:(0,u._4)(e,r.uri),claimIsMine:(0,s.pDP)(e,t)}}),null)((function(e){var r=e.uri,t=e.isSubscribed,n=e.small,a=void 0!==n&&n,l=e.claim,i=e.iconOnly,c=l&&"collection"===l.value_type,o=a?k.ICON_SIZE:void 0;return y.createElement("div",{className:p()("claim-preview__overlay-properties",{"claim-preview__overlay-properties--small":a})},y.createElement(y.Fragment,null,y.createElement(C.Z,{uri:r,small:!0}),c&&l&&l.value.claims&&!i&&y.createElement("div",null,l.value.claims.length),t&&y.createElement(g.default,{size:o,tooltip:!0,icon:v.SUBSCRIBE}),y.createElement(I.Z,{hideFree:!0,uri:r})))}));var P=t(42823),M=t(71036).__;const Z=(0,n.$j)((function(e,r){var t=r.uri,n=(0,s.B0y)(e,t);return{claim:n,odyseeMembership:(0,A.Yz)(e,(0,j._I)(n)),isResolvingUri:(0,s.kic)(e,t),geoRestriction:(0,s.onN)(e,r.uri)}}))((function(e){var r=e.claim,t=e.uri,n=e.isResolvingUri,a=e.geoRestriction,l=e.odyseeMembership;if(n)return y.createElement(E.O2,{value:t},y.createElement("div",{className:"wunderbar__suggestion"},y.createElement("div",{className:"media__thumb media__thumb--resolving"})));if(!r)return null;if(a)return null;var i="channel"===r.value_type,c="collection"===r.value_type;return y.createElement(E.O2,{value:t},y.createElement("div",{className:p()("wunderbar__suggestion",{"wunderbar__suggestion--channel":i})},i&&y.createElement(U.Z,{small:!0,uri:t}),!i&&y.createElement(R.Z,{uri:t},c&&y.createElement("div",{className:"claim-preview__claim-property-overlay"},y.createElement(L,{uri:t,small:!0,iconOnly:!0}))),y.createElement("span",{className:"wunderbar__suggestion-label"},y.createElement("div",{className:"wunderbar__suggestion-title"},r.value.title),y.createElement("div",{className:"wunderbar__suggestion-name"},i?r.name:r.signing_channel&&r.signing_channel.name||M("Anonymous"),l&&y.createElement(P.Z,{membershipName:l})))))}));var T=t(71036).__;var B=t(1987);const $=(0,n.$j)((function(e,r){var t="lbry://".concat(r.query),n=[t];try{if(!(0,h.parseURI)(t).isChannel){var a="lbry://@".concat(r.query);n.push(a)}}catch(e){}var l=n.some((function(r){return(0,s.kic)(e,r)})),i=(0,O.jr)(r.query)(e);return{resolvingUris:l,winningUri:i,winningClaim:i?(0,s.pBb)(i)(e):void 0,uris:n,preferEmbed:(0,s.YU7)(i,B.K0)(e)}}),{doResolveUris:o.ZE})((function(e){var r=e.uris,t=e.resolvingUris,n=e.winningUri,a=e.doResolveUris,l=e.preferEmbed,i=JSON.stringify(r);return y.useEffect((function(){if(i){var e=JSON.parse(i);e.length>0&&a(e)}}),[a,i]),t?y.createElement("div",{className:"wunderbar__winning-claim"},y.createElement("div",{className:"wunderbar__label wunderbar__placeholder-label"}),y.createElement("div",{className:"wunderbar__suggestion wunderbar__placeholder-suggestion"},y.createElement("div",{className:"wunderbar__placeholder-thumbnail"}),y.createElement("div",{className:"wunderbar__placeholder-info"})),y.createElement("hr",{className:"wunderbar__top-separator"})):!n||l?null:y.createElement(y.Fragment,null,y.createElement("div",{className:"wunderbar__label"},y.createElement(N.Z,{prefix:T("Most Supported")})),y.createElement(Z,{uri:n}),y.createElement("hr",{className:"wunderbar__top-separator"}))}));var V=t(6993),D=t(16062),q=t(31617),x=t(91616),J=t(71036).__;function K(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,l,i,c=[],o=!0,u=!1;try{if(l=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;o=!1}else for(;!(o=(n=l.call(t)).done)&&(c.push(n.value),c.length!==r);o=!0);}catch(e){u=!0,a=e}finally{try{if(!o&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,r)||F(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,r){if(e){if("string"==typeof e)return G(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?G(e,r):void 0}}function G(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var H="lbry://",W="".concat(m.URL_DEV,"/"),Y="".concat(m.URL_LOCAL,"/"),Q="".concat(m.URL,"/"),X="$/".concat(d.SEARCH,"q="),ee="Invalid LBRY URL entered. Only A-Z, a-z, 0-9, and '-' allowed.",re="tag:",te=75,ne=27,ae=1e3;var le=t(19208);const ie=(0,c.withRouter)((0,n.$j)((function(e,r){return{languageSetting:(0,a.VT)(e),searchInLanguage:(0,a.wr)(e,le.sm),showMature:(0,a.zf)(e),claimsByUri:(0,s.AsG)(e),subscriptionUris:(0,u.b6)(e)||[]}}),(function(e,r){return{doResolveUris:function(r){return e((0,o.ZE)(r))},navigateToSearchPage:function(e){var t=encodeURIComponent(e);r.history.push({pathname:"/$/search",search:"?q=".concat(t)}),f.Z.apiLog.search()},doShowSnackBar:function(r){return e((0,l.QJ)({isError:!0,message:r}))},doCloseMobileSearch:function(){return e((0,i.gG)())}}}))((function(e){var r,t=e.navigateToSearchPage,n=e.doShowSnackBar,a=e.showMature,l=e.claimsByUri,i=e.subscriptionUris,o=e.isMobile,u=e.doCloseMobileSearch,s=e.channelsOnly,f=e.noTopSuggestion,b=e.noBottomLinks,O=e.customSelectAction,N=e.searchInLanguage,A=e.languageSetting,j=e.doResolveUris,R=y.useRef(),U=y.useRef(),I=y.useRef(),C=function(e){return e&&e.current&&e.current===document.activeElement},k=C(R)||C(U)||C(I),L=(0,c.useHistory)(),P=L.push,M=L.location.search,T=new URLSearchParams(M).get("q")||"",B=z(y.useState(T),2),F=B[0],G=B[1],le=z(y.useState(""),2),ie=le[0],ce=le[1],oe=o?20:5,ue=function(e,r){var t={};e&&(t.isBackgroundSearch=!1,t[q.JV.CLAIM_TYPE]=q.JV.INCLUDE_CHANNELS);r&&(t[q.JV.LANGUAGE]=r);return t}(s,N?A:null),se=(0,_.Z)(ie,a,oe,ue,0),fe=se.results,me=se.loading,de=ie&&!me&&fe&&0===fe.length,ve=ie&&ie.trim().replace(/\s+/g,"").replace(/:/g,"#"),ye="lbry://".concat(ve),be=!1;try{var pe=(0,h.parseURI)(ye).isChannel;be=!0,pe||(r="lbry://@".concat(ye))}catch(e){}r&&[ye].push(ye);var ge=ie!==F||me;function he(e){if(e){u();var r=m.KNOWN_APP_DOMAINS.map((function(e){return"https://".concat(e,"/")})),a=[Q].concat(K(r),[Y,W]),l=a.findIndex((function(r){return e.includes(r)})),i=-1!==l,c=e.startsWith("lbry://");if(R.current&&R.current.blur(),O)O(fe?fe.find((function(r){return r.startsWith(e)})):"");else{if(i){var o=a[l],s=e.slice(o.length).replace(/:/g,"#");if(s.includes(X))s=s.slice(X.length),t(s);else try{var f="lbry://".concat(s);(0,h.parseURI)(f);var v=(0,V.$U)(f);return void P(v)}catch(e){}}if(e.startsWith(re)){var y=e.slice(re.length);P("/$/".concat(d.DISCOVER,"?t=").concat(y))}else if(c){var b="lbry://"+e.slice(H.length).replace(/:/g,"#");try{if((0,h.isURIValid)(b)){var p=(0,h.normalizeURI)(b),g=(0,V.$U)(p);P(g)}else n(ee)}catch(r){t(e)}}else t(e)}}}y.useEffect((function(){var e=setTimeout((function(){ie!==F&&ce(F.length<q.tA?"":F)}),ae);return function(){return clearTimeout(e)}}),[F,ie]),y.useEffect((function(){function e(e){var r=e.ctrlKey,t=e.metaKey,n=e.shiftKey,a=e.key;r||t||"Home"!==a&&"End"!==a||function(e,r,t){if(e){var n,a,l,i=e.selectionStart?e.selectionStart:0,c="none";return t?(n=0,a=r?i:n,l=0,c="backward"):(a=e.value.length,n=r?i:a,l=e.scrollWidth-e.clientWidth),e.setSelectionRange(n,a,c),e.scrollLeft=l,!0}return!1}(R.current,n,"Home"===a)&&e.stopPropagation()}return R.current&&R.current.addEventListener("keydown",e),function(){R.current&&R.current.removeEventListener("keydown",e)}}),[R]),y.useEffect((function(){function e(e){var r=e.ctrlKey,t=(e.metaKey,e.keyCode);if(R.current)return t===te&&r?(R.current.focus(),void R.current.select()):void(R.current===document.activeElement&&t===ne&&(""===R.current.value?R.current.blur():(R.current.value="",R.current.focus())))}return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[R]),y.useEffect((function(){o&&R.current&&R.current.focus()}),[R,o]);var Ee=JSON.stringify(fe);y.useEffect((function(){if(Ee){var e=JSON.parse(Ee);e&&e.length>0&&j(e)}}),[j,Ee]);var _e=z(y.useState([]),2),we=_e[0],Se=_e[1];return y.useEffect((function(){if(i&&F&&F.length>1){var e=[];i.map((function(r){var t,n;l[r]&&-1===e.indexOf(l[r].permanent_url)&&(l[r].name.toLowerCase().includes(F.toLowerCase())||null!==(t=l[r].value)&&void 0!==t&&null!==(n=t.title)&&void 0!==n&&n.toLowerCase().includes(F.toLowerCase()))&&e.push(l[r].permanent_url)})),Se(e.slice(0,o?5:10))}}),[F]),y.useEffect((function(){fe&&we&&we.map((function(e){-1!==fe.indexOf(e)&&fe.splice(fe.indexOf(e),1)}))}),[we,fe]),y.createElement(y.Fragment,null,y.createElement(w.l0,{className:p()("wunderbar__wrapper",{"wunderbar__wrapper--mobile":o}),onSubmit:function(){return he(F)}},y.createElement(E.hQ,{className:"wunderbar",onSelect:he,openOnFocus:!0},y.createElement(g.default,{icon:v.SEARCH}),y.createElement(E.gA,{ref:R,className:"wunderbar__input",placeholder:J("Search"),onChange:function(e){return G(e.target.value)},value:F}),F&&y.createElement(S.default,{icon:v.REMOVE,"aria-label":J("Clear"),button:"alt",className:"wunderbar__clear",onClick:function(){G("")}}),k&&y.createElement(E.SF,{portal:!1,className:p()("wunderbar__suggestions",{"wunderbar__suggestions--mobile":o})},y.createElement(E.Gk,null,!b&&y.createElement("div",{className:"wunderbar__bottom-links"},y.createElement(E.O2,{value:F,className:"wunderbar__more-results"},y.createElement(S.default,{ref:U,button:"link",label:J("View All Results")})),y.createElement(E.O2,{value:"".concat(re).concat(F),className:"wunderbar__more-results"},y.createElement(S.default,{ref:I,className:"wunderbar__tag-search",button:"link"},J("Search tag"),y.createElement("div",{className:"tag"},F.split(" ").join(""))))),y.createElement("hr",{className:"wunderbar__top-separator"}),be&&!f?y.createElement($,{query:ve}):null,y.createElement("div",{className:"wunderbar__label"},J("Search Results")),we.length>0&&we.map((function(e){return y.createElement(Z,{key:e,uri:e})})),ge&&F.length>q.tA?y.createElement(x.Z,{type:"small"}):null,!ge&&fe?fe.slice(0,o?20-we.length:10-we.length).map((function(e){return y.createElement(Z,{key:e,uri:e})})):null)))),o&&!F&&y.createElement("div",{className:"main--empty"},y.createElement(D.Z,{subtitle:J("Search for something..."),alwaysShow:!0})),o&&de&&y.createElement("div",{className:"main--empty"},y.createElement(D.Z,{type:"sad",subtitle:J("No results"),alwaysShow:!0})))})))},94936:(e,r,t)=>{t.d(r,{Z:()=>d});var n=t(88441),a=t(18259),l=t(82104),i=t(53389),c=t(23021);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function s(e,r,t){return(r=function(e){var r=function(e,r){if("object"!==o(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"===o(r)?r:String(r)}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function f(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,l,i,c=[],o=!0,u=!1;try{if(l=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;o=!1}else for(;!(o=(n=l.call(t)).done)&&(c.push(n.value),c.length!==r);o=!0);}catch(e){u=!0,a=e}finally{try{if(!o&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return m(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function d(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},m=arguments.length>4&&void 0!==arguments[4]?arguments[4]:500,d=f(n.useState(),2),v=d[0],y=d[1],b=f(n.useState(),2),p=b[0],g=b[1],h=e?(0,l.$6)(e,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach((function(r){s(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({nsfw:r,size:t},o)):"",E=(0,c.Z)(h,m);return n.useEffect((function(){if(E){g(!0),y(null);var e=!0;return a.q_.search(E).then((function(r){var t=r.body;e&&(y(t.map((function(e){return"lbry://".concat(e.name,"#").concat(e.claimId)})).filter((function(e){return(0,i.isURIValid)(e)}))),g(!1))})).catch((function(){g(!1)})),function(){e=!1}}}),[E]),{results:v,loading:p}}},23021:(e,r,t)=>{t.d(r,{Z:()=>c});var n=t(88441);function a(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,l,i,c=[],o=!0,u=!1;try{if(l=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;o=!1}else for(;!(o=(n=l.call(t)).done)&&(c.push(n.value),c.length!==r);o=!0);}catch(e){u=!0,a=e}finally{try{if(!o&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return l(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var i=function(e){n.useEffect(e,[])};function c(e){var r,t,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,c=a(n.useState(e),2),o=c[0],u=c[1],s=n.useRef(),f=n.useRef(null),m=n.useRef(0);return n.useEffect((function(){if(s.current)f.current=e,m.current=!0;else{u(e);s.current=setTimeout((function e(){m.current?(m.current=!1,u(f.current),s.current=setTimeout(e,l)):s.current=void 0}),l)}}),[l,e]),r=function(){s.current&&clearTimeout(s.current)},(t=n.useRef(r)).current=r,i((function(){return function(){return t.current()}})),o}},68569:(e,r,t)=>{t.r(r),t.d(r,{default:()=>o});var n=t(24582),a=t(70897),l=t(88441),i=t(1017),c=t(2355);const o=(0,n.$j)(null,(function(e){return{closeModal:function(){return e((0,a.gG)())}}}))((function(e){var r=e.closeModal,t=e.channelsOnly,n=e.noTopSuggestion,a=e.noBottomLinks,o=e.customSelectAction;return l.createElement(i.u_,{onAborted:r,isOpen:!0,type:"card"},l.createElement(c.default,{isMobile:!0,channelsOnly:t,noTopSuggestion:n,noBottomLinks:a,customSelectAction:o}))}))}}]);
//# sourceMappingURL=modalMobileSearch-f258d9bed8d21d0925e3-1009.js.map