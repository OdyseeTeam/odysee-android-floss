webpackHotUpdate("ui-202210030702",{

/***/ "../ui/component/claimListDiscover/view.jsx":
/*!**************************************************!*\
  !*** ../ui/component/claimListDiscover/view.jsx ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__) {/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! config */ \"../config.js\");\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(config__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var constants_claim_search__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! constants/claim_search */ \"../ui/constants/claim_search.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router */ \"../node_modules/react-router/esm/react-router.js\");\n/* harmony import */ var constants_tags__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! constants/tags */ \"../ui/constants/tags.js\");\n/* harmony import */ var util_default_languages__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! util/default-languages */ \"../ui/util/default-languages.js\");\n/* harmony import */ var util_claim__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! util/claim */ \"../ui/util/claim.js\");\n/* harmony import */ var util_lbryURI__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! util/lbryURI */ \"../ui/util/lbryURI.js\");\n/* harmony import */ var component_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! component/button */ \"../ui/component/button/index.js\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! moment */ \"../node_modules/moment/moment.js\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var component_claimList__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! component/claimList */ \"../ui/component/claimList/index.js\");\n/* harmony import */ var component_claimPreview__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! component/claimPreview */ \"../ui/component/claimPreview/index.js\");\n/* harmony import */ var component_claimPreviewTile__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! component/claimPreviewTile */ \"../ui/component/claimPreviewTile/index.js\");\n/* harmony import */ var component_i18nMessage__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! component/i18nMessage */ \"../ui/component/i18nMessage/index.js\");\n/* harmony import */ var component_langFilterIndicator__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! component/langFilterIndicator */ \"../ui/component/langFilterIndicator/index.js\");\n/* harmony import */ var component_claimListHeader__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! component/claimListHeader */ \"../ui/component/claimListHeader/index.js\");\n/* harmony import */ var effects_use_fetch_view_count__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! effects/use-fetch-view-count */ \"../ui/effects/use-fetch-view-count.js\");\n/* harmony import */ var effects_use_resolve_pins__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! effects/use-resolve-pins */ \"../ui/effects/use-resolve-pins.js\");\n/* harmony import */ var effects_use_screensize__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! effects/use-screensize */ \"../ui/effects/use-screensize.js\");\n/* harmony import */ var effects_use_get_user_memberships__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! effects/use-get-user-memberships */ \"../ui/effects/use-get-user-memberships.js\");\n/* harmony import */ var effects_use_persistent_user_param__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! effects/use-persistent-user-param */ \"../ui/effects/use-persistent-user-param.js\");\n/* harmony import */ var effects_use_persisted_state__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! effects/use-persisted-state */ \"../ui/effects/use-persisted-state.js\");\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ClaimListDiscover(props) {\n  var doClaimSearch = props.doClaimSearch,\n      claimSearchByQuery = props.claimSearchByQuery,\n      _props$showHeader = props.showHeader,\n      showHeader = _props$showHeader === void 0 ? true : _props$showHeader,\n      type = props.type,\n      claimSearchByQueryLastPageReached = props.claimSearchByQueryLastPageReached,\n      tags = props.tags,\n      notTags = props.notTags,\n      defaultTags = props.defaultTags,\n      loading = props.loading,\n      meta = props.meta,\n      subSection = props.subSection,\n      channelIds = props.channelIds,\n      excludedChannelIds = props.excludedChannelIds,\n      showNsfw = props.showNsfw,\n      hideReposts = props.hideReposts,\n      fetchViewCount = props.fetchViewCount,\n      history = props.history,\n      location = props.location,\n      mutedUris = props.mutedUris,\n      blockedUris = props.blockedUris,\n      hiddenNsfwMessage = props.hiddenNsfwMessage,\n      defaultOrderBy = props.defaultOrderBy,\n      sortBy = props.sortBy,\n      orderBy = props.orderBy,\n      headerLabel = props.headerLabel,\n      header = props.header,\n      name = props.name,\n      claimType = props.claimType,\n      defaultClaimType = props.defaultClaimType,\n      streamType = props.streamType,\n      defaultStreamType = props.defaultStreamType,\n      freshness = props.freshness,\n      _props$defaultFreshne = props.defaultFreshness,\n      defaultFreshness = _props$defaultFreshne === void 0 ? constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FRESH_WEEK\"] : _props$defaultFreshne,\n      renderProperties = props.renderProperties,\n      includeSupportAction = props.includeSupportAction,\n      repostedClaimId = props.repostedClaimId,\n      hideAdvancedFilter = props.hideAdvancedFilter,\n      _props$infiniteScroll = props.infiniteScroll,\n      infiniteScroll = _props$infiniteScroll === void 0 ? true : _props$infiniteScroll,\n      followedTags = props.followedTags,\n      injectedItem = props.injectedItem,\n      feeAmount = props.feeAmount,\n      uris = props.uris,\n      prefixUris = props.prefixUris,\n      pins = props.pins,\n      tileLayout = props.tileLayout,\n      _props$hideFilters = props.hideFilters,\n      hideFilters = _props$hideFilters === void 0 ? false : _props$hideFilters,\n      claimIds = props.claimIds,\n      maxPages = props.maxPages,\n      hideRepostsOverride = props.hideRepostsOverride,\n      languageSetting = props.languageSetting,\n      searchLanguages = props.searchLanguages,\n      searchInLanguage = props.searchInLanguage,\n      ignoreSearchInLanguage = props.ignoreSearchInLanguage,\n      limitClaimsPerChannel = props.limitClaimsPerChannel,\n      releaseTime = props.releaseTime,\n      scrollAnchor = props.scrollAnchor,\n      _props$showHiddenByUs = props.showHiddenByUser,\n      showHiddenByUser = _props$showHiddenByUs === void 0 ? false : _props$showHiddenByUs,\n      hasSource = props.hasSource,\n      hasNoSource = props.hasNoSource,\n      _props$isChannel = props.isChannel,\n      isChannel = _props$isChannel === void 0 ? false : _props$isChannel,\n      showNoSourceClaims = props.showNoSourceClaims,\n      empty = props.empty,\n      claimsByUri = props.claimsByUri,\n      claimsById = props.claimsById,\n      doFetchViewCount = props.doFetchViewCount,\n      _props$hideLayoutButt = props.hideLayoutButton,\n      hideLayoutButton = _props$hideLayoutButt === void 0 ? false : _props$hideLayoutButt,\n      loadedCallback = props.loadedCallback,\n      maxClaimRender = props.maxClaimRender,\n      _props$useSkeletonScr = props.useSkeletonScreen,\n      useSkeletonScreen = _props$useSkeletonScr === void 0 ? true : _props$useSkeletonScr,\n      _props$excludeUris = props.excludeUris,\n      excludeUris = _props$excludeUris === void 0 ? [] : _props$excludeUris,\n      doFetchUserMemberships = props.doFetchUserMemberships,\n      _props$swipeLayout = props.swipeLayout,\n      swipeLayout = _props$swipeLayout === void 0 ? false : _props$swipeLayout,\n      doResolveUris = props.doResolveUris,\n      doResolveClaimIds = props.doResolveClaimIds;\n  var resolvedPinUris = Object(effects_use_resolve_pins__WEBPACK_IMPORTED_MODULE_17__[\"default\"])({\n    pins: pins,\n    claimsById: claimsById,\n    doResolveClaimIds: doResolveClaimIds,\n    doResolveUris: doResolveUris\n  });\n  var didNavigateForward = history.action === 'PUSH';\n  var search = location.search;\n  var prevUris = react__WEBPACK_IMPORTED_MODULE_2___default.a.useRef();\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_2___default.a.useState(1),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      page = _React$useState2[0],\n      setPage = _React$useState2[1];\n\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_2___default.a.useState(),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      forceRefresh = _React$useState4[0],\n      setForceRefresh = _React$useState4[1];\n\n  var isLargeScreen = Object(effects_use_screensize__WEBPACK_IMPORTED_MODULE_18__[\"useIsLargeScreen\"])();\n  var followed = followedTags && followedTags.map(function (t) {\n    return t.name;\n  }) || [];\n  var urlParams = new URLSearchParams(search);\n  var tagsParam = // can be 'x,y,z' or 'x' or ['x','y'] or CS.CONSTANT\n  tags && getParamFromTags(tags) || urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"TAGS_KEY\"]) !== null && urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"TAGS_KEY\"]) || defaultTags && getParamFromTags(defaultTags);\n  var freshnessParam = freshness || urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FRESH_KEY\"]) || defaultFreshness;\n  var sortByParam = sortBy || urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"SORT_BY_KEY\"]) || constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"SORT_BY\"].NEWEST.key;\n  var mutedAndBlockedChannelIds = Array.from(new Set(mutedUris.concat(blockedUris).map(function (uri) {\n    return Object(util_lbryURI__WEBPACK_IMPORTED_MODULE_7__[\"splitBySeparator\"])(uri)[1];\n  })));\n\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_2___default.a.useState([]),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      hiddenBuffer = _React$useState6[0],\n      setHiddenBuffer = _React$useState6[1];\n\n  var hideRepostsEffective = resolveHideReposts(hideReposts, hideRepostsOverride);\n  var langParam = urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"LANGUAGE_KEY\"]) || null;\n  var searchInSelectedLang = searchInLanguage && !ignoreSearchInLanguage;\n  var languageParams = Object(util_default_languages__WEBPACK_IMPORTED_MODULE_5__[\"resolveLangForClaimSearch\"])(languageSetting, searchInSelectedLang, searchLanguages, langParam);\n  var claimTypeParam = claimType || defaultClaimType || null;\n  var streamTypeParam = streamType || defaultStreamType || null;\n  var contentTypeParam = urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CONTENT_KEY\"]);\n\n  if (contentTypeParam) {\n    switch (contentTypeParam) {\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CLAIM_COLLECTION\"]:\n        claimTypeParam = contentTypeParam;\n        streamTypeParam = undefined;\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CLAIM_REPOST\"]:\n        claimTypeParam = contentTypeParam;\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CLAIM_CHANNEL\"]:\n        claimTypeParam = constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CLAIM_CHANNEL\"];\n        streamTypeParam = undefined;\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FILE_VIDEO\"]:\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FILE_AUDIO\"]:\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FILE_IMAGE\"]:\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FILE_MODEL\"]:\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FILE_BINARY\"]:\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FILE_DOCUMENT\"]:\n        streamTypeParam = contentTypeParam;\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CONTENT_ALL\"]:\n        claimTypeParam = undefined;\n        streamTypeParam = undefined;\n        break;\n\n      default:\n        console.log('Invalid or unhandled CONTENT_KEY:', contentTypeParam); // eslint-disable-line no-console\n\n        break;\n    }\n  }\n\n  var durationParam = Object(effects_use_persistent_user_param__WEBPACK_IMPORTED_MODULE_20__[\"default\"])([urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"DURATION_KEY\"]) || constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"DURATION_ALL\"]], 'durUser', null);\n\n  var _usePersistedState = Object(effects_use_persisted_state__WEBPACK_IMPORTED_MODULE_21__[\"default\"])(\"durUserMinutes-\".concat(location.pathname), 5),\n      _usePersistedState2 = _slicedToArray(_usePersistedState, 1),\n      durationMinutes = _usePersistedState2[0];\n\n  var channelIdsInUrl = urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CHANNEL_IDS_KEY\"]);\n  var channelIdsParam = channelIdsInUrl ? channelIdsInUrl.split(',') : channelIds;\n  var excludedIdsParam = excludedChannelIds;\n  var feeAmountParam = urlParams.get('fee_amount') || feeAmount;\n  var originalPageSize = 12;\n  var dynamicPageSize = isLargeScreen ? Math.ceil(originalPageSize / 2 * 6) : Math.ceil(originalPageSize / 2 * 4);\n  var orderParam = Object(effects_use_persistent_user_param__WEBPACK_IMPORTED_MODULE_20__[\"default\"])([orderBy, urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_KEY\"]), defaultOrderBy], 'orderUser', constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_TRENDING\"]);\n  var options = {\n    page_size: dynamicPageSize,\n    page: page,\n    name: name,\n    claim_type: claimType || ['stream', 'repost', 'channel'],\n    // no_totals makes it so the sdk doesn't have to calculate total number pages for pagination\n    // it's faster, but we will need to remove it if we start using total_pages\n    no_totals: true,\n    not_channel_ids: isChannel ? undefined : mutedAndBlockedChannelIds,\n    not_tags: !showNsfw ? constants_tags__WEBPACK_IMPORTED_MODULE_4__[\"MATURE_TAGS\"] : [],\n    order_by: resolveOrderByOption(orderParam, sortByParam),\n    remove_duplicates: isChannel ? undefined : true\n  };\n\n  if (config__WEBPACK_IMPORTED_MODULE_0__[\"ENABLE_NO_SOURCE_CLAIMS\"] && hasNoSource) {\n    options.has_no_source = true;\n  } else if (hasSource || !config__WEBPACK_IMPORTED_MODULE_0__[\"ENABLE_NO_SOURCE_CLAIMS\"] && (!claimType || claimType === 'stream')) {\n    options.has_source = true;\n  }\n\n  if (limitClaimsPerChannel) {\n    options.limit_claims_per_channel = limitClaimsPerChannel;\n  }\n\n  if (feeAmountParam && claimType !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CLAIM_CHANNEL\"]) {\n    options.fee_amount = feeAmountParam;\n  }\n\n  if (claimIds) {\n    options.claim_ids = claimIds;\n  }\n\n  if (channelIdsParam) {\n    options.channel_ids = channelIdsParam;\n  }\n\n  if (excludedIdsParam) {\n    options.not_channel_ids = (options.not_channel_ids || []).concat(excludedIdsParam);\n  }\n\n  if (tagsParam) {\n    if (tagsParam !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"TAGS_ALL\"] && tagsParam !== '') {\n      if (tagsParam === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"TAGS_FOLLOWED\"]) {\n        options.any_tags = followed;\n      } else if (Array.isArray(tagsParam)) {\n        options.any_tags = tagsParam;\n      } else {\n        options.any_tags = tagsParam.split(',');\n      }\n    }\n  }\n\n  if (notTags) {\n    options.not_tags = options.not_tags.concat(notTags);\n  }\n\n  if (repostedClaimId) {\n    // SDK chokes on reposted_claim_id of null or false, needs to not be present if no value\n    options.reposted_claim_id = repostedClaimId;\n  } // IF release time, set it, else set fallback release times using the hack below.\n\n\n  if (releaseTime && claimTypeParam !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CLAIM_CHANNEL\"]) {\n    options.release_time = releaseTime;\n  } else if (claimTypeParam !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CLAIM_CHANNEL\"]) {\n    if (orderParam === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_TOP\"] && freshnessParam !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FRESH_ALL\"]) {\n      options.release_time = \">\".concat(Math.floor(moment__WEBPACK_IMPORTED_MODULE_9___default()().subtract(1, freshnessParam).startOf('hour').unix()));\n    } else if (orderParam === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_NEW\"] || orderParam === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_TRENDING\"]) {\n      // Warning - hack below\n      // If users are following more than 10 channels or tags, limit results to stuff less than a year old\n      // For more than 20, drop it down to 6 months\n      // This helps with timeout issues for users that are following a ton of stuff\n      // https://github.com/lbryio/lbry-sdk/issues/2420\n      if (options.channel_ids && options.channel_ids.length > 20 || options.any_tags && options.any_tags.length > 20) {\n        options.release_time = \">\".concat(Math.floor(moment__WEBPACK_IMPORTED_MODULE_9___default()().subtract(3, constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FRESH_MONTH\"]).startOf('week').unix()));\n      } else if (options.channel_ids && options.channel_ids.length > 10 || options.any_tags && options.any_tags.length > 10) {\n        options.release_time = \">\".concat(Math.floor(moment__WEBPACK_IMPORTED_MODULE_9___default()().subtract(1, constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FRESH_YEAR\"]).startOf('week').unix()));\n      } else {\n        // Hack for at least the New page until https://github.com/lbryio/lbry-sdk/issues/2591 is fixed\n        options.release_time = \"<\".concat(Math.floor(moment__WEBPACK_IMPORTED_MODULE_9___default()().startOf('minute').unix()));\n      }\n    }\n  }\n\n  if (durationParam) {\n    switch (durationParam) {\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"DURATION_ALL\"]:\n        // Do nothing (no options needed)\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"DURATION_SHORT\"]:\n        options.duration = '<=240';\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"DURATION_LONG\"]:\n        options.duration = '>=1200';\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"DURATION_GT_EQ\"]:\n        options.duration = \">=\".concat((durationMinutes || 0) * 60);\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"DURATION_LT_EQ\"]:\n        options.duration = \"<=\".concat((durationMinutes || 0) * 60);\n        break;\n\n      default:\n        console.error('Unhandled duration: ' + durationParam);\n        break;\n    }\n  }\n\n  if (streamTypeParam && streamTypeParam !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CONTENT_ALL\"] && claimType !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CLAIM_CHANNEL\"]) {\n    options.stream_types = typeof streamTypeParam === 'string' ? [streamTypeParam] : streamTypeParam;\n  }\n\n  if (claimTypeParam) {\n    if (claimTypeParam !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CONTENT_ALL\"]) {\n      if (Array.isArray(claimTypeParam)) {\n        options.claim_type = claimTypeParam;\n      } else {\n        options.claim_type = [claimTypeParam];\n      }\n    }\n  }\n\n  if (languageParams) {\n    if (languageParams !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"LANGUAGES_ALL\"]) {\n      options.any_languages = languageParams.split(',');\n    }\n  }\n\n  if (tagsParam) {\n    if (tagsParam !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"TAGS_ALL\"] && tagsParam !== '') {\n      if (tagsParam === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"TAGS_FOLLOWED\"]) {\n        options.any_tags = followed;\n      } else if (Array.isArray(tagsParam)) {\n        options.any_tags = tagsParam;\n      } else {\n        options.any_tags = tagsParam.split(',');\n      }\n    }\n  }\n\n  if (hideRepostsEffective && !options.reposted_claim_id) {\n    if (Array.isArray(options.claim_type)) {\n      if (options.claim_type.length > 1) {\n        options.claim_type = options.claim_type.filter(function (claimType) {\n          return claimType !== 'repost';\n        });\n      }\n    } else {\n      options.claim_type = ['stream', 'channel'];\n    }\n  }\n\n  var hasMatureTags = tagsParam && tagsParam.split(',').some(function (t) {\n    return constants_tags__WEBPACK_IMPORTED_MODULE_4__[\"MATURE_TAGS\"].includes(t);\n  });\n  var searchKey = Object(util_claim__WEBPACK_IMPORTED_MODULE_6__[\"createNormalizedClaimSearchKey\"])(options);\n  var claimSearchResult = claimSearchByQuery[searchKey];\n  var claimSearchResultLastPageReached = claimSearchByQueryLastPageReached[searchKey];\n  var isUnfetchedClaimSearch = claimSearchResult === undefined; // uncomment to fix an item on a page\n  //   const fixUri = 'lbry://@corbettreport#0/lbryodysee#5';\n  //   if (\n  //     orderParam === CS.ORDER_BY_NEW &&\n  //     claimSearchResult &&\n  //     claimSearchResult.length > 2 &&\n  //     window.location.pathname === '/$/rabbithole'\n  //   ) {\n  //     if (claimSearchResult.indexOf(fixUri) !== -1) {\n  //       claimSearchResult.splice(claimSearchResult.indexOf(fixUri), 1);\n  //     } else {\n  //       claimSearchResult.pop();\n  //     }\n  //     claimSearchResult.splice(2, 0, fixUri);\n  //   }\n\n  var _React$useState7 = react__WEBPACK_IMPORTED_MODULE_2___default.a.useState(null),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      prevOptions = _React$useState8[0],\n      setPrevOptions = _React$useState8[1];\n\n  if (!isJustScrollingToNewPage(prevOptions, options)) {\n    // --- New search, or search options changed.\n    setPrevOptions(options);\n\n    if (didNavigateForward) {\n      // --- Reset the page.\n      options.page = 1;\n      setPage(options.page);\n    } else if (claimSearchResult) {\n      // --- Update 'page' based on retrieved 'claimSearchResult'.\n      options.page = Math.ceil(claimSearchResult.length / dynamicPageSize);\n\n      if (options.page !== page) {\n        setPage(options.page);\n      }\n    }\n  }\n\n  var shouldPerformSearch = !uris && (claimSearchResult === undefined || didNavigateForward || !loading && !claimSearchResultLastPageReached && claimSearchResult && claimSearchResult.length && claimSearchResult.length < dynamicPageSize * options.page && claimSearchResult.length % dynamicPageSize === 0); // Don't use the query from createNormalizedClaimSearchKey for the effect since that doesn't include page & release_time\n\n  var optionsStringForEffect = JSON.stringify(options);\n  var timedOutMessage = react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"p\", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_i18nMessage__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n    tokens: {\n      again: react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n        button: \"link\",\n        label: __('try again in a few seconds.'),\n        onClick: function onClick() {\n          return setForceRefresh(Date.now());\n        }\n      })\n    }\n  }, \"Sorry, your request timed out. Modify your options or %again%\")), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"p\", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_i18nMessage__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n    tokens: {\n      contact_support: react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n        button: \"link\",\n        label: __('contact support'),\n        href: \"https://odysee.com/@OdyseeHelp:b?view=about\"\n      })\n    }\n  }, \"If you continue to have issues, please %contact_support%.\"))); // **************************************************************************\n  // **************************************************************************\n\n  var finalUris;\n\n  if (uris) {\n    // --- direct uris\n    finalUris = uris;\n    injectPinUrls(finalUris, orderParam, pins, resolvedPinUris);\n    finalUris = filterExcludedUris(finalUris, excludeUris);\n  } else {\n    // --- searched uris\n    if (isUnfetchedClaimSearch && prevUris.current) {\n      finalUris = prevUris.current;\n    } else {\n      finalUris = claimSearchResult;\n      injectPinUrls(finalUris, orderParam, pins, resolvedPinUris);\n      finalUris = filterExcludedUris(finalUris, excludeUris);\n      prevUris.current = finalUris;\n    }\n  } // **************************************************************************\n  // Helpers\n  // **************************************************************************\n  // Returns true if the change in 'options' indicate that we are simply scrolling\n  // down to a new page; false otherwise.\n\n\n  function isJustScrollingToNewPage(prevOptions, options) {\n    if (!prevOptions) {\n      // It's a new search, or we just popped back from a different view.\n      return false;\n    } // Compare every field except for 'page' and 'release_time'.\n    // There might be better ways to achieve this.\n\n\n    var tmpPrevOptions = _objectSpread({}, prevOptions);\n\n    tmpPrevOptions.page = -1;\n    tmpPrevOptions.release_time = '';\n\n    var tmpOptions = _objectSpread({}, options);\n\n    tmpOptions.page = -1;\n    tmpOptions.release_time = '';\n    return JSON.stringify(tmpOptions) === JSON.stringify(tmpPrevOptions);\n  }\n\n  function getParamFromTags(t) {\n    if (t === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"TAGS_ALL\"] || t === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"TAGS_FOLLOWED\"]) {\n      return t;\n    } else if (Array.isArray(t)) {\n      return t.join(',');\n    }\n  }\n\n  function handleScrollBottom() {\n    if (maxPages !== undefined && page === maxPages) {\n      return;\n    }\n\n    if (!loading && infiniteScroll) {\n      if (claimSearchResult && !claimSearchResultLastPageReached) {\n        setPage(page + 1);\n      }\n    }\n  }\n\n  function resolveHideReposts(hideRepostSetting, hideRepostOverride) {\n    if (hideRepostOverride === undefined || hideRepostOverride === null) {\n      return hideRepostSetting;\n    } else {\n      return hideRepostOverride;\n    }\n  }\n\n  function resolveOrderByOption(orderBy, sortBy) {\n    var order_by;\n\n    switch (orderBy) {\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_TRENDING\"]:\n        order_by = constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_TRENDING_VALUE\"];\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_NEW\"]:\n        order_by = constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_NEW_VALUE\"];\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_NEW_ASC\"]:\n        order_by = constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_NEW_ASC_VALUE\"];\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_NAME_ASC\"]:\n        order_by = constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_NAME_ASC_VALUE\"];\n        break;\n\n      default:\n        order_by = constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_TOP_VALUE\"];\n    }\n\n    if (orderBy === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_NEW\"] && sortBy === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"SORT_BY\"].OLDEST.key) {\n      return order_by.map(function (x) {\n        return \"\".concat(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"SORT_BY\"].OLDEST.opt).concat(x);\n      });\n    }\n\n    return order_by;\n  }\n\n  function injectPinUrls(uris, order, pins, resolvedPinUris) {\n    if (!pins || !uris || uris.length <= 2 || pins.onlyPinForOrder && pins.onlyPinForOrder !== order) {\n      return;\n    }\n\n    if (resolvedPinUris) {\n      resolvedPinUris.forEach(function (pin) {\n        if (uris.includes(pin)) {\n          uris.splice(uris.indexOf(pin), 1);\n        } else {\n          uris.pop();\n        }\n      });\n      uris.splice.apply(uris, [2, 0].concat(_toConsumableArray(resolvedPinUris)));\n    }\n  }\n\n  function filterExcludedUris(uris, excludeUris) {\n    if (uris && excludeUris && excludeUris.length) {\n      return uris.filter(function (uri) {\n        return !excludeUris.includes(uri);\n      });\n    }\n\n    return uris;\n  }\n\n  function onHidden(uri) {\n    if (hiddenBuffer.indexOf(uri) === -1) {\n      var newBuffer = hiddenBuffer;\n      newBuffer.push(uri);\n      setHiddenBuffer(newBuffer);\n    }\n  } // **************************************************************************\n  // **************************************************************************\n\n\n  Object(effects_use_fetch_view_count__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(fetchViewCount, finalUris, claimsByUri, doFetchViewCount);\n  Object(effects_use_get_user_memberships__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(true, finalUris, claimsByUri, doFetchUserMemberships);\n  react__WEBPACK_IMPORTED_MODULE_2___default.a.useEffect(function () {\n    if (shouldPerformSearch) {\n      var searchOptions = JSON.parse(optionsStringForEffect);\n      doClaimSearch(searchOptions);\n    }\n  }, [doClaimSearch, shouldPerformSearch, optionsStringForEffect, forceRefresh]);\n  var headerToUse = header || react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_claimListHeader__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n    channelIds: channelIds,\n    defaultTags: defaultTags,\n    tags: tags,\n    freshness: freshness,\n    defaultFreshness: defaultFreshness,\n    claimType: claimType,\n    streamType: streamType,\n    defaultStreamType: defaultStreamType,\n    feeAmount: feeAmount // ENABLE_PAID_CONTENT_DISCOVER or something\n    ,\n    orderBy: orderBy,\n    defaultOrderBy: defaultOrderBy,\n    hideAdvancedFilter: hideAdvancedFilter,\n    hasMatureTags: hasMatureTags,\n    hiddenNsfwMessage: hiddenNsfwMessage,\n    setPage: setPage,\n    tileLayout: tileLayout,\n    hideLayoutButton: hideLayoutButton,\n    hideFilters: hideFilters,\n    scrollAnchor: scrollAnchor\n  });\n  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, headerLabel && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"label\", {\n    className: \"claim-list__header-label\"\n  }, headerLabel), tileLayout ? react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", null, !repostedClaimId && showHeader && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"section__header--actions\"\n  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"section__actions\"\n  }, headerToUse, searchInSelectedLang && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_langFilterIndicator__WEBPACK_IMPORTED_MODULE_14__[\"default\"], null)), meta && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"section__actions--no-margin\"\n  }, meta)), subSection && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", null, subSection), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_claimList__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    tileLayout: true,\n    loading: loading,\n    uris: finalUris,\n    prefixUris: prefixUris,\n    onScrollBottom: handleScrollBottom,\n    page: page,\n    pageSize: dynamicPageSize,\n    timedOutMessage: timedOutMessage,\n    renderProperties: renderProperties,\n    includeSupportAction: includeSupportAction // injectedItem={injectedItem}\n    ,\n    showHiddenByUser: showHiddenByUser,\n    searchOptions: options,\n    showNoSourceClaims: showNoSourceClaims,\n    empty: empty,\n    maxClaimRender: maxClaimRender,\n    loadedCallback: loadedCallback,\n    swipeLayout: swipeLayout,\n    onHidden: onHidden\n  }), loading && useSkeletonScreen && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"claim-grid\"\n  }, new Array(dynamicPageSize).fill(1).map(function (x, i) {\n    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_claimPreviewTile__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n      key: i,\n      placeholder: \"loading\",\n      pulse: true\n    });\n  }))) : react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", null, showHeader && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"section__header--actions\"\n  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"section__actions\"\n  }, headerToUse, searchInSelectedLang && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_langFilterIndicator__WEBPACK_IMPORTED_MODULE_14__[\"default\"], null)), meta && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"section__actions--no-margin\"\n  }, meta)), subSection && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", null, subSection), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_claimList__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    type: type,\n    loading: loading,\n    uris: finalUris,\n    prefixUris: prefixUris,\n    onScrollBottom: handleScrollBottom,\n    page: page,\n    pageSize: dynamicPageSize,\n    timedOutMessage: timedOutMessage,\n    renderProperties: renderProperties,\n    includeSupportAction: includeSupportAction // injectedItem={injectedItem}\n    ,\n    showHiddenByUser: showHiddenByUser,\n    searchOptions: options,\n    showNoSourceClaims: hasNoSource || showNoSourceClaims,\n    empty: empty,\n    maxClaimRender: maxClaimRender,\n    loadedCallback: loadedCallback,\n    swipeLayout: swipeLayout,\n    onHidden: onHidden\n  }), loading && useSkeletonScreen && new Array(dynamicPageSize).fill(1).map(function (x, i) {\n    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_claimPreview__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n      showNoSourceClaims: hasNoSource || showNoSourceClaims,\n      key: i,\n      placeholder: \"loading\",\n      type: type\n    });\n  })));\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_router__WEBPACK_IMPORTED_MODULE_3__[\"withRouter\"])(ClaimListDiscover));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! i18n.js */ \"../ui/i18n.js\")[\"__\"]))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L2NsYWltTGlzdERpc2NvdmVyL3ZpZXcuanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3VpL2NvbXBvbmVudC9jbGFpbUxpc3REaXNjb3Zlci92aWV3LmpzeD8wN2Y4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEBmbG93XG5pbXBvcnQgeyBFTkFCTEVfTk9fU09VUkNFX0NMQUlNUyB9IGZyb20gJ2NvbmZpZyc7XG5pbXBvcnQgdHlwZSB7IE5vZGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBDUyBmcm9tICdjb25zdGFudHMvY2xhaW1fc2VhcmNoJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB3aXRoUm91dGVyIH0gZnJvbSAncmVhY3Qtcm91dGVyJztcbmltcG9ydCB7IE1BVFVSRV9UQUdTIH0gZnJvbSAnY29uc3RhbnRzL3RhZ3MnO1xuaW1wb3J0IHsgcmVzb2x2ZUxhbmdGb3JDbGFpbVNlYXJjaCB9IGZyb20gJ3V0aWwvZGVmYXVsdC1sYW5ndWFnZXMnO1xuaW1wb3J0IHsgY3JlYXRlTm9ybWFsaXplZENsYWltU2VhcmNoS2V5IH0gZnJvbSAndXRpbC9jbGFpbSc7XG5pbXBvcnQgeyBzcGxpdEJ5U2VwYXJhdG9yIH0gZnJvbSAndXRpbC9sYnJ5VVJJJztcbmltcG9ydCBCdXR0b24gZnJvbSAnY29tcG9uZW50L2J1dHRvbic7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgQ2xhaW1MaXN0IGZyb20gJ2NvbXBvbmVudC9jbGFpbUxpc3QnO1xuaW1wb3J0IENsYWltUHJldmlldyBmcm9tICdjb21wb25lbnQvY2xhaW1QcmV2aWV3JztcbmltcG9ydCBDbGFpbVByZXZpZXdUaWxlIGZyb20gJ2NvbXBvbmVudC9jbGFpbVByZXZpZXdUaWxlJztcbmltcG9ydCBJMThuTWVzc2FnZSBmcm9tICdjb21wb25lbnQvaTE4bk1lc3NhZ2UnO1xuaW1wb3J0IExhbmdGaWx0ZXJJbmRpY2F0b3IgZnJvbSAnY29tcG9uZW50L2xhbmdGaWx0ZXJJbmRpY2F0b3InO1xuaW1wb3J0IENsYWltTGlzdEhlYWRlciBmcm9tICdjb21wb25lbnQvY2xhaW1MaXN0SGVhZGVyJztcbmltcG9ydCB1c2VGZXRjaFZpZXdDb3VudCBmcm9tICdlZmZlY3RzL3VzZS1mZXRjaC12aWV3LWNvdW50JztcbmltcG9ydCB1c2VSZXNvbHZlUGlucyBmcm9tICdlZmZlY3RzL3VzZS1yZXNvbHZlLXBpbnMnO1xuaW1wb3J0IHsgdXNlSXNMYXJnZVNjcmVlbiB9IGZyb20gJ2VmZmVjdHMvdXNlLXNjcmVlbnNpemUnO1xuaW1wb3J0IHVzZUdldFVzZXJNZW1iZXJzaGlwcyBmcm9tICdlZmZlY3RzL3VzZS1nZXQtdXNlci1tZW1iZXJzaGlwcyc7XG5pbXBvcnQgdXNlUGVyc2lzdGVudFVzZXJQYXJhbSBmcm9tICdlZmZlY3RzL3VzZS1wZXJzaXN0ZW50LXVzZXItcGFyYW0nO1xuaW1wb3J0IHVzZVBlcnNpc3RlZFN0YXRlIGZyb20gJ2VmZmVjdHMvdXNlLXBlcnNpc3RlZC1zdGF0ZSc7XG5cbnR5cGUgUHJvcHMgPSB7XG4gIHVyaXM6IEFycmF5PHN0cmluZz4sXG4gIHByZWZpeFVyaXM/OiBBcnJheTxzdHJpbmc+LFxuICBwaW5zPzogeyB1cmxzPzogQXJyYXk8c3RyaW5nPiwgY2xhaW1JZHM/OiBBcnJheTxzdHJpbmc+LCBvbmx5UGluRm9yT3JkZXI/OiBzdHJpbmcgfSxcbiAgbmFtZT86IHN0cmluZyxcbiAgdHlwZTogc3RyaW5nLFxuICBwYWdlU2l6ZT86IG51bWJlcixcblxuICBmZXRjaFZpZXdDb3VudD86IGJvb2xlYW4sXG4gIGhpZGVSZXBvc3RzT3ZlcnJpZGU/OiBib29sZWFuLCAvLyB1bmRlZmluZWQgPSB1c2UgU0VUVElOR1MuSElERV9SRVBPU1RTOyB0cnVlL2ZhbHNlOiB1c2UgdGhpcy5cbiAgaGFzTm9Tb3VyY2U/OiBib29sZWFuLFxuICBoYXNTb3VyY2U/OiBib29sZWFuLFxuICBoaWRlQWR2YW5jZWRGaWx0ZXI/OiBib29sZWFuLFxuICBoaWRlRmlsdGVycz86IGJvb2xlYW4sXG4gIGluY2x1ZGVTdXBwb3J0QWN0aW9uPzogYm9vbGVhbixcbiAgaW5maW5pdGVTY3JvbGw/OiBCb29sZWFuLFxuICBpc0NoYW5uZWw/OiBib29sZWFuLFxuICBwZXJzb25hbFZpZXc6IGJvb2xlYW4sXG4gIHNob3dIZWFkZXI6IGJvb2xlYW4sXG4gIHNob3dIaWRkZW5CeVVzZXI/OiBib29sZWFuLFxuICBzaG93Tm9Tb3VyY2VDbGFpbXM/OiBib29sZWFuLFxuICB0aWxlTGF5b3V0OiBib29sZWFuLFxuICBzZWFyY2hMYW5ndWFnZXM/OiBBcnJheTxzdHJpbmc+LFxuICBpZ25vcmVTZWFyY2hJbkxhbmd1YWdlPzogYm9vbGVhbiwgLy8gTmVnYXRlIHRoZSByZWR1eCBzZXR0aW5nIHdoZXJlIGl0IGRvZXNuJ3QgbWFrZSBzZW5zZS5cblxuICBvcmRlckJ5PzogQXJyYXk8c3RyaW5nPiwgLy8gVHJlbmRpbmcsIE5ldywgVG9wXG4gIGRlZmF1bHRPcmRlckJ5Pzogc3RyaW5nLFxuICBzb3J0Qnk/OiBBcnJheTxzdHJpbmc+LCAvLyBOZXdlc3QgRmlyc3QsIE9sZGVzdCBGaXJzdFxuICBmcmVzaG5lc3M/OiBzdHJpbmcsXG4gIGRlZmF1bHRGcmVzaG5lc3M/OiBzdHJpbmcsXG5cbiAgdGFnczogc3RyaW5nLCAvLyB0aGVzZSBhcmUganVzdCBnb2luZyB0byBiZSBzdHJpbmcuIHBhc3MgYSBDU1YgaWYgeW91IHdhbnQgbXVsdGlcbiAgbm90VGFncz86IEFycmF5PHN0cmluZz4sXG4gIGRlZmF1bHRUYWdzOiBzdHJpbmcsXG5cbiAgY2xhaW1UeXBlPzogc3RyaW5nIHwgQXJyYXk8c3RyaW5nPixcbiAgZGVmYXVsdENsYWltVHlwZT86IEFycmF5PHN0cmluZz4sXG5cbiAgc3RyZWFtVHlwZT86IHN0cmluZyB8IEFycmF5PHN0cmluZz4sXG4gIGRlZmF1bHRTdHJlYW1UeXBlPzogc3RyaW5nIHwgQXJyYXk8c3RyaW5nPixcblxuICBlbXB0eT86IHN0cmluZyxcbiAgZmVlQW1vdW50Pzogc3RyaW5nLFxuICByZWxlYXNlVGltZT86IHN0cmluZyxcbiAgcmVwb3N0ZWRDbGFpbUlkPzogc3RyaW5nLFxuICBzY3JvbGxBbmNob3I/OiBzdHJpbmcsXG4gIG1heFBhZ2VzPzogbnVtYmVyLFxuICBsaW1pdENsYWltc1BlckNoYW5uZWw/OiBudW1iZXIsXG5cbiAgY2hhbm5lbElkcz86IEFycmF5PHN0cmluZz4sXG4gIGV4Y2x1ZGVkQ2hhbm5lbElkcz86IEFycmF5PHN0cmluZz4sXG4gIGNsYWltSWRzPzogQXJyYXk8c3RyaW5nPixcbiAgc3Vic2NyaWJlZENoYW5uZWxzOiBBcnJheTxTdWJzY3JpcHRpb24+LFxuXG4gIGhlYWRlcj86IE5vZGUsXG4gIGhlYWRlckxhYmVsPzogc3RyaW5nIHwgTm9kZSxcbiAgaGlkZGVuTnNmd01lc3NhZ2U/OiBOb2RlLFxuICBpbmplY3RlZEl0ZW0/OiBMaXN0SW5qZWN0ZWRJdGVtLFxuICBtZXRhPzogTm9kZSxcbiAgc3ViU2VjdGlvbj86IE5vZGUsIC8vIEFkZGl0aW9uYWwgc2VjdGlvbiBiZWxvdyBbSGVhZGVyfE1ldGFdXG4gIHJlbmRlclByb3BlcnRpZXM/OiAoQ2xhaW0pID0+IE5vZGUsXG5cbiAgaGlzdG9yeTogeyBhY3Rpb246IHN0cmluZywgcHVzaDogKHN0cmluZykgPT4gdm9pZCwgcmVwbGFjZTogKHN0cmluZykgPT4gdm9pZCB9LFxuICBsb2NhdGlvbjogeyBzZWFyY2g6IHN0cmluZywgcGF0aG5hbWU6IHN0cmluZyB9LFxuXG4gIC8vIC0tLSBzZWxlY3QgLS0tXG4gIGZvbGxvd2VkVGFncz86IEFycmF5PFRhZz4sXG4gIGNsYWltU2VhcmNoQnlRdWVyeTogeyBbc3RyaW5nXTogQXJyYXk8c3RyaW5nPiB9LFxuICBjbGFpbVNlYXJjaEJ5UXVlcnlMYXN0UGFnZVJlYWNoZWQ6IHsgW3N0cmluZ106IGJvb2xlYW4gfSxcbiAgY2xhaW1zQnlVcmk6IHsgW3N0cmluZ106IGFueSB9LFxuICBjbGFpbXNCeUlkOiB7IFtzdHJpbmddOiBhbnkgfSxcbiAgbG9hZGluZzogYm9vbGVhbixcbiAgc2hvd05zZnc6IGJvb2xlYW4sXG4gIGhpZGVSZXBvc3RzOiBib29sZWFuLFxuICBsYW5ndWFnZVNldHRpbmc6IHN0cmluZyxcbiAgbXV0ZWRVcmlzOiBBcnJheTxzdHJpbmc+LFxuICBibG9ja2VkVXJpczogQXJyYXk8c3RyaW5nPixcbiAgc2VhcmNoSW5MYW5ndWFnZTogYm9vbGVhbixcblxuICAvLyAtLS0gcGVyZm9ybSAtLS1cbiAgZG9DbGFpbVNlYXJjaDogKHt9KSA9PiB2b2lkLFxuICBkb0ZldGNoVmlld0NvdW50OiAoY2xhaW1JZENzdjogc3RyaW5nKSA9PiB2b2lkLFxuICBkb0ZldGNoVXNlck1lbWJlcnNoaXBzOiAoY2xhaW1JZENzdjogc3RyaW5nKSA9PiB2b2lkLFxuICBkb1Jlc29sdmVDbGFpbUlkczogKEFycmF5PHN0cmluZz4pID0+IFByb21pc2U8YW55PixcbiAgZG9SZXNvbHZlVXJpczogKEFycmF5PHN0cmluZz4sIGJvb2xlYW4pID0+IFByb21pc2U8YW55PixcblxuICBoaWRlTGF5b3V0QnV0dG9uPzogYm9vbGVhbixcbiAgbG9hZGVkQ2FsbGJhY2s/OiAobnVtYmVyKSA9PiB2b2lkLFxuICBtYXhDbGFpbVJlbmRlcj86IG51bWJlcixcbiAgdXNlU2tlbGV0b25TY3JlZW4/OiBib29sZWFuLFxuICBleGNsdWRlVXJpcz86IEFycmF5PHN0cmluZz4sXG5cbiAgc3dpcGVMYXlvdXQ6IGJvb2xlYW4sXG59O1xuXG5mdW5jdGlvbiBDbGFpbUxpc3REaXNjb3Zlcihwcm9wczogUHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGRvQ2xhaW1TZWFyY2gsXG4gICAgY2xhaW1TZWFyY2hCeVF1ZXJ5LFxuICAgIHNob3dIZWFkZXIgPSB0cnVlLFxuICAgIHR5cGUsXG4gICAgY2xhaW1TZWFyY2hCeVF1ZXJ5TGFzdFBhZ2VSZWFjaGVkLFxuICAgIHRhZ3MsXG4gICAgbm90VGFncyxcbiAgICBkZWZhdWx0VGFncyxcbiAgICBsb2FkaW5nLFxuICAgIG1ldGEsXG4gICAgc3ViU2VjdGlvbixcbiAgICBjaGFubmVsSWRzLFxuICAgIGV4Y2x1ZGVkQ2hhbm5lbElkcyxcbiAgICBzaG93TnNmdyxcbiAgICBoaWRlUmVwb3N0cyxcbiAgICBmZXRjaFZpZXdDb3VudCxcbiAgICBoaXN0b3J5LFxuICAgIGxvY2F0aW9uLFxuICAgIG11dGVkVXJpcyxcbiAgICBibG9ja2VkVXJpcyxcbiAgICBoaWRkZW5Oc2Z3TWVzc2FnZSxcbiAgICBkZWZhdWx0T3JkZXJCeSxcbiAgICBzb3J0QnksXG4gICAgb3JkZXJCeSxcbiAgICBoZWFkZXJMYWJlbCxcbiAgICBoZWFkZXIsXG4gICAgbmFtZSxcbiAgICBjbGFpbVR5cGUsXG4gICAgZGVmYXVsdENsYWltVHlwZSxcbiAgICBzdHJlYW1UeXBlLFxuICAgIGRlZmF1bHRTdHJlYW1UeXBlLFxuICAgIGZyZXNobmVzcyxcbiAgICBkZWZhdWx0RnJlc2huZXNzID0gQ1MuRlJFU0hfV0VFSyxcbiAgICByZW5kZXJQcm9wZXJ0aWVzLFxuICAgIGluY2x1ZGVTdXBwb3J0QWN0aW9uLFxuICAgIHJlcG9zdGVkQ2xhaW1JZCxcbiAgICBoaWRlQWR2YW5jZWRGaWx0ZXIsXG4gICAgaW5maW5pdGVTY3JvbGwgPSB0cnVlLFxuICAgIGZvbGxvd2VkVGFncyxcbiAgICBpbmplY3RlZEl0ZW0sXG4gICAgZmVlQW1vdW50LFxuICAgIHVyaXMsXG4gICAgcHJlZml4VXJpcyxcbiAgICBwaW5zLFxuICAgIHRpbGVMYXlvdXQsXG4gICAgaGlkZUZpbHRlcnMgPSBmYWxzZSxcbiAgICBjbGFpbUlkcyxcbiAgICBtYXhQYWdlcyxcbiAgICBoaWRlUmVwb3N0c092ZXJyaWRlLFxuICAgIGxhbmd1YWdlU2V0dGluZyxcbiAgICBzZWFyY2hMYW5ndWFnZXMsXG4gICAgc2VhcmNoSW5MYW5ndWFnZSxcbiAgICBpZ25vcmVTZWFyY2hJbkxhbmd1YWdlLFxuICAgIGxpbWl0Q2xhaW1zUGVyQ2hhbm5lbCxcbiAgICByZWxlYXNlVGltZSxcbiAgICBzY3JvbGxBbmNob3IsXG4gICAgc2hvd0hpZGRlbkJ5VXNlciA9IGZhbHNlLFxuICAgIGhhc1NvdXJjZSxcbiAgICBoYXNOb1NvdXJjZSxcbiAgICBpc0NoYW5uZWwgPSBmYWxzZSxcbiAgICBzaG93Tm9Tb3VyY2VDbGFpbXMsXG4gICAgZW1wdHksXG4gICAgY2xhaW1zQnlVcmksXG4gICAgY2xhaW1zQnlJZCxcbiAgICBkb0ZldGNoVmlld0NvdW50LFxuICAgIGhpZGVMYXlvdXRCdXR0b24gPSBmYWxzZSxcbiAgICBsb2FkZWRDYWxsYmFjayxcbiAgICBtYXhDbGFpbVJlbmRlcixcbiAgICB1c2VTa2VsZXRvblNjcmVlbiA9IHRydWUsXG4gICAgZXhjbHVkZVVyaXMgPSBbXSxcbiAgICBkb0ZldGNoVXNlck1lbWJlcnNoaXBzLFxuICAgIHN3aXBlTGF5b3V0ID0gZmFsc2UsXG4gICAgZG9SZXNvbHZlVXJpcyxcbiAgICBkb1Jlc29sdmVDbGFpbUlkcyxcbiAgfSA9IHByb3BzO1xuXG4gIGNvbnN0IHJlc29sdmVkUGluVXJpcyA9IHVzZVJlc29sdmVQaW5zKHsgcGlucywgY2xhaW1zQnlJZCwgZG9SZXNvbHZlQ2xhaW1JZHMsIGRvUmVzb2x2ZVVyaXMgfSk7XG4gIGNvbnN0IGRpZE5hdmlnYXRlRm9yd2FyZCA9IGhpc3RvcnkuYWN0aW9uID09PSAnUFVTSCc7XG4gIGNvbnN0IHsgc2VhcmNoIH0gPSBsb2NhdGlvbjtcbiAgY29uc3QgcHJldlVyaXMgPSBSZWFjdC51c2VSZWYoKTtcbiAgY29uc3QgW3BhZ2UsIHNldFBhZ2VdID0gUmVhY3QudXNlU3RhdGUoMSk7XG4gIGNvbnN0IFtmb3JjZVJlZnJlc2gsIHNldEZvcmNlUmVmcmVzaF0gPSBSZWFjdC51c2VTdGF0ZSgpO1xuICBjb25zdCBpc0xhcmdlU2NyZWVuID0gdXNlSXNMYXJnZVNjcmVlbigpO1xuICBjb25zdCBmb2xsb3dlZCA9IChmb2xsb3dlZFRhZ3MgJiYgZm9sbG93ZWRUYWdzLm1hcCgodCkgPT4gdC5uYW1lKSkgfHwgW107XG4gIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoc2VhcmNoKTtcbiAgY29uc3QgdGFnc1BhcmFtID0gLy8gY2FuIGJlICd4LHkseicgb3IgJ3gnIG9yIFsneCcsJ3knXSBvciBDUy5DT05TVEFOVFxuICAgICh0YWdzICYmIGdldFBhcmFtRnJvbVRhZ3ModGFncykpIHx8XG4gICAgKHVybFBhcmFtcy5nZXQoQ1MuVEFHU19LRVkpICE9PSBudWxsICYmIHVybFBhcmFtcy5nZXQoQ1MuVEFHU19LRVkpKSB8fFxuICAgIChkZWZhdWx0VGFncyAmJiBnZXRQYXJhbUZyb21UYWdzKGRlZmF1bHRUYWdzKSk7XG4gIGNvbnN0IGZyZXNobmVzc1BhcmFtID0gZnJlc2huZXNzIHx8IHVybFBhcmFtcy5nZXQoQ1MuRlJFU0hfS0VZKSB8fCBkZWZhdWx0RnJlc2huZXNzO1xuICBjb25zdCBzb3J0QnlQYXJhbSA9IHNvcnRCeSB8fCB1cmxQYXJhbXMuZ2V0KENTLlNPUlRfQllfS0VZKSB8fCBDUy5TT1JUX0JZLk5FV0VTVC5rZXk7XG4gIGNvbnN0IG11dGVkQW5kQmxvY2tlZENoYW5uZWxJZHMgPSBBcnJheS5mcm9tKFxuICAgIG5ldyBTZXQobXV0ZWRVcmlzLmNvbmNhdChibG9ja2VkVXJpcykubWFwKCh1cmkpID0+IHNwbGl0QnlTZXBhcmF0b3IodXJpKVsxXSkpXG4gICk7XG4gIGNvbnN0IFtoaWRkZW5CdWZmZXIsIHNldEhpZGRlbkJ1ZmZlcl0gPSBSZWFjdC51c2VTdGF0ZShbXSk7XG4gIGNvbnN0IGhpZGVSZXBvc3RzRWZmZWN0aXZlID0gcmVzb2x2ZUhpZGVSZXBvc3RzKGhpZGVSZXBvc3RzLCBoaWRlUmVwb3N0c092ZXJyaWRlKTtcblxuICBjb25zdCBsYW5nUGFyYW0gPSB1cmxQYXJhbXMuZ2V0KENTLkxBTkdVQUdFX0tFWSkgfHwgbnVsbDtcbiAgY29uc3Qgc2VhcmNoSW5TZWxlY3RlZExhbmcgPSBzZWFyY2hJbkxhbmd1YWdlICYmICFpZ25vcmVTZWFyY2hJbkxhbmd1YWdlO1xuICBjb25zdCBsYW5ndWFnZVBhcmFtcyA9IHJlc29sdmVMYW5nRm9yQ2xhaW1TZWFyY2gobGFuZ3VhZ2VTZXR0aW5nLCBzZWFyY2hJblNlbGVjdGVkTGFuZywgc2VhcmNoTGFuZ3VhZ2VzLCBsYW5nUGFyYW0pO1xuXG4gIGxldCBjbGFpbVR5cGVQYXJhbSA9IGNsYWltVHlwZSB8fCBkZWZhdWx0Q2xhaW1UeXBlIHx8IG51bGw7XG4gIGxldCBzdHJlYW1UeXBlUGFyYW0gPSBzdHJlYW1UeXBlIHx8IGRlZmF1bHRTdHJlYW1UeXBlIHx8IG51bGw7XG5cbiAgY29uc3QgY29udGVudFR5cGVQYXJhbSA9IHVybFBhcmFtcy5nZXQoQ1MuQ09OVEVOVF9LRVkpO1xuICBpZiAoY29udGVudFR5cGVQYXJhbSkge1xuICAgIHN3aXRjaCAoY29udGVudFR5cGVQYXJhbSkge1xuICAgICAgY2FzZSBDUy5DTEFJTV9DT0xMRUNUSU9OOlxuICAgICAgICBjbGFpbVR5cGVQYXJhbSA9IGNvbnRlbnRUeXBlUGFyYW07XG4gICAgICAgIHN0cmVhbVR5cGVQYXJhbSA9IHVuZGVmaW5lZDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENTLkNMQUlNX1JFUE9TVDpcbiAgICAgICAgY2xhaW1UeXBlUGFyYW0gPSBjb250ZW50VHlwZVBhcmFtO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBDUy5DTEFJTV9DSEFOTkVMOlxuICAgICAgICBjbGFpbVR5cGVQYXJhbSA9IENTLkNMQUlNX0NIQU5ORUw7XG4gICAgICAgIHN0cmVhbVR5cGVQYXJhbSA9IHVuZGVmaW5lZDtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgQ1MuRklMRV9WSURFTzpcbiAgICAgIGNhc2UgQ1MuRklMRV9BVURJTzpcbiAgICAgIGNhc2UgQ1MuRklMRV9JTUFHRTpcbiAgICAgIGNhc2UgQ1MuRklMRV9NT0RFTDpcbiAgICAgIGNhc2UgQ1MuRklMRV9CSU5BUlk6XG4gICAgICBjYXNlIENTLkZJTEVfRE9DVU1FTlQ6XG4gICAgICAgIHN0cmVhbVR5cGVQYXJhbSA9IGNvbnRlbnRUeXBlUGFyYW07XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIENTLkNPTlRFTlRfQUxMOlxuICAgICAgICBjbGFpbVR5cGVQYXJhbSA9IHVuZGVmaW5lZDtcbiAgICAgICAgc3RyZWFtVHlwZVBhcmFtID0gdW5kZWZpbmVkO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5sb2coJ0ludmFsaWQgb3IgdW5oYW5kbGVkIENPTlRFTlRfS0VZOicsIGNvbnRlbnRUeXBlUGFyYW0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZHVyYXRpb25QYXJhbSA9IHVzZVBlcnNpc3RlbnRVc2VyUGFyYW0oW3VybFBhcmFtcy5nZXQoQ1MuRFVSQVRJT05fS0VZKSB8fCBDUy5EVVJBVElPTl9BTExdLCAnZHVyVXNlcicsIG51bGwpO1xuICBjb25zdCBbZHVyYXRpb25NaW51dGVzXSA9IHVzZVBlcnNpc3RlZFN0YXRlKGBkdXJVc2VyTWludXRlcy0ke2xvY2F0aW9uLnBhdGhuYW1lfWAsIDUpO1xuICBjb25zdCBjaGFubmVsSWRzSW5VcmwgPSB1cmxQYXJhbXMuZ2V0KENTLkNIQU5ORUxfSURTX0tFWSk7XG4gIGNvbnN0IGNoYW5uZWxJZHNQYXJhbSA9IGNoYW5uZWxJZHNJblVybCA/IGNoYW5uZWxJZHNJblVybC5zcGxpdCgnLCcpIDogY2hhbm5lbElkcztcbiAgY29uc3QgZXhjbHVkZWRJZHNQYXJhbSA9IGV4Y2x1ZGVkQ2hhbm5lbElkcztcbiAgY29uc3QgZmVlQW1vdW50UGFyYW0gPSB1cmxQYXJhbXMuZ2V0KCdmZWVfYW1vdW50JykgfHwgZmVlQW1vdW50O1xuICBjb25zdCBvcmlnaW5hbFBhZ2VTaXplID0gMTI7XG4gIGNvbnN0IGR5bmFtaWNQYWdlU2l6ZSA9IGlzTGFyZ2VTY3JlZW4gPyBNYXRoLmNlaWwoKG9yaWdpbmFsUGFnZVNpemUgLyAyKSAqIDYpIDogTWF0aC5jZWlsKChvcmlnaW5hbFBhZ2VTaXplIC8gMikgKiA0KTtcbiAgY29uc3Qgb3JkZXJQYXJhbSA9IHVzZVBlcnNpc3RlbnRVc2VyUGFyYW0oXG4gICAgW29yZGVyQnksIHVybFBhcmFtcy5nZXQoQ1MuT1JERVJfQllfS0VZKSwgZGVmYXVsdE9yZGVyQnldLFxuICAgICdvcmRlclVzZXInLFxuICAgIENTLk9SREVSX0JZX1RSRU5ESU5HXG4gICk7XG5cbiAgbGV0IG9wdGlvbnM6IHtcbiAgICBwYWdlX3NpemU6IG51bWJlcixcbiAgICBwYWdlOiBudW1iZXIsXG4gICAgbm9fdG90YWxzOiBib29sZWFuLFxuICAgIGFueV90YWdzPzogQXJyYXk8c3RyaW5nPixcbiAgICBhbnlfbGFuZ3VhZ2VzPzogQXJyYXk8c3RyaW5nPixcbiAgICBub3RfdGFnczogQXJyYXk8c3RyaW5nPixcbiAgICBjaGFubmVsX2lkcz86IEFycmF5PHN0cmluZz4sXG4gICAgY2xhaW1faWRzPzogQXJyYXk8c3RyaW5nPixcbiAgICBub3RfY2hhbm5lbF9pZHM/OiBBcnJheTxzdHJpbmc+LFxuICAgIG9yZGVyX2J5OiBBcnJheTxzdHJpbmc+LFxuICAgIHJlbGVhc2VfdGltZT86IHN0cmluZyxcbiAgICBjbGFpbV90eXBlPzogc3RyaW5nIHwgQXJyYXk8c3RyaW5nPixcbiAgICBuYW1lPzogc3RyaW5nLFxuICAgIGR1cmF0aW9uPzogc3RyaW5nLFxuICAgIHJlcG9zdGVkX2NsYWltX2lkPzogc3RyaW5nLFxuICAgIHN0cmVhbV90eXBlcz86IGFueSxcbiAgICBmZWVfYW1vdW50Pzogc3RyaW5nLFxuICAgIGhhc19zb3VyY2U/OiBib29sZWFuLFxuICAgIGhhc19ub19zb3VyY2U/OiBib29sZWFuLFxuICAgIGxpbWl0X2NsYWltc19wZXJfY2hhbm5lbD86IG51bWJlcixcbiAgICByZW1vdmVfZHVwbGljYXRlcz86IGJvb2xlYW4sXG4gIH0gPSB7XG4gICAgcGFnZV9zaXplOiBkeW5hbWljUGFnZVNpemUsXG4gICAgcGFnZSxcbiAgICBuYW1lLFxuICAgIGNsYWltX3R5cGU6IGNsYWltVHlwZSB8fCBbJ3N0cmVhbScsICdyZXBvc3QnLCAnY2hhbm5lbCddLFxuICAgIC8vIG5vX3RvdGFscyBtYWtlcyBpdCBzbyB0aGUgc2RrIGRvZXNuJ3QgaGF2ZSB0byBjYWxjdWxhdGUgdG90YWwgbnVtYmVyIHBhZ2VzIGZvciBwYWdpbmF0aW9uXG4gICAgLy8gaXQncyBmYXN0ZXIsIGJ1dCB3ZSB3aWxsIG5lZWQgdG8gcmVtb3ZlIGl0IGlmIHdlIHN0YXJ0IHVzaW5nIHRvdGFsX3BhZ2VzXG4gICAgbm9fdG90YWxzOiB0cnVlLFxuICAgIG5vdF9jaGFubmVsX2lkczogaXNDaGFubmVsID8gdW5kZWZpbmVkIDogbXV0ZWRBbmRCbG9ja2VkQ2hhbm5lbElkcyxcbiAgICBub3RfdGFnczogIXNob3dOc2Z3ID8gTUFUVVJFX1RBR1MgOiBbXSxcbiAgICBvcmRlcl9ieTogcmVzb2x2ZU9yZGVyQnlPcHRpb24ob3JkZXJQYXJhbSwgc29ydEJ5UGFyYW0pLFxuICAgIHJlbW92ZV9kdXBsaWNhdGVzOiBpc0NoYW5uZWwgPyB1bmRlZmluZWQgOiB0cnVlLFxuICB9O1xuXG4gIGlmIChFTkFCTEVfTk9fU09VUkNFX0NMQUlNUyAmJiBoYXNOb1NvdXJjZSkge1xuICAgIG9wdGlvbnMuaGFzX25vX3NvdXJjZSA9IHRydWU7XG4gIH0gZWxzZSBpZiAoaGFzU291cmNlIHx8ICghRU5BQkxFX05PX1NPVVJDRV9DTEFJTVMgJiYgKCFjbGFpbVR5cGUgfHwgY2xhaW1UeXBlID09PSAnc3RyZWFtJykpKSB7XG4gICAgb3B0aW9ucy5oYXNfc291cmNlID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChsaW1pdENsYWltc1BlckNoYW5uZWwpIHtcbiAgICBvcHRpb25zLmxpbWl0X2NsYWltc19wZXJfY2hhbm5lbCA9IGxpbWl0Q2xhaW1zUGVyQ2hhbm5lbDtcbiAgfVxuXG4gIGlmIChmZWVBbW91bnRQYXJhbSAmJiBjbGFpbVR5cGUgIT09IENTLkNMQUlNX0NIQU5ORUwpIHtcbiAgICBvcHRpb25zLmZlZV9hbW91bnQgPSBmZWVBbW91bnRQYXJhbTtcbiAgfVxuXG4gIGlmIChjbGFpbUlkcykge1xuICAgIG9wdGlvbnMuY2xhaW1faWRzID0gY2xhaW1JZHM7XG4gIH1cblxuICBpZiAoY2hhbm5lbElkc1BhcmFtKSB7XG4gICAgb3B0aW9ucy5jaGFubmVsX2lkcyA9IGNoYW5uZWxJZHNQYXJhbTtcbiAgfVxuXG4gIGlmIChleGNsdWRlZElkc1BhcmFtKSB7XG4gICAgb3B0aW9ucy5ub3RfY2hhbm5lbF9pZHMgPSAob3B0aW9ucy5ub3RfY2hhbm5lbF9pZHMgfHwgW10pLmNvbmNhdChleGNsdWRlZElkc1BhcmFtKTtcbiAgfVxuXG4gIGlmICh0YWdzUGFyYW0pIHtcbiAgICBpZiAodGFnc1BhcmFtICE9PSBDUy5UQUdTX0FMTCAmJiB0YWdzUGFyYW0gIT09ICcnKSB7XG4gICAgICBpZiAodGFnc1BhcmFtID09PSBDUy5UQUdTX0ZPTExPV0VEKSB7XG4gICAgICAgIG9wdGlvbnMuYW55X3RhZ3MgPSBmb2xsb3dlZDtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0YWdzUGFyYW0pKSB7XG4gICAgICAgIG9wdGlvbnMuYW55X3RhZ3MgPSB0YWdzUGFyYW07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb25zLmFueV90YWdzID0gdGFnc1BhcmFtLnNwbGl0KCcsJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKG5vdFRhZ3MpIHtcbiAgICBvcHRpb25zLm5vdF90YWdzID0gb3B0aW9ucy5ub3RfdGFncy5jb25jYXQobm90VGFncyk7XG4gIH1cblxuICBpZiAocmVwb3N0ZWRDbGFpbUlkKSB7XG4gICAgLy8gU0RLIGNob2tlcyBvbiByZXBvc3RlZF9jbGFpbV9pZCBvZiBudWxsIG9yIGZhbHNlLCBuZWVkcyB0byBub3QgYmUgcHJlc2VudCBpZiBubyB2YWx1ZVxuICAgIG9wdGlvbnMucmVwb3N0ZWRfY2xhaW1faWQgPSByZXBvc3RlZENsYWltSWQ7XG4gIH1cbiAgLy8gSUYgcmVsZWFzZSB0aW1lLCBzZXQgaXQsIGVsc2Ugc2V0IGZhbGxiYWNrIHJlbGVhc2UgdGltZXMgdXNpbmcgdGhlIGhhY2sgYmVsb3cuXG4gIGlmIChyZWxlYXNlVGltZSAmJiBjbGFpbVR5cGVQYXJhbSAhPT0gQ1MuQ0xBSU1fQ0hBTk5FTCkge1xuICAgIG9wdGlvbnMucmVsZWFzZV90aW1lID0gcmVsZWFzZVRpbWU7XG4gIH0gZWxzZSBpZiAoY2xhaW1UeXBlUGFyYW0gIT09IENTLkNMQUlNX0NIQU5ORUwpIHtcbiAgICBpZiAob3JkZXJQYXJhbSA9PT0gQ1MuT1JERVJfQllfVE9QICYmIGZyZXNobmVzc1BhcmFtICE9PSBDUy5GUkVTSF9BTEwpIHtcbiAgICAgIG9wdGlvbnMucmVsZWFzZV90aW1lID0gYD4ke01hdGguZmxvb3IobW9tZW50KCkuc3VidHJhY3QoMSwgZnJlc2huZXNzUGFyYW0pLnN0YXJ0T2YoJ2hvdXInKS51bml4KCkpfWA7XG4gICAgfSBlbHNlIGlmIChvcmRlclBhcmFtID09PSBDUy5PUkRFUl9CWV9ORVcgfHwgb3JkZXJQYXJhbSA9PT0gQ1MuT1JERVJfQllfVFJFTkRJTkcpIHtcbiAgICAgIC8vIFdhcm5pbmcgLSBoYWNrIGJlbG93XG4gICAgICAvLyBJZiB1c2VycyBhcmUgZm9sbG93aW5nIG1vcmUgdGhhbiAxMCBjaGFubmVscyBvciB0YWdzLCBsaW1pdCByZXN1bHRzIHRvIHN0dWZmIGxlc3MgdGhhbiBhIHllYXIgb2xkXG4gICAgICAvLyBGb3IgbW9yZSB0aGFuIDIwLCBkcm9wIGl0IGRvd24gdG8gNiBtb250aHNcbiAgICAgIC8vIFRoaXMgaGVscHMgd2l0aCB0aW1lb3V0IGlzc3VlcyBmb3IgdXNlcnMgdGhhdCBhcmUgZm9sbG93aW5nIGEgdG9uIG9mIHN0dWZmXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbGJyeWlvL2xicnktc2RrL2lzc3Vlcy8yNDIwXG4gICAgICBpZiAoXG4gICAgICAgIChvcHRpb25zLmNoYW5uZWxfaWRzICYmIG9wdGlvbnMuY2hhbm5lbF9pZHMubGVuZ3RoID4gMjApIHx8XG4gICAgICAgIChvcHRpb25zLmFueV90YWdzICYmIG9wdGlvbnMuYW55X3RhZ3MubGVuZ3RoID4gMjApXG4gICAgICApIHtcbiAgICAgICAgb3B0aW9ucy5yZWxlYXNlX3RpbWUgPSBgPiR7TWF0aC5mbG9vcihtb21lbnQoKS5zdWJ0cmFjdCgzLCBDUy5GUkVTSF9NT05USCkuc3RhcnRPZignd2VlaycpLnVuaXgoKSl9YDtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIChvcHRpb25zLmNoYW5uZWxfaWRzICYmIG9wdGlvbnMuY2hhbm5lbF9pZHMubGVuZ3RoID4gMTApIHx8XG4gICAgICAgIChvcHRpb25zLmFueV90YWdzICYmIG9wdGlvbnMuYW55X3RhZ3MubGVuZ3RoID4gMTApXG4gICAgICApIHtcbiAgICAgICAgb3B0aW9ucy5yZWxlYXNlX3RpbWUgPSBgPiR7TWF0aC5mbG9vcihtb21lbnQoKS5zdWJ0cmFjdCgxLCBDUy5GUkVTSF9ZRUFSKS5zdGFydE9mKCd3ZWVrJykudW5peCgpKX1gO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSGFjayBmb3IgYXQgbGVhc3QgdGhlIE5ldyBwYWdlIHVudGlsIGh0dHBzOi8vZ2l0aHViLmNvbS9sYnJ5aW8vbGJyeS1zZGsvaXNzdWVzLzI1OTEgaXMgZml4ZWRcbiAgICAgICAgb3B0aW9ucy5yZWxlYXNlX3RpbWUgPSBgPCR7TWF0aC5mbG9vcihtb21lbnQoKS5zdGFydE9mKCdtaW51dGUnKS51bml4KCkpfWA7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGR1cmF0aW9uUGFyYW0pIHtcbiAgICBzd2l0Y2ggKGR1cmF0aW9uUGFyYW0pIHtcbiAgICAgIGNhc2UgQ1MuRFVSQVRJT05fQUxMOlxuICAgICAgICAvLyBEbyBub3RoaW5nIChubyBvcHRpb25zIG5lZWRlZClcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENTLkRVUkFUSU9OX1NIT1JUOlxuICAgICAgICBvcHRpb25zLmR1cmF0aW9uID0gJzw9MjQwJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENTLkRVUkFUSU9OX0xPTkc6XG4gICAgICAgIG9wdGlvbnMuZHVyYXRpb24gPSAnPj0xMjAwJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENTLkRVUkFUSU9OX0dUX0VROlxuICAgICAgICBvcHRpb25zLmR1cmF0aW9uID0gYD49JHsoZHVyYXRpb25NaW51dGVzIHx8IDApICogNjB9YDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENTLkRVUkFUSU9OX0xUX0VROlxuICAgICAgICBvcHRpb25zLmR1cmF0aW9uID0gYDw9JHsoZHVyYXRpb25NaW51dGVzIHx8IDApICogNjB9YDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb25zb2xlLmVycm9yKCdVbmhhbmRsZWQgZHVyYXRpb246ICcgKyBkdXJhdGlvblBhcmFtKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKHN0cmVhbVR5cGVQYXJhbSAmJiBzdHJlYW1UeXBlUGFyYW0gIT09IENTLkNPTlRFTlRfQUxMICYmIGNsYWltVHlwZSAhPT0gQ1MuQ0xBSU1fQ0hBTk5FTCkge1xuICAgIG9wdGlvbnMuc3RyZWFtX3R5cGVzID0gdHlwZW9mIHN0cmVhbVR5cGVQYXJhbSA9PT0gJ3N0cmluZycgPyBbc3RyZWFtVHlwZVBhcmFtXSA6IHN0cmVhbVR5cGVQYXJhbTtcbiAgfVxuXG4gIGlmIChjbGFpbVR5cGVQYXJhbSkge1xuICAgIGlmIChjbGFpbVR5cGVQYXJhbSAhPT0gQ1MuQ09OVEVOVF9BTEwpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGNsYWltVHlwZVBhcmFtKSkge1xuICAgICAgICBvcHRpb25zLmNsYWltX3R5cGUgPSBjbGFpbVR5cGVQYXJhbTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbnMuY2xhaW1fdHlwZSA9IFtjbGFpbVR5cGVQYXJhbV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGxhbmd1YWdlUGFyYW1zKSB7XG4gICAgaWYgKGxhbmd1YWdlUGFyYW1zICE9PSBDUy5MQU5HVUFHRVNfQUxMKSB7XG4gICAgICBvcHRpb25zLmFueV9sYW5ndWFnZXMgPSBsYW5ndWFnZVBhcmFtcy5zcGxpdCgnLCcpO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0YWdzUGFyYW0pIHtcbiAgICBpZiAodGFnc1BhcmFtICE9PSBDUy5UQUdTX0FMTCAmJiB0YWdzUGFyYW0gIT09ICcnKSB7XG4gICAgICBpZiAodGFnc1BhcmFtID09PSBDUy5UQUdTX0ZPTExPV0VEKSB7XG4gICAgICAgIG9wdGlvbnMuYW55X3RhZ3MgPSBmb2xsb3dlZDtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0YWdzUGFyYW0pKSB7XG4gICAgICAgIG9wdGlvbnMuYW55X3RhZ3MgPSB0YWdzUGFyYW07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb25zLmFueV90YWdzID0gdGFnc1BhcmFtLnNwbGl0KCcsJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGhpZGVSZXBvc3RzRWZmZWN0aXZlICYmICFvcHRpb25zLnJlcG9zdGVkX2NsYWltX2lkKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucy5jbGFpbV90eXBlKSkge1xuICAgICAgaWYgKG9wdGlvbnMuY2xhaW1fdHlwZS5sZW5ndGggPiAxKSB7XG4gICAgICAgIG9wdGlvbnMuY2xhaW1fdHlwZSA9IG9wdGlvbnMuY2xhaW1fdHlwZS5maWx0ZXIoKGNsYWltVHlwZSkgPT4gY2xhaW1UeXBlICE9PSAncmVwb3N0Jyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdGlvbnMuY2xhaW1fdHlwZSA9IFsnc3RyZWFtJywgJ2NoYW5uZWwnXTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBoYXNNYXR1cmVUYWdzID0gdGFnc1BhcmFtICYmIHRhZ3NQYXJhbS5zcGxpdCgnLCcpLnNvbWUoKHQpID0+IE1BVFVSRV9UQUdTLmluY2x1ZGVzKHQpKTtcblxuICBjb25zdCBzZWFyY2hLZXkgPSBjcmVhdGVOb3JtYWxpemVkQ2xhaW1TZWFyY2hLZXkob3B0aW9ucyk7XG4gIGNvbnN0IGNsYWltU2VhcmNoUmVzdWx0ID0gY2xhaW1TZWFyY2hCeVF1ZXJ5W3NlYXJjaEtleV07XG4gIGNvbnN0IGNsYWltU2VhcmNoUmVzdWx0TGFzdFBhZ2VSZWFjaGVkID0gY2xhaW1TZWFyY2hCeVF1ZXJ5TGFzdFBhZ2VSZWFjaGVkW3NlYXJjaEtleV07XG4gIGNvbnN0IGlzVW5mZXRjaGVkQ2xhaW1TZWFyY2ggPSBjbGFpbVNlYXJjaFJlc3VsdCA9PT0gdW5kZWZpbmVkO1xuXG4gIC8vIHVuY29tbWVudCB0byBmaXggYW4gaXRlbSBvbiBhIHBhZ2VcbiAgLy8gICBjb25zdCBmaXhVcmkgPSAnbGJyeTovL0Bjb3JiZXR0cmVwb3J0IzAvbGJyeW9keXNlZSM1JztcbiAgLy8gICBpZiAoXG4gIC8vICAgICBvcmRlclBhcmFtID09PSBDUy5PUkRFUl9CWV9ORVcgJiZcbiAgLy8gICAgIGNsYWltU2VhcmNoUmVzdWx0ICYmXG4gIC8vICAgICBjbGFpbVNlYXJjaFJlc3VsdC5sZW5ndGggPiAyICYmXG4gIC8vICAgICB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT09ICcvJC9yYWJiaXRob2xlJ1xuICAvLyAgICkge1xuICAvLyAgICAgaWYgKGNsYWltU2VhcmNoUmVzdWx0LmluZGV4T2YoZml4VXJpKSAhPT0gLTEpIHtcbiAgLy8gICAgICAgY2xhaW1TZWFyY2hSZXN1bHQuc3BsaWNlKGNsYWltU2VhcmNoUmVzdWx0LmluZGV4T2YoZml4VXJpKSwgMSk7XG4gIC8vICAgICB9IGVsc2Uge1xuICAvLyAgICAgICBjbGFpbVNlYXJjaFJlc3VsdC5wb3AoKTtcbiAgLy8gICAgIH1cbiAgLy8gICAgIGNsYWltU2VhcmNoUmVzdWx0LnNwbGljZSgyLCAwLCBmaXhVcmkpO1xuICAvLyAgIH1cblxuICBjb25zdCBbcHJldk9wdGlvbnMsIHNldFByZXZPcHRpb25zXSA9IFJlYWN0LnVzZVN0YXRlKG51bGwpO1xuXG4gIGlmICghaXNKdXN0U2Nyb2xsaW5nVG9OZXdQYWdlKHByZXZPcHRpb25zLCBvcHRpb25zKSkge1xuICAgIC8vIC0tLSBOZXcgc2VhcmNoLCBvciBzZWFyY2ggb3B0aW9ucyBjaGFuZ2VkLlxuICAgIHNldFByZXZPcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgaWYgKGRpZE5hdmlnYXRlRm9yd2FyZCkge1xuICAgICAgLy8gLS0tIFJlc2V0IHRoZSBwYWdlLlxuICAgICAgb3B0aW9ucy5wYWdlID0gMTtcbiAgICAgIHNldFBhZ2Uob3B0aW9ucy5wYWdlKTtcbiAgICB9IGVsc2UgaWYgKGNsYWltU2VhcmNoUmVzdWx0KSB7XG4gICAgICAvLyAtLS0gVXBkYXRlICdwYWdlJyBiYXNlZCBvbiByZXRyaWV2ZWQgJ2NsYWltU2VhcmNoUmVzdWx0Jy5cbiAgICAgIG9wdGlvbnMucGFnZSA9IE1hdGguY2VpbChjbGFpbVNlYXJjaFJlc3VsdC5sZW5ndGggLyBkeW5hbWljUGFnZVNpemUpO1xuICAgICAgaWYgKG9wdGlvbnMucGFnZSAhPT0gcGFnZSkge1xuICAgICAgICBzZXRQYWdlKG9wdGlvbnMucGFnZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc2hvdWxkUGVyZm9ybVNlYXJjaCA9XG4gICAgIXVyaXMgJiZcbiAgICAoY2xhaW1TZWFyY2hSZXN1bHQgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgZGlkTmF2aWdhdGVGb3J3YXJkIHx8XG4gICAgICAoIWxvYWRpbmcgJiZcbiAgICAgICAgIWNsYWltU2VhcmNoUmVzdWx0TGFzdFBhZ2VSZWFjaGVkICYmXG4gICAgICAgIGNsYWltU2VhcmNoUmVzdWx0ICYmXG4gICAgICAgIGNsYWltU2VhcmNoUmVzdWx0Lmxlbmd0aCAmJlxuICAgICAgICBjbGFpbVNlYXJjaFJlc3VsdC5sZW5ndGggPCBkeW5hbWljUGFnZVNpemUgKiBvcHRpb25zLnBhZ2UgJiZcbiAgICAgICAgY2xhaW1TZWFyY2hSZXN1bHQubGVuZ3RoICUgZHluYW1pY1BhZ2VTaXplID09PSAwKSk7XG5cbiAgLy8gRG9uJ3QgdXNlIHRoZSBxdWVyeSBmcm9tIGNyZWF0ZU5vcm1hbGl6ZWRDbGFpbVNlYXJjaEtleSBmb3IgdGhlIGVmZmVjdCBzaW5jZSB0aGF0IGRvZXNuJ3QgaW5jbHVkZSBwYWdlICYgcmVsZWFzZV90aW1lXG4gIGNvbnN0IG9wdGlvbnNTdHJpbmdGb3JFZmZlY3QgPSBKU09OLnN0cmluZ2lmeShvcHRpb25zKTtcblxuICBjb25zdCB0aW1lZE91dE1lc3NhZ2UgPSAoXG4gICAgPGRpdj5cbiAgICAgIDxwPlxuICAgICAgICA8STE4bk1lc3NhZ2VcbiAgICAgICAgICB0b2tlbnM9e3tcbiAgICAgICAgICAgIGFnYWluOiAoXG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBidXR0b249XCJsaW5rXCJcbiAgICAgICAgICAgICAgICBsYWJlbD17X18oJ3RyeSBhZ2FpbiBpbiBhIGZldyBzZWNvbmRzLicpfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEZvcmNlUmVmcmVzaChEYXRlLm5vdygpKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICksXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIFNvcnJ5LCB5b3VyIHJlcXVlc3QgdGltZWQgb3V0LiBNb2RpZnkgeW91ciBvcHRpb25zIG9yICVhZ2FpbiVcbiAgICAgICAgPC9JMThuTWVzc2FnZT5cbiAgICAgIDwvcD5cbiAgICAgIDxwPlxuICAgICAgICA8STE4bk1lc3NhZ2VcbiAgICAgICAgICB0b2tlbnM9e3tcbiAgICAgICAgICAgIGNvbnRhY3Rfc3VwcG9ydDogKFxuICAgICAgICAgICAgICA8QnV0dG9uIGJ1dHRvbj1cImxpbmtcIiBsYWJlbD17X18oJ2NvbnRhY3Qgc3VwcG9ydCcpfSBocmVmPVwiaHR0cHM6Ly9vZHlzZWUuY29tL0BPZHlzZWVIZWxwOmI/dmlldz1hYm91dFwiIC8+XG4gICAgICAgICAgICApLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICBJZiB5b3UgY29udGludWUgdG8gaGF2ZSBpc3N1ZXMsIHBsZWFzZSAlY29udGFjdF9zdXBwb3J0JS5cbiAgICAgICAgPC9JMThuTWVzc2FnZT5cbiAgICAgIDwvcD5cbiAgICA8L2Rpdj5cbiAgKTtcblxuICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gIGxldCBmaW5hbFVyaXM7XG5cbiAgaWYgKHVyaXMpIHtcbiAgICAvLyAtLS0gZGlyZWN0IHVyaXNcbiAgICBmaW5hbFVyaXMgPSB1cmlzO1xuICAgIGluamVjdFBpblVybHMoZmluYWxVcmlzLCBvcmRlclBhcmFtLCBwaW5zLCByZXNvbHZlZFBpblVyaXMpO1xuICAgIGZpbmFsVXJpcyA9IGZpbHRlckV4Y2x1ZGVkVXJpcyhmaW5hbFVyaXMsIGV4Y2x1ZGVVcmlzKTtcbiAgfSBlbHNlIHtcbiAgICAvLyAtLS0gc2VhcmNoZWQgdXJpc1xuICAgIGlmIChpc1VuZmV0Y2hlZENsYWltU2VhcmNoICYmIHByZXZVcmlzLmN1cnJlbnQpIHtcbiAgICAgIGZpbmFsVXJpcyA9IHByZXZVcmlzLmN1cnJlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpbmFsVXJpcyA9IGNsYWltU2VhcmNoUmVzdWx0O1xuICAgICAgaW5qZWN0UGluVXJscyhmaW5hbFVyaXMsIG9yZGVyUGFyYW0sIHBpbnMsIHJlc29sdmVkUGluVXJpcyk7XG4gICAgICBmaW5hbFVyaXMgPSBmaWx0ZXJFeGNsdWRlZFVyaXMoZmluYWxVcmlzLCBleGNsdWRlVXJpcyk7XG4gICAgICBwcmV2VXJpcy5jdXJyZW50ID0gZmluYWxVcmlzO1xuICAgIH1cbiAgfVxuXG4gIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gIC8vIEhlbHBlcnNcbiAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuICAvLyBSZXR1cm5zIHRydWUgaWYgdGhlIGNoYW5nZSBpbiAnb3B0aW9ucycgaW5kaWNhdGUgdGhhdCB3ZSBhcmUgc2ltcGx5IHNjcm9sbGluZ1xuICAvLyBkb3duIHRvIGEgbmV3IHBhZ2U7IGZhbHNlIG90aGVyd2lzZS5cbiAgZnVuY3Rpb24gaXNKdXN0U2Nyb2xsaW5nVG9OZXdQYWdlKHByZXZPcHRpb25zLCBvcHRpb25zKSB7XG4gICAgaWYgKCFwcmV2T3B0aW9ucykge1xuICAgICAgLy8gSXQncyBhIG5ldyBzZWFyY2gsIG9yIHdlIGp1c3QgcG9wcGVkIGJhY2sgZnJvbSBhIGRpZmZlcmVudCB2aWV3LlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIENvbXBhcmUgZXZlcnkgZmllbGQgZXhjZXB0IGZvciAncGFnZScgYW5kICdyZWxlYXNlX3RpbWUnLlxuICAgIC8vIFRoZXJlIG1pZ2h0IGJlIGJldHRlciB3YXlzIHRvIGFjaGlldmUgdGhpcy5cbiAgICBsZXQgdG1wUHJldk9wdGlvbnMgPSB7IC4uLnByZXZPcHRpb25zIH07XG4gICAgdG1wUHJldk9wdGlvbnMucGFnZSA9IC0xO1xuICAgIHRtcFByZXZPcHRpb25zLnJlbGVhc2VfdGltZSA9ICcnO1xuXG4gICAgbGV0IHRtcE9wdGlvbnMgPSB7IC4uLm9wdGlvbnMgfTtcbiAgICB0bXBPcHRpb25zLnBhZ2UgPSAtMTtcbiAgICB0bXBPcHRpb25zLnJlbGVhc2VfdGltZSA9ICcnO1xuXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRtcE9wdGlvbnMpID09PSBKU09OLnN0cmluZ2lmeSh0bXBQcmV2T3B0aW9ucyk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRQYXJhbUZyb21UYWdzKHQpIHtcbiAgICBpZiAodCA9PT0gQ1MuVEFHU19BTEwgfHwgdCA9PT0gQ1MuVEFHU19GT0xMT1dFRCkge1xuICAgICAgcmV0dXJuIHQ7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHQpKSB7XG4gICAgICByZXR1cm4gdC5qb2luKCcsJyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlU2Nyb2xsQm90dG9tKCkge1xuICAgIGlmIChtYXhQYWdlcyAhPT0gdW5kZWZpbmVkICYmIHBhZ2UgPT09IG1heFBhZ2VzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFsb2FkaW5nICYmIGluZmluaXRlU2Nyb2xsKSB7XG4gICAgICBpZiAoY2xhaW1TZWFyY2hSZXN1bHQgJiYgIWNsYWltU2VhcmNoUmVzdWx0TGFzdFBhZ2VSZWFjaGVkKSB7XG4gICAgICAgIHNldFBhZ2UocGFnZSArIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc29sdmVIaWRlUmVwb3N0cyhoaWRlUmVwb3N0U2V0dGluZywgaGlkZVJlcG9zdE92ZXJyaWRlKSB7XG4gICAgaWYgKGhpZGVSZXBvc3RPdmVycmlkZSA9PT0gdW5kZWZpbmVkIHx8IGhpZGVSZXBvc3RPdmVycmlkZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGhpZGVSZXBvc3RTZXR0aW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaGlkZVJlcG9zdE92ZXJyaWRlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc29sdmVPcmRlckJ5T3B0aW9uKG9yZGVyQnk6IHN0cmluZyB8IEFycmF5PHN0cmluZz4sIHNvcnRCeTogc3RyaW5nIHwgQXJyYXk8c3RyaW5nPikge1xuICAgIGxldCBvcmRlcl9ieTtcblxuICAgIHN3aXRjaCAob3JkZXJCeSkge1xuICAgICAgY2FzZSBDUy5PUkRFUl9CWV9UUkVORElORzpcbiAgICAgICAgb3JkZXJfYnkgPSBDUy5PUkRFUl9CWV9UUkVORElOR19WQUxVRTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENTLk9SREVSX0JZX05FVzpcbiAgICAgICAgb3JkZXJfYnkgPSBDUy5PUkRFUl9CWV9ORVdfVkFMVUU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDUy5PUkRFUl9CWV9ORVdfQVNDOlxuICAgICAgICBvcmRlcl9ieSA9IENTLk9SREVSX0JZX05FV19BU0NfVkFMVUU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDUy5PUkRFUl9CWV9OQU1FX0FTQzpcbiAgICAgICAgb3JkZXJfYnkgPSBDUy5PUkRFUl9CWV9OQU1FX0FTQ19WQUxVRTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBvcmRlcl9ieSA9IENTLk9SREVSX0JZX1RPUF9WQUxVRTtcbiAgICB9XG5cbiAgICBpZiAob3JkZXJCeSA9PT0gQ1MuT1JERVJfQllfTkVXICYmIHNvcnRCeSA9PT0gQ1MuU09SVF9CWS5PTERFU1Qua2V5KSB7XG4gICAgICByZXR1cm4gb3JkZXJfYnkubWFwKCh4KSA9PiBgJHtDUy5TT1JUX0JZLk9MREVTVC5vcHR9JHt4fWApO1xuICAgIH1cblxuICAgIHJldHVybiBvcmRlcl9ieTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluamVjdFBpblVybHModXJpcywgb3JkZXIsIHBpbnMsIHJlc29sdmVkUGluVXJpcykge1xuICAgIGlmICghcGlucyB8fCAhdXJpcyB8fCB1cmlzLmxlbmd0aCA8PSAyIHx8IChwaW5zLm9ubHlQaW5Gb3JPcmRlciAmJiBwaW5zLm9ubHlQaW5Gb3JPcmRlciAhPT0gb3JkZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHJlc29sdmVkUGluVXJpcykge1xuICAgICAgcmVzb2x2ZWRQaW5VcmlzLmZvckVhY2goKHBpbikgPT4ge1xuICAgICAgICBpZiAodXJpcy5pbmNsdWRlcyhwaW4pKSB7XG4gICAgICAgICAgdXJpcy5zcGxpY2UodXJpcy5pbmRleE9mKHBpbiksIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVyaXMucG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB1cmlzLnNwbGljZSgyLCAwLCAuLi5yZXNvbHZlZFBpblVyaXMpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbHRlckV4Y2x1ZGVkVXJpcyh1cmlzLCBleGNsdWRlVXJpcykge1xuICAgIGlmICh1cmlzICYmIGV4Y2x1ZGVVcmlzICYmIGV4Y2x1ZGVVcmlzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHVyaXMuZmlsdGVyKCh1cmkpID0+ICFleGNsdWRlVXJpcy5pbmNsdWRlcyh1cmkpKTtcbiAgICB9XG4gICAgcmV0dXJuIHVyaXM7XG4gIH1cblxuICBmdW5jdGlvbiBvbkhpZGRlbih1cmkpIHtcbiAgICBpZiAoaGlkZGVuQnVmZmVyLmluZGV4T2YodXJpKSA9PT0gLTEpIHtcbiAgICAgIGxldCBuZXdCdWZmZXIgPSBoaWRkZW5CdWZmZXI7XG4gICAgICBuZXdCdWZmZXIucHVzaCh1cmkpO1xuICAgICAgc2V0SGlkZGVuQnVmZmVyKG5ld0J1ZmZlcik7XG4gICAgfVxuICB9XG5cbiAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuICB1c2VGZXRjaFZpZXdDb3VudChmZXRjaFZpZXdDb3VudCwgZmluYWxVcmlzLCBjbGFpbXNCeVVyaSwgZG9GZXRjaFZpZXdDb3VudCk7XG5cbiAgdXNlR2V0VXNlck1lbWJlcnNoaXBzKHRydWUsIGZpbmFsVXJpcywgY2xhaW1zQnlVcmksIGRvRmV0Y2hVc2VyTWVtYmVyc2hpcHMpO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNob3VsZFBlcmZvcm1TZWFyY2gpIHtcbiAgICAgIGNvbnN0IHNlYXJjaE9wdGlvbnMgPSBKU09OLnBhcnNlKG9wdGlvbnNTdHJpbmdGb3JFZmZlY3QpO1xuICAgICAgZG9DbGFpbVNlYXJjaChzZWFyY2hPcHRpb25zKTtcbiAgICB9XG4gIH0sIFtkb0NsYWltU2VhcmNoLCBzaG91bGRQZXJmb3JtU2VhcmNoLCBvcHRpb25zU3RyaW5nRm9yRWZmZWN0LCBmb3JjZVJlZnJlc2hdKTtcblxuICBjb25zdCBoZWFkZXJUb1VzZSA9IGhlYWRlciB8fCAoXG4gICAgPENsYWltTGlzdEhlYWRlclxuICAgICAgY2hhbm5lbElkcz17Y2hhbm5lbElkc31cbiAgICAgIGRlZmF1bHRUYWdzPXtkZWZhdWx0VGFnc31cbiAgICAgIHRhZ3M9e3RhZ3N9XG4gICAgICBmcmVzaG5lc3M9e2ZyZXNobmVzc31cbiAgICAgIGRlZmF1bHRGcmVzaG5lc3M9e2RlZmF1bHRGcmVzaG5lc3N9XG4gICAgICBjbGFpbVR5cGU9e2NsYWltVHlwZX1cbiAgICAgIHN0cmVhbVR5cGU9e3N0cmVhbVR5cGV9XG4gICAgICBkZWZhdWx0U3RyZWFtVHlwZT17ZGVmYXVsdFN0cmVhbVR5cGV9XG4gICAgICBmZWVBbW91bnQ9e2ZlZUFtb3VudH0gLy8gRU5BQkxFX1BBSURfQ09OVEVOVF9ESVNDT1ZFUiBvciBzb21ldGhpbmdcbiAgICAgIG9yZGVyQnk9e29yZGVyQnl9XG4gICAgICBkZWZhdWx0T3JkZXJCeT17ZGVmYXVsdE9yZGVyQnl9XG4gICAgICBoaWRlQWR2YW5jZWRGaWx0ZXI9e2hpZGVBZHZhbmNlZEZpbHRlcn1cbiAgICAgIGhhc01hdHVyZVRhZ3M9e2hhc01hdHVyZVRhZ3N9XG4gICAgICBoaWRkZW5Oc2Z3TWVzc2FnZT17aGlkZGVuTnNmd01lc3NhZ2V9XG4gICAgICBzZXRQYWdlPXtzZXRQYWdlfVxuICAgICAgdGlsZUxheW91dD17dGlsZUxheW91dH1cbiAgICAgIGhpZGVMYXlvdXRCdXR0b249e2hpZGVMYXlvdXRCdXR0b259XG4gICAgICBoaWRlRmlsdGVycz17aGlkZUZpbHRlcnN9XG4gICAgICBzY3JvbGxBbmNob3I9e3Njcm9sbEFuY2hvcn1cbiAgICAvPlxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAge2hlYWRlckxhYmVsICYmIDxsYWJlbCBjbGFzc05hbWU9XCJjbGFpbS1saXN0X19oZWFkZXItbGFiZWxcIj57aGVhZGVyTGFiZWx9PC9sYWJlbD59XG4gICAgICB7dGlsZUxheW91dCA/IChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICB7IXJlcG9zdGVkQ2xhaW1JZCAmJiBzaG93SGVhZGVyICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbl9faGVhZGVyLS1hY3Rpb25zXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbl9fYWN0aW9uc1wiPlxuICAgICAgICAgICAgICAgIHtoZWFkZXJUb1VzZX1cbiAgICAgICAgICAgICAgICB7c2VhcmNoSW5TZWxlY3RlZExhbmcgJiYgPExhbmdGaWx0ZXJJbmRpY2F0b3IgLz59XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICB7bWV0YSAmJiA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb25fX2FjdGlvbnMtLW5vLW1hcmdpblwiPnttZXRhfTwvZGl2Pn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAge3N1YlNlY3Rpb24gJiYgPGRpdj57c3ViU2VjdGlvbn08L2Rpdj59XG4gICAgICAgICAgPENsYWltTGlzdFxuICAgICAgICAgICAgdGlsZUxheW91dFxuICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ31cbiAgICAgICAgICAgIHVyaXM9e2ZpbmFsVXJpc31cbiAgICAgICAgICAgIHByZWZpeFVyaXM9e3ByZWZpeFVyaXN9XG4gICAgICAgICAgICBvblNjcm9sbEJvdHRvbT17aGFuZGxlU2Nyb2xsQm90dG9tfVxuICAgICAgICAgICAgcGFnZT17cGFnZX1cbiAgICAgICAgICAgIHBhZ2VTaXplPXtkeW5hbWljUGFnZVNpemV9XG4gICAgICAgICAgICB0aW1lZE91dE1lc3NhZ2U9e3RpbWVkT3V0TWVzc2FnZX1cbiAgICAgICAgICAgIHJlbmRlclByb3BlcnRpZXM9e3JlbmRlclByb3BlcnRpZXN9XG4gICAgICAgICAgICBpbmNsdWRlU3VwcG9ydEFjdGlvbj17aW5jbHVkZVN1cHBvcnRBY3Rpb259XG4gICAgICAgICAgICAvLyBpbmplY3RlZEl0ZW09e2luamVjdGVkSXRlbX1cbiAgICAgICAgICAgIHNob3dIaWRkZW5CeVVzZXI9e3Nob3dIaWRkZW5CeVVzZXJ9XG4gICAgICAgICAgICBzZWFyY2hPcHRpb25zPXtvcHRpb25zfVxuICAgICAgICAgICAgc2hvd05vU291cmNlQ2xhaW1zPXtzaG93Tm9Tb3VyY2VDbGFpbXN9XG4gICAgICAgICAgICBlbXB0eT17ZW1wdHl9XG4gICAgICAgICAgICBtYXhDbGFpbVJlbmRlcj17bWF4Q2xhaW1SZW5kZXJ9XG4gICAgICAgICAgICBsb2FkZWRDYWxsYmFjaz17bG9hZGVkQ2FsbGJhY2t9XG4gICAgICAgICAgICBzd2lwZUxheW91dD17c3dpcGVMYXlvdXR9XG4gICAgICAgICAgICBvbkhpZGRlbj17b25IaWRkZW59XG4gICAgICAgICAgLz5cbiAgICAgICAgICB7bG9hZGluZyAmJiB1c2VTa2VsZXRvblNjcmVlbiAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsYWltLWdyaWRcIj5cbiAgICAgICAgICAgICAge25ldyBBcnJheShkeW5hbWljUGFnZVNpemUpLmZpbGwoMSkubWFwKCh4LCBpKSA9PiAoXG4gICAgICAgICAgICAgICAgPENsYWltUHJldmlld1RpbGUga2V5PXtpfSBwbGFjZWhvbGRlcj1cImxvYWRpbmdcIiBwdWxzZSAvPlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSA6IChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICB7c2hvd0hlYWRlciAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb25fX2hlYWRlci0tYWN0aW9uc1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb25fX2FjdGlvbnNcIj5cbiAgICAgICAgICAgICAgICB7aGVhZGVyVG9Vc2V9XG4gICAgICAgICAgICAgICAge3NlYXJjaEluU2VsZWN0ZWRMYW5nICYmIDxMYW5nRmlsdGVySW5kaWNhdG9yIC8+fVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAge21ldGEgJiYgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uX19hY3Rpb25zLS1uby1tYXJnaW5cIj57bWV0YX08L2Rpdj59XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtzdWJTZWN0aW9uICYmIDxkaXY+e3N1YlNlY3Rpb259PC9kaXY+fVxuICAgICAgICAgIDxDbGFpbUxpc3RcbiAgICAgICAgICAgIHR5cGU9e3R5cGV9XG4gICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nfVxuICAgICAgICAgICAgdXJpcz17ZmluYWxVcmlzfVxuICAgICAgICAgICAgcHJlZml4VXJpcz17cHJlZml4VXJpc31cbiAgICAgICAgICAgIG9uU2Nyb2xsQm90dG9tPXtoYW5kbGVTY3JvbGxCb3R0b219XG4gICAgICAgICAgICBwYWdlPXtwYWdlfVxuICAgICAgICAgICAgcGFnZVNpemU9e2R5bmFtaWNQYWdlU2l6ZX1cbiAgICAgICAgICAgIHRpbWVkT3V0TWVzc2FnZT17dGltZWRPdXRNZXNzYWdlfVxuICAgICAgICAgICAgcmVuZGVyUHJvcGVydGllcz17cmVuZGVyUHJvcGVydGllc31cbiAgICAgICAgICAgIGluY2x1ZGVTdXBwb3J0QWN0aW9uPXtpbmNsdWRlU3VwcG9ydEFjdGlvbn1cbiAgICAgICAgICAgIC8vIGluamVjdGVkSXRlbT17aW5qZWN0ZWRJdGVtfVxuICAgICAgICAgICAgc2hvd0hpZGRlbkJ5VXNlcj17c2hvd0hpZGRlbkJ5VXNlcn1cbiAgICAgICAgICAgIHNlYXJjaE9wdGlvbnM9e29wdGlvbnN9XG4gICAgICAgICAgICBzaG93Tm9Tb3VyY2VDbGFpbXM9e2hhc05vU291cmNlIHx8IHNob3dOb1NvdXJjZUNsYWltc31cbiAgICAgICAgICAgIGVtcHR5PXtlbXB0eX1cbiAgICAgICAgICAgIG1heENsYWltUmVuZGVyPXttYXhDbGFpbVJlbmRlcn1cbiAgICAgICAgICAgIGxvYWRlZENhbGxiYWNrPXtsb2FkZWRDYWxsYmFja31cbiAgICAgICAgICAgIHN3aXBlTGF5b3V0PXtzd2lwZUxheW91dH1cbiAgICAgICAgICAgIG9uSGlkZGVuPXtvbkhpZGRlbn1cbiAgICAgICAgICAvPlxuICAgICAgICAgIHtsb2FkaW5nICYmXG4gICAgICAgICAgICB1c2VTa2VsZXRvblNjcmVlbiAmJlxuICAgICAgICAgICAgbmV3IEFycmF5KGR5bmFtaWNQYWdlU2l6ZSlcbiAgICAgICAgICAgICAgLmZpbGwoMSlcbiAgICAgICAgICAgICAgLm1hcCgoeCwgaSkgPT4gKFxuICAgICAgICAgICAgICAgIDxDbGFpbVByZXZpZXdcbiAgICAgICAgICAgICAgICAgIHNob3dOb1NvdXJjZUNsYWltcz17aGFzTm9Tb3VyY2UgfHwgc2hvd05vU291cmNlQ2xhaW1zfVxuICAgICAgICAgICAgICAgICAga2V5PXtpfVxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJsb2FkaW5nXCJcbiAgICAgICAgICAgICAgICAgIHR5cGU9e3R5cGV9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L1JlYWN0LkZyYWdtZW50PlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCB3aXRoUm91dGVyKENsYWltTGlzdERpc2NvdmVyKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZ0dBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBOEVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBL0VBO0FBaUZBO0FBQ0E7QUFsRkE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFtRkE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUE5RkE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQWdHQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUE5QkE7QUFnQ0E7QUFDQTtBQUNBO0FBQ0E7QUEvSUE7QUFBQTtBQUFBO0FBQ0E7QUErSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQXVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFDQTtBQWFBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTVPQTtBQUNBO0FBQ0E7QUE2T0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFKQTtBQVNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQWxCQTtBQW9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbFdBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFvV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVdBO0FBRUE7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUhBO0FBRkE7QUFEQTtBQWdCQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFGQTtBQURBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF0YkE7QUEwYkE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFkQTtBQUNBO0FBZ0JBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUxBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXZpQkE7QUEyaUJBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFPQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFuQkE7QUF1QkE7QUFFQTtBQUFBO0FBSUE7QUFBQTtBQUNBO0FBQUE7QUFJQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFuQkE7QUFzQkE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFwQ0E7QUE0Q0E7QUFBQTtBQUNBO0FBQUE7QUFJQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFuQkE7QUF5QkE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBbEZBO0FBNkZBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../ui/component/claimListDiscover/view.jsx\n");

/***/ })

})