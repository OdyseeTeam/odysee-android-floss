webpackHotUpdate("ui-202209281216",{

/***/ "../ui/component/claimListDiscover/view.jsx":
/*!**************************************************!*\
  !*** ../ui/component/claimListDiscover/view.jsx ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__) {/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! config */ \"../config.js\");\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(config__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var constants_claim_search__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! constants/claim_search */ \"../ui/constants/claim_search.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router */ \"../node_modules/react-router/esm/react-router.js\");\n/* harmony import */ var constants_tags__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! constants/tags */ \"../ui/constants/tags.js\");\n/* harmony import */ var util_default_languages__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! util/default-languages */ \"../ui/util/default-languages.js\");\n/* harmony import */ var util_claim__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! util/claim */ \"../ui/util/claim.js\");\n/* harmony import */ var util_claim_search__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! util/claim-search */ \"../ui/util/claim-search.js\");\n/* harmony import */ var util_lbryURI__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! util/lbryURI */ \"../ui/util/lbryURI.js\");\n/* harmony import */ var component_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! component/button */ \"../ui/component/button/index.js\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! moment */ \"../node_modules/moment/moment.js\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var component_claimList__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! component/claimList */ \"../ui/component/claimList/index.js\");\n/* harmony import */ var component_claimPreview__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! component/claimPreview */ \"../ui/component/claimPreview/index.js\");\n/* harmony import */ var component_claimPreviewTile__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! component/claimPreviewTile */ \"../ui/component/claimPreviewTile/index.js\");\n/* harmony import */ var component_i18nMessage__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! component/i18nMessage */ \"../ui/component/i18nMessage/index.js\");\n/* harmony import */ var component_langFilterIndicator__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! component/langFilterIndicator */ \"../ui/component/langFilterIndicator/index.js\");\n/* harmony import */ var component_claimListHeader__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! component/claimListHeader */ \"../ui/component/claimListHeader/index.js\");\n/* harmony import */ var effects_use_fetch_view_count__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! effects/use-fetch-view-count */ \"../ui/effects/use-fetch-view-count.js\");\n/* harmony import */ var effects_use_resolve_pins__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! effects/use-resolve-pins */ \"../ui/effects/use-resolve-pins.js\");\n/* harmony import */ var effects_use_screensize__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! effects/use-screensize */ \"../ui/effects/use-screensize.js\");\n/* harmony import */ var effects_use_persistent_user_param__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! effects/use-persistent-user-param */ \"../ui/effects/use-persistent-user-param.js\");\n/* harmony import */ var effects_use_persisted_state__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! effects/use-persisted-state */ \"../ui/effects/use-persisted-state.js\");\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ClaimListDiscover(props) {\n  var doClaimSearch = props.doClaimSearch,\n      claimSearchByQuery = props.claimSearchByQuery,\n      _props$showHeader = props.showHeader,\n      showHeader = _props$showHeader === void 0 ? true : _props$showHeader,\n      type = props.type,\n      claimSearchByQueryLastPageReached = props.claimSearchByQueryLastPageReached,\n      tags = props.tags,\n      notTags = props.notTags,\n      defaultTags = props.defaultTags,\n      loading = props.loading,\n      meta = props.meta,\n      subSection = props.subSection,\n      channelIds = props.channelIds,\n      excludedChannelIds = props.excludedChannelIds,\n      showNsfw = props.showNsfw,\n      hideReposts = props.hideReposts,\n      fetchViewCount = props.fetchViewCount,\n      history = props.history,\n      location = props.location,\n      mutedUris = props.mutedUris,\n      blockedUris = props.blockedUris,\n      hiddenNsfwMessage = props.hiddenNsfwMessage,\n      defaultOrderBy = props.defaultOrderBy,\n      sortBy = props.sortBy,\n      orderBy = props.orderBy,\n      headerLabel = props.headerLabel,\n      header = props.header,\n      name = props.name,\n      claimType = props.claimType,\n      defaultClaimType = props.defaultClaimType,\n      streamType = props.streamType,\n      defaultStreamType = props.defaultStreamType,\n      freshness = props.freshness,\n      _props$defaultFreshne = props.defaultFreshness,\n      defaultFreshness = _props$defaultFreshne === void 0 ? constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FRESH_WEEK\"] : _props$defaultFreshne,\n      renderProperties = props.renderProperties,\n      csOptionsHook = props.csOptionsHook,\n      includeSupportAction = props.includeSupportAction,\n      repostedClaimId = props.repostedClaimId,\n      hideAdvancedFilter = props.hideAdvancedFilter,\n      hideMembersOnly = props.hideMembersOnly,\n      _props$infiniteScroll = props.infiniteScroll,\n      infiniteScroll = _props$infiniteScroll === void 0 ? true : _props$infiniteScroll,\n      followedTags = props.followedTags,\n      injectedItem = props.injectedItem,\n      feeAmount = props.feeAmount,\n      uris = props.uris,\n      prefixUris = props.prefixUris,\n      pins = props.pins,\n      tileLayout = props.tileLayout,\n      _props$hideFilters = props.hideFilters,\n      hideFilters = _props$hideFilters === void 0 ? false : _props$hideFilters,\n      claimIds = props.claimIds,\n      maxPages = props.maxPages,\n      hideRepostsOverride = props.hideRepostsOverride,\n      languageSetting = props.languageSetting,\n      searchLanguages = props.searchLanguages,\n      searchInLanguage = props.searchInLanguage,\n      ignoreSearchInLanguage = props.ignoreSearchInLanguage,\n      limitClaimsPerChannel = props.limitClaimsPerChannel,\n      releaseTime = props.releaseTime,\n      scrollAnchor = props.scrollAnchor,\n      _props$showHiddenByUs = props.showHiddenByUser,\n      showHiddenByUser = _props$showHiddenByUs === void 0 ? false : _props$showHiddenByUs,\n      hasSource = props.hasSource,\n      hasNoSource = props.hasNoSource,\n      _props$isChannel = props.isChannel,\n      isChannel = _props$isChannel === void 0 ? false : _props$isChannel,\n      showNoSourceClaims = props.showNoSourceClaims,\n      empty = props.empty,\n      claimsByUri = props.claimsByUri,\n      claimsById = props.claimsById,\n      doFetchViewCount = props.doFetchViewCount,\n      _props$hideLayoutButt = props.hideLayoutButton,\n      hideLayoutButton = _props$hideLayoutButt === void 0 ? false : _props$hideLayoutButt,\n      loadedCallback = props.loadedCallback,\n      maxClaimRender = props.maxClaimRender,\n      _props$useSkeletonScr = props.useSkeletonScreen,\n      useSkeletonScreen = _props$useSkeletonScr === void 0 ? true : _props$useSkeletonScr,\n      _props$excludeUris = props.excludeUris,\n      excludeUris = _props$excludeUris === void 0 ? [] : _props$excludeUris,\n      doFetchOdyseeMembershipForChannelIds = props.doFetchOdyseeMembershipForChannelIds,\n      _props$swipeLayout = props.swipeLayout,\n      swipeLayout = _props$swipeLayout === void 0 ? false : _props$swipeLayout,\n      doResolveUris = props.doResolveUris,\n      doResolveClaimIds = props.doResolveClaimIds,\n      doGetMembershipTiersForContentClaimIds = props.doGetMembershipTiersForContentClaimIds;\n  var resolvedPinUris = Object(effects_use_resolve_pins__WEBPACK_IMPORTED_MODULE_18__[\"default\"])({\n    pins: pins,\n    claimsById: claimsById,\n    doResolveClaimIds: doResolveClaimIds,\n    doResolveUris: doResolveUris\n  });\n  var didNavigateForward = history.action === 'PUSH';\n  var search = location.search;\n  var prevUris = react__WEBPACK_IMPORTED_MODULE_2___default.a.useRef();\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_2___default.a.useState(1),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      page = _React$useState2[0],\n      setPage = _React$useState2[1];\n\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_2___default.a.useState(),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      forceRefresh = _React$useState4[0],\n      setForceRefresh = _React$useState4[1];\n\n  var isLargeScreen = Object(effects_use_screensize__WEBPACK_IMPORTED_MODULE_19__[\"useIsLargeScreen\"])();\n  var followed = followedTags && followedTags.map(function (t) {\n    return t.name;\n  }) || [];\n  var urlParams = new URLSearchParams(search);\n  var tagsParam = // can be 'x,y,z' or 'x' or ['x','y'] or CS.CONSTANT\n  tags && getParamFromTags(tags) || urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"TAGS_KEY\"]) !== null && urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"TAGS_KEY\"]) || defaultTags && getParamFromTags(defaultTags);\n  var freshnessParam = freshness || urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FRESH_KEY\"]) || defaultFreshness;\n  var sortByParam = sortBy || urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"SORT_BY_KEY\"]) || constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"SORT_BY\"].NEWEST.key;\n  var mutedAndBlockedChannelIds = Array.from(new Set(mutedUris.concat(blockedUris).map(function (uri) {\n    return Object(util_lbryURI__WEBPACK_IMPORTED_MODULE_8__[\"splitBySeparator\"])(uri)[1];\n  })));\n\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_2___default.a.useState([]),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      hiddenBuffer = _React$useState6[0],\n      setHiddenBuffer = _React$useState6[1];\n\n  var hideRepostsEffective = resolveHideReposts(hideReposts, hideRepostsOverride);\n  var langParam = urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"LANGUAGE_KEY\"]) || null;\n  var searchInSelectedLang = searchInLanguage && !ignoreSearchInLanguage;\n  var languageParams = Object(util_default_languages__WEBPACK_IMPORTED_MODULE_5__[\"resolveLangForClaimSearch\"])(languageSetting, searchInSelectedLang, searchLanguages, langParam);\n  var claimTypeParam = claimType || defaultClaimType || null;\n  var streamTypeParam = streamType || defaultStreamType || null;\n  var contentTypeParam = urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CONTENT_KEY\"]);\n\n  if (contentTypeParam) {\n    switch (contentTypeParam) {\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CLAIM_COLLECTION\"]:\n        claimTypeParam = contentTypeParam;\n        streamTypeParam = undefined;\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CLAIM_REPOST\"]:\n        claimTypeParam = contentTypeParam;\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CLAIM_CHANNEL\"]:\n        claimTypeParam = constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CLAIM_CHANNEL\"];\n        streamTypeParam = undefined;\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FILE_VIDEO\"]:\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FILE_AUDIO\"]:\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FILE_IMAGE\"]:\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FILE_MODEL\"]:\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FILE_BINARY\"]:\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FILE_DOCUMENT\"]:\n        streamTypeParam = contentTypeParam;\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CONTENT_ALL\"]:\n        claimTypeParam = undefined;\n        streamTypeParam = undefined;\n        break;\n\n      default:\n        console.log('Invalid or unhandled CONTENT_KEY:', contentTypeParam); // eslint-disable-line no-console\n\n        break;\n    }\n  }\n\n  var durationParam = Object(effects_use_persistent_user_param__WEBPACK_IMPORTED_MODULE_20__[\"default\"])([urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"DURATION_KEY\"]) || constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"DURATION_ALL\"]], 'durUser', null);\n\n  var _usePersistedState = Object(effects_use_persisted_state__WEBPACK_IMPORTED_MODULE_21__[\"default\"])(\"durUserMinutes-\".concat(location.pathname), 5),\n      _usePersistedState2 = _slicedToArray(_usePersistedState, 1),\n      durationMinutes = _usePersistedState2[0];\n\n  var channelIdsInUrl = urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CHANNEL_IDS_KEY\"]);\n  var channelIdsParam = channelIdsInUrl ? channelIdsInUrl.split(',') : channelIds;\n  var excludedIdsParam = excludedChannelIds;\n  var feeAmountParam = urlParams.get('fee_amount') || feeAmount;\n  var originalPageSize = 12;\n  var dynamicPageSize = isLargeScreen ? Math.ceil(originalPageSize / 2 * 6) : Math.ceil(originalPageSize / 2 * 4);\n  var orderParam = Object(effects_use_persistent_user_param__WEBPACK_IMPORTED_MODULE_20__[\"default\"])([orderBy, urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_KEY\"]), defaultOrderBy], 'orderUser', constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_TRENDING\"]);\n  var options = {\n    page_size: dynamicPageSize,\n    page: page,\n    name: name,\n    claim_type: claimType || ['stream', 'repost', 'channel'],\n    // no_totals makes it so the sdk doesn't have to calculate total number pages for pagination\n    // it's faster, but we will need to remove it if we start using total_pages\n    no_totals: true,\n    not_channel_ids: isChannel ? undefined : mutedAndBlockedChannelIds,\n    not_tags: util_claim_search__WEBPACK_IMPORTED_MODULE_7__[\"CsOptions\"].not_tags(notTags, showNsfw, hideMembersOnly),\n    order_by: resolveOrderByOption(orderParam, sortByParam),\n    remove_duplicates: isChannel ? undefined : true\n  };\n\n  if (config__WEBPACK_IMPORTED_MODULE_0__[\"ENABLE_NO_SOURCE_CLAIMS\"] && hasNoSource) {\n    options.has_no_source = true;\n  } else if (hasSource || !config__WEBPACK_IMPORTED_MODULE_0__[\"ENABLE_NO_SOURCE_CLAIMS\"] && (!claimType || claimType === 'stream')) {\n    options.has_source = true;\n  }\n\n  if (limitClaimsPerChannel) {\n    options.limit_claims_per_channel = limitClaimsPerChannel;\n  }\n\n  if (feeAmountParam && claimType !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CLAIM_CHANNEL\"]) {\n    options.fee_amount = feeAmountParam;\n  }\n\n  if (claimIds) {\n    options.claim_ids = claimIds;\n  }\n\n  if (channelIdsParam) {\n    options.channel_ids = channelIdsParam;\n  }\n\n  if (excludedIdsParam) {\n    options.not_channel_ids = (options.not_channel_ids || []).concat(excludedIdsParam);\n  }\n\n  if (tagsParam) {\n    if (tagsParam !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"TAGS_ALL\"] && tagsParam !== '') {\n      if (tagsParam === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"TAGS_FOLLOWED\"]) {\n        options.any_tags = followed;\n      } else if (Array.isArray(tagsParam)) {\n        options.any_tags = tagsParam;\n      } else {\n        options.any_tags = tagsParam.split(',');\n      }\n    }\n  }\n\n  if (repostedClaimId) {\n    // SDK chokes on reposted_claim_id of null or false, needs to not be present if no value\n    options.reposted_claim_id = repostedClaimId;\n  } // IF release time, set it, else set fallback release times using the hack below.\n\n\n  if (releaseTime && claimTypeParam !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CLAIM_CHANNEL\"]) {\n    options.release_time = releaseTime;\n  } else if (claimTypeParam !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CLAIM_CHANNEL\"]) {\n    if (orderParam === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_TOP\"] && freshnessParam !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FRESH_ALL\"]) {\n      options.release_time = \">\".concat(Math.floor(moment__WEBPACK_IMPORTED_MODULE_10___default()().subtract(1, freshnessParam).startOf('hour').unix()));\n    } else if (orderParam === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_NEW\"] || orderParam === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_TRENDING\"]) {\n      // Warning - hack below\n      // If users are following more than 10 channels or tags, limit results to stuff less than a year old\n      // For more than 20, drop it down to 6 months\n      // This helps with timeout issues for users that are following a ton of stuff\n      // https://github.com/lbryio/lbry-sdk/issues/2420\n      if (options.channel_ids && options.channel_ids.length > 20 || options.any_tags && options.any_tags.length > 20) {\n        options.release_time = \">\".concat(Math.floor(moment__WEBPACK_IMPORTED_MODULE_10___default()().subtract(3, constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FRESH_MONTH\"]).startOf('week').unix()));\n      } else if (options.channel_ids && options.channel_ids.length > 10 || options.any_tags && options.any_tags.length > 10) {\n        options.release_time = \">\".concat(Math.floor(moment__WEBPACK_IMPORTED_MODULE_10___default()().subtract(1, constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FRESH_YEAR\"]).startOf('week').unix()));\n      } else {\n        // Hack for at least the New page until https://github.com/lbryio/lbry-sdk/issues/2591 is fixed\n        options.release_time = \"<\".concat(Math.floor(moment__WEBPACK_IMPORTED_MODULE_10___default()().startOf('minute').unix()));\n      }\n    }\n  }\n\n  if (durationParam) {\n    switch (durationParam) {\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"DURATION_ALL\"]:\n        // Do nothing (no options needed)\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"DURATION_SHORT\"]:\n        options.duration = '<=240';\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"DURATION_LONG\"]:\n        options.duration = '>=1200';\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"DURATION_GT_EQ\"]:\n        options.duration = \">=\".concat((durationMinutes || 0) * 60);\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"DURATION_LT_EQ\"]:\n        options.duration = \"<=\".concat((durationMinutes || 0) * 60);\n        break;\n\n      default:\n        console.error('Unhandled duration: ' + durationParam);\n        break;\n    }\n  }\n\n  if (streamTypeParam && streamTypeParam !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CONTENT_ALL\"] && claimType !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CLAIM_CHANNEL\"]) {\n    options.stream_types = typeof streamTypeParam === 'string' ? [streamTypeParam] : streamTypeParam;\n  }\n\n  if (claimTypeParam) {\n    if (claimTypeParam !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CONTENT_ALL\"]) {\n      if (Array.isArray(claimTypeParam)) {\n        options.claim_type = claimTypeParam;\n      } else {\n        options.claim_type = [claimTypeParam];\n      }\n    }\n  }\n\n  if (languageParams) {\n    if (languageParams !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"LANGUAGES_ALL\"]) {\n      options.any_languages = languageParams.split(',');\n    }\n  }\n\n  if (tagsParam) {\n    if (tagsParam !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"TAGS_ALL\"] && tagsParam !== '') {\n      if (tagsParam === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"TAGS_FOLLOWED\"]) {\n        options.any_tags = followed;\n      } else if (Array.isArray(tagsParam)) {\n        options.any_tags = tagsParam;\n      } else {\n        options.any_tags = tagsParam.split(',');\n      }\n    }\n  }\n\n  if (hideRepostsEffective && !options.reposted_claim_id) {\n    if (Array.isArray(options.claim_type)) {\n      if (options.claim_type.length > 1) {\n        options.claim_type = options.claim_type.filter(function (claimType) {\n          return claimType !== 'repost';\n        });\n      }\n    } else {\n      options.claim_type = ['stream', 'channel'];\n    }\n  }\n\n  if (csOptionsHook) {\n    options = csOptionsHook(options);\n  }\n\n  var hasMatureTags = tagsParam && tagsParam.split(',').some(function (t) {\n    return constants_tags__WEBPACK_IMPORTED_MODULE_4__[\"MATURE_TAGS\"].includes(t);\n  });\n  var searchKey = Object(util_claim__WEBPACK_IMPORTED_MODULE_6__[\"createNormalizedClaimSearchKey\"])(options);\n  var claimSearchResult = claimSearchByQuery[searchKey];\n  var claimSearchResultLastPageReached = claimSearchByQueryLastPageReached[searchKey];\n  var isUnfetchedClaimSearch = claimSearchResult === undefined; // uncomment to fix an item on a page\n  //   const fixUri = 'lbry://@corbettreport#0/lbryodysee#5';\n  //   if (\n  //     orderParam === CS.ORDER_BY_NEW &&\n  //     claimSearchResult &&\n  //     claimSearchResult.length > 2 &&\n  //     window.location.pathname === '/$/rabbithole'\n  //   ) {\n  //     if (claimSearchResult.indexOf(fixUri) !== -1) {\n  //       claimSearchResult.splice(claimSearchResult.indexOf(fixUri), 1);\n  //     } else {\n  //       claimSearchResult.pop();\n  //     }\n  //     claimSearchResult.splice(2, 0, fixUri);\n  //   }\n\n  var _React$useState7 = react__WEBPACK_IMPORTED_MODULE_2___default.a.useState(null),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      prevOptions = _React$useState8[0],\n      setPrevOptions = _React$useState8[1];\n\n  if (!isJustScrollingToNewPage(prevOptions, options)) {\n    // --- New search, or search options changed.\n    setPrevOptions(options);\n\n    if (didNavigateForward) {\n      // --- Reset the page.\n      options.page = 1;\n      setPage(options.page);\n    } else if (claimSearchResult) {\n      // --- Update 'page' based on retrieved 'claimSearchResult'.\n      options.page = Math.ceil(claimSearchResult.length / dynamicPageSize);\n\n      if (options.page !== page) {\n        setPage(options.page);\n      }\n    }\n  }\n\n  var shouldPerformSearch = !uris && (claimSearchResult === undefined || didNavigateForward || !loading && !claimSearchResultLastPageReached && claimSearchResult && claimSearchResult.length && claimSearchResult.length < dynamicPageSize * options.page && claimSearchResult.length % dynamicPageSize === 0); // Don't use the query from createNormalizedClaimSearchKey for the effect since that doesn't include page & release_time\n\n  var optionsStringForEffect = JSON.stringify(options);\n  var timedOutMessage = react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"p\", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_i18nMessage__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n    tokens: {\n      again: react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n        button: \"link\",\n        label: __('try again in a few seconds.'),\n        onClick: function onClick() {\n          return setForceRefresh(Date.now());\n        }\n      })\n    }\n  }, \"Sorry, your request timed out. Modify your options or %again%\")), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"p\", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_i18nMessage__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n    tokens: {\n      contact_support: react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n        button: \"link\",\n        label: __('contact support'),\n        href: \"https://odysee.com/@OdyseeHelp:b?view=about\"\n      })\n    }\n  }, \"If you continue to have issues, please %contact_support%.\"))); // **************************************************************************\n  // **************************************************************************\n\n  var finalUris;\n\n  if (uris) {\n    // --- direct uris\n    finalUris = uris;\n    injectPinUrls(finalUris, orderParam, pins, resolvedPinUris);\n    finalUris = filterExcludedUris(finalUris, excludeUris);\n  } else {\n    // --- searched uris\n    if (isUnfetchedClaimSearch && prevUris.current) {\n      finalUris = prevUris.current;\n    } else {\n      finalUris = claimSearchResult;\n      injectPinUrls(finalUris, orderParam, pins, resolvedPinUris);\n      finalUris = filterExcludedUris(finalUris, excludeUris);\n      prevUris.current = finalUris;\n    }\n  } // **************************************************************************\n  // Helpers\n  // **************************************************************************\n  // Returns true if the change in 'options' indicate that we are simply scrolling\n  // down to a new page; false otherwise.\n\n\n  function isJustScrollingToNewPage(prevOptions, options) {\n    if (!prevOptions) {\n      // It's a new search, or we just popped back from a different view.\n      return false;\n    } // Compare every field except for 'page' and 'release_time'.\n    // There might be better ways to achieve this.\n\n\n    var tmpPrevOptions = _objectSpread({}, prevOptions);\n\n    tmpPrevOptions.page = -1;\n    tmpPrevOptions.release_time = '';\n\n    var tmpOptions = _objectSpread({}, options);\n\n    tmpOptions.page = -1;\n    tmpOptions.release_time = '';\n    return JSON.stringify(tmpOptions) === JSON.stringify(tmpPrevOptions);\n  }\n\n  function getParamFromTags(t) {\n    if (t === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"TAGS_ALL\"] || t === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"TAGS_FOLLOWED\"]) {\n      return t;\n    } else if (Array.isArray(t)) {\n      return t.join(',');\n    }\n  }\n\n  function handleScrollBottom() {\n    if (maxPages !== undefined && page === maxPages) {\n      return;\n    }\n\n    if (!loading && infiniteScroll) {\n      if (claimSearchResult && !claimSearchResultLastPageReached) {\n        setPage(page + 1);\n      }\n    }\n  }\n\n  function resolveHideReposts(hideRepostSetting, hideRepostOverride) {\n    if (hideRepostOverride === undefined || hideRepostOverride === null) {\n      return hideRepostSetting;\n    } else {\n      return hideRepostOverride;\n    }\n  }\n\n  function resolveOrderByOption(orderBy, sortBy) {\n    var order_by;\n\n    switch (orderBy) {\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_TRENDING\"]:\n        order_by = constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_TRENDING_VALUE\"];\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_NEW\"]:\n        order_by = constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_NEW_VALUE\"];\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_NEW_ASC\"]:\n        order_by = constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_NEW_ASC_VALUE\"];\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_NAME_ASC\"]:\n        order_by = constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_NAME_ASC_VALUE\"];\n        break;\n\n      default:\n        order_by = constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_TOP_VALUE\"];\n    }\n\n    if (orderBy === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_NEW\"] && sortBy === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"SORT_BY\"].OLDEST.key) {\n      return order_by.map(function (x) {\n        return \"\".concat(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"SORT_BY\"].OLDEST.opt).concat(x);\n      });\n    }\n\n    return order_by;\n  }\n\n  function injectPinUrls(uris, order, pins, resolvedPinUris) {\n    if (!pins || !uris || uris.length <= 2 || pins.onlyPinForOrder && pins.onlyPinForOrder !== order) {\n      return;\n    }\n\n    if (resolvedPinUris) {\n      resolvedPinUris.forEach(function (pin) {\n        if (uris.includes(pin)) {\n          uris.splice(uris.indexOf(pin), 1);\n        } else {\n          uris.pop();\n        }\n      });\n      uris.splice.apply(uris, [2, 0].concat(_toConsumableArray(resolvedPinUris)));\n    }\n  }\n\n  function filterExcludedUris(uris, excludeUris) {\n    if (uris && excludeUris && excludeUris.length) {\n      return uris.filter(function (uri) {\n        return !excludeUris.includes(uri);\n      });\n    }\n\n    return uris;\n  }\n\n  function onHidden(uri) {\n    if (hiddenBuffer.indexOf(uri) === -1) {\n      var newBuffer = hiddenBuffer;\n      newBuffer.push(uri);\n      setHiddenBuffer(newBuffer);\n    }\n  } // **************************************************************************\n  // **************************************************************************\n\n\n  Object(effects_use_fetch_view_count__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(fetchViewCount, finalUris, claimsByUri, doFetchViewCount);\n  react__WEBPACK_IMPORTED_MODULE_2___default.a.useEffect(function () {\n    if (channelIds) {\n      doFetchOdyseeMembershipForChannelIds(channelIds);\n    }\n  }, [channelIds, doFetchOdyseeMembershipForChannelIds]);\n  react__WEBPACK_IMPORTED_MODULE_2___default.a.useEffect(function () {\n    if (shouldPerformSearch) {\n      var searchOptions = JSON.parse(optionsStringForEffect);\n      doClaimSearch(searchOptions);\n    }\n  }, [doClaimSearch, shouldPerformSearch, optionsStringForEffect, forceRefresh]);\n  react__WEBPACK_IMPORTED_MODULE_2___default.a.useEffect(function () {\n    if (finalUris) {\n      console.log('xxxxxx: ', finalUris.toString());\n      doGetMembershipTiersForContentClaimIds('e710f80a394defbe1ade161071775dbdd6f556de'); //doGetMembershipTiersForContentClaimIds(channelIds.toString())\n    }\n  }, [finalUris]);\n  var headerToUse = header || react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_claimListHeader__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n    channelIds: channelIds,\n    defaultTags: defaultTags,\n    tags: tags,\n    freshness: freshness,\n    defaultFreshness: defaultFreshness,\n    claimType: claimType,\n    streamType: streamType,\n    defaultStreamType: defaultStreamType,\n    feeAmount: feeAmount // ENABLE_PAID_CONTENT_DISCOVER or something\n    ,\n    orderBy: orderBy,\n    defaultOrderBy: defaultOrderBy,\n    hideAdvancedFilter: hideAdvancedFilter,\n    hasMatureTags: hasMatureTags,\n    hiddenNsfwMessage: hiddenNsfwMessage,\n    setPage: setPage,\n    tileLayout: tileLayout,\n    hideLayoutButton: hideLayoutButton,\n    hideFilters: hideFilters,\n    scrollAnchor: scrollAnchor\n  });\n  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, headerLabel && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"label\", {\n    className: \"claim-list__header-label\"\n  }, headerLabel), tileLayout ? react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", null, !repostedClaimId && showHeader && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"section__header--actions\"\n  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"section__actions\"\n  }, headerToUse, searchInSelectedLang && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_langFilterIndicator__WEBPACK_IMPORTED_MODULE_15__[\"default\"], null)), meta && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"section__actions--no-margin\"\n  }, meta)), subSection && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", null, subSection), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_claimList__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n    tileLayout: true,\n    loading: loading,\n    uris: finalUris,\n    prefixUris: prefixUris,\n    onScrollBottom: handleScrollBottom,\n    page: page,\n    pageSize: dynamicPageSize,\n    timedOutMessage: timedOutMessage,\n    renderProperties: renderProperties,\n    includeSupportAction: includeSupportAction,\n    injectedItem: injectedItem,\n    showHiddenByUser: showHiddenByUser,\n    searchOptions: options,\n    showNoSourceClaims: showNoSourceClaims,\n    empty: empty,\n    maxClaimRender: maxClaimRender,\n    loadedCallback: loadedCallback,\n    swipeLayout: swipeLayout,\n    onHidden: onHidden\n  }), loading && useSkeletonScreen && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"claim-grid\"\n  }, new Array(dynamicPageSize).fill(1).map(function (x, i) {\n    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_claimPreviewTile__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n      key: i,\n      placeholder: \"loading\",\n      pulse: true\n    });\n  }))) : react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", null, showHeader && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"section__header--actions\"\n  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"section__actions\"\n  }, headerToUse, searchInSelectedLang && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_langFilterIndicator__WEBPACK_IMPORTED_MODULE_15__[\"default\"], null)), meta && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"section__actions--no-margin\"\n  }, meta)), subSection && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", null, subSection), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_claimList__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n    type: type,\n    loading: loading,\n    uris: finalUris,\n    prefixUris: prefixUris,\n    onScrollBottom: handleScrollBottom,\n    page: page,\n    pageSize: dynamicPageSize,\n    timedOutMessage: timedOutMessage,\n    renderProperties: renderProperties,\n    includeSupportAction: includeSupportAction,\n    injectedItem: injectedItem,\n    showHiddenByUser: showHiddenByUser,\n    searchOptions: options,\n    showNoSourceClaims: hasNoSource || showNoSourceClaims,\n    empty: empty,\n    maxClaimRender: maxClaimRender,\n    loadedCallback: loadedCallback,\n    swipeLayout: swipeLayout,\n    onHidden: onHidden\n  }), loading && useSkeletonScreen && new Array(dynamicPageSize).fill(1).map(function (x, i) {\n    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_claimPreview__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n      showNoSourceClaims: hasNoSource || showNoSourceClaims,\n      key: i,\n      placeholder: \"loading\",\n      type: type\n    });\n  })));\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_router__WEBPACK_IMPORTED_MODULE_3__[\"withRouter\"])(ClaimListDiscover));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! i18n.js */ \"../ui/i18n.js\")[\"__\"]))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L2NsYWltTGlzdERpc2NvdmVyL3ZpZXcuanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3VpL2NvbXBvbmVudC9jbGFpbUxpc3REaXNjb3Zlci92aWV3LmpzeD8wN2Y4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEBmbG93XG5pbXBvcnQgeyBFTkFCTEVfTk9fU09VUkNFX0NMQUlNUyB9IGZyb20gJ2NvbmZpZyc7XG5pbXBvcnQgdHlwZSB7IE5vZGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBDUyBmcm9tICdjb25zdGFudHMvY2xhaW1fc2VhcmNoJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB3aXRoUm91dGVyIH0gZnJvbSAncmVhY3Qtcm91dGVyJztcbmltcG9ydCB7IE1BVFVSRV9UQUdTIH0gZnJvbSAnY29uc3RhbnRzL3RhZ3MnO1xuaW1wb3J0IHsgcmVzb2x2ZUxhbmdGb3JDbGFpbVNlYXJjaCB9IGZyb20gJ3V0aWwvZGVmYXVsdC1sYW5ndWFnZXMnO1xuaW1wb3J0IHsgY3JlYXRlTm9ybWFsaXplZENsYWltU2VhcmNoS2V5IH0gZnJvbSAndXRpbC9jbGFpbSc7XG5pbXBvcnQgeyBDc09wdGlvbnMgfSBmcm9tICd1dGlsL2NsYWltLXNlYXJjaCc7XG5pbXBvcnQgeyBzcGxpdEJ5U2VwYXJhdG9yIH0gZnJvbSAndXRpbC9sYnJ5VVJJJztcbmltcG9ydCBCdXR0b24gZnJvbSAnY29tcG9uZW50L2J1dHRvbic7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgQ2xhaW1MaXN0IGZyb20gJ2NvbXBvbmVudC9jbGFpbUxpc3QnO1xuaW1wb3J0IENsYWltUHJldmlldyBmcm9tICdjb21wb25lbnQvY2xhaW1QcmV2aWV3JztcbmltcG9ydCBDbGFpbVByZXZpZXdUaWxlIGZyb20gJ2NvbXBvbmVudC9jbGFpbVByZXZpZXdUaWxlJztcbmltcG9ydCBJMThuTWVzc2FnZSBmcm9tICdjb21wb25lbnQvaTE4bk1lc3NhZ2UnO1xuaW1wb3J0IExhbmdGaWx0ZXJJbmRpY2F0b3IgZnJvbSAnY29tcG9uZW50L2xhbmdGaWx0ZXJJbmRpY2F0b3InO1xuaW1wb3J0IENsYWltTGlzdEhlYWRlciBmcm9tICdjb21wb25lbnQvY2xhaW1MaXN0SGVhZGVyJztcbmltcG9ydCB1c2VGZXRjaFZpZXdDb3VudCBmcm9tICdlZmZlY3RzL3VzZS1mZXRjaC12aWV3LWNvdW50JztcbmltcG9ydCB1c2VSZXNvbHZlUGlucyBmcm9tICdlZmZlY3RzL3VzZS1yZXNvbHZlLXBpbnMnO1xuaW1wb3J0IHsgdXNlSXNMYXJnZVNjcmVlbiB9IGZyb20gJ2VmZmVjdHMvdXNlLXNjcmVlbnNpemUnO1xuaW1wb3J0IHVzZVBlcnNpc3RlbnRVc2VyUGFyYW0gZnJvbSAnZWZmZWN0cy91c2UtcGVyc2lzdGVudC11c2VyLXBhcmFtJztcbmltcG9ydCB1c2VQZXJzaXN0ZWRTdGF0ZSBmcm9tICdlZmZlY3RzL3VzZS1wZXJzaXN0ZWQtc3RhdGUnO1xuXG50eXBlIFByb3BzID0ge1xuICB1cmlzOiBBcnJheTxzdHJpbmc+LFxuICBwcmVmaXhVcmlzPzogQXJyYXk8c3RyaW5nPixcbiAgcGlucz86IHsgdXJscz86IEFycmF5PHN0cmluZz4sIGNsYWltSWRzPzogQXJyYXk8c3RyaW5nPiwgb25seVBpbkZvck9yZGVyPzogc3RyaW5nIH0sXG4gIG5hbWU/OiBzdHJpbmcsXG4gIHR5cGU6IHN0cmluZyxcbiAgcGFnZVNpemU/OiBudW1iZXIsXG5cbiAgZmV0Y2hWaWV3Q291bnQ/OiBib29sZWFuLFxuICBoaWRlTWVtYmVyc09ubHk/OiBib29sZWFuLCAvLyB1bmRlZmluZWQgPSB1c2UgU0VUVElORy5ISURFX01FTUJFUlNfT05MWV9DT05URU5UOyB0cnVlL2ZhbHNlOiB1c2UgdGhpcyBvdmVycmlkZS5cbiAgaGlkZVJlcG9zdHNPdmVycmlkZT86IGJvb2xlYW4sIC8vIHVuZGVmaW5lZCA9IHVzZSBTRVRUSU5HUy5ISURFX1JFUE9TVFM7IHRydWUvZmFsc2U6IHVzZSB0aGlzIG92ZXJyaWRlLlxuICBoYXNOb1NvdXJjZT86IGJvb2xlYW4sXG4gIGhhc1NvdXJjZT86IGJvb2xlYW4sXG4gIGhpZGVBZHZhbmNlZEZpbHRlcj86IGJvb2xlYW4sXG4gIGhpZGVGaWx0ZXJzPzogYm9vbGVhbixcbiAgaW5jbHVkZVN1cHBvcnRBY3Rpb24/OiBib29sZWFuLFxuICBpbmZpbml0ZVNjcm9sbD86IEJvb2xlYW4sXG4gIGlzQ2hhbm5lbD86IGJvb2xlYW4sXG4gIHBlcnNvbmFsVmlldzogYm9vbGVhbixcbiAgc2hvd0hlYWRlcjogYm9vbGVhbixcbiAgc2hvd0hpZGRlbkJ5VXNlcj86IGJvb2xlYW4sXG4gIHNob3dOb1NvdXJjZUNsYWltcz86IGJvb2xlYW4sXG4gIHRpbGVMYXlvdXQ6IGJvb2xlYW4sXG4gIHNlYXJjaExhbmd1YWdlcz86IEFycmF5PHN0cmluZz4sXG4gIGlnbm9yZVNlYXJjaEluTGFuZ3VhZ2U/OiBib29sZWFuLCAvLyBOZWdhdGUgdGhlIHJlZHV4IHNldHRpbmcgd2hlcmUgaXQgZG9lc24ndCBtYWtlIHNlbnNlLlxuXG4gIG9yZGVyQnk/OiBBcnJheTxzdHJpbmc+LCAvLyBUcmVuZGluZywgTmV3LCBUb3BcbiAgZGVmYXVsdE9yZGVyQnk/OiBzdHJpbmcsXG4gIHNvcnRCeT86IEFycmF5PHN0cmluZz4sIC8vIE5ld2VzdCBGaXJzdCwgT2xkZXN0IEZpcnN0XG4gIGZyZXNobmVzcz86IHN0cmluZyxcbiAgZGVmYXVsdEZyZXNobmVzcz86IHN0cmluZyxcblxuICB0YWdzOiBzdHJpbmcsIC8vIHRoZXNlIGFyZSBqdXN0IGdvaW5nIHRvIGJlIHN0cmluZy4gcGFzcyBhIENTViBpZiB5b3Ugd2FudCBtdWx0aVxuICBub3RUYWdzPzogQXJyYXk8c3RyaW5nPixcbiAgZGVmYXVsdFRhZ3M6IHN0cmluZyxcblxuICBjbGFpbVR5cGU/OiBzdHJpbmcgfCBBcnJheTxzdHJpbmc+LFxuICBkZWZhdWx0Q2xhaW1UeXBlPzogQXJyYXk8c3RyaW5nPixcblxuICBzdHJlYW1UeXBlPzogc3RyaW5nIHwgQXJyYXk8c3RyaW5nPixcbiAgZGVmYXVsdFN0cmVhbVR5cGU/OiBzdHJpbmcgfCBBcnJheTxzdHJpbmc+LFxuXG4gIGVtcHR5Pzogc3RyaW5nLFxuICBmZWVBbW91bnQ/OiBzdHJpbmcsXG4gIHJlbGVhc2VUaW1lPzogc3RyaW5nLFxuICByZXBvc3RlZENsYWltSWQ/OiBzdHJpbmcsXG4gIHNjcm9sbEFuY2hvcj86IHN0cmluZyxcbiAgbWF4UGFnZXM/OiBudW1iZXIsXG4gIGxpbWl0Q2xhaW1zUGVyQ2hhbm5lbD86IG51bWJlcixcblxuICBjaGFubmVsSWRzPzogQXJyYXk8c3RyaW5nPixcbiAgZXhjbHVkZWRDaGFubmVsSWRzPzogQXJyYXk8c3RyaW5nPixcbiAgY2xhaW1JZHM/OiBBcnJheTxzdHJpbmc+LFxuICBzdWJzY3JpYmVkQ2hhbm5lbHM6IEFycmF5PFN1YnNjcmlwdGlvbj4sXG5cbiAgaGVhZGVyPzogTm9kZSxcbiAgaGVhZGVyTGFiZWw/OiBzdHJpbmcgfCBOb2RlLFxuICBoaWRkZW5Oc2Z3TWVzc2FnZT86IE5vZGUsXG4gIGluamVjdGVkSXRlbT86IExpc3RJbmplY3RlZEl0ZW0sXG4gIG1ldGE/OiBOb2RlLFxuICBzdWJTZWN0aW9uPzogTm9kZSwgLy8gQWRkaXRpb25hbCBzZWN0aW9uIGJlbG93IFtIZWFkZXJ8TWV0YV1cbiAgcmVuZGVyUHJvcGVydGllcz86IChDbGFpbSkgPT4gTm9kZSxcbiAgY3NPcHRpb25zSG9vaz86IChvcHRpb25zOiBhbnkpID0+IGFueSwgLy8gRmluYWwgY2xpZW50LXNpZGUgdHdlYWsgb2YgQ2xhaW0gU2VhcmNoIG9wdGlvbnMuXG5cbiAgaGlzdG9yeTogeyBhY3Rpb246IHN0cmluZywgcHVzaDogKHN0cmluZykgPT4gdm9pZCwgcmVwbGFjZTogKHN0cmluZykgPT4gdm9pZCB9LFxuICBsb2NhdGlvbjogeyBzZWFyY2g6IHN0cmluZywgcGF0aG5hbWU6IHN0cmluZyB9LFxuXG4gIC8vIC0tLSBzZWxlY3QgLS0tXG4gIGZvbGxvd2VkVGFncz86IEFycmF5PFRhZz4sXG4gIGNsYWltU2VhcmNoQnlRdWVyeTogeyBbc3RyaW5nXTogQXJyYXk8c3RyaW5nPiB9LFxuICBjbGFpbVNlYXJjaEJ5UXVlcnlMYXN0UGFnZVJlYWNoZWQ6IHsgW3N0cmluZ106IGJvb2xlYW4gfSxcbiAgY2xhaW1zQnlVcmk6IHsgW3N0cmluZ106IGFueSB9LFxuICBjbGFpbXNCeUlkOiB7IFtzdHJpbmddOiBhbnkgfSxcbiAgbG9hZGluZzogYm9vbGVhbixcbiAgc2hvd05zZnc6IGJvb2xlYW4sXG4gIGhpZGVSZXBvc3RzOiBib29sZWFuLFxuICBsYW5ndWFnZVNldHRpbmc6IHN0cmluZyxcbiAgbXV0ZWRVcmlzOiBBcnJheTxzdHJpbmc+LFxuICBibG9ja2VkVXJpczogQXJyYXk8c3RyaW5nPixcbiAgc2VhcmNoSW5MYW5ndWFnZTogYm9vbGVhbixcblxuICAvLyAtLS0gcGVyZm9ybSAtLS1cbiAgZG9DbGFpbVNlYXJjaDogKHt9KSA9PiB2b2lkLFxuICBkb0ZldGNoVmlld0NvdW50OiAoY2xhaW1JZENzdjogc3RyaW5nKSA9PiB2b2lkLFxuICBkb0ZldGNoT2R5c2VlTWVtYmVyc2hpcEZvckNoYW5uZWxJZHM6IChjbGFpbUlkczogQ2xhaW1JZHMpID0+IHZvaWQsXG4gIGRvUmVzb2x2ZUNsYWltSWRzOiAoQXJyYXk8c3RyaW5nPikgPT4gUHJvbWlzZTxhbnk+LFxuICBkb1Jlc29sdmVVcmlzOiAoQXJyYXk8c3RyaW5nPiwgYm9vbGVhbikgPT4gUHJvbWlzZTxhbnk+LFxuXG4gIGhpZGVMYXlvdXRCdXR0b24/OiBib29sZWFuLFxuICBsb2FkZWRDYWxsYmFjaz86IChudW1iZXIpID0+IHZvaWQsXG4gIG1heENsYWltUmVuZGVyPzogbnVtYmVyLFxuICB1c2VTa2VsZXRvblNjcmVlbj86IGJvb2xlYW4sXG4gIGV4Y2x1ZGVVcmlzPzogQXJyYXk8c3RyaW5nPixcbiAgZG9HZXRNZW1iZXJzaGlwVGllcnNGb3JDb250ZW50Q2xhaW1JZHM6ICh0eXBlOiBzdHJpbmcpID0+IHZvaWQsXG5cbiAgc3dpcGVMYXlvdXQ6IGJvb2xlYW4sXG59O1xuXG5mdW5jdGlvbiBDbGFpbUxpc3REaXNjb3Zlcihwcm9wczogUHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGRvQ2xhaW1TZWFyY2gsXG4gICAgY2xhaW1TZWFyY2hCeVF1ZXJ5LFxuICAgIHNob3dIZWFkZXIgPSB0cnVlLFxuICAgIHR5cGUsXG4gICAgY2xhaW1TZWFyY2hCeVF1ZXJ5TGFzdFBhZ2VSZWFjaGVkLFxuICAgIHRhZ3MsXG4gICAgbm90VGFncyxcbiAgICBkZWZhdWx0VGFncyxcbiAgICBsb2FkaW5nLFxuICAgIG1ldGEsXG4gICAgc3ViU2VjdGlvbixcbiAgICBjaGFubmVsSWRzLFxuICAgIGV4Y2x1ZGVkQ2hhbm5lbElkcyxcbiAgICBzaG93TnNmdyxcbiAgICBoaWRlUmVwb3N0cyxcbiAgICBmZXRjaFZpZXdDb3VudCxcbiAgICBoaXN0b3J5LFxuICAgIGxvY2F0aW9uLFxuICAgIG11dGVkVXJpcyxcbiAgICBibG9ja2VkVXJpcyxcbiAgICBoaWRkZW5Oc2Z3TWVzc2FnZSxcbiAgICBkZWZhdWx0T3JkZXJCeSxcbiAgICBzb3J0QnksXG4gICAgb3JkZXJCeSxcbiAgICBoZWFkZXJMYWJlbCxcbiAgICBoZWFkZXIsXG4gICAgbmFtZSxcbiAgICBjbGFpbVR5cGUsXG4gICAgZGVmYXVsdENsYWltVHlwZSxcbiAgICBzdHJlYW1UeXBlLFxuICAgIGRlZmF1bHRTdHJlYW1UeXBlLFxuICAgIGZyZXNobmVzcyxcbiAgICBkZWZhdWx0RnJlc2huZXNzID0gQ1MuRlJFU0hfV0VFSyxcbiAgICByZW5kZXJQcm9wZXJ0aWVzLFxuICAgIGNzT3B0aW9uc0hvb2ssXG4gICAgaW5jbHVkZVN1cHBvcnRBY3Rpb24sXG4gICAgcmVwb3N0ZWRDbGFpbUlkLFxuICAgIGhpZGVBZHZhbmNlZEZpbHRlcixcbiAgICBoaWRlTWVtYmVyc09ubHksXG4gICAgaW5maW5pdGVTY3JvbGwgPSB0cnVlLFxuICAgIGZvbGxvd2VkVGFncyxcbiAgICBpbmplY3RlZEl0ZW0sXG4gICAgZmVlQW1vdW50LFxuICAgIHVyaXMsXG4gICAgcHJlZml4VXJpcyxcbiAgICBwaW5zLFxuICAgIHRpbGVMYXlvdXQsXG4gICAgaGlkZUZpbHRlcnMgPSBmYWxzZSxcbiAgICBjbGFpbUlkcyxcbiAgICBtYXhQYWdlcyxcbiAgICBoaWRlUmVwb3N0c092ZXJyaWRlLFxuICAgIGxhbmd1YWdlU2V0dGluZyxcbiAgICBzZWFyY2hMYW5ndWFnZXMsXG4gICAgc2VhcmNoSW5MYW5ndWFnZSxcbiAgICBpZ25vcmVTZWFyY2hJbkxhbmd1YWdlLFxuICAgIGxpbWl0Q2xhaW1zUGVyQ2hhbm5lbCxcbiAgICByZWxlYXNlVGltZSxcbiAgICBzY3JvbGxBbmNob3IsXG4gICAgc2hvd0hpZGRlbkJ5VXNlciA9IGZhbHNlLFxuICAgIGhhc1NvdXJjZSxcbiAgICBoYXNOb1NvdXJjZSxcbiAgICBpc0NoYW5uZWwgPSBmYWxzZSxcbiAgICBzaG93Tm9Tb3VyY2VDbGFpbXMsXG4gICAgZW1wdHksXG4gICAgY2xhaW1zQnlVcmksXG4gICAgY2xhaW1zQnlJZCxcbiAgICBkb0ZldGNoVmlld0NvdW50LFxuICAgIGhpZGVMYXlvdXRCdXR0b24gPSBmYWxzZSxcbiAgICBsb2FkZWRDYWxsYmFjayxcbiAgICBtYXhDbGFpbVJlbmRlcixcbiAgICB1c2VTa2VsZXRvblNjcmVlbiA9IHRydWUsXG4gICAgZXhjbHVkZVVyaXMgPSBbXSxcbiAgICBkb0ZldGNoT2R5c2VlTWVtYmVyc2hpcEZvckNoYW5uZWxJZHMsXG4gICAgc3dpcGVMYXlvdXQgPSBmYWxzZSxcbiAgICBkb1Jlc29sdmVVcmlzLFxuICAgIGRvUmVzb2x2ZUNsYWltSWRzLFxuICAgIGRvR2V0TWVtYmVyc2hpcFRpZXJzRm9yQ29udGVudENsYWltSWRzLFxuICB9ID0gcHJvcHM7XG5cbiAgY29uc3QgcmVzb2x2ZWRQaW5VcmlzID0gdXNlUmVzb2x2ZVBpbnMoeyBwaW5zLCBjbGFpbXNCeUlkLCBkb1Jlc29sdmVDbGFpbUlkcywgZG9SZXNvbHZlVXJpcyB9KTtcbiAgY29uc3QgZGlkTmF2aWdhdGVGb3J3YXJkID0gaGlzdG9yeS5hY3Rpb24gPT09ICdQVVNIJztcbiAgY29uc3QgeyBzZWFyY2ggfSA9IGxvY2F0aW9uO1xuICBjb25zdCBwcmV2VXJpcyA9IFJlYWN0LnVzZVJlZigpO1xuICBjb25zdCBbcGFnZSwgc2V0UGFnZV0gPSBSZWFjdC51c2VTdGF0ZSgxKTtcbiAgY29uc3QgW2ZvcmNlUmVmcmVzaCwgc2V0Rm9yY2VSZWZyZXNoXSA9IFJlYWN0LnVzZVN0YXRlKCk7XG4gIGNvbnN0IGlzTGFyZ2VTY3JlZW4gPSB1c2VJc0xhcmdlU2NyZWVuKCk7XG4gIGNvbnN0IGZvbGxvd2VkID0gKGZvbGxvd2VkVGFncyAmJiBmb2xsb3dlZFRhZ3MubWFwKCh0KSA9PiB0Lm5hbWUpKSB8fCBbXTtcbiAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhzZWFyY2gpO1xuICBjb25zdCB0YWdzUGFyYW0gPSAvLyBjYW4gYmUgJ3gseSx6JyBvciAneCcgb3IgWyd4JywneSddIG9yIENTLkNPTlNUQU5UXG4gICAgKHRhZ3MgJiYgZ2V0UGFyYW1Gcm9tVGFncyh0YWdzKSkgfHxcbiAgICAodXJsUGFyYW1zLmdldChDUy5UQUdTX0tFWSkgIT09IG51bGwgJiYgdXJsUGFyYW1zLmdldChDUy5UQUdTX0tFWSkpIHx8XG4gICAgKGRlZmF1bHRUYWdzICYmIGdldFBhcmFtRnJvbVRhZ3MoZGVmYXVsdFRhZ3MpKTtcbiAgY29uc3QgZnJlc2huZXNzUGFyYW0gPSBmcmVzaG5lc3MgfHwgdXJsUGFyYW1zLmdldChDUy5GUkVTSF9LRVkpIHx8IGRlZmF1bHRGcmVzaG5lc3M7XG4gIGNvbnN0IHNvcnRCeVBhcmFtID0gc29ydEJ5IHx8IHVybFBhcmFtcy5nZXQoQ1MuU09SVF9CWV9LRVkpIHx8IENTLlNPUlRfQlkuTkVXRVNULmtleTtcbiAgY29uc3QgbXV0ZWRBbmRCbG9ja2VkQ2hhbm5lbElkcyA9IEFycmF5LmZyb20oXG4gICAgbmV3IFNldChtdXRlZFVyaXMuY29uY2F0KGJsb2NrZWRVcmlzKS5tYXAoKHVyaSkgPT4gc3BsaXRCeVNlcGFyYXRvcih1cmkpWzFdKSlcbiAgKTtcbiAgY29uc3QgW2hpZGRlbkJ1ZmZlciwgc2V0SGlkZGVuQnVmZmVyXSA9IFJlYWN0LnVzZVN0YXRlKFtdKTtcbiAgY29uc3QgaGlkZVJlcG9zdHNFZmZlY3RpdmUgPSByZXNvbHZlSGlkZVJlcG9zdHMoaGlkZVJlcG9zdHMsIGhpZGVSZXBvc3RzT3ZlcnJpZGUpO1xuXG4gIGNvbnN0IGxhbmdQYXJhbSA9IHVybFBhcmFtcy5nZXQoQ1MuTEFOR1VBR0VfS0VZKSB8fCBudWxsO1xuICBjb25zdCBzZWFyY2hJblNlbGVjdGVkTGFuZyA9IHNlYXJjaEluTGFuZ3VhZ2UgJiYgIWlnbm9yZVNlYXJjaEluTGFuZ3VhZ2U7XG4gIGNvbnN0IGxhbmd1YWdlUGFyYW1zID0gcmVzb2x2ZUxhbmdGb3JDbGFpbVNlYXJjaChsYW5ndWFnZVNldHRpbmcsIHNlYXJjaEluU2VsZWN0ZWRMYW5nLCBzZWFyY2hMYW5ndWFnZXMsIGxhbmdQYXJhbSk7XG5cbiAgbGV0IGNsYWltVHlwZVBhcmFtID0gY2xhaW1UeXBlIHx8IGRlZmF1bHRDbGFpbVR5cGUgfHwgbnVsbDtcbiAgbGV0IHN0cmVhbVR5cGVQYXJhbSA9IHN0cmVhbVR5cGUgfHwgZGVmYXVsdFN0cmVhbVR5cGUgfHwgbnVsbDtcblxuICBjb25zdCBjb250ZW50VHlwZVBhcmFtID0gdXJsUGFyYW1zLmdldChDUy5DT05URU5UX0tFWSk7XG4gIGlmIChjb250ZW50VHlwZVBhcmFtKSB7XG4gICAgc3dpdGNoIChjb250ZW50VHlwZVBhcmFtKSB7XG4gICAgICBjYXNlIENTLkNMQUlNX0NPTExFQ1RJT046XG4gICAgICAgIGNsYWltVHlwZVBhcmFtID0gY29udGVudFR5cGVQYXJhbTtcbiAgICAgICAgc3RyZWFtVHlwZVBhcmFtID0gdW5kZWZpbmVkO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ1MuQ0xBSU1fUkVQT1NUOlxuICAgICAgICBjbGFpbVR5cGVQYXJhbSA9IGNvbnRlbnRUeXBlUGFyYW07XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIENTLkNMQUlNX0NIQU5ORUw6XG4gICAgICAgIGNsYWltVHlwZVBhcmFtID0gQ1MuQ0xBSU1fQ0hBTk5FTDtcbiAgICAgICAgc3RyZWFtVHlwZVBhcmFtID0gdW5kZWZpbmVkO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBDUy5GSUxFX1ZJREVPOlxuICAgICAgY2FzZSBDUy5GSUxFX0FVRElPOlxuICAgICAgY2FzZSBDUy5GSUxFX0lNQUdFOlxuICAgICAgY2FzZSBDUy5GSUxFX01PREVMOlxuICAgICAgY2FzZSBDUy5GSUxFX0JJTkFSWTpcbiAgICAgIGNhc2UgQ1MuRklMRV9ET0NVTUVOVDpcbiAgICAgICAgc3RyZWFtVHlwZVBhcmFtID0gY29udGVudFR5cGVQYXJhbTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgQ1MuQ09OVEVOVF9BTEw6XG4gICAgICAgIGNsYWltVHlwZVBhcmFtID0gdW5kZWZpbmVkO1xuICAgICAgICBzdHJlYW1UeXBlUGFyYW0gPSB1bmRlZmluZWQ7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb25zb2xlLmxvZygnSW52YWxpZCBvciB1bmhhbmRsZWQgQ09OVEVOVF9LRVk6JywgY29udGVudFR5cGVQYXJhbSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBjb25zdCBkdXJhdGlvblBhcmFtID0gdXNlUGVyc2lzdGVudFVzZXJQYXJhbShbdXJsUGFyYW1zLmdldChDUy5EVVJBVElPTl9LRVkpIHx8IENTLkRVUkFUSU9OX0FMTF0sICdkdXJVc2VyJywgbnVsbCk7XG4gIGNvbnN0IFtkdXJhdGlvbk1pbnV0ZXNdID0gdXNlUGVyc2lzdGVkU3RhdGUoYGR1clVzZXJNaW51dGVzLSR7bG9jYXRpb24ucGF0aG5hbWV9YCwgNSk7XG4gIGNvbnN0IGNoYW5uZWxJZHNJblVybCA9IHVybFBhcmFtcy5nZXQoQ1MuQ0hBTk5FTF9JRFNfS0VZKTtcbiAgY29uc3QgY2hhbm5lbElkc1BhcmFtID0gY2hhbm5lbElkc0luVXJsID8gY2hhbm5lbElkc0luVXJsLnNwbGl0KCcsJykgOiBjaGFubmVsSWRzO1xuICBjb25zdCBleGNsdWRlZElkc1BhcmFtID0gZXhjbHVkZWRDaGFubmVsSWRzO1xuICBjb25zdCBmZWVBbW91bnRQYXJhbSA9IHVybFBhcmFtcy5nZXQoJ2ZlZV9hbW91bnQnKSB8fCBmZWVBbW91bnQ7XG4gIGNvbnN0IG9yaWdpbmFsUGFnZVNpemUgPSAxMjtcbiAgY29uc3QgZHluYW1pY1BhZ2VTaXplID0gaXNMYXJnZVNjcmVlbiA/IE1hdGguY2VpbCgob3JpZ2luYWxQYWdlU2l6ZSAvIDIpICogNikgOiBNYXRoLmNlaWwoKG9yaWdpbmFsUGFnZVNpemUgLyAyKSAqIDQpO1xuICBjb25zdCBvcmRlclBhcmFtID0gdXNlUGVyc2lzdGVudFVzZXJQYXJhbShcbiAgICBbb3JkZXJCeSwgdXJsUGFyYW1zLmdldChDUy5PUkRFUl9CWV9LRVkpLCBkZWZhdWx0T3JkZXJCeV0sXG4gICAgJ29yZGVyVXNlcicsXG4gICAgQ1MuT1JERVJfQllfVFJFTkRJTkdcbiAgKTtcblxuICBsZXQgb3B0aW9uczoge1xuICAgIHBhZ2Vfc2l6ZTogbnVtYmVyLFxuICAgIHBhZ2U6IG51bWJlcixcbiAgICBub190b3RhbHM6IGJvb2xlYW4sXG4gICAgYW55X3RhZ3M/OiBBcnJheTxzdHJpbmc+LFxuICAgIGFueV9sYW5ndWFnZXM/OiBBcnJheTxzdHJpbmc+LFxuICAgIG5vdF90YWdzOiBBcnJheTxzdHJpbmc+LFxuICAgIGNoYW5uZWxfaWRzPzogQXJyYXk8c3RyaW5nPixcbiAgICBjbGFpbV9pZHM/OiBBcnJheTxzdHJpbmc+LFxuICAgIG5vdF9jaGFubmVsX2lkcz86IEFycmF5PHN0cmluZz4sXG4gICAgb3JkZXJfYnk6IEFycmF5PHN0cmluZz4sXG4gICAgcmVsZWFzZV90aW1lPzogc3RyaW5nLFxuICAgIGNsYWltX3R5cGU/OiBzdHJpbmcgfCBBcnJheTxzdHJpbmc+LFxuICAgIG5hbWU/OiBzdHJpbmcsXG4gICAgZHVyYXRpb24/OiBzdHJpbmcsXG4gICAgcmVwb3N0ZWRfY2xhaW1faWQ/OiBzdHJpbmcsXG4gICAgc3RyZWFtX3R5cGVzPzogYW55LFxuICAgIGZlZV9hbW91bnQ/OiBzdHJpbmcsXG4gICAgaGFzX3NvdXJjZT86IGJvb2xlYW4sXG4gICAgaGFzX25vX3NvdXJjZT86IGJvb2xlYW4sXG4gICAgbGltaXRfY2xhaW1zX3Blcl9jaGFubmVsPzogbnVtYmVyLFxuICAgIHJlbW92ZV9kdXBsaWNhdGVzPzogYm9vbGVhbixcbiAgfSA9IHtcbiAgICBwYWdlX3NpemU6IGR5bmFtaWNQYWdlU2l6ZSxcbiAgICBwYWdlLFxuICAgIG5hbWUsXG4gICAgY2xhaW1fdHlwZTogY2xhaW1UeXBlIHx8IFsnc3RyZWFtJywgJ3JlcG9zdCcsICdjaGFubmVsJ10sXG4gICAgLy8gbm9fdG90YWxzIG1ha2VzIGl0IHNvIHRoZSBzZGsgZG9lc24ndCBoYXZlIHRvIGNhbGN1bGF0ZSB0b3RhbCBudW1iZXIgcGFnZXMgZm9yIHBhZ2luYXRpb25cbiAgICAvLyBpdCdzIGZhc3RlciwgYnV0IHdlIHdpbGwgbmVlZCB0byByZW1vdmUgaXQgaWYgd2Ugc3RhcnQgdXNpbmcgdG90YWxfcGFnZXNcbiAgICBub190b3RhbHM6IHRydWUsXG4gICAgbm90X2NoYW5uZWxfaWRzOiBpc0NoYW5uZWwgPyB1bmRlZmluZWQgOiBtdXRlZEFuZEJsb2NrZWRDaGFubmVsSWRzLFxuICAgIG5vdF90YWdzOiBDc09wdGlvbnMubm90X3RhZ3Mobm90VGFncywgc2hvd05zZncsIGhpZGVNZW1iZXJzT25seSksXG4gICAgb3JkZXJfYnk6IHJlc29sdmVPcmRlckJ5T3B0aW9uKG9yZGVyUGFyYW0sIHNvcnRCeVBhcmFtKSxcbiAgICByZW1vdmVfZHVwbGljYXRlczogaXNDaGFubmVsID8gdW5kZWZpbmVkIDogdHJ1ZSxcbiAgfTtcblxuICBpZiAoRU5BQkxFX05PX1NPVVJDRV9DTEFJTVMgJiYgaGFzTm9Tb3VyY2UpIHtcbiAgICBvcHRpb25zLmhhc19ub19zb3VyY2UgPSB0cnVlO1xuICB9IGVsc2UgaWYgKGhhc1NvdXJjZSB8fCAoIUVOQUJMRV9OT19TT1VSQ0VfQ0xBSU1TICYmICghY2xhaW1UeXBlIHx8IGNsYWltVHlwZSA9PT0gJ3N0cmVhbScpKSkge1xuICAgIG9wdGlvbnMuaGFzX3NvdXJjZSA9IHRydWU7XG4gIH1cblxuICBpZiAobGltaXRDbGFpbXNQZXJDaGFubmVsKSB7XG4gICAgb3B0aW9ucy5saW1pdF9jbGFpbXNfcGVyX2NoYW5uZWwgPSBsaW1pdENsYWltc1BlckNoYW5uZWw7XG4gIH1cblxuICBpZiAoZmVlQW1vdW50UGFyYW0gJiYgY2xhaW1UeXBlICE9PSBDUy5DTEFJTV9DSEFOTkVMKSB7XG4gICAgb3B0aW9ucy5mZWVfYW1vdW50ID0gZmVlQW1vdW50UGFyYW07XG4gIH1cblxuICBpZiAoY2xhaW1JZHMpIHtcbiAgICBvcHRpb25zLmNsYWltX2lkcyA9IGNsYWltSWRzO1xuICB9XG5cbiAgaWYgKGNoYW5uZWxJZHNQYXJhbSkge1xuICAgIG9wdGlvbnMuY2hhbm5lbF9pZHMgPSBjaGFubmVsSWRzUGFyYW07XG4gIH1cblxuICBpZiAoZXhjbHVkZWRJZHNQYXJhbSkge1xuICAgIG9wdGlvbnMubm90X2NoYW5uZWxfaWRzID0gKG9wdGlvbnMubm90X2NoYW5uZWxfaWRzIHx8IFtdKS5jb25jYXQoZXhjbHVkZWRJZHNQYXJhbSk7XG4gIH1cblxuICBpZiAodGFnc1BhcmFtKSB7XG4gICAgaWYgKHRhZ3NQYXJhbSAhPT0gQ1MuVEFHU19BTEwgJiYgdGFnc1BhcmFtICE9PSAnJykge1xuICAgICAgaWYgKHRhZ3NQYXJhbSA9PT0gQ1MuVEFHU19GT0xMT1dFRCkge1xuICAgICAgICBvcHRpb25zLmFueV90YWdzID0gZm9sbG93ZWQ7XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodGFnc1BhcmFtKSkge1xuICAgICAgICBvcHRpb25zLmFueV90YWdzID0gdGFnc1BhcmFtO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9ucy5hbnlfdGFncyA9IHRhZ3NQYXJhbS5zcGxpdCgnLCcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChyZXBvc3RlZENsYWltSWQpIHtcbiAgICAvLyBTREsgY2hva2VzIG9uIHJlcG9zdGVkX2NsYWltX2lkIG9mIG51bGwgb3IgZmFsc2UsIG5lZWRzIHRvIG5vdCBiZSBwcmVzZW50IGlmIG5vIHZhbHVlXG4gICAgb3B0aW9ucy5yZXBvc3RlZF9jbGFpbV9pZCA9IHJlcG9zdGVkQ2xhaW1JZDtcbiAgfVxuICAvLyBJRiByZWxlYXNlIHRpbWUsIHNldCBpdCwgZWxzZSBzZXQgZmFsbGJhY2sgcmVsZWFzZSB0aW1lcyB1c2luZyB0aGUgaGFjayBiZWxvdy5cbiAgaWYgKHJlbGVhc2VUaW1lICYmIGNsYWltVHlwZVBhcmFtICE9PSBDUy5DTEFJTV9DSEFOTkVMKSB7XG4gICAgb3B0aW9ucy5yZWxlYXNlX3RpbWUgPSByZWxlYXNlVGltZTtcbiAgfSBlbHNlIGlmIChjbGFpbVR5cGVQYXJhbSAhPT0gQ1MuQ0xBSU1fQ0hBTk5FTCkge1xuICAgIGlmIChvcmRlclBhcmFtID09PSBDUy5PUkRFUl9CWV9UT1AgJiYgZnJlc2huZXNzUGFyYW0gIT09IENTLkZSRVNIX0FMTCkge1xuICAgICAgb3B0aW9ucy5yZWxlYXNlX3RpbWUgPSBgPiR7TWF0aC5mbG9vcihtb21lbnQoKS5zdWJ0cmFjdCgxLCBmcmVzaG5lc3NQYXJhbSkuc3RhcnRPZignaG91cicpLnVuaXgoKSl9YDtcbiAgICB9IGVsc2UgaWYgKG9yZGVyUGFyYW0gPT09IENTLk9SREVSX0JZX05FVyB8fCBvcmRlclBhcmFtID09PSBDUy5PUkRFUl9CWV9UUkVORElORykge1xuICAgICAgLy8gV2FybmluZyAtIGhhY2sgYmVsb3dcbiAgICAgIC8vIElmIHVzZXJzIGFyZSBmb2xsb3dpbmcgbW9yZSB0aGFuIDEwIGNoYW5uZWxzIG9yIHRhZ3MsIGxpbWl0IHJlc3VsdHMgdG8gc3R1ZmYgbGVzcyB0aGFuIGEgeWVhciBvbGRcbiAgICAgIC8vIEZvciBtb3JlIHRoYW4gMjAsIGRyb3AgaXQgZG93biB0byA2IG1vbnRoc1xuICAgICAgLy8gVGhpcyBoZWxwcyB3aXRoIHRpbWVvdXQgaXNzdWVzIGZvciB1c2VycyB0aGF0IGFyZSBmb2xsb3dpbmcgYSB0b24gb2Ygc3R1ZmZcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9sYnJ5aW8vbGJyeS1zZGsvaXNzdWVzLzI0MjBcbiAgICAgIGlmIChcbiAgICAgICAgKG9wdGlvbnMuY2hhbm5lbF9pZHMgJiYgb3B0aW9ucy5jaGFubmVsX2lkcy5sZW5ndGggPiAyMCkgfHxcbiAgICAgICAgKG9wdGlvbnMuYW55X3RhZ3MgJiYgb3B0aW9ucy5hbnlfdGFncy5sZW5ndGggPiAyMClcbiAgICAgICkge1xuICAgICAgICBvcHRpb25zLnJlbGVhc2VfdGltZSA9IGA+JHtNYXRoLmZsb29yKG1vbWVudCgpLnN1YnRyYWN0KDMsIENTLkZSRVNIX01PTlRIKS5zdGFydE9mKCd3ZWVrJykudW5peCgpKX1gO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgKG9wdGlvbnMuY2hhbm5lbF9pZHMgJiYgb3B0aW9ucy5jaGFubmVsX2lkcy5sZW5ndGggPiAxMCkgfHxcbiAgICAgICAgKG9wdGlvbnMuYW55X3RhZ3MgJiYgb3B0aW9ucy5hbnlfdGFncy5sZW5ndGggPiAxMClcbiAgICAgICkge1xuICAgICAgICBvcHRpb25zLnJlbGVhc2VfdGltZSA9IGA+JHtNYXRoLmZsb29yKG1vbWVudCgpLnN1YnRyYWN0KDEsIENTLkZSRVNIX1lFQVIpLnN0YXJ0T2YoJ3dlZWsnKS51bml4KCkpfWA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBIYWNrIGZvciBhdCBsZWFzdCB0aGUgTmV3IHBhZ2UgdW50aWwgaHR0cHM6Ly9naXRodWIuY29tL2xicnlpby9sYnJ5LXNkay9pc3N1ZXMvMjU5MSBpcyBmaXhlZFxuICAgICAgICBvcHRpb25zLnJlbGVhc2VfdGltZSA9IGA8JHtNYXRoLmZsb29yKG1vbWVudCgpLnN0YXJ0T2YoJ21pbnV0ZScpLnVuaXgoKSl9YDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoZHVyYXRpb25QYXJhbSkge1xuICAgIHN3aXRjaCAoZHVyYXRpb25QYXJhbSkge1xuICAgICAgY2FzZSBDUy5EVVJBVElPTl9BTEw6XG4gICAgICAgIC8vIERvIG5vdGhpbmcgKG5vIG9wdGlvbnMgbmVlZGVkKVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ1MuRFVSQVRJT05fU0hPUlQ6XG4gICAgICAgIG9wdGlvbnMuZHVyYXRpb24gPSAnPD0yNDAnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ1MuRFVSQVRJT05fTE9ORzpcbiAgICAgICAgb3B0aW9ucy5kdXJhdGlvbiA9ICc+PTEyMDAnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ1MuRFVSQVRJT05fR1RfRVE6XG4gICAgICAgIG9wdGlvbnMuZHVyYXRpb24gPSBgPj0keyhkdXJhdGlvbk1pbnV0ZXMgfHwgMCkgKiA2MH1gO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ1MuRFVSQVRJT05fTFRfRVE6XG4gICAgICAgIG9wdGlvbnMuZHVyYXRpb24gPSBgPD0keyhkdXJhdGlvbk1pbnV0ZXMgfHwgMCkgKiA2MH1gO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuaGFuZGxlZCBkdXJhdGlvbjogJyArIGR1cmF0aW9uUGFyYW0pO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoc3RyZWFtVHlwZVBhcmFtICYmIHN0cmVhbVR5cGVQYXJhbSAhPT0gQ1MuQ09OVEVOVF9BTEwgJiYgY2xhaW1UeXBlICE9PSBDUy5DTEFJTV9DSEFOTkVMKSB7XG4gICAgb3B0aW9ucy5zdHJlYW1fdHlwZXMgPSB0eXBlb2Ygc3RyZWFtVHlwZVBhcmFtID09PSAnc3RyaW5nJyA/IFtzdHJlYW1UeXBlUGFyYW1dIDogc3RyZWFtVHlwZVBhcmFtO1xuICB9XG5cbiAgaWYgKGNsYWltVHlwZVBhcmFtKSB7XG4gICAgaWYgKGNsYWltVHlwZVBhcmFtICE9PSBDUy5DT05URU5UX0FMTCkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2xhaW1UeXBlUGFyYW0pKSB7XG4gICAgICAgIG9wdGlvbnMuY2xhaW1fdHlwZSA9IGNsYWltVHlwZVBhcmFtO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9ucy5jbGFpbV90eXBlID0gW2NsYWltVHlwZVBhcmFtXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAobGFuZ3VhZ2VQYXJhbXMpIHtcbiAgICBpZiAobGFuZ3VhZ2VQYXJhbXMgIT09IENTLkxBTkdVQUdFU19BTEwpIHtcbiAgICAgIG9wdGlvbnMuYW55X2xhbmd1YWdlcyA9IGxhbmd1YWdlUGFyYW1zLnNwbGl0KCcsJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHRhZ3NQYXJhbSkge1xuICAgIGlmICh0YWdzUGFyYW0gIT09IENTLlRBR1NfQUxMICYmIHRhZ3NQYXJhbSAhPT0gJycpIHtcbiAgICAgIGlmICh0YWdzUGFyYW0gPT09IENTLlRBR1NfRk9MTE9XRUQpIHtcbiAgICAgICAgb3B0aW9ucy5hbnlfdGFncyA9IGZvbGxvd2VkO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRhZ3NQYXJhbSkpIHtcbiAgICAgICAgb3B0aW9ucy5hbnlfdGFncyA9IHRhZ3NQYXJhbTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbnMuYW55X3RhZ3MgPSB0YWdzUGFyYW0uc3BsaXQoJywnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoaGlkZVJlcG9zdHNFZmZlY3RpdmUgJiYgIW9wdGlvbnMucmVwb3N0ZWRfY2xhaW1faWQpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zLmNsYWltX3R5cGUpKSB7XG4gICAgICBpZiAob3B0aW9ucy5jbGFpbV90eXBlLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgb3B0aW9ucy5jbGFpbV90eXBlID0gb3B0aW9ucy5jbGFpbV90eXBlLmZpbHRlcigoY2xhaW1UeXBlKSA9PiBjbGFpbVR5cGUgIT09ICdyZXBvc3QnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucy5jbGFpbV90eXBlID0gWydzdHJlYW0nLCAnY2hhbm5lbCddO1xuICAgIH1cbiAgfVxuXG4gIGlmIChjc09wdGlvbnNIb29rKSB7XG4gICAgb3B0aW9ucyA9IGNzT3B0aW9uc0hvb2sob3B0aW9ucyk7XG4gIH1cblxuICBjb25zdCBoYXNNYXR1cmVUYWdzID0gdGFnc1BhcmFtICYmIHRhZ3NQYXJhbS5zcGxpdCgnLCcpLnNvbWUoKHQpID0+IE1BVFVSRV9UQUdTLmluY2x1ZGVzKHQpKTtcblxuICBjb25zdCBzZWFyY2hLZXkgPSBjcmVhdGVOb3JtYWxpemVkQ2xhaW1TZWFyY2hLZXkob3B0aW9ucyk7XG4gIGNvbnN0IGNsYWltU2VhcmNoUmVzdWx0ID0gY2xhaW1TZWFyY2hCeVF1ZXJ5W3NlYXJjaEtleV07XG4gIGNvbnN0IGNsYWltU2VhcmNoUmVzdWx0TGFzdFBhZ2VSZWFjaGVkID0gY2xhaW1TZWFyY2hCeVF1ZXJ5TGFzdFBhZ2VSZWFjaGVkW3NlYXJjaEtleV07XG4gIGNvbnN0IGlzVW5mZXRjaGVkQ2xhaW1TZWFyY2ggPSBjbGFpbVNlYXJjaFJlc3VsdCA9PT0gdW5kZWZpbmVkO1xuXG4gIC8vIHVuY29tbWVudCB0byBmaXggYW4gaXRlbSBvbiBhIHBhZ2VcbiAgLy8gICBjb25zdCBmaXhVcmkgPSAnbGJyeTovL0Bjb3JiZXR0cmVwb3J0IzAvbGJyeW9keXNlZSM1JztcbiAgLy8gICBpZiAoXG4gIC8vICAgICBvcmRlclBhcmFtID09PSBDUy5PUkRFUl9CWV9ORVcgJiZcbiAgLy8gICAgIGNsYWltU2VhcmNoUmVzdWx0ICYmXG4gIC8vICAgICBjbGFpbVNlYXJjaFJlc3VsdC5sZW5ndGggPiAyICYmXG4gIC8vICAgICB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT09ICcvJC9yYWJiaXRob2xlJ1xuICAvLyAgICkge1xuICAvLyAgICAgaWYgKGNsYWltU2VhcmNoUmVzdWx0LmluZGV4T2YoZml4VXJpKSAhPT0gLTEpIHtcbiAgLy8gICAgICAgY2xhaW1TZWFyY2hSZXN1bHQuc3BsaWNlKGNsYWltU2VhcmNoUmVzdWx0LmluZGV4T2YoZml4VXJpKSwgMSk7XG4gIC8vICAgICB9IGVsc2Uge1xuICAvLyAgICAgICBjbGFpbVNlYXJjaFJlc3VsdC5wb3AoKTtcbiAgLy8gICAgIH1cbiAgLy8gICAgIGNsYWltU2VhcmNoUmVzdWx0LnNwbGljZSgyLCAwLCBmaXhVcmkpO1xuICAvLyAgIH1cblxuICBjb25zdCBbcHJldk9wdGlvbnMsIHNldFByZXZPcHRpb25zXSA9IFJlYWN0LnVzZVN0YXRlKG51bGwpO1xuXG4gIGlmICghaXNKdXN0U2Nyb2xsaW5nVG9OZXdQYWdlKHByZXZPcHRpb25zLCBvcHRpb25zKSkge1xuICAgIC8vIC0tLSBOZXcgc2VhcmNoLCBvciBzZWFyY2ggb3B0aW9ucyBjaGFuZ2VkLlxuICAgIHNldFByZXZPcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgaWYgKGRpZE5hdmlnYXRlRm9yd2FyZCkge1xuICAgICAgLy8gLS0tIFJlc2V0IHRoZSBwYWdlLlxuICAgICAgb3B0aW9ucy5wYWdlID0gMTtcbiAgICAgIHNldFBhZ2Uob3B0aW9ucy5wYWdlKTtcbiAgICB9IGVsc2UgaWYgKGNsYWltU2VhcmNoUmVzdWx0KSB7XG4gICAgICAvLyAtLS0gVXBkYXRlICdwYWdlJyBiYXNlZCBvbiByZXRyaWV2ZWQgJ2NsYWltU2VhcmNoUmVzdWx0Jy5cbiAgICAgIG9wdGlvbnMucGFnZSA9IE1hdGguY2VpbChjbGFpbVNlYXJjaFJlc3VsdC5sZW5ndGggLyBkeW5hbWljUGFnZVNpemUpO1xuICAgICAgaWYgKG9wdGlvbnMucGFnZSAhPT0gcGFnZSkge1xuICAgICAgICBzZXRQYWdlKG9wdGlvbnMucGFnZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc2hvdWxkUGVyZm9ybVNlYXJjaCA9XG4gICAgIXVyaXMgJiZcbiAgICAoY2xhaW1TZWFyY2hSZXN1bHQgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgZGlkTmF2aWdhdGVGb3J3YXJkIHx8XG4gICAgICAoIWxvYWRpbmcgJiZcbiAgICAgICAgIWNsYWltU2VhcmNoUmVzdWx0TGFzdFBhZ2VSZWFjaGVkICYmXG4gICAgICAgIGNsYWltU2VhcmNoUmVzdWx0ICYmXG4gICAgICAgIGNsYWltU2VhcmNoUmVzdWx0Lmxlbmd0aCAmJlxuICAgICAgICBjbGFpbVNlYXJjaFJlc3VsdC5sZW5ndGggPCBkeW5hbWljUGFnZVNpemUgKiBvcHRpb25zLnBhZ2UgJiZcbiAgICAgICAgY2xhaW1TZWFyY2hSZXN1bHQubGVuZ3RoICUgZHluYW1pY1BhZ2VTaXplID09PSAwKSk7XG5cbiAgLy8gRG9uJ3QgdXNlIHRoZSBxdWVyeSBmcm9tIGNyZWF0ZU5vcm1hbGl6ZWRDbGFpbVNlYXJjaEtleSBmb3IgdGhlIGVmZmVjdCBzaW5jZSB0aGF0IGRvZXNuJ3QgaW5jbHVkZSBwYWdlICYgcmVsZWFzZV90aW1lXG4gIGNvbnN0IG9wdGlvbnNTdHJpbmdGb3JFZmZlY3QgPSBKU09OLnN0cmluZ2lmeShvcHRpb25zKTtcblxuICBjb25zdCB0aW1lZE91dE1lc3NhZ2UgPSAoXG4gICAgPGRpdj5cbiAgICAgIDxwPlxuICAgICAgICA8STE4bk1lc3NhZ2VcbiAgICAgICAgICB0b2tlbnM9e3tcbiAgICAgICAgICAgIGFnYWluOiAoXG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBidXR0b249XCJsaW5rXCJcbiAgICAgICAgICAgICAgICBsYWJlbD17X18oJ3RyeSBhZ2FpbiBpbiBhIGZldyBzZWNvbmRzLicpfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEZvcmNlUmVmcmVzaChEYXRlLm5vdygpKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICksXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIFNvcnJ5LCB5b3VyIHJlcXVlc3QgdGltZWQgb3V0LiBNb2RpZnkgeW91ciBvcHRpb25zIG9yICVhZ2FpbiVcbiAgICAgICAgPC9JMThuTWVzc2FnZT5cbiAgICAgIDwvcD5cbiAgICAgIDxwPlxuICAgICAgICA8STE4bk1lc3NhZ2VcbiAgICAgICAgICB0b2tlbnM9e3tcbiAgICAgICAgICAgIGNvbnRhY3Rfc3VwcG9ydDogKFxuICAgICAgICAgICAgICA8QnV0dG9uIGJ1dHRvbj1cImxpbmtcIiBsYWJlbD17X18oJ2NvbnRhY3Qgc3VwcG9ydCcpfSBocmVmPVwiaHR0cHM6Ly9vZHlzZWUuY29tL0BPZHlzZWVIZWxwOmI/dmlldz1hYm91dFwiIC8+XG4gICAgICAgICAgICApLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICBJZiB5b3UgY29udGludWUgdG8gaGF2ZSBpc3N1ZXMsIHBsZWFzZSAlY29udGFjdF9zdXBwb3J0JS5cbiAgICAgICAgPC9JMThuTWVzc2FnZT5cbiAgICAgIDwvcD5cbiAgICA8L2Rpdj5cbiAgKTtcblxuICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gIGxldCBmaW5hbFVyaXM7XG5cbiAgaWYgKHVyaXMpIHtcbiAgICAvLyAtLS0gZGlyZWN0IHVyaXNcbiAgICBmaW5hbFVyaXMgPSB1cmlzO1xuICAgIGluamVjdFBpblVybHMoZmluYWxVcmlzLCBvcmRlclBhcmFtLCBwaW5zLCByZXNvbHZlZFBpblVyaXMpO1xuICAgIGZpbmFsVXJpcyA9IGZpbHRlckV4Y2x1ZGVkVXJpcyhmaW5hbFVyaXMsIGV4Y2x1ZGVVcmlzKTtcbiAgfSBlbHNlIHtcbiAgICAvLyAtLS0gc2VhcmNoZWQgdXJpc1xuICAgIGlmIChpc1VuZmV0Y2hlZENsYWltU2VhcmNoICYmIHByZXZVcmlzLmN1cnJlbnQpIHtcbiAgICAgIGZpbmFsVXJpcyA9IHByZXZVcmlzLmN1cnJlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpbmFsVXJpcyA9IGNsYWltU2VhcmNoUmVzdWx0O1xuICAgICAgaW5qZWN0UGluVXJscyhmaW5hbFVyaXMsIG9yZGVyUGFyYW0sIHBpbnMsIHJlc29sdmVkUGluVXJpcyk7XG4gICAgICBmaW5hbFVyaXMgPSBmaWx0ZXJFeGNsdWRlZFVyaXMoZmluYWxVcmlzLCBleGNsdWRlVXJpcyk7XG4gICAgICBwcmV2VXJpcy5jdXJyZW50ID0gZmluYWxVcmlzO1xuICAgIH1cbiAgfVxuXG4gIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gIC8vIEhlbHBlcnNcbiAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuICAvLyBSZXR1cm5zIHRydWUgaWYgdGhlIGNoYW5nZSBpbiAnb3B0aW9ucycgaW5kaWNhdGUgdGhhdCB3ZSBhcmUgc2ltcGx5IHNjcm9sbGluZ1xuICAvLyBkb3duIHRvIGEgbmV3IHBhZ2U7IGZhbHNlIG90aGVyd2lzZS5cbiAgZnVuY3Rpb24gaXNKdXN0U2Nyb2xsaW5nVG9OZXdQYWdlKHByZXZPcHRpb25zLCBvcHRpb25zKSB7XG4gICAgaWYgKCFwcmV2T3B0aW9ucykge1xuICAgICAgLy8gSXQncyBhIG5ldyBzZWFyY2gsIG9yIHdlIGp1c3QgcG9wcGVkIGJhY2sgZnJvbSBhIGRpZmZlcmVudCB2aWV3LlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIENvbXBhcmUgZXZlcnkgZmllbGQgZXhjZXB0IGZvciAncGFnZScgYW5kICdyZWxlYXNlX3RpbWUnLlxuICAgIC8vIFRoZXJlIG1pZ2h0IGJlIGJldHRlciB3YXlzIHRvIGFjaGlldmUgdGhpcy5cbiAgICBsZXQgdG1wUHJldk9wdGlvbnMgPSB7IC4uLnByZXZPcHRpb25zIH07XG4gICAgdG1wUHJldk9wdGlvbnMucGFnZSA9IC0xO1xuICAgIHRtcFByZXZPcHRpb25zLnJlbGVhc2VfdGltZSA9ICcnO1xuXG4gICAgbGV0IHRtcE9wdGlvbnMgPSB7IC4uLm9wdGlvbnMgfTtcbiAgICB0bXBPcHRpb25zLnBhZ2UgPSAtMTtcbiAgICB0bXBPcHRpb25zLnJlbGVhc2VfdGltZSA9ICcnO1xuXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRtcE9wdGlvbnMpID09PSBKU09OLnN0cmluZ2lmeSh0bXBQcmV2T3B0aW9ucyk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRQYXJhbUZyb21UYWdzKHQpIHtcbiAgICBpZiAodCA9PT0gQ1MuVEFHU19BTEwgfHwgdCA9PT0gQ1MuVEFHU19GT0xMT1dFRCkge1xuICAgICAgcmV0dXJuIHQ7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHQpKSB7XG4gICAgICByZXR1cm4gdC5qb2luKCcsJyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlU2Nyb2xsQm90dG9tKCkge1xuICAgIGlmIChtYXhQYWdlcyAhPT0gdW5kZWZpbmVkICYmIHBhZ2UgPT09IG1heFBhZ2VzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFsb2FkaW5nICYmIGluZmluaXRlU2Nyb2xsKSB7XG4gICAgICBpZiAoY2xhaW1TZWFyY2hSZXN1bHQgJiYgIWNsYWltU2VhcmNoUmVzdWx0TGFzdFBhZ2VSZWFjaGVkKSB7XG4gICAgICAgIHNldFBhZ2UocGFnZSArIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc29sdmVIaWRlUmVwb3N0cyhoaWRlUmVwb3N0U2V0dGluZywgaGlkZVJlcG9zdE92ZXJyaWRlKSB7XG4gICAgaWYgKGhpZGVSZXBvc3RPdmVycmlkZSA9PT0gdW5kZWZpbmVkIHx8IGhpZGVSZXBvc3RPdmVycmlkZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGhpZGVSZXBvc3RTZXR0aW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaGlkZVJlcG9zdE92ZXJyaWRlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc29sdmVPcmRlckJ5T3B0aW9uKG9yZGVyQnk6IHN0cmluZyB8IEFycmF5PHN0cmluZz4sIHNvcnRCeTogc3RyaW5nIHwgQXJyYXk8c3RyaW5nPikge1xuICAgIGxldCBvcmRlcl9ieTtcblxuICAgIHN3aXRjaCAob3JkZXJCeSkge1xuICAgICAgY2FzZSBDUy5PUkRFUl9CWV9UUkVORElORzpcbiAgICAgICAgb3JkZXJfYnkgPSBDUy5PUkRFUl9CWV9UUkVORElOR19WQUxVRTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENTLk9SREVSX0JZX05FVzpcbiAgICAgICAgb3JkZXJfYnkgPSBDUy5PUkRFUl9CWV9ORVdfVkFMVUU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDUy5PUkRFUl9CWV9ORVdfQVNDOlxuICAgICAgICBvcmRlcl9ieSA9IENTLk9SREVSX0JZX05FV19BU0NfVkFMVUU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDUy5PUkRFUl9CWV9OQU1FX0FTQzpcbiAgICAgICAgb3JkZXJfYnkgPSBDUy5PUkRFUl9CWV9OQU1FX0FTQ19WQUxVRTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBvcmRlcl9ieSA9IENTLk9SREVSX0JZX1RPUF9WQUxVRTtcbiAgICB9XG5cbiAgICBpZiAob3JkZXJCeSA9PT0gQ1MuT1JERVJfQllfTkVXICYmIHNvcnRCeSA9PT0gQ1MuU09SVF9CWS5PTERFU1Qua2V5KSB7XG4gICAgICByZXR1cm4gb3JkZXJfYnkubWFwKCh4KSA9PiBgJHtDUy5TT1JUX0JZLk9MREVTVC5vcHR9JHt4fWApO1xuICAgIH1cblxuICAgIHJldHVybiBvcmRlcl9ieTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluamVjdFBpblVybHModXJpcywgb3JkZXIsIHBpbnMsIHJlc29sdmVkUGluVXJpcykge1xuICAgIGlmICghcGlucyB8fCAhdXJpcyB8fCB1cmlzLmxlbmd0aCA8PSAyIHx8IChwaW5zLm9ubHlQaW5Gb3JPcmRlciAmJiBwaW5zLm9ubHlQaW5Gb3JPcmRlciAhPT0gb3JkZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHJlc29sdmVkUGluVXJpcykge1xuICAgICAgcmVzb2x2ZWRQaW5VcmlzLmZvckVhY2goKHBpbikgPT4ge1xuICAgICAgICBpZiAodXJpcy5pbmNsdWRlcyhwaW4pKSB7XG4gICAgICAgICAgdXJpcy5zcGxpY2UodXJpcy5pbmRleE9mKHBpbiksIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVyaXMucG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB1cmlzLnNwbGljZSgyLCAwLCAuLi5yZXNvbHZlZFBpblVyaXMpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbHRlckV4Y2x1ZGVkVXJpcyh1cmlzLCBleGNsdWRlVXJpcykge1xuICAgIGlmICh1cmlzICYmIGV4Y2x1ZGVVcmlzICYmIGV4Y2x1ZGVVcmlzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHVyaXMuZmlsdGVyKCh1cmkpID0+ICFleGNsdWRlVXJpcy5pbmNsdWRlcyh1cmkpKTtcbiAgICB9XG4gICAgcmV0dXJuIHVyaXM7XG4gIH1cblxuICBmdW5jdGlvbiBvbkhpZGRlbih1cmkpIHtcbiAgICBpZiAoaGlkZGVuQnVmZmVyLmluZGV4T2YodXJpKSA9PT0gLTEpIHtcbiAgICAgIGxldCBuZXdCdWZmZXIgPSBoaWRkZW5CdWZmZXI7XG4gICAgICBuZXdCdWZmZXIucHVzaCh1cmkpO1xuICAgICAgc2V0SGlkZGVuQnVmZmVyKG5ld0J1ZmZlcik7XG4gICAgfVxuICB9XG5cbiAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuICB1c2VGZXRjaFZpZXdDb3VudChmZXRjaFZpZXdDb3VudCwgZmluYWxVcmlzLCBjbGFpbXNCeVVyaSwgZG9GZXRjaFZpZXdDb3VudCk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2hhbm5lbElkcykge1xuICAgICAgZG9GZXRjaE9keXNlZU1lbWJlcnNoaXBGb3JDaGFubmVsSWRzKGNoYW5uZWxJZHMpO1xuICAgIH1cbiAgfSwgW2NoYW5uZWxJZHMsIGRvRmV0Y2hPZHlzZWVNZW1iZXJzaGlwRm9yQ2hhbm5lbElkc10pO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNob3VsZFBlcmZvcm1TZWFyY2gpIHtcbiAgICAgIGNvbnN0IHNlYXJjaE9wdGlvbnMgPSBKU09OLnBhcnNlKG9wdGlvbnNTdHJpbmdGb3JFZmZlY3QpO1xuICAgICAgZG9DbGFpbVNlYXJjaChzZWFyY2hPcHRpb25zKTtcbiAgICB9XG4gIH0sIFtkb0NsYWltU2VhcmNoLCBzaG91bGRQZXJmb3JtU2VhcmNoLCBvcHRpb25zU3RyaW5nRm9yRWZmZWN0LCBmb3JjZVJlZnJlc2hdKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmKGZpbmFsVXJpcyl7XG4gICAgICBjb25zb2xlLmxvZygneHh4eHh4OiAnLCBmaW5hbFVyaXMudG9TdHJpbmcoKSlcbiAgICAgIGRvR2V0TWVtYmVyc2hpcFRpZXJzRm9yQ29udGVudENsYWltSWRzKCdlNzEwZjgwYTM5NGRlZmJlMWFkZTE2MTA3MTc3NWRiZGQ2ZjU1NmRlJykgICAgXG4gICAgICAvL2RvR2V0TWVtYmVyc2hpcFRpZXJzRm9yQ29udGVudENsYWltSWRzKGNoYW5uZWxJZHMudG9TdHJpbmcoKSlcbiAgICB9ICAgIFxuICB9LCBbZmluYWxVcmlzXSk7XG5cbiAgY29uc3QgaGVhZGVyVG9Vc2UgPSBoZWFkZXIgfHwgKFxuICAgIDxDbGFpbUxpc3RIZWFkZXJcbiAgICAgIGNoYW5uZWxJZHM9e2NoYW5uZWxJZHN9XG4gICAgICBkZWZhdWx0VGFncz17ZGVmYXVsdFRhZ3N9XG4gICAgICB0YWdzPXt0YWdzfVxuICAgICAgZnJlc2huZXNzPXtmcmVzaG5lc3N9XG4gICAgICBkZWZhdWx0RnJlc2huZXNzPXtkZWZhdWx0RnJlc2huZXNzfVxuICAgICAgY2xhaW1UeXBlPXtjbGFpbVR5cGV9XG4gICAgICBzdHJlYW1UeXBlPXtzdHJlYW1UeXBlfVxuICAgICAgZGVmYXVsdFN0cmVhbVR5cGU9e2RlZmF1bHRTdHJlYW1UeXBlfVxuICAgICAgZmVlQW1vdW50PXtmZWVBbW91bnR9IC8vIEVOQUJMRV9QQUlEX0NPTlRFTlRfRElTQ09WRVIgb3Igc29tZXRoaW5nXG4gICAgICBvcmRlckJ5PXtvcmRlckJ5fVxuICAgICAgZGVmYXVsdE9yZGVyQnk9e2RlZmF1bHRPcmRlckJ5fVxuICAgICAgaGlkZUFkdmFuY2VkRmlsdGVyPXtoaWRlQWR2YW5jZWRGaWx0ZXJ9XG4gICAgICBoYXNNYXR1cmVUYWdzPXtoYXNNYXR1cmVUYWdzfVxuICAgICAgaGlkZGVuTnNmd01lc3NhZ2U9e2hpZGRlbk5zZndNZXNzYWdlfVxuICAgICAgc2V0UGFnZT17c2V0UGFnZX1cbiAgICAgIHRpbGVMYXlvdXQ9e3RpbGVMYXlvdXR9XG4gICAgICBoaWRlTGF5b3V0QnV0dG9uPXtoaWRlTGF5b3V0QnV0dG9ufVxuICAgICAgaGlkZUZpbHRlcnM9e2hpZGVGaWx0ZXJzfVxuICAgICAgc2Nyb2xsQW5jaG9yPXtzY3JvbGxBbmNob3J9XG4gICAgLz5cbiAgKTtcblxuICByZXR1cm4gKFxuICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgIHtoZWFkZXJMYWJlbCAmJiA8bGFiZWwgY2xhc3NOYW1lPVwiY2xhaW0tbGlzdF9faGVhZGVyLWxhYmVsXCI+e2hlYWRlckxhYmVsfTwvbGFiZWw+fVxuICAgICAge3RpbGVMYXlvdXQgPyAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgeyFyZXBvc3RlZENsYWltSWQgJiYgc2hvd0hlYWRlciAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb25fX2hlYWRlci0tYWN0aW9uc1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb25fX2FjdGlvbnNcIj5cbiAgICAgICAgICAgICAgICB7aGVhZGVyVG9Vc2V9XG4gICAgICAgICAgICAgICAge3NlYXJjaEluU2VsZWN0ZWRMYW5nICYmIDxMYW5nRmlsdGVySW5kaWNhdG9yIC8+fVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAge21ldGEgJiYgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uX19hY3Rpb25zLS1uby1tYXJnaW5cIj57bWV0YX08L2Rpdj59XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtzdWJTZWN0aW9uICYmIDxkaXY+e3N1YlNlY3Rpb259PC9kaXY+fVxuICAgICAgICAgIDxDbGFpbUxpc3RcbiAgICAgICAgICAgIHRpbGVMYXlvdXRcbiAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmd9XG4gICAgICAgICAgICB1cmlzPXtmaW5hbFVyaXN9XG4gICAgICAgICAgICBwcmVmaXhVcmlzPXtwcmVmaXhVcmlzfVxuICAgICAgICAgICAgb25TY3JvbGxCb3R0b209e2hhbmRsZVNjcm9sbEJvdHRvbX1cbiAgICAgICAgICAgIHBhZ2U9e3BhZ2V9XG4gICAgICAgICAgICBwYWdlU2l6ZT17ZHluYW1pY1BhZ2VTaXplfVxuICAgICAgICAgICAgdGltZWRPdXRNZXNzYWdlPXt0aW1lZE91dE1lc3NhZ2V9XG4gICAgICAgICAgICByZW5kZXJQcm9wZXJ0aWVzPXtyZW5kZXJQcm9wZXJ0aWVzfVxuICAgICAgICAgICAgaW5jbHVkZVN1cHBvcnRBY3Rpb249e2luY2x1ZGVTdXBwb3J0QWN0aW9ufVxuICAgICAgICAgICAgaW5qZWN0ZWRJdGVtPXtpbmplY3RlZEl0ZW19XG4gICAgICAgICAgICBzaG93SGlkZGVuQnlVc2VyPXtzaG93SGlkZGVuQnlVc2VyfVxuICAgICAgICAgICAgc2VhcmNoT3B0aW9ucz17b3B0aW9uc31cbiAgICAgICAgICAgIHNob3dOb1NvdXJjZUNsYWltcz17c2hvd05vU291cmNlQ2xhaW1zfVxuICAgICAgICAgICAgZW1wdHk9e2VtcHR5fVxuICAgICAgICAgICAgbWF4Q2xhaW1SZW5kZXI9e21heENsYWltUmVuZGVyfVxuICAgICAgICAgICAgbG9hZGVkQ2FsbGJhY2s9e2xvYWRlZENhbGxiYWNrfVxuICAgICAgICAgICAgc3dpcGVMYXlvdXQ9e3N3aXBlTGF5b3V0fVxuICAgICAgICAgICAgb25IaWRkZW49e29uSGlkZGVufVxuICAgICAgICAgIC8+XG4gICAgICAgICAge2xvYWRpbmcgJiYgdXNlU2tlbGV0b25TY3JlZW4gJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGFpbS1ncmlkXCI+XG4gICAgICAgICAgICAgIHtuZXcgQXJyYXkoZHluYW1pY1BhZ2VTaXplKS5maWxsKDEpLm1hcCgoeCwgaSkgPT4gKFxuICAgICAgICAgICAgICAgIDxDbGFpbVByZXZpZXdUaWxlIGtleT17aX0gcGxhY2Vob2xkZXI9XCJsb2FkaW5nXCIgcHVsc2UgLz5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICkgOiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAge3Nob3dIZWFkZXIgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uX19oZWFkZXItLWFjdGlvbnNcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uX19hY3Rpb25zXCI+XG4gICAgICAgICAgICAgICAge2hlYWRlclRvVXNlfVxuICAgICAgICAgICAgICAgIHtzZWFyY2hJblNlbGVjdGVkTGFuZyAmJiA8TGFuZ0ZpbHRlckluZGljYXRvciAvPn1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIHttZXRhICYmIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbl9fYWN0aW9ucy0tbm8tbWFyZ2luXCI+e21ldGF9PC9kaXY+fVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7c3ViU2VjdGlvbiAmJiA8ZGl2PntzdWJTZWN0aW9ufTwvZGl2Pn1cbiAgICAgICAgICA8Q2xhaW1MaXN0XG4gICAgICAgICAgICB0eXBlPXt0eXBlfVxuICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ31cbiAgICAgICAgICAgIHVyaXM9e2ZpbmFsVXJpc31cbiAgICAgICAgICAgIHByZWZpeFVyaXM9e3ByZWZpeFVyaXN9XG4gICAgICAgICAgICBvblNjcm9sbEJvdHRvbT17aGFuZGxlU2Nyb2xsQm90dG9tfVxuICAgICAgICAgICAgcGFnZT17cGFnZX1cbiAgICAgICAgICAgIHBhZ2VTaXplPXtkeW5hbWljUGFnZVNpemV9XG4gICAgICAgICAgICB0aW1lZE91dE1lc3NhZ2U9e3RpbWVkT3V0TWVzc2FnZX1cbiAgICAgICAgICAgIHJlbmRlclByb3BlcnRpZXM9e3JlbmRlclByb3BlcnRpZXN9XG4gICAgICAgICAgICBpbmNsdWRlU3VwcG9ydEFjdGlvbj17aW5jbHVkZVN1cHBvcnRBY3Rpb259XG4gICAgICAgICAgICBpbmplY3RlZEl0ZW09e2luamVjdGVkSXRlbX1cbiAgICAgICAgICAgIHNob3dIaWRkZW5CeVVzZXI9e3Nob3dIaWRkZW5CeVVzZXJ9XG4gICAgICAgICAgICBzZWFyY2hPcHRpb25zPXtvcHRpb25zfVxuICAgICAgICAgICAgc2hvd05vU291cmNlQ2xhaW1zPXtoYXNOb1NvdXJjZSB8fCBzaG93Tm9Tb3VyY2VDbGFpbXN9XG4gICAgICAgICAgICBlbXB0eT17ZW1wdHl9XG4gICAgICAgICAgICBtYXhDbGFpbVJlbmRlcj17bWF4Q2xhaW1SZW5kZXJ9XG4gICAgICAgICAgICBsb2FkZWRDYWxsYmFjaz17bG9hZGVkQ2FsbGJhY2t9XG4gICAgICAgICAgICBzd2lwZUxheW91dD17c3dpcGVMYXlvdXR9XG4gICAgICAgICAgICBvbkhpZGRlbj17b25IaWRkZW59XG4gICAgICAgICAgLz5cbiAgICAgICAgICB7bG9hZGluZyAmJlxuICAgICAgICAgICAgdXNlU2tlbGV0b25TY3JlZW4gJiZcbiAgICAgICAgICAgIG5ldyBBcnJheShkeW5hbWljUGFnZVNpemUpXG4gICAgICAgICAgICAgIC5maWxsKDEpXG4gICAgICAgICAgICAgIC5tYXAoKHgsIGkpID0+IChcbiAgICAgICAgICAgICAgICA8Q2xhaW1QcmV2aWV3XG4gICAgICAgICAgICAgICAgICBzaG93Tm9Tb3VyY2VDbGFpbXM9e2hhc05vU291cmNlIHx8IHNob3dOb1NvdXJjZUNsYWltc31cbiAgICAgICAgICAgICAgICAgIGtleT17aX1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwibG9hZGluZ1wiXG4gICAgICAgICAgICAgICAgICB0eXBlPXt0eXBlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgd2l0aFJvdXRlcihDbGFpbUxpc3REaXNjb3Zlcik7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW1HQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWlGQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQWxGQTtBQW9GQTtBQUNBO0FBckZBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBc0ZBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBakdBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFtR0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBOUJBO0FBZ0NBO0FBQ0E7QUFDQTtBQUNBO0FBbEpBO0FBQUE7QUFBQTtBQUNBO0FBa0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUF1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVhBO0FBQ0E7QUFhQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBM09BO0FBQ0E7QUFDQTtBQTRPQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUpBO0FBU0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBbEJBO0FBb0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXJXQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBdVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFXQTtBQUVBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFIQTtBQUZBO0FBREE7QUFnQkE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRkE7QUFEQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBemJBO0FBNmJBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBZEE7QUFDQTtBQWdCQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFMQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUExaUJBO0FBOGlCQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTEE7QUFRQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFuQkE7QUF1QkE7QUFFQTtBQUFBO0FBSUE7QUFBQTtBQUNBO0FBQUE7QUFJQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFuQkE7QUFzQkE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFwQ0E7QUE0Q0E7QUFBQTtBQUNBO0FBQUE7QUFJQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFuQkE7QUF5QkE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBbEZBO0FBNkZBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../ui/component/claimListDiscover/view.jsx\n");

/***/ })

})