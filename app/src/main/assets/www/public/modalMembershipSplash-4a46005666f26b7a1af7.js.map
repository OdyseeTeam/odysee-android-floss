{"version":3,"file":"modalMembershipSplash-4a46005666f26b7a1af7.js","mappings":"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","sources":["webpack://odysee.com/../ui/component/membershipSplash/internal/joinPlanButton/index.jsx","webpack://odysee.com/../ui/component/membershipSplash/view.jsx","webpack://odysee.com/../ui/component/membershipSplash/index.js","webpack://odysee.com/../ui/hocs/withCreditCard/view.jsx","webpack://odysee.com/../ui/hocs/withCreditCard/index.js","webpack://odysee.com/../ui/modal/modalMembershipSplash/view.jsx","webpack://odysee.com/../ui/modal/modalMembershipSplash/index.js"],"sourcesContent":["// @flow\nimport React from 'react';\n\nimport * as PAGES from 'constants/pages';\n\nimport Button from 'component/button';\nimport withCreditCard from 'hocs/withCreditCard';\n\ntype Props = {\n  pageLocation: string,\n  interval: string,\n  plan: string,\n};\n\nconst JoinButton = (props: Props) => {\n  const { pageLocation, interval, plan } = props;\n\n  return (\n    <Button\n      button=\"primary\"\n      label={__('Join')}\n      navigate={`/$/${PAGES.ODYSEE_MEMBERSHIP}?interval=${interval}&plan=${plan}&pageLocation=${pageLocation}&`}\n    />\n  );\n};\n\nexport default withCreditCard(JoinButton);\n","// @flow\nimport React from 'react';\nimport * as PAGES from 'constants/pages';\n\nimport * as ICONS from 'constants/icons';\nimport * as MEMBERSHIP_CONSTS from 'constants/memberships';\nimport Button from 'component/button';\nimport Icon from 'component/common/icon';\nimport I18nMessage from 'component/i18nMessage';\n\nimport AstronautAndFriends from './internal/assets/astronaut_n_friends.png';\nimport BadgePremium from './internal/assets/badge_premium.png';\nimport BadgePremiumPlus from './internal/assets/badge_premium-plus.png';\nimport OdyseePremium from './internal/assets/odysee_premium.png';\nimport JoinButton from './internal/joinPlanButton';\n\ntype Props = {\n  pageLocation: string,\n  // -- redux --\n  preferredCurrency: string,\n};\n\nconst MembershipSplash = (props: Props) => {\n  const { pageLocation, preferredCurrency } = props;\n\n  function onClickCordova(url) {\n    if (window.cordova) window.odysee.functions.history.push(url);\n  }\n\n  return (\n    <div className=\"membership-splash\">\n      <div className=\"membership-splash__banner\">\n        <img width=\"1000\" height=\"740\" src={AstronautAndFriends} />\n\n        <section className=\"membership-splash__title\">\n          <section>\n            <img width=\"1000\" height=\"174\" src={OdyseePremium} />\n          </section>\n\n          <section>\n            <I18nMessage\n              tokens={{ early_access: <b>{__('early access')}</b>, site_wide_badge: <b>{__('site-wide badge')}</b> }}\n            >\n              Get %early_access% features and a %site_wide_badge%\n            </I18nMessage>\n          </section>\n        </section>\n      </div>\n\n      <div className=\"membership-splash__info-wrapper\">\n        <div className=\"membership-splash__info\">\n          <h1 className=\"balance-text\">\n            <I18nMessage>\n              \"Creating a revolutionary video platform for everyone is something we're proud to be doing, but it isn't\n              something that can happen without support. If you believe in Odysee's mission, please consider becoming a\n              Premium member. As a Premium member, you'll be helping us build the best platform in the universe and\n              we'll give you some cool perks!\"\n            </I18nMessage>\n          </h1>\n        </div>\n\n        <div className=\"membership-splash__info\">\n          <section className=\"membership-splash__info-header\">\n            <div className=\"membership-splash__info-price\">\n              <img width=\"500\" height=\"500\" src={BadgePremium} />\n\n              <section>\n                <I18nMessage\n                  tokens={{\n                    premium_recurrence: <div className=\"membership-splash__info-range\">{__('A MONTH')}</div>,\n                    premium_price:\n                      MEMBERSHIP_CONSTS.PRICES[MEMBERSHIP_CONSTS.ODYSEE_TIER_NAMES.PREMIUM][preferredCurrency],\n                  }}\n                >\n                  %premium_price% %premium_recurrence% --[context: '99¢ A MONTH']--\n                </I18nMessage>\n              </section>\n            </div>\n          </section>\n\n          <BadgeInfo />\n\n          <EarlyAcessInfo />\n\n          <div className=\"membership-splash__info-button\">\n            <Button\n              button=\"primary\"\n              label={__('Join')}\n              // onClick={() => window.odysee.functions.history.push(`/$/${PAGES.ODYSEE_MEMBERSHIP}?interval=year&plan=Premium&pageLocation=${pageLocation}`)}\n              onClick={() =>\n                onClickCordova(`/$/${PAGES.ODYSEE_MEMBERSHIP}?interval=year&plan=Premium&pageLocation=${pageLocation}`)\n              }\n            />\n          </div>\n        </div>\n\n        <div className=\"membership-splash__info\">\n          <section className=\"membership-splash__info-header\">\n            <div className=\"membership-splash__info-price\">\n              <img width=\"500\" height=\"500\" src={BadgePremiumPlus} />\n\n              <section>\n                <I18nMessage\n                  tokens={{\n                    premium_recurrence: <div className=\"membership-splash__info-range\">{__('A MONTH')}</div>,\n                    premium_price:\n                      MEMBERSHIP_CONSTS.PRICES[MEMBERSHIP_CONSTS.ODYSEE_TIER_NAMES.PREMIUM_PLUS][preferredCurrency],\n                  }}\n                >\n                  %premium_price% %premium_recurrence% --[context: '99¢ A MONTH']--\n                </I18nMessage>\n              </section>\n            </div>\n          </section>\n\n          <BadgeInfo />\n          <EarlyAcessInfo />\n          <NoAdsInfo />\n\n          <div className=\"membership-splash__info-button\">\n            <JoinButton pageLocation={pageLocation} interval=\"year\" plan=\"Premium%2b\" doOpenModal />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst EarlyAcessInfo = () => (\n  <div className=\"membership-splash__info-content\">\n    <Icon icon={ICONS.EARLY_ACCESS} />\n    <h1 className=\"balance-text\">{__('Exclusive and early access to features')}</h1>\n  </div>\n);\n\nconst BadgeInfo = () => (\n  <div className=\"membership-splash__info-content\">\n    <Icon icon={ICONS.MEMBER_BADGE} />\n    <h1 className=\"balance-text\">{__('Badge on profile')}</h1>\n  </div>\n);\n\nconst NoAdsInfo = () => (\n  <div className=\"membership-splash__info-content\">\n    <Icon icon={ICONS.NO_ADS} />\n    <h1 className=\"balance-text\">{__('No ads')}</h1>\n  </div>\n);\n\nexport default MembershipSplash;\n","import { connect } from 'react-redux';\nimport { selectPreferredCurrency } from 'redux/selectors/settings';\n\nimport MembershipSplash from './view';\n\nconst select = (state) => ({\n  preferredCurrency: selectPreferredCurrency(state),\n});\n\nexport default connect(select)(MembershipSplash);\n","// @flow\nimport React from 'react';\n\nimport * as MODALS from 'constants/modal_types';\nimport Button from 'component/button';\nimport Spinner from 'component/spinner';\n\nimport { ModalContext } from 'contexts/modal';\n\ntype Props = {\n  modalState: any,\n  // -- redux --\n  hasSavedCard: ?boolean,\n  isAuthenticated: ?boolean,\n  doOpenModal: (modalId: string, modalProps: {}) => void,\n  doGetCustomerStatus: () => void,\n};\n\n/**\n * HigherOrderComponent to condition a button to become a \"add card\" prompt every time it is needed for a purchase,\n * and also prompts back to the previous modal in case it came from one.\n *\n * @param Component: FunctionalComponentParam\n * @returns {FunctionalComponent}\n */\nconst withCreditCard = (Component: FunctionalComponentParam) => {\n  const CreditCardPrompt = (props: Props) => {\n    // eslint-disable-next-line react/prop-types\n    const { hasSavedCard, isAuthenticated, doOpenModal, doGetCustomerStatus, modalState, ...componentProps } = props;\n\n    const fetchPending = isAuthenticated && hasSavedCard === undefined;\n    const modal = React.useContext(ModalContext)?.modal;\n\n    React.useEffect(() => {\n      if (fetchPending) {\n        doGetCustomerStatus();\n      }\n    }, [doGetCustomerStatus, fetchPending]);\n\n    if (!hasSavedCard) {\n      const handleOpenAddCardModal = () =>\n        doOpenModal(MODALS.ADD_CARD, {\n          ...(modal ? { previousModal: modal.id, previousProps: { ...modal.modalProps, ...modalState } } : {}),\n        });\n\n      return (\n        <Button\n          disabled={fetchPending}\n          requiresAuth\n          button=\"primary\"\n          label={fetchPending ? <Spinner type=\"small\" /> : __('Add a Credit Card')}\n          onClick={handleOpenAddCardModal}\n        />\n      );\n    }\n\n    return <Component {...componentProps} />;\n  };\n\n  return CreditCardPrompt;\n};\n\nexport default withCreditCard;\n","import { connect } from 'react-redux';\n\nimport { selectHasSavedCard } from 'redux/selectors/stripe';\nimport { selectUserVerifiedEmail } from 'redux/selectors/user';\n\nimport { doOpenModal } from 'redux/actions/app';\nimport { doGetCustomerStatus } from 'redux/actions/stripe';\n\nimport withCreditCard from './view';\n\nconst select = (state, props) => ({\n  hasSavedCard: selectHasSavedCard(state),\n  isAuthenticated: selectUserVerifiedEmail(state),\n});\n\nconst perform = {\n  doOpenModal,\n  doGetCustomerStatus,\n};\n\nexport default (Component) => connect(select, perform)(withCreditCard(Component));\n","// @flow\nimport React from 'react';\nimport { Modal } from 'modal/modal';\nimport MembershipSplash from 'component/membershipSplash';\n\ntype Props = {\n  closeModal: () => void,\n  uri: string,\n  claimIsMine: boolean,\n  isSupport: boolean,\n};\n\nclass ModalMembershipSplash extends React.PureComponent<Props> {\n  render() {\n    const { closeModal, uri, claimIsMine } = this.props;\n\n    return (\n      <Modal onAborted={closeModal} isOpen type=\"card\" width=\"wide\">\n        <MembershipSplash uri={uri} claimIsMine={claimIsMine} onCancel={closeModal} />\n      </Modal>\n    );\n  }\n}\n\nexport default ModalMembershipSplash;\n","import { connect } from 'react-redux';\nimport { doHideModal } from 'redux/actions/app';\nimport ModalMembershipSplash from './view';\n\nconst perform = (dispatch) => ({\n  closeModal: () => dispatch(doHideModal()),\n});\n\nexport default connect(null, perform)(ModalMembershipSplash);\n"],"names":["withCreditCard","props","pageLocation","interval","plan","React","Button","button","label","__","navigate","concat","PAGES","EarlyAcessInfo","className","Icon","icon","ICONS","BadgeInfo","NoAdsInfo","preferredCurrency","width","height","src","AstronautAndFriends","OdyseePremium","I18nMessage","tokens","early_access","site_wide_badge","BadgePremium","premium_recurrence","premium_price","MEMBERSHIP_CONSTS","onClick","url","window","cordova","odysee","functions","history","push","BadgePremiumPlus","JoinButton","doOpenModal","connect","state","selectPreferredCurrency","MembershipSplash","Component","_React$useContext","hasSavedCard","isAuthenticated","doGetCustomerStatus","modalState","componentProps","_objectWithoutProperties","_excluded","fetchPending","undefined","modal","ModalContext","disabled","requiresAuth","Spinner","type","MODALS","_objectSpread","previousModal","id","previousProps","modalProps","select","selectHasSavedCard","selectUserVerifiedEmail","perform","_React$PureComponent","_inherits","ModalMembershipSplash","_super","_createSuper","_classCallCheck","apply","arguments","key","value","_this$props","this","closeModal","uri","claimIsMine","Modal","onAborted","isOpen","onCancel","dispatch","doHideModal"],"sourceRoot":""}