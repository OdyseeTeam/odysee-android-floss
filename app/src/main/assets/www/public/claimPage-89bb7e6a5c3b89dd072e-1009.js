"use strict";(self.webpackChunkodysee_com=self.webpackChunkodysee_com||[]).push([[2861],{92687:(e,t,n)=>{n.r(t),n.d(t,{default:()=>M});var a=n(24582),r=n(31391),i=n(7920),c=n(29454),o=n(88441),l=n(16643),s=n(47009),u=n(53389),d=n(4440),m=n(32583),h=n(9767),C=n(52705),f=n(18264),p=n(70897),v=n(58210),I=n(46351),E=n(17351),g=n(55754),L=n(10561),P=n(17185),S=n(2038),_=n(1987),R=n(51031),O=n(16395),F=n(2927),U=n(13690),N=n(91616),w=n(6993),T=n(73249),W=(0,U.e)((function(){return Promise.all([n.e(1703),n.e(1313),n.e(498),n.e(1749),n.e(4873),n.e(6109),n.e(7910)]).then(n.bind(n,20690))})),b=(0,U.e)((function(){return Promise.all([n.e(2785),n.e(1313),n.e(9867),n.e(5475),n.e(617)]).then(n.bind(n,72372))}));const y=function(e){var t=e.uri,n=e.latestContentPath,a=e.liveContentPath,r=e.claim,i=e.channelClaimId,c=e.location,s=e.collectionId,d=e.collection,m=e.collectionFirstItemUri,h=e.latestClaimUrl,C=e.creatorSettings,f=e.doFetchCreatorSettings,p=e.doFetchLatestClaimForChannel,v=e.doFetchChannelIsLiveForId,E=e.doFetchItemsInCollection,g=c.search,L=c.pathname,P=c.hash,S=new URLSearchParams(g),_=S.get(F.Hj),R=S.get(F.ee),U=r&&r.canonical_url,y=r&&r.claim_id,D=n||a,k=r&&"collection"===r.value_type,Z=L&&L.startsWith("/$/embed"),M=Z&&D&&h?h:t,$=(0,u.parseURI)(M).isChannel;if((0,o.useEffect)((function(){!h&&a&&y&&v(y)}),[y,v,h,a]),(0,o.useEffect)((function(){!h&&n&&U&&p(U)}),[U,p,h,n]),(0,o.useEffect)((function(){if(!Z&&U){var e,t,n=P.indexOf("#state")>-1?P.indexOf("#state"):P.indexOf("&state")>-1?P.indexOf("&state"):void 0,a=void 0===n?P:P.substring(0,n),r=L+a,i=r.slice(1).replace(/:/g,"#");try{var c=(0,u.parseURI)(i);e=c.queryString,t=c.pathHash}catch(e){}var o="/"+U.replace(/^lbry:\/\//,"").replace(/#/g,":"),l=O.DOMAIN,s=o;if(o!==r&&l===window.location.hostname){var d=new URLSearchParams(g||e);if(d.get(I.COLLECTION_ID)){var m=d.get(I.COLLECTION_ID)||"";d.set(I.COLLECTION_ID,m)}d.toString()&&(s+="?".concat(d.toString())),(t||!t&&!e&&a)&&(s+=String(t||a)),history.replaceState(history.state,"",s)}}}),[U,L,P,g,Z]),o.useEffect((function(){void 0===C&&i&&f(i).catch((function(){}))}),[i,C,f]),o.useEffect((function(){r&&s&&E({collectionId:s})}),[r,m,s,E,k]),D&&void 0===h)return o.createElement("div",{className:"main--empty"},o.createElement(N.Z,{delayed:!0}));if(!Z){if(D&&h){var Y=""!==S.toString()?"?".concat(S.toString()):"";return o.createElement(l.Redirect,{to:"".concat((0,w.$U)(h)).concat(Y)})}if(r&&(r.repost_url===t||D&&null===h)){var A=(0,w.$U)(U);return o.createElement(l.Redirect,{to:A})}if(r&&k&&m)switch(null==d?void 0:d.type){case I.COL_TYPES.COLLECTION:case I.COL_TYPES.PLAYLIST:S.set(I.COLLECTION_ID,r.claim_id);var x=(0,w.$U)("".concat(m,"?").concat(S.toString()));return o.createElement(l.Redirect,{to:x});case I.COL_TYPES.FEATURED_CHANNELS:return o.createElement(l.Redirect,{to:"/$/".concat(T.PLAYLIST,"/").concat(r.claim_id)})}}return $?o.createElement(W,{uri:M,location:c}):o.createElement(b,{uri:M,collectionId:s,linkedCommentId:_,threadCommentId:R})};var D={doResolveUri:C.nt,doBeginPublish:f.T2,doResolveClaimId:C.Rf,doOpenModal:p.DG,doFetchLatestClaimForChannel:C.T$,doFetchChannelIsLiveForId:L.vk,doFetchCreatorSettings:P.B3,doFetchItemsInCollection:S.x3};const k=(0,R.Z)((0,l.withRouter)((0,a.$j)((function(e,t){var n=t.uri,a=t.location,r=t.liveContentPath,o=a.search,l=new URLSearchParams(o),s=(0,i.B0y)(e,n),u=(0,v._I)(s),d=l.get(I.COLLECTION_ID)||s&&"collection"===s.value_type&&s.claim_id||null,C=s||{},f=C.canonical_url,p=C.claim_id,L=r?(0,g.XO)(e,p):(0,i.hIv)(e,f);return{uri:n,claim:s,channelClaimId:u,latestClaimUrl:r?(0,g.ds)(e,p):L&&L.canonical_url,preferEmbed:(0,i.YU7)(n,_.K0)(e),isResolvingUri:(0,i.kic)(e,n),isSubscribed:(0,E._4)(e,n),claimIsMine:(0,i.pDP)(e,s),claimIsPending:(0,i.KkB)(n)(e),collection:(0,m.kC)(e,d),collectionId:d,collectionFirstItemUri:(0,m.cu)(e,d),isResolvingCollection:(0,m.EE)(e,d),isAuthenticated:(0,h.ge)(e),geoRestriction:(0,i.onN)(e,n),homepageFetched:(0,h.L6)(e),creatorSettings:(0,c._Q)(e,u)}}),D)(y)));const Z=function(e){var t=e.uri,n=e.latestContentPath,a=e.liveContentPath,r=e.isMarkdownPost,i=e.isLivestreamClaim,c=e.chatDisabled,m=(0,u.parseURI)(t).isChannel,h=(0,l.useLocation)(),C=h.search,f=h.pathname,p=f&&f.startsWith("/$/embed"),v=o.useMemo((function(){return function(e){var t=e.children;return o.createElement(d.Z,{className:"file-page",filePage:!0,isMarkdown:!!r,noSideNavigation:p&&!!r},t)}}),[r,p]),I=o.useMemo((function(){return function(e){var t=e.children;return o.createElement(d.Z,{className:"file-page",noFooter:!0,livestream:!c},t)}}),[c]),E=o.useMemo((function(){return function(e){var t=e.children;return o.createElement(d.Z,{className:"channelPage-wrapper",noFooter:!0,fullWidthPage:!0,noSideNavigation:p},t)}}),[p]);if(m){if(new URLSearchParams(C).get(s._g.QUERIES.VIEW)===s._g.VIEWS.EDIT){return o.createElement(k,{uri:t,ClaimRenderWrapper:function(e){var t=e.children;return o.createElement(d.Z,{className:"channelPage-wrapper channelPage-edit-wrapper",noFooter:!0,fullWidthPage:!0,noSideNavigation:p},t)},Wrapper:d.Z})}return o.createElement(k,{uri:t,ClaimRenderWrapper:E,Wrapper:d.Z,latestContentPath:n,liveContentPath:a})}return i?o.createElement(k,{uri:t,ClaimRenderWrapper:I,Wrapper:d.Z}):o.createElement(k,{uri:t,ClaimRenderWrapper:v,Wrapper:d.Z,latestContentPath:n,liveContentPath:a})};const M=(0,a.$j)((function(e,t){var n=t.uri;return{isMarkdownPost:(0,r.Fq)(e,n),isLivestreamClaim:(0,i.CDv)(e,n),chatDisabled:(0,c.Yn)(e,(0,i.W9L)(e,n))}}))(Z)}}]);
//# sourceMappingURL=claimPage-89bb7e6a5c3b89dd072e-1009.js.map