webpackHotUpdate("chat~comments~popoutChat",{

/***/ "../ui/component/commentCreate/view.jsx":
/*!**********************************************!*\
  !*** ../ui/component/commentCreate/view.jsx ***!
  \**********************************************/
/*! exports provided: CommentCreate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CommentCreate\", function() { return CommentCreate; });\n/* harmony import */ var scss_component_comment_create_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! scss/component/_comment-create.scss */ \"../ui/scss/component/_comment-create.scss\");\n/* harmony import */ var scss_component_comment_create_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(scss_component_comment_create_scss__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var util_comments__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! util/comments */ \"../ui/util/comments.js\");\n/* harmony import */ var constants_form_field__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! constants/form-field */ \"../ui/constants/form-field.js\");\n/* harmony import */ var component_common_form__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! component/common/form */ \"../ui/component/common/form.jsx\");\n/* harmony import */ var lbryinc__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lbryinc */ \"../extras/lbryinc/index.js\");\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! config */ \"../config.js\");\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(config__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-router */ \"../node_modules/react-router/esm/react-router.js\");\n/* harmony import */ var constants_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! constants/icons */ \"../ui/constants/icons.js\");\n/* harmony import */ var constants_keycodes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! constants/keycodes */ \"../ui/constants/keycodes.js\");\n/* harmony import */ var constants_pages__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! constants/pages */ \"../ui/constants/pages.js\");\n/* harmony import */ var constants_pages__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(constants_pages__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var constants_modal_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! constants/modal_types */ \"../ui/constants/modal_types.js\");\n/* harmony import */ var component_button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! component/button */ \"../ui/component/button/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! classnames */ \"../node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _comment_selectors__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./comment-selectors */ \"../ui/component/commentCreate/comment-selectors.jsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var effects_use_persisted_state__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! effects/use-persisted-state */ \"../ui/effects/use-persisted-state.js\");\n/* harmony import */ var component_walletTipAmountSelector__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! component/walletTipAmountSelector */ \"../ui/component/walletTipAmountSelector/index.js\");\n/* harmony import */ var effects_use_screensize__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! effects/use-screensize */ \"../ui/effects/use-screensize.js\");\n/* harmony import */ var _sticker_contents__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./sticker-contents */ \"../ui/component/commentCreate/sticker-contents.jsx\");\n/* harmony import */ var _tip_contents__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./tip-contents */ \"../ui/component/commentCreate/tip-contents.jsx\");\n/* harmony import */ var _extra_contents__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./extra-contents */ \"../ui/component/commentCreate/extra-contents.jsx\");\n/* harmony import */ var util_stripe__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! util/stripe */ \"../ui/util/stripe.js\");\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar stripeEnvironment = Object(util_stripe__WEBPACK_IMPORTED_MODULE_21__[\"getStripeEnvironment\"])();\nvar TAB_FIAT = 'TabFiat';\nvar TAB_LBC = 'TabLBC';\nfunction CommentCreate(props) {\n  var activeChannelClaimId = props.activeChannelClaimId,\n      activeChannelName = props.activeChannelName,\n      activeChannelUrl = props.activeChannelUrl,\n      bottom = props.bottom,\n      hasChannels = props.hasChannels,\n      claimId = props.claimId,\n      channelClaimId = props.channelClaimId,\n      tipChannelName = props.tipChannelName,\n      claimIsMine = props.claimIsMine,\n      embed = props.embed,\n      isFetchingChannels = props.isFetchingChannels,\n      isNested = props.isNested,\n      isReply = props.isReply,\n      isLivestream = props.isLivestream,\n      parentId = props.parentId,\n      settingsByChannelId = props.settingsByChannelId,\n      shouldFetchComment = props.shouldFetchComment,\n      supportDisabled = props.supportDisabled,\n      uri = props.uri,\n      disableInput = props.disableInput,\n      onSlimInputClose = props.onSlimInputClose,\n      doCommentCreate = props.doCommentCreate,\n      doFetchCreatorSettings = props.doFetchCreatorSettings,\n      doToast = props.doToast,\n      doCommentById = props.doCommentById,\n      onCancelReplying = props.onCancelReplying,\n      onDoneReplying = props.onDoneReplying,\n      doSendCashTip = props.doSendCashTip,\n      doSendTip = props.doSendTip,\n      setQuickReply = props.setQuickReply,\n      doOpenModal = props.doOpenModal,\n      preferredCurrency = props.preferredCurrency,\n      myChannelClaimIds = props.myChannelClaimIds,\n      myCommentedChannelIds = props.myCommentedChannelIds,\n      doFetchMyCommentedChannels = props.doFetchMyCommentedChannels;\n  var isMobile = Object(effects_use_screensize__WEBPACK_IMPORTED_MODULE_17__[\"useIsMobile\"])();\n  var formFieldRef = react__WEBPACK_IMPORTED_MODULE_14___default.a.useRef();\n  var buttonRef = react__WEBPACK_IMPORTED_MODULE_14___default.a.useRef();\n  var slimInputButtonRef = react__WEBPACK_IMPORTED_MODULE_14___default.a.useRef();\n\n  var _useHistory = Object(react_router__WEBPACK_IMPORTED_MODULE_6__[\"useHistory\"])(),\n      push = _useHistory.push,\n      pathname = _useHistory.location.pathname;\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_14___default.a.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isSubmitting = _React$useState2[0],\n      setSubmitting = _React$useState2[1];\n\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_14___default.a.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      commentFailure = _React$useState4[0],\n      setCommentFailure = _React$useState4[1];\n\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_14___default.a.useState({\n    txid: undefined,\n    tipAmount: undefined\n  }),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      successTip = _React$useState6[0],\n      setSuccessTip = _React$useState6[1];\n\n  var _React$useState7 = react__WEBPACK_IMPORTED_MODULE_14___default.a.useState(),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      tipSelectorOpen = _React$useState8[0],\n      setTipSelector = _React$useState8[1];\n\n  var _React$useState9 = react__WEBPACK_IMPORTED_MODULE_14___default.a.useState(),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      isReviewingSupportComment = _React$useState10[0],\n      setReviewingSupportComment = _React$useState10[1];\n\n  var _React$useState11 = react__WEBPACK_IMPORTED_MODULE_14___default.a.useState(),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      isReviewingStickerComment = _React$useState12[0],\n      setReviewingStickerComment = _React$useState12[1];\n\n  var _React$useState13 = react__WEBPACK_IMPORTED_MODULE_14___default.a.useState(),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      selectedSticker = _React$useState14[0],\n      setSelectedSticker = _React$useState14[1];\n\n  var _React$useState15 = react__WEBPACK_IMPORTED_MODULE_14___default.a.useState(1),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      tipAmount = _React$useState16[0],\n      setTipAmount = _React$useState16[1];\n\n  var _React$useState17 = react__WEBPACK_IMPORTED_MODULE_14___default.a.useState(),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      convertedAmount = _React$useState18[0],\n      setConvertedAmount = _React$useState18[1];\n\n  var _React$useState19 = react__WEBPACK_IMPORTED_MODULE_14___default.a.useState(''),\n      _React$useState20 = _slicedToArray(_React$useState19, 2),\n      commentValue = _React$useState20[0],\n      setCommentValue = _React$useState20[1];\n\n  var _usePersistedState = Object(effects_use_persisted_state__WEBPACK_IMPORTED_MODULE_15__[\"default\"])('comment-editor-mode', false),\n      _usePersistedState2 = _slicedToArray(_usePersistedState, 2),\n      advancedEditor = _usePersistedState2[0],\n      setAdvancedEditor = _usePersistedState2[1];\n\n  var _React$useState21 = react__WEBPACK_IMPORTED_MODULE_14___default.a.useState(),\n      _React$useState22 = _slicedToArray(_React$useState21, 2),\n      activeTab = _React$useState22[0],\n      setActiveTab = _React$useState22[1];\n\n  var _React$useState23 = react__WEBPACK_IMPORTED_MODULE_14___default.a.useState(),\n      _React$useState24 = _slicedToArray(_React$useState23, 2),\n      tipError = _React$useState24[0],\n      setTipError = _React$useState24[1];\n\n  var _React$useState25 = react__WEBPACK_IMPORTED_MODULE_14___default.a.useState(false),\n      _React$useState26 = _slicedToArray(_React$useState25, 2),\n      deletedComment = _React$useState26[0],\n      setDeletedComment = _React$useState26[1];\n\n  var _React$useState27 = react__WEBPACK_IMPORTED_MODULE_14___default.a.useState({\n    tab: undefined,\n    open: false\n  }),\n      _React$useState28 = _slicedToArray(_React$useState27, 2),\n      showSelectors = _React$useState28[0],\n      setShowSelectors = _React$useState28[1];\n\n  var _React$useState29 = react__WEBPACK_IMPORTED_MODULE_14___default.a.useState(),\n      _React$useState30 = _slicedToArray(_React$useState29, 2),\n      disableReviewButton = _React$useState30[0],\n      setDisableReviewButton = _React$useState30[1];\n\n  var _React$useState31 = react__WEBPACK_IMPORTED_MODULE_14___default.a.useState(),\n      _React$useState32 = _slicedToArray(_React$useState31, 2),\n      exchangeRate = _React$useState32[0],\n      setExchangeRate = _React$useState32[1];\n\n  var _React$useState33 = react__WEBPACK_IMPORTED_MODULE_14___default.a.useState(undefined),\n      _React$useState34 = _slicedToArray(_React$useState33, 2),\n      canReceiveFiatTip = _React$useState34[0],\n      setCanReceiveFiatTip = _React$useState34[1];\n\n  var _React$useState35 = react__WEBPACK_IMPORTED_MODULE_14___default.a.useState(undefined),\n      _React$useState36 = _slicedToArray(_React$useState35, 2),\n      tipModalOpen = _React$useState36[0],\n      setTipModalOpen = _React$useState36[1];\n\n  var charCount = commentValue ? commentValue.length : 0;\n  var hasNothingToSumbit = !commentValue.length && !selectedSticker;\n  var disabled = deletedComment || isSubmitting || isFetchingChannels || hasNothingToSumbit || disableInput;\n  var channelSettings = channelClaimId ? settingsByChannelId[channelClaimId] : undefined;\n  var minSuper = channelSettings && channelSettings.min_tip_amount_super_chat || 0;\n  var minTip = channelSettings && channelSettings.min_tip_amount_comment || 0;\n  var minAmount = minTip || minSuper || 0;\n  var minAmountMet = activeTab !== TAB_LBC || minAmount === 0 || tipAmount >= minAmount;\n  var stickerPrice = selectedSticker && selectedSticker.price;\n  var tipSelectorError = tipError || disableReviewButton;\n  var minAmountRef = react__WEBPACK_IMPORTED_MODULE_14___default.a.useRef(minAmount);\n  minAmountRef.current = minAmount; // **************************************************************************\n  // Functions\n  // **************************************************************************\n\n  function addEmoteToComment(emote) {\n    setCommentValue(commentValue + (commentValue && commentValue.charAt(commentValue.length - 1) !== ' ' ? \" \".concat(emote, \" \") : \"\".concat(emote, \" \")));\n  }\n\n  function handleSelectTipComment(tab) {\n    setActiveTab(tab);\n\n    if (isMobile) {\n      setTipModalOpen(true);\n      doOpenModal(constants_modal_types__WEBPACK_IMPORTED_MODULE_10__[\"SEND_TIP\"], {\n        uri: uri,\n        isTipOnly: true,\n        hasSelectedTab: tab,\n        customText: __('Preview Comment Tip'),\n        setAmount: function setAmount(amount) {\n          setTipAmount(amount);\n          setReviewingSupportComment(true);\n        }\n      });\n    } else {\n      setTipSelector(true);\n    }\n\n    if (onSlimInputClose) onSlimInputClose();\n  }\n\n  function handleStickerComment() {\n    if (selectedSticker) {\n      setReviewingStickerComment(false);\n      setSelectedSticker(undefined);\n      setShowSelectors({\n        tab: _comment_selectors__WEBPACK_IMPORTED_MODULE_13__[\"SELECTOR_TABS\"].STICKER,\n        open: true\n      });\n    } else {\n      setShowSelectors({\n        tab: showSelectors.tab || undefined,\n        open: !showSelectors.open\n      });\n    }\n\n    setTipSelector(false);\n  }\n\n  function handleSelectSticker(sticker) {\n    // $FlowFixMe\n    setSelectedSticker(sticker);\n    setReviewingStickerComment(true);\n    setTipAmount(sticker.price || 0);\n    setShowSelectors({\n      tab: showSelectors.tab || undefined,\n      open: false\n    }); // added this here since selecting a sticker can cause scroll issues\n\n    if (onSlimInputClose) onSlimInputClose();\n\n    if (sticker.price && sticker.price > 0) {\n      setActiveTab(canReceiveFiatTip ? TAB_FIAT : TAB_LBC);\n      setTipSelector(true);\n    }\n  }\n\n  function handleCancelSticker() {\n    setReviewingStickerComment(false);\n    setSelectedSticker(null);\n    if (onSlimInputClose) onSlimInputClose();\n  }\n\n  function handleCancelSupport() {\n    if (!isReviewingSupportComment) setTipSelector(false);\n    setReviewingSupportComment(false);\n\n    if (stickerPrice) {\n      setReviewingStickerComment(false);\n      setShowSelectors({\n        tab: showSelectors.tab || undefined,\n        open: false\n      });\n      setSelectedSticker(null);\n    }\n\n    if (onSlimInputClose) onSlimInputClose();\n  }\n\n  function handleSupportComment() {\n    if (!activeChannelClaimId) return;\n\n    if (!channelClaimId) {\n      doToast({\n        message: __('Unable to verify channel settings. Try refreshing the page.'),\n        isError: true\n      });\n      return;\n    } // if comment post didn't work, but tip was already made, try again to create comment\n\n\n    if (commentFailure && tipAmount === successTip.tipAmount) {\n      handleCreateComment(successTip.txid);\n      return;\n    } else {\n      setSuccessTip({\n        txid: undefined,\n        tipAmount: undefined\n      });\n    } // !! Beware of stale closure when editing the then-block, including doSubmitTip().\n\n\n    doFetchCreatorSettings(channelClaimId).then(function () {\n      var lockedMinAmount = minAmount; // value during closure.\n\n      var currentMinAmount = minAmountRef.current; // value from latest doFetchCreatorSettings().\n\n      if (lockedMinAmount !== currentMinAmount) {\n        doToast({\n          message: __('The creator just updated the minimum setting. Please revise or double-check your tip amount.'),\n          isError: true\n        });\n        setReviewingSupportComment(false);\n        return;\n      }\n\n      doSubmitTip();\n    });\n  }\n\n  function doSubmitTip() {\n    if (!claimId || !channelClaimId || !activeChannelName || !activeChannelClaimId || isSubmitting || !tipChannelName) {\n      return;\n    }\n\n    setSubmitting(true);\n    var params = {\n      amount: tipAmount,\n      claim_id: claimId,\n      channel_id: activeChannelClaimId\n    };\n\n    if (activeTab === TAB_LBC) {\n      // call doSendTip and then run the callback from the response\n      // second parameter is callback\n      doSendTip(params, false, function (response) {\n        var txid = response.txid; // todo: why the setTimeout?\n\n        setTimeout(function () {\n          handleCreateComment(txid);\n        }, 1500);\n        doToast({\n          message: __('Tip successfully sent.'),\n          subMessage: __(\"I'm sure they appreciate it!\"),\n          linkText: \"\".concat(tipAmount, \" LBC \\u21D2 \").concat(tipChannelName),\n          // force show decimal places\n          linkTarget: '/wallet'\n        });\n        setSuccessTip({\n          txid: txid,\n          tipAmount: tipAmount\n        });\n      }, function () {\n        // reset the frontend so people can send a new comment\n        setSubmitting(false);\n      }, false, 'comment');\n    } else {\n      var tipParams = {\n        tipAmount: Math.round(tipAmount * 100) / 100,\n        tipChannelName: tipChannelName,\n        channelClaimId: channelClaimId\n      };\n      var userParams = {\n        activeChannelName: activeChannelName,\n        activeChannelId: activeChannelClaimId\n      };\n      doSendCashTip(tipParams, false, userParams, claimId, stripeEnvironment, preferredCurrency, function (customerTipResponse) {\n        var payment_intent_id = customerTipResponse.payment_intent_id;\n        handleCreateComment(null, payment_intent_id, stripeEnvironment);\n        setCommentValue('');\n        setReviewingSupportComment(false);\n        setTipSelector(false);\n        setCommentFailure(false);\n        setSubmitting(false);\n      });\n    }\n  }\n  /**\n   *\n   * @param {string} [txid] Optional transaction id generated by\n   * @param {string} [payment_intent_id] Optional payment_intent_id from Stripe payment\n   * @param {string} [environment] Optional environment for Stripe (test|live)\n   */\n\n\n  function handleCreateComment(txid, payment_intent_id, environment) {\n    if (isSubmitting || disableInput || !claimId) return;\n    setSubmitting(true);\n    var stickerValue = selectedSticker && Object(util_comments__WEBPACK_IMPORTED_MODULE_1__[\"buildValidSticker\"])(selectedSticker.name);\n    doCommentCreate(uri, isLivestream, {\n      comment: stickerValue || commentValue,\n      claim_id: claimId,\n      parent_id: parentId,\n      txid: txid,\n      payment_intent_id: payment_intent_id,\n      environment: environment,\n      sticker: !!stickerValue\n    }).then(function (res) {\n      setSubmitting(false);\n      if (setQuickReply) setQuickReply(res);\n\n      if (res && res.signature) {\n        if (!stickerValue) setCommentValue('');\n        setReviewingSupportComment(false);\n        setTipSelector(false);\n        setCommentFailure(false);\n\n        if (onDoneReplying) {\n          onDoneReplying();\n        }\n      }\n    })[\"catch\"](function () {\n      setSubmitting(false);\n      setCommentFailure(true);\n\n      if (channelClaimId) {\n        // It could be that the creator added a minimum tip setting.\n        // Manually update for now until a websocket msg is available.\n        doFetchCreatorSettings(channelClaimId);\n      }\n    });\n  }\n\n  function handleSubmitSticker() {\n    if (isReviewingSupportComment) {\n      handleSupportComment();\n    } else {\n      handleCreateComment();\n    }\n\n    setSelectedSticker(null);\n    setReviewingStickerComment(false);\n    setShowSelectors({\n      tab: showSelectors.tab || undefined,\n      open: false\n    });\n    setTipSelector(false);\n  }\n\n  var fiatIconToUse = constants_icons__WEBPACK_IMPORTED_MODULE_7__[\"FINANCE\"];\n  if (preferredCurrency === 'EUR') fiatIconToUse = constants_icons__WEBPACK_IMPORTED_MODULE_7__[\"EURO\"]; // **************************************************************************\n  // Effects\n  // **************************************************************************\n  // Fetch channel constraints if not already.\n\n  react__WEBPACK_IMPORTED_MODULE_14___default.a.useEffect(function () {\n    if (!channelSettings && channelClaimId) {\n      doFetchCreatorSettings(channelClaimId);\n    }\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n  // change sticker selection\n\n  react__WEBPACK_IMPORTED_MODULE_14___default.a.useEffect(function () {\n    if (isMobile && showSelectors.tab && slimInputButtonRef && slimInputButtonRef.current) {\n      slimInputButtonRef.current.click();\n    }\n  }, [isMobile, showSelectors.tab]); // Notifications: Fetch top-level comments to identify if it has been deleted and can reply to it\n\n  react__WEBPACK_IMPORTED_MODULE_14___default.a.useEffect(function () {\n    if (shouldFetchComment && doCommentById) {\n      doCommentById(parentId, false).then(function (result) {\n        setDeletedComment(String(result).includes('Error'));\n      });\n    }\n  }, [doCommentById, shouldFetchComment, parentId]); // Stickers: Get LBC-USD exchange rate if hasn't yet and selected a paid sticker\n\n  react__WEBPACK_IMPORTED_MODULE_14___default.a.useEffect(function () {\n    if (stickerPrice && !exchangeRate) lbryinc__WEBPACK_IMPORTED_MODULE_4__[\"Lbryio\"].getExchangeRates().then(function (_ref) {\n      var LBC_USD = _ref.LBC_USD;\n      return setExchangeRate(LBC_USD);\n    });\n  }, [exchangeRate, stickerPrice]); // Stickers: Check if creator has a tip account saved (on selector so that if a paid sticker is selected,\n  // it defaults to LBC tip instead of USD)\n\n  react__WEBPACK_IMPORTED_MODULE_14___default.a.useEffect(function () {\n    if (!stripeEnvironment || canReceiveFiatTip !== undefined || !tipChannelName) return;\n    lbryinc__WEBPACK_IMPORTED_MODULE_4__[\"Lbryio\"].call('account', 'check', {\n      channel_claim_id: channelClaimId,\n      channel_name: tipChannelName,\n      environment: stripeEnvironment\n    }, 'post').then(function (accountCheckResponse) {\n      if (accountCheckResponse === true && canReceiveFiatTip !== true) {\n        setCanReceiveFiatTip(true);\n      } else {\n        setCanReceiveFiatTip(false);\n      }\n    })[\"catch\"](function () {});\n  }, [canReceiveFiatTip, channelClaimId, tipChannelName]); // Handle keyboard shortcut comment creation\n\n  react__WEBPACK_IMPORTED_MODULE_14___default.a.useEffect(function () {\n    function altEnterListener(e) {\n      var inputRef = formFieldRef && formFieldRef.current && formFieldRef.current.input;\n\n      if (inputRef && inputRef.current === document.activeElement) {\n        // $FlowFixMe\n        var isTyping = Boolean(e.target.attributes['typing-term']);\n\n        if ((isLivestream && !isTyping || e.ctrlKey || e.metaKey) && e.keyCode === constants_keycodes__WEBPACK_IMPORTED_MODULE_8__[\"ENTER\"]) {\n          e.preventDefault();\n          buttonRef.current.click();\n        }\n\n        if (isLivestream && isTyping && e.keyCode === constants_keycodes__WEBPACK_IMPORTED_MODULE_8__[\"ENTER\"]) {\n          inputRef.current.removeAttribute('typing-term');\n        }\n      }\n    }\n\n    window.addEventListener('keydown', altEnterListener); // removes the listener so it doesn't cause problems elsewhere in the app\n\n    return function () {\n      window.removeEventListener('keydown', altEnterListener);\n    };\n  }, [isLivestream]); // Determine my channels that have commented\n\n  react__WEBPACK_IMPORTED_MODULE_14___default.a.useEffect(function () {\n    if (myCommentedChannelIds === undefined && claimId && myChannelClaimIds) {\n      doFetchMyCommentedChannels(claimId);\n    }\n  }, [claimId, myCommentedChannelIds, myChannelClaimIds]); // **************************************************************************\n  // Render\n  // **************************************************************************\n\n  if (!isFetchingChannels && !hasChannels) {\n    return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(\"div\", {\n      role: \"button\",\n      className: \"comment-create__auth\",\n      onClick: function onClick(e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (embed) {\n          window.open(\"https://odysee.com/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_9__[\"AUTH\"], \"?redirect=/$/\").concat(constants_pages__WEBPACK_IMPORTED_MODULE_9__[\"LIVESTREAM\"]));\n          return;\n        }\n\n        var pathPlusRedirect = \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_9__[\"CHANNEL_NEW\"], \"?redirect=\").concat(pathname);\n\n        if (isLivestream) {\n          window.open(pathPlusRedirect);\n        } else {\n          push(pathPlusRedirect);\n        }\n      }\n    }, react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(component_common_form__WEBPACK_IMPORTED_MODULE_3__[\"FormField\"], {\n      type: \"textarea\",\n      name: \"comment__signup-prompt\",\n      placeholder: __('Say something about this...'),\n      disabled: isMobile\n    }), !isMobile && react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(\"div\", {\n      className: \"section__actions--no-margin\"\n    }, react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n      disabled: true,\n      button: \"primary\",\n      label: __('Post --[button to submit something]--'),\n      requiresAuth: true\n    })));\n  }\n\n  var commentSelectorsProps = {\n    claimIsMine: claimIsMine,\n    addEmoteToComment: addEmoteToComment,\n    handleSelectSticker: handleSelectSticker,\n    openTab: showSelectors.tab || undefined\n  };\n  var submitButtonProps = {\n    button: 'primary',\n    type: 'submit',\n    requiresAuth: true\n  };\n  var actionButtonProps = {\n    button: 'alt'\n  };\n\n  var tipButtonProps = _objectSpread({}, actionButtonProps, {\n    disabled: !commentValue.length && !selectedSticker,\n    tipSelectorOpen: tipSelectorOpen,\n    activeTab: activeTab,\n    onClick: handleSelectTipComment\n  });\n\n  var cancelButtonProps = {\n    button: 'link',\n    label: __('Cancel')\n  };\n  var stickerReviewProps = {\n    activeChannelUrl: activeChannelUrl,\n    src: selectedSticker ? selectedSticker.url : '',\n    price: selectedSticker ? selectedSticker.price : 0,\n    exchangeRate: exchangeRate\n  };\n  return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(component_common_form__WEBPACK_IMPORTED_MODULE_3__[\"Form\"], {\n    onSubmit: function onSubmit() {},\n    className: classnames__WEBPACK_IMPORTED_MODULE_12___default()('commentCreate', {\n      'commentCreate--reply': isReply,\n      'commentCreate--nestedReply': isNested,\n      'commentCreate--bottom': bottom\n    })\n  }, isReviewingSupportComment ? activeChannelUrl && activeTab && react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_tip_contents__WEBPACK_IMPORTED_MODULE_19__[\"TipReviewBox\"], {\n    activeChannelUrl: activeChannelUrl,\n    tipAmount: tipAmount,\n    activeTab: activeTab,\n    message: commentValue,\n    isReviewingStickerComment: isReviewingStickerComment,\n    stickerPreviewComponent: selectedSticker && react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_sticker_contents__WEBPACK_IMPORTED_MODULE_18__[\"StickerReviewBox\"], stickerReviewProps)\n  }) : selectedSticker ? activeChannelUrl && react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_sticker_contents__WEBPACK_IMPORTED_MODULE_18__[\"StickerReviewBox\"], stickerReviewProps) : react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_14___default.a.Fragment, null, !isMobile && showSelectors.open && react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_comment_selectors__WEBPACK_IMPORTED_MODULE_13__[\"default\"], _extends({}, commentSelectorsProps, {\n    closeSelector: function closeSelector() {\n      return setShowSelectors({\n        tab: showSelectors.tab || undefined,\n        open: false\n      });\n    }\n  })), react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(component_common_form__WEBPACK_IMPORTED_MODULE_3__[\"FormField\"], {\n    autoFocus: isReply,\n    charCount: charCount,\n    className: isReply ? 'create__reply' : 'create__comment',\n    disabled: isFetchingChannels || disableInput,\n    isLivestream: isLivestream,\n    label: react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_extra_contents__WEBPACK_IMPORTED_MODULE_20__[\"FormChannelSelector\"], {\n      isReply: Boolean(isReply),\n      isLivestream: Boolean(isLivestream)\n    }),\n    noticeLabel: isMobile && react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_extra_contents__WEBPACK_IMPORTED_MODULE_20__[\"HelpText\"], {\n      deletedComment: deletedComment,\n      minAmount: minAmount,\n      minSuper: minSuper,\n      minTip: minTip\n    }),\n    name: isReply ? 'create__reply' : 'create__comment',\n    onChange: function onChange(e) {\n      return setCommentValue(config__WEBPACK_IMPORTED_MODULE_5__[\"SIMPLE_SITE\"] || !advancedEditor || isReply ? e.target.value : e);\n    },\n    handleTip: function handleTip(isLBC) {\n      return handleSelectTipComment(isLBC ? TAB_LBC : TAB_FIAT);\n    },\n    handleSubmit: handleCreateComment,\n    slimInput: isMobile && uri // \"uri\": make sure it's on a file page\n    ,\n    slimInputButtonRef: slimInputButtonRef,\n    onSlimInputClose: onSlimInputClose,\n    commentSelectorsProps: commentSelectorsProps,\n    submitButtonRef: buttonRef,\n    setShowSelectors: setShowSelectors,\n    showSelectors: showSelectors,\n    tipModalOpen: tipModalOpen,\n    placeholder: __('Say something about this...'),\n    quickActionHandler: !config__WEBPACK_IMPORTED_MODULE_5__[\"SIMPLE_SITE\"] ? function () {\n      return setAdvancedEditor(!advancedEditor);\n    } : undefined,\n    quickActionLabel: !config__WEBPACK_IMPORTED_MODULE_5__[\"SIMPLE_SITE\"] && (isReply ? undefined : advancedEditor ? __('Simple Editor') : __('Advanced Editor')),\n    ref: formFieldRef,\n    textAreaMaxLength: isLivestream ? constants_form_field__WEBPACK_IMPORTED_MODULE_2__[\"FF_MAX_CHARS_IN_LIVESTREAM_COMMENT\"] : constants_form_field__WEBPACK_IMPORTED_MODULE_2__[\"FF_MAX_CHARS_IN_COMMENT\"],\n    type: !config__WEBPACK_IMPORTED_MODULE_5__[\"SIMPLE_SITE\"] && advancedEditor && !isReply ? 'markdown' : 'textarea',\n    value: commentValue,\n    uri: uri\n  })), (!isMobile || isReviewingStickerComment) && (tipSelectorOpen || isReviewingStickerComment && stickerPrice) && react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(component_walletTipAmountSelector__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n    activeTab: activeTab,\n    amount: tipAmount,\n    uri: uri,\n    convertedAmount: convertedAmount,\n    customTipAmount: stickerPrice,\n    exchangeRate: exchangeRate,\n    fiatConversion: selectedSticker && !!selectedSticker.price,\n    onChange: function onChange(amount) {\n      return setTipAmount(amount);\n    },\n    setConvertedAmount: setConvertedAmount,\n    setDisableSubmitButton: setDisableReviewButton,\n    setTipError: setTipError,\n    tipError: tipError\n  }), (!isMobile || isReviewingStickerComment || isReviewingSupportComment) && react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(\"div\", {\n    className: \"section__actions\"\n  }, isReviewingSupportComment ? react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_11__[\"default\"], _extends({}, submitButtonProps, {\n    autoFocus: true,\n    disabled: disabled || !minAmountMet,\n    label: isSubmitting ? __('Sending...') : commentFailure && tipAmount === successTip.tipAmount ? __('Re-submit') : __('Send'),\n    onClick: handleSupportComment\n  })) : tipSelectorOpen ? react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_11__[\"default\"], _extends({}, submitButtonProps, {\n    disabled: disabled || tipSelectorError || !minAmountMet,\n    icon: activeTab === TAB_LBC ? constants_icons__WEBPACK_IMPORTED_MODULE_7__[\"LBC\"] : fiatIconToUse,\n    label: __('Review'),\n    onClick: function onClick() {\n      setReviewingSupportComment(true);\n      if (onSlimInputClose) onSlimInputClose();\n    }\n  })) : (!isMobile || selectedSticker) && (!minTip || claimIsMine) && react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_11__[\"default\"], _extends({}, submitButtonProps, {\n    ref: buttonRef,\n    disabled: disabled,\n    label: isReply ? isSubmitting ? __('Replying...') : __('Reply') : isSubmitting ? __('Commenting...') : __('Comment --[button to submit something]--'),\n    onClick: function onClick() {\n      return selectedSticker ? handleSubmitSticker() : handleCreateComment();\n    }\n  })), (!isMobile || isReviewingStickerComment) && react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_14___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_sticker_contents__WEBPACK_IMPORTED_MODULE_18__[\"StickerActionButton\"], _extends({}, actionButtonProps, {\n    isReviewingStickerComment: isReviewingStickerComment,\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_7__[\"STICKER\"],\n    onClick: handleStickerComment\n  })), !supportDisabled && !claimIsMine && react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_14___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_tip_contents__WEBPACK_IMPORTED_MODULE_19__[\"TipActionButton\"], _extends({}, tipButtonProps, {\n    name: __('Credits'),\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_7__[\"LBC\"],\n    tab: TAB_LBC\n  })), !window.odysee.build.googlePlay && stripeEnvironment && react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_tip_contents__WEBPACK_IMPORTED_MODULE_19__[\"TipActionButton\"], _extends({}, tipButtonProps, {\n    name: __('Cash'),\n    icon: fiatIconToUse,\n    tab: TAB_FIAT\n  })))), tipSelectorOpen || isReviewingSupportComment ? react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_11__[\"default\"], _extends({}, cancelButtonProps, {\n    disabled: isSubmitting,\n    onClick: handleCancelSupport\n  })) : isReviewingStickerComment ? react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_11__[\"default\"], _extends({}, cancelButtonProps, {\n    onClick: handleCancelSticker\n  })) : onCancelReplying && react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_11__[\"default\"], _extends({}, cancelButtonProps, {\n    onClick: onCancelReplying\n  })), react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_extra_contents__WEBPACK_IMPORTED_MODULE_20__[\"HelpText\"], {\n    deletedComment: deletedComment,\n    minAmount: minAmount,\n    minSuper: minSuper,\n    minTip: minTip\n  })));\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! i18n.js */ \"../ui/i18n.js\")[\"__\"]))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L2NvbW1lbnRDcmVhdGUvdmlldy5qc3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vdWkvY29tcG9uZW50L2NvbW1lbnRDcmVhdGUvdmlldy5qc3g/YjU5YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAZmxvd1xuXG5pbXBvcnQgJ3Njc3MvY29tcG9uZW50L19jb21tZW50LWNyZWF0ZS5zY3NzJztcblxuaW1wb3J0IHsgYnVpbGRWYWxpZFN0aWNrZXIgfSBmcm9tICd1dGlsL2NvbW1lbnRzJztcbmltcG9ydCB7IEZGX01BWF9DSEFSU19JTl9DT01NRU5ULCBGRl9NQVhfQ0hBUlNfSU5fTElWRVNUUkVBTV9DT01NRU5UIH0gZnJvbSAnY29uc3RhbnRzL2Zvcm0tZmllbGQnO1xuaW1wb3J0IHsgRm9ybUZpZWxkLCBGb3JtIH0gZnJvbSAnY29tcG9uZW50L2NvbW1vbi9mb3JtJztcbmltcG9ydCB7IExicnlpbyB9IGZyb20gJ2xicnlpbmMnO1xuaW1wb3J0IHsgU0lNUExFX1NJVEUgfSBmcm9tICdjb25maWcnO1xuaW1wb3J0IHsgdXNlSGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5pbXBvcnQgKiBhcyBJQ09OUyBmcm9tICdjb25zdGFudHMvaWNvbnMnO1xuaW1wb3J0ICogYXMgS0VZQ09ERVMgZnJvbSAnY29uc3RhbnRzL2tleWNvZGVzJztcbmltcG9ydCAqIGFzIFBBR0VTIGZyb20gJ2NvbnN0YW50cy9wYWdlcyc7XG5pbXBvcnQgKiBhcyBNT0RBTFMgZnJvbSAnY29uc3RhbnRzL21vZGFsX3R5cGVzJztcbmltcG9ydCBCdXR0b24gZnJvbSAnY29tcG9uZW50L2J1dHRvbic7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBDb21tZW50U2VsZWN0b3JzLCB7IFNFTEVDVE9SX1RBQlMgfSBmcm9tICcuL2NvbW1lbnQtc2VsZWN0b3JzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdHlwZSB7IEVsZW1lbnRSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdXNlUGVyc2lzdGVkU3RhdGUgZnJvbSAnZWZmZWN0cy91c2UtcGVyc2lzdGVkLXN0YXRlJztcbmltcG9ydCBXYWxsZXRUaXBBbW91bnRTZWxlY3RvciBmcm9tICdjb21wb25lbnQvd2FsbGV0VGlwQW1vdW50U2VsZWN0b3InO1xuaW1wb3J0IHsgdXNlSXNNb2JpbGUgfSBmcm9tICdlZmZlY3RzL3VzZS1zY3JlZW5zaXplJztcbmltcG9ydCB7IFN0aWNrZXJSZXZpZXdCb3gsIFN0aWNrZXJBY3Rpb25CdXR0b24gfSBmcm9tICcuL3N0aWNrZXItY29udGVudHMnO1xuaW1wb3J0IHsgVGlwUmV2aWV3Qm94LCBUaXBBY3Rpb25CdXR0b24gfSBmcm9tICcuL3RpcC1jb250ZW50cyc7XG5pbXBvcnQgeyBGb3JtQ2hhbm5lbFNlbGVjdG9yLCBIZWxwVGV4dCB9IGZyb20gJy4vZXh0cmEtY29udGVudHMnO1xuXG5pbXBvcnQgeyBnZXRTdHJpcGVFbnZpcm9ubWVudCB9IGZyb20gJ3V0aWwvc3RyaXBlJztcbmNvbnN0IHN0cmlwZUVudmlyb25tZW50ID0gZ2V0U3RyaXBlRW52aXJvbm1lbnQoKTtcblxuY29uc3QgVEFCX0ZJQVQgPSAnVGFiRmlhdCc7XG5jb25zdCBUQUJfTEJDID0gJ1RhYkxCQyc7XG5cbnR5cGUgVGlwUGFyYW1zID0geyB0aXBBbW91bnQ6IG51bWJlciwgdGlwQ2hhbm5lbE5hbWU6IHN0cmluZywgY2hhbm5lbENsYWltSWQ6IHN0cmluZyB9O1xudHlwZSBVc2VyUGFyYW1zID0geyBhY3RpdmVDaGFubmVsTmFtZTogP3N0cmluZywgYWN0aXZlQ2hhbm5lbElkOiA/c3RyaW5nIH07XG5cbnR5cGUgUHJvcHMgPSB7XG4gIGFjdGl2ZUNoYW5uZWxDbGFpbUlkPzogc3RyaW5nLFxuICBhY3RpdmVDaGFubmVsTmFtZT86IHN0cmluZyxcbiAgYWN0aXZlQ2hhbm5lbFVybD86IHN0cmluZyxcbiAgYm90dG9tOiBib29sZWFuLFxuICBoYXNDaGFubmVsczogYm9vbGVhbixcbiAgY2xhaW1JZD86IHN0cmluZyxcbiAgY2hhbm5lbENsYWltSWQ/OiBzdHJpbmcsXG4gIHRpcENoYW5uZWxOYW1lPzogc3RyaW5nLFxuICBjbGFpbUlzTWluZTogYm9vbGVhbixcbiAgZW1iZWQ/OiBib29sZWFuLFxuICBpc0ZldGNoaW5nQ2hhbm5lbHM6IGJvb2xlYW4sXG4gIGlzTmVzdGVkOiBib29sZWFuLFxuICBpc1JlcGx5OiBib29sZWFuLFxuICBpc0xpdmVzdHJlYW0/OiBib29sZWFuLFxuICBwYXJlbnRJZDogc3RyaW5nLFxuICBzZXR0aW5nc0J5Q2hhbm5lbElkOiB7IFtjaGFubmVsSWQ6IHN0cmluZ106IFBlckNoYW5uZWxTZXR0aW5ncyB9LFxuICBzaG91bGRGZXRjaENvbW1lbnQ6IGJvb2xlYW4sXG4gIHN1cHBvcnREaXNhYmxlZDogYm9vbGVhbixcbiAgdXJpOiBzdHJpbmcsXG4gIGRpc2FibGVJbnB1dD86IGJvb2xlYW4sXG4gIG9uU2xpbUlucHV0Q2xvc2U/OiAoKSA9PiB2b2lkLFxuICBzZXRRdWlja1JlcGx5OiAoYW55KSA9PiB2b2lkLFxuICBvbkNhbmNlbFJlcGx5aW5nPzogKCkgPT4gdm9pZCxcbiAgb25Eb25lUmVwbHlpbmc/OiAoKSA9PiB2b2lkLFxuICAvLyByZWR1eFxuICBkb0NvbW1lbnRDcmVhdGU6ICh1cmk6IHN0cmluZywgaXNMaXZlc3RyZWFtPzogYm9vbGVhbiwgcGFyYW1zOiBDb21tZW50U3VibWl0UGFyYW1zKSA9PiBQcm9taXNlPGFueT4sXG4gIGRvRmV0Y2hDcmVhdG9yU2V0dGluZ3M6IChjaGFubmVsSWQ6IHN0cmluZykgPT4gUHJvbWlzZTxhbnk+LFxuICBkb1RvYXN0OiAoeyBtZXNzYWdlOiBzdHJpbmcgfSkgPT4gdm9pZCxcbiAgZG9Db21tZW50QnlJZDogKGNvbW1lbnRJZDogc3RyaW5nLCB0b2FzdElmTm90Rm91bmQ6IGJvb2xlYW4pID0+IFByb21pc2U8YW55PixcbiAgZG9TZW5kQ2FzaFRpcDogKFxuICAgIFRpcFBhcmFtcyxcbiAgICBhbm9ueW1vdXM6IGJvb2xlYW4sXG4gICAgVXNlclBhcmFtcyxcbiAgICBjbGFpbUlkOiBzdHJpbmcsXG4gICAgc3RyaXBlOiA/c3RyaW5nLFxuICAgIHByZWZlcnJlZEN1cnJlbmN5OiBzdHJpbmcsXG4gICAgKGFueSkgPT4gdm9pZFxuICApID0+IHN0cmluZyxcbiAgZG9TZW5kVGlwOiAoXG4gICAgcGFyYW1zOiB7fSxcbiAgICBpc1N1cHBvcnQ6IGJvb2xlYW4sXG4gICAgc3VjY2Vzc0NiOiAoYW55KSA9PiB2b2lkLFxuICAgIGVycm9yQ2I6IChhbnkpID0+IHZvaWQsXG4gICAgYm9vbGVhbixcbiAgICBzdHJpbmdcbiAgKSA9PiB2b2lkLFxuICBkb09wZW5Nb2RhbDogKGlkOiBzdHJpbmcsIGFueSkgPT4gdm9pZCxcbiAgcHJlZmVycmVkQ3VycmVuY3k6IHN0cmluZyxcbiAgbXlDaGFubmVsQ2xhaW1JZHM6ID9BcnJheTxzdHJpbmc+LFxuICBteUNvbW1lbnRlZENoYW5uZWxJZHM6ID9BcnJheTxzdHJpbmc+LFxuICBkb0ZldGNoTXlDb21tZW50ZWRDaGFubmVsczogKGNsYWltSWQ6ID9zdHJpbmcpID0+IHZvaWQsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gQ29tbWVudENyZWF0ZShwcm9wczogUHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGFjdGl2ZUNoYW5uZWxDbGFpbUlkLFxuICAgIGFjdGl2ZUNoYW5uZWxOYW1lLFxuICAgIGFjdGl2ZUNoYW5uZWxVcmwsXG4gICAgYm90dG9tLFxuICAgIGhhc0NoYW5uZWxzLFxuICAgIGNsYWltSWQsXG4gICAgY2hhbm5lbENsYWltSWQsXG4gICAgdGlwQ2hhbm5lbE5hbWUsXG4gICAgY2xhaW1Jc01pbmUsXG4gICAgZW1iZWQsXG4gICAgaXNGZXRjaGluZ0NoYW5uZWxzLFxuICAgIGlzTmVzdGVkLFxuICAgIGlzUmVwbHksXG4gICAgaXNMaXZlc3RyZWFtLFxuICAgIHBhcmVudElkLFxuICAgIHNldHRpbmdzQnlDaGFubmVsSWQsXG4gICAgc2hvdWxkRmV0Y2hDb21tZW50LFxuICAgIHN1cHBvcnREaXNhYmxlZCxcbiAgICB1cmksXG4gICAgZGlzYWJsZUlucHV0LFxuICAgIG9uU2xpbUlucHV0Q2xvc2UsXG4gICAgZG9Db21tZW50Q3JlYXRlLFxuICAgIGRvRmV0Y2hDcmVhdG9yU2V0dGluZ3MsXG4gICAgZG9Ub2FzdCxcbiAgICBkb0NvbW1lbnRCeUlkLFxuICAgIG9uQ2FuY2VsUmVwbHlpbmcsXG4gICAgb25Eb25lUmVwbHlpbmcsXG4gICAgZG9TZW5kQ2FzaFRpcCxcbiAgICBkb1NlbmRUaXAsXG4gICAgc2V0UXVpY2tSZXBseSxcbiAgICBkb09wZW5Nb2RhbCxcbiAgICBwcmVmZXJyZWRDdXJyZW5jeSxcbiAgICBteUNoYW5uZWxDbGFpbUlkcyxcbiAgICBteUNvbW1lbnRlZENoYW5uZWxJZHMsXG4gICAgZG9GZXRjaE15Q29tbWVudGVkQ2hhbm5lbHMsXG4gIH0gPSBwcm9wcztcblxuICBjb25zdCBpc01vYmlsZSA9IHVzZUlzTW9iaWxlKCk7XG5cbiAgY29uc3QgZm9ybUZpZWxkUmVmOiBFbGVtZW50UmVmPGFueT4gPSBSZWFjdC51c2VSZWYoKTtcbiAgY29uc3QgYnV0dG9uUmVmOiBFbGVtZW50UmVmPGFueT4gPSBSZWFjdC51c2VSZWYoKTtcbiAgY29uc3Qgc2xpbUlucHV0QnV0dG9uUmVmOiBFbGVtZW50UmVmPGFueT4gPSBSZWFjdC51c2VSZWYoKTtcblxuICBjb25zdCB7XG4gICAgcHVzaCxcbiAgICBsb2NhdGlvbjogeyBwYXRobmFtZSB9LFxuICB9ID0gdXNlSGlzdG9yeSgpO1xuXG4gIGNvbnN0IFtpc1N1Ym1pdHRpbmcsIHNldFN1Ym1pdHRpbmddID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29tbWVudEZhaWx1cmUsIHNldENvbW1lbnRGYWlsdXJlXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3N1Y2Nlc3NUaXAsIHNldFN1Y2Nlc3NUaXBdID0gUmVhY3QudXNlU3RhdGUoeyB0eGlkOiB1bmRlZmluZWQsIHRpcEFtb3VudDogdW5kZWZpbmVkIH0pO1xuICBjb25zdCBbdGlwU2VsZWN0b3JPcGVuLCBzZXRUaXBTZWxlY3Rvcl0gPSBSZWFjdC51c2VTdGF0ZSgpO1xuICBjb25zdCBbaXNSZXZpZXdpbmdTdXBwb3J0Q29tbWVudCwgc2V0UmV2aWV3aW5nU3VwcG9ydENvbW1lbnRdID0gUmVhY3QudXNlU3RhdGUoKTtcbiAgY29uc3QgW2lzUmV2aWV3aW5nU3RpY2tlckNvbW1lbnQsIHNldFJldmlld2luZ1N0aWNrZXJDb21tZW50XSA9IFJlYWN0LnVzZVN0YXRlKCk7XG4gIGNvbnN0IFtzZWxlY3RlZFN0aWNrZXIsIHNldFNlbGVjdGVkU3RpY2tlcl0gPSBSZWFjdC51c2VTdGF0ZSgpO1xuICBjb25zdCBbdGlwQW1vdW50LCBzZXRUaXBBbW91bnRdID0gUmVhY3QudXNlU3RhdGUoMSk7XG4gIGNvbnN0IFtjb252ZXJ0ZWRBbW91bnQsIHNldENvbnZlcnRlZEFtb3VudF0gPSBSZWFjdC51c2VTdGF0ZSgpO1xuICBjb25zdCBbY29tbWVudFZhbHVlLCBzZXRDb21tZW50VmFsdWVdID0gUmVhY3QudXNlU3RhdGUoJycpO1xuICBjb25zdCBbYWR2YW5jZWRFZGl0b3IsIHNldEFkdmFuY2VkRWRpdG9yXSA9IHVzZVBlcnNpc3RlZFN0YXRlKCdjb21tZW50LWVkaXRvci1tb2RlJywgZmFsc2UpO1xuICBjb25zdCBbYWN0aXZlVGFiLCBzZXRBY3RpdmVUYWJdID0gUmVhY3QudXNlU3RhdGUoKTtcbiAgY29uc3QgW3RpcEVycm9yLCBzZXRUaXBFcnJvcl0gPSBSZWFjdC51c2VTdGF0ZSgpO1xuICBjb25zdCBbZGVsZXRlZENvbW1lbnQsIHNldERlbGV0ZWRDb21tZW50XSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dTZWxlY3RvcnMsIHNldFNob3dTZWxlY3RvcnNdID0gUmVhY3QudXNlU3RhdGUoeyB0YWI6IHVuZGVmaW5lZCwgb3BlbjogZmFsc2UgfSk7XG4gIGNvbnN0IFtkaXNhYmxlUmV2aWV3QnV0dG9uLCBzZXREaXNhYmxlUmV2aWV3QnV0dG9uXSA9IFJlYWN0LnVzZVN0YXRlKCk7XG4gIGNvbnN0IFtleGNoYW5nZVJhdGUsIHNldEV4Y2hhbmdlUmF0ZV0gPSBSZWFjdC51c2VTdGF0ZSgpO1xuICBjb25zdCBbY2FuUmVjZWl2ZUZpYXRUaXAsIHNldENhblJlY2VpdmVGaWF0VGlwXSA9IFJlYWN0LnVzZVN0YXRlKHVuZGVmaW5lZCk7XG4gIGNvbnN0IFt0aXBNb2RhbE9wZW4sIHNldFRpcE1vZGFsT3Blbl0gPSBSZWFjdC51c2VTdGF0ZSh1bmRlZmluZWQpO1xuXG4gIGNvbnN0IGNoYXJDb3VudCA9IGNvbW1lbnRWYWx1ZSA/IGNvbW1lbnRWYWx1ZS5sZW5ndGggOiAwO1xuICBjb25zdCBoYXNOb3RoaW5nVG9TdW1iaXQgPSAhY29tbWVudFZhbHVlLmxlbmd0aCAmJiAhc2VsZWN0ZWRTdGlja2VyO1xuICBjb25zdCBkaXNhYmxlZCA9IGRlbGV0ZWRDb21tZW50IHx8IGlzU3VibWl0dGluZyB8fCBpc0ZldGNoaW5nQ2hhbm5lbHMgfHwgaGFzTm90aGluZ1RvU3VtYml0IHx8IGRpc2FibGVJbnB1dDtcbiAgY29uc3QgY2hhbm5lbFNldHRpbmdzID0gY2hhbm5lbENsYWltSWQgPyBzZXR0aW5nc0J5Q2hhbm5lbElkW2NoYW5uZWxDbGFpbUlkXSA6IHVuZGVmaW5lZDtcbiAgY29uc3QgbWluU3VwZXIgPSAoY2hhbm5lbFNldHRpbmdzICYmIGNoYW5uZWxTZXR0aW5ncy5taW5fdGlwX2Ftb3VudF9zdXBlcl9jaGF0KSB8fCAwO1xuICBjb25zdCBtaW5UaXAgPSAoY2hhbm5lbFNldHRpbmdzICYmIGNoYW5uZWxTZXR0aW5ncy5taW5fdGlwX2Ftb3VudF9jb21tZW50KSB8fCAwO1xuICBjb25zdCBtaW5BbW91bnQgPSBtaW5UaXAgfHwgbWluU3VwZXIgfHwgMDtcbiAgY29uc3QgbWluQW1vdW50TWV0ID0gYWN0aXZlVGFiICE9PSBUQUJfTEJDIHx8IG1pbkFtb3VudCA9PT0gMCB8fCB0aXBBbW91bnQgPj0gbWluQW1vdW50O1xuICBjb25zdCBzdGlja2VyUHJpY2UgPSBzZWxlY3RlZFN0aWNrZXIgJiYgc2VsZWN0ZWRTdGlja2VyLnByaWNlO1xuICBjb25zdCB0aXBTZWxlY3RvckVycm9yID0gdGlwRXJyb3IgfHwgZGlzYWJsZVJldmlld0J1dHRvbjtcblxuICBjb25zdCBtaW5BbW91bnRSZWYgPSBSZWFjdC51c2VSZWYobWluQW1vdW50KTtcbiAgbWluQW1vdW50UmVmLmN1cnJlbnQgPSBtaW5BbW91bnQ7XG5cbiAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgLy8gRnVuY3Rpb25zXG4gIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiAgZnVuY3Rpb24gYWRkRW1vdGVUb0NvbW1lbnQoZW1vdGU6IHN0cmluZykge1xuICAgIHNldENvbW1lbnRWYWx1ZShcbiAgICAgIGNvbW1lbnRWYWx1ZSArIChjb21tZW50VmFsdWUgJiYgY29tbWVudFZhbHVlLmNoYXJBdChjb21tZW50VmFsdWUubGVuZ3RoIC0gMSkgIT09ICcgJyA/IGAgJHtlbW90ZX0gYCA6IGAke2Vtb3RlfSBgKVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVTZWxlY3RUaXBDb21tZW50KHRhYjogc3RyaW5nKSB7XG4gICAgc2V0QWN0aXZlVGFiKHRhYik7XG5cbiAgICBpZiAoaXNNb2JpbGUpIHtcbiAgICAgIHNldFRpcE1vZGFsT3Blbih0cnVlKTtcbiAgICAgIGRvT3Blbk1vZGFsKE1PREFMUy5TRU5EX1RJUCwge1xuICAgICAgICB1cmksXG4gICAgICAgIGlzVGlwT25seTogdHJ1ZSxcbiAgICAgICAgaGFzU2VsZWN0ZWRUYWI6IHRhYixcbiAgICAgICAgY3VzdG9tVGV4dDogX18oJ1ByZXZpZXcgQ29tbWVudCBUaXAnKSxcbiAgICAgICAgc2V0QW1vdW50OiAoYW1vdW50KSA9PiB7XG4gICAgICAgICAgc2V0VGlwQW1vdW50KGFtb3VudCk7XG4gICAgICAgICAgc2V0UmV2aWV3aW5nU3VwcG9ydENvbW1lbnQodHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VGlwU2VsZWN0b3IodHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYgKG9uU2xpbUlucHV0Q2xvc2UpIG9uU2xpbUlucHV0Q2xvc2UoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVN0aWNrZXJDb21tZW50KCkge1xuICAgIGlmIChzZWxlY3RlZFN0aWNrZXIpIHtcbiAgICAgIHNldFJldmlld2luZ1N0aWNrZXJDb21tZW50KGZhbHNlKTtcbiAgICAgIHNldFNlbGVjdGVkU3RpY2tlcih1bmRlZmluZWQpO1xuICAgICAgc2V0U2hvd1NlbGVjdG9ycyh7IHRhYjogU0VMRUNUT1JfVEFCUy5TVElDS0VSLCBvcGVuOiB0cnVlIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRTaG93U2VsZWN0b3JzKHsgdGFiOiBzaG93U2VsZWN0b3JzLnRhYiB8fCB1bmRlZmluZWQsIG9wZW46ICFzaG93U2VsZWN0b3JzLm9wZW4gfSk7XG4gICAgfVxuXG4gICAgc2V0VGlwU2VsZWN0b3IoZmFsc2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlU2VsZWN0U3RpY2tlcihzdGlja2VyOiBhbnkpIHtcbiAgICAvLyAkRmxvd0ZpeE1lXG4gICAgc2V0U2VsZWN0ZWRTdGlja2VyKHN0aWNrZXIpO1xuICAgIHNldFJldmlld2luZ1N0aWNrZXJDb21tZW50KHRydWUpO1xuICAgIHNldFRpcEFtb3VudChzdGlja2VyLnByaWNlIHx8IDApO1xuICAgIHNldFNob3dTZWxlY3RvcnMoeyB0YWI6IHNob3dTZWxlY3RvcnMudGFiIHx8IHVuZGVmaW5lZCwgb3BlbjogZmFsc2UgfSk7XG5cbiAgICAvLyBhZGRlZCB0aGlzIGhlcmUgc2luY2Ugc2VsZWN0aW5nIGEgc3RpY2tlciBjYW4gY2F1c2Ugc2Nyb2xsIGlzc3Vlc1xuICAgIGlmIChvblNsaW1JbnB1dENsb3NlKSBvblNsaW1JbnB1dENsb3NlKCk7XG5cbiAgICBpZiAoc3RpY2tlci5wcmljZSAmJiBzdGlja2VyLnByaWNlID4gMCkge1xuICAgICAgc2V0QWN0aXZlVGFiKGNhblJlY2VpdmVGaWF0VGlwID8gVEFCX0ZJQVQgOiBUQUJfTEJDKTtcbiAgICAgIHNldFRpcFNlbGVjdG9yKHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUNhbmNlbFN0aWNrZXIoKSB7XG4gICAgc2V0UmV2aWV3aW5nU3RpY2tlckNvbW1lbnQoZmFsc2UpO1xuICAgIHNldFNlbGVjdGVkU3RpY2tlcihudWxsKTtcblxuICAgIGlmIChvblNsaW1JbnB1dENsb3NlKSBvblNsaW1JbnB1dENsb3NlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVDYW5jZWxTdXBwb3J0KCkge1xuICAgIGlmICghaXNSZXZpZXdpbmdTdXBwb3J0Q29tbWVudCkgc2V0VGlwU2VsZWN0b3IoZmFsc2UpO1xuICAgIHNldFJldmlld2luZ1N1cHBvcnRDb21tZW50KGZhbHNlKTtcblxuICAgIGlmIChzdGlja2VyUHJpY2UpIHtcbiAgICAgIHNldFJldmlld2luZ1N0aWNrZXJDb21tZW50KGZhbHNlKTtcbiAgICAgIHNldFNob3dTZWxlY3RvcnMoeyB0YWI6IHNob3dTZWxlY3RvcnMudGFiIHx8IHVuZGVmaW5lZCwgb3BlbjogZmFsc2UgfSk7XG4gICAgICBzZXRTZWxlY3RlZFN0aWNrZXIobnVsbCk7XG4gICAgfVxuXG4gICAgaWYgKG9uU2xpbUlucHV0Q2xvc2UpIG9uU2xpbUlucHV0Q2xvc2UoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVN1cHBvcnRDb21tZW50KCkge1xuICAgIGlmICghYWN0aXZlQ2hhbm5lbENsYWltSWQpIHJldHVybjtcblxuICAgIGlmICghY2hhbm5lbENsYWltSWQpIHtcbiAgICAgIGRvVG9hc3Qoe1xuICAgICAgICBtZXNzYWdlOiBfXygnVW5hYmxlIHRvIHZlcmlmeSBjaGFubmVsIHNldHRpbmdzLiBUcnkgcmVmcmVzaGluZyB0aGUgcGFnZS4nKSxcbiAgICAgICAgaXNFcnJvcjogdHJ1ZSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGlmIGNvbW1lbnQgcG9zdCBkaWRuJ3Qgd29yaywgYnV0IHRpcCB3YXMgYWxyZWFkeSBtYWRlLCB0cnkgYWdhaW4gdG8gY3JlYXRlIGNvbW1lbnRcbiAgICBpZiAoY29tbWVudEZhaWx1cmUgJiYgdGlwQW1vdW50ID09PSBzdWNjZXNzVGlwLnRpcEFtb3VudCkge1xuICAgICAgaGFuZGxlQ3JlYXRlQ29tbWVudChzdWNjZXNzVGlwLnR4aWQpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRTdWNjZXNzVGlwKHsgdHhpZDogdW5kZWZpbmVkLCB0aXBBbW91bnQ6IHVuZGVmaW5lZCB9KTtcbiAgICB9XG5cbiAgICAvLyAhISBCZXdhcmUgb2Ygc3RhbGUgY2xvc3VyZSB3aGVuIGVkaXRpbmcgdGhlIHRoZW4tYmxvY2ssIGluY2x1ZGluZyBkb1N1Ym1pdFRpcCgpLlxuICAgIGRvRmV0Y2hDcmVhdG9yU2V0dGluZ3MoY2hhbm5lbENsYWltSWQpLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc3QgbG9ja2VkTWluQW1vdW50ID0gbWluQW1vdW50OyAvLyB2YWx1ZSBkdXJpbmcgY2xvc3VyZS5cbiAgICAgIGNvbnN0IGN1cnJlbnRNaW5BbW91bnQgPSBtaW5BbW91bnRSZWYuY3VycmVudDsgLy8gdmFsdWUgZnJvbSBsYXRlc3QgZG9GZXRjaENyZWF0b3JTZXR0aW5ncygpLlxuXG4gICAgICBpZiAobG9ja2VkTWluQW1vdW50ICE9PSBjdXJyZW50TWluQW1vdW50KSB7XG4gICAgICAgIGRvVG9hc3Qoe1xuICAgICAgICAgIG1lc3NhZ2U6IF9fKCdUaGUgY3JlYXRvciBqdXN0IHVwZGF0ZWQgdGhlIG1pbmltdW0gc2V0dGluZy4gUGxlYXNlIHJldmlzZSBvciBkb3VibGUtY2hlY2sgeW91ciB0aXAgYW1vdW50LicpLFxuICAgICAgICAgIGlzRXJyb3I6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICBzZXRSZXZpZXdpbmdTdXBwb3J0Q29tbWVudChmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZG9TdWJtaXRUaXAoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRvU3VibWl0VGlwKCkge1xuICAgIGlmICghY2xhaW1JZCB8fCAhY2hhbm5lbENsYWltSWQgfHwgIWFjdGl2ZUNoYW5uZWxOYW1lIHx8ICFhY3RpdmVDaGFubmVsQ2xhaW1JZCB8fCBpc1N1Ym1pdHRpbmcgfHwgIXRpcENoYW5uZWxOYW1lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0U3VibWl0dGluZyh0cnVlKTtcblxuICAgIGNvbnN0IHBhcmFtcyA9IHsgYW1vdW50OiB0aXBBbW91bnQsIGNsYWltX2lkOiBjbGFpbUlkLCBjaGFubmVsX2lkOiBhY3RpdmVDaGFubmVsQ2xhaW1JZCB9O1xuXG4gICAgaWYgKGFjdGl2ZVRhYiA9PT0gVEFCX0xCQykge1xuICAgICAgLy8gY2FsbCBkb1NlbmRUaXAgYW5kIHRoZW4gcnVuIHRoZSBjYWxsYmFjayBmcm9tIHRoZSByZXNwb25zZVxuICAgICAgLy8gc2Vjb25kIHBhcmFtZXRlciBpcyBjYWxsYmFja1xuICAgICAgZG9TZW5kVGlwKFxuICAgICAgICBwYXJhbXMsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICBjb25zdCB7IHR4aWQgfSA9IHJlc3BvbnNlO1xuICAgICAgICAgIC8vIHRvZG86IHdoeSB0aGUgc2V0VGltZW91dD9cbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGhhbmRsZUNyZWF0ZUNvbW1lbnQodHhpZCk7XG4gICAgICAgICAgfSwgMTUwMCk7XG5cbiAgICAgICAgICBkb1RvYXN0KHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IF9fKCdUaXAgc3VjY2Vzc2Z1bGx5IHNlbnQuJyksXG4gICAgICAgICAgICBzdWJNZXNzYWdlOiBfXyhcIkknbSBzdXJlIHRoZXkgYXBwcmVjaWF0ZSBpdCFcIiksXG4gICAgICAgICAgICBsaW5rVGV4dDogYCR7dGlwQW1vdW50fSBMQkMg4oeSICR7dGlwQ2hhbm5lbE5hbWV9YCwgLy8gZm9yY2Ugc2hvdyBkZWNpbWFsIHBsYWNlc1xuICAgICAgICAgICAgbGlua1RhcmdldDogJy93YWxsZXQnLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgc2V0U3VjY2Vzc1RpcCh7IHR4aWQsIHRpcEFtb3VudCB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIC8vIHJlc2V0IHRoZSBmcm9udGVuZCBzbyBwZW9wbGUgY2FuIHNlbmQgYSBuZXcgY29tbWVudFxuICAgICAgICAgIHNldFN1Ym1pdHRpbmcoZmFsc2UpO1xuICAgICAgICB9LFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgJ2NvbW1lbnQnXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB0aXBQYXJhbXM6IFRpcFBhcmFtcyA9IHsgdGlwQW1vdW50OiBNYXRoLnJvdW5kKHRpcEFtb3VudCAqIDEwMCkgLyAxMDAsIHRpcENoYW5uZWxOYW1lLCBjaGFubmVsQ2xhaW1JZCB9O1xuICAgICAgY29uc3QgdXNlclBhcmFtczogVXNlclBhcmFtcyA9IHsgYWN0aXZlQ2hhbm5lbE5hbWUsIGFjdGl2ZUNoYW5uZWxJZDogYWN0aXZlQ2hhbm5lbENsYWltSWQgfTtcblxuICAgICAgZG9TZW5kQ2FzaFRpcChcbiAgICAgICAgdGlwUGFyYW1zLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgdXNlclBhcmFtcyxcbiAgICAgICAgY2xhaW1JZCxcbiAgICAgICAgc3RyaXBlRW52aXJvbm1lbnQsXG4gICAgICAgIHByZWZlcnJlZEN1cnJlbmN5LFxuICAgICAgICAoY3VzdG9tZXJUaXBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgcGF5bWVudF9pbnRlbnRfaWQgfSA9IGN1c3RvbWVyVGlwUmVzcG9uc2U7XG5cbiAgICAgICAgICBoYW5kbGVDcmVhdGVDb21tZW50KG51bGwsIHBheW1lbnRfaW50ZW50X2lkLCBzdHJpcGVFbnZpcm9ubWVudCk7XG5cbiAgICAgICAgICBzZXRDb21tZW50VmFsdWUoJycpO1xuICAgICAgICAgIHNldFJldmlld2luZ1N1cHBvcnRDb21tZW50KGZhbHNlKTtcbiAgICAgICAgICBzZXRUaXBTZWxlY3RvcihmYWxzZSk7XG4gICAgICAgICAgc2V0Q29tbWVudEZhaWx1cmUoZmFsc2UpO1xuICAgICAgICAgIHNldFN1Ym1pdHRpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3R4aWRdIE9wdGlvbmFsIHRyYW5zYWN0aW9uIGlkIGdlbmVyYXRlZCBieVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3BheW1lbnRfaW50ZW50X2lkXSBPcHRpb25hbCBwYXltZW50X2ludGVudF9pZCBmcm9tIFN0cmlwZSBwYXltZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZW52aXJvbm1lbnRdIE9wdGlvbmFsIGVudmlyb25tZW50IGZvciBTdHJpcGUgKHRlc3R8bGl2ZSlcbiAgICovXG4gIGZ1bmN0aW9uIGhhbmRsZUNyZWF0ZUNvbW1lbnQodHhpZCwgcGF5bWVudF9pbnRlbnRfaWQsIGVudmlyb25tZW50KSB7XG4gICAgaWYgKGlzU3VibWl0dGluZyB8fCBkaXNhYmxlSW5wdXQgfHwgIWNsYWltSWQpIHJldHVybjtcblxuICAgIHNldFN1Ym1pdHRpbmcodHJ1ZSk7XG5cbiAgICBjb25zdCBzdGlja2VyVmFsdWUgPSBzZWxlY3RlZFN0aWNrZXIgJiYgYnVpbGRWYWxpZFN0aWNrZXIoc2VsZWN0ZWRTdGlja2VyLm5hbWUpO1xuXG4gICAgZG9Db21tZW50Q3JlYXRlKHVyaSwgaXNMaXZlc3RyZWFtLCB7XG4gICAgICBjb21tZW50OiBzdGlja2VyVmFsdWUgfHwgY29tbWVudFZhbHVlLFxuICAgICAgY2xhaW1faWQ6IGNsYWltSWQsXG4gICAgICBwYXJlbnRfaWQ6IHBhcmVudElkLFxuICAgICAgdHhpZCxcbiAgICAgIHBheW1lbnRfaW50ZW50X2lkLFxuICAgICAgZW52aXJvbm1lbnQsXG4gICAgICBzdGlja2VyOiAhIXN0aWNrZXJWYWx1ZSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBzZXRTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICAgICAgaWYgKHNldFF1aWNrUmVwbHkpIHNldFF1aWNrUmVwbHkocmVzKTtcblxuICAgICAgICBpZiAocmVzICYmIHJlcy5zaWduYXR1cmUpIHtcbiAgICAgICAgICBpZiAoIXN0aWNrZXJWYWx1ZSkgc2V0Q29tbWVudFZhbHVlKCcnKTtcbiAgICAgICAgICBzZXRSZXZpZXdpbmdTdXBwb3J0Q29tbWVudChmYWxzZSk7XG4gICAgICAgICAgc2V0VGlwU2VsZWN0b3IoZmFsc2UpO1xuICAgICAgICAgIHNldENvbW1lbnRGYWlsdXJlKGZhbHNlKTtcblxuICAgICAgICAgIGlmIChvbkRvbmVSZXBseWluZykge1xuICAgICAgICAgICAgb25Eb25lUmVwbHlpbmcoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICBzZXRTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICAgICAgc2V0Q29tbWVudEZhaWx1cmUodHJ1ZSk7XG5cbiAgICAgICAgaWYgKGNoYW5uZWxDbGFpbUlkKSB7XG4gICAgICAgICAgLy8gSXQgY291bGQgYmUgdGhhdCB0aGUgY3JlYXRvciBhZGRlZCBhIG1pbmltdW0gdGlwIHNldHRpbmcuXG4gICAgICAgICAgLy8gTWFudWFsbHkgdXBkYXRlIGZvciBub3cgdW50aWwgYSB3ZWJzb2NrZXQgbXNnIGlzIGF2YWlsYWJsZS5cbiAgICAgICAgICBkb0ZldGNoQ3JlYXRvclNldHRpbmdzKGNoYW5uZWxDbGFpbUlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVTdWJtaXRTdGlja2VyKCkge1xuICAgIGlmIChpc1Jldmlld2luZ1N1cHBvcnRDb21tZW50KSB7XG4gICAgICBoYW5kbGVTdXBwb3J0Q29tbWVudCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVDcmVhdGVDb21tZW50KCk7XG4gICAgfVxuXG4gICAgc2V0U2VsZWN0ZWRTdGlja2VyKG51bGwpO1xuICAgIHNldFJldmlld2luZ1N0aWNrZXJDb21tZW50KGZhbHNlKTtcbiAgICBzZXRTaG93U2VsZWN0b3JzKHsgdGFiOiBzaG93U2VsZWN0b3JzLnRhYiB8fCB1bmRlZmluZWQsIG9wZW46IGZhbHNlIH0pO1xuICAgIHNldFRpcFNlbGVjdG9yKGZhbHNlKTtcbiAgfVxuXG4gIGxldCBmaWF0SWNvblRvVXNlID0gSUNPTlMuRklOQU5DRTtcbiAgaWYgKHByZWZlcnJlZEN1cnJlbmN5ID09PSAnRVVSJykgZmlhdEljb25Ub1VzZSA9IElDT05TLkVVUk87XG5cbiAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgLy8gRWZmZWN0c1xuICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gIC8vIEZldGNoIGNoYW5uZWwgY29uc3RyYWludHMgaWYgbm90IGFscmVhZHkuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFjaGFubmVsU2V0dGluZ3MgJiYgY2hhbm5lbENsYWltSWQpIHtcbiAgICAgIGRvRmV0Y2hDcmVhdG9yU2V0dGluZ3MoY2hhbm5lbENsYWltSWQpO1xuICAgIH1cbiAgfSwgW10pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuXG4gIC8vIGNoYW5nZSBzdGlja2VyIHNlbGVjdGlvblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc01vYmlsZSAmJiBzaG93U2VsZWN0b3JzLnRhYiAmJiBzbGltSW5wdXRCdXR0b25SZWYgJiYgc2xpbUlucHV0QnV0dG9uUmVmLmN1cnJlbnQpIHtcbiAgICAgIHNsaW1JbnB1dEJ1dHRvblJlZi5jdXJyZW50LmNsaWNrKCk7XG4gICAgfVxuICB9LCBbaXNNb2JpbGUsIHNob3dTZWxlY3RvcnMudGFiXSk7XG5cbiAgLy8gTm90aWZpY2F0aW9uczogRmV0Y2ggdG9wLWxldmVsIGNvbW1lbnRzIHRvIGlkZW50aWZ5IGlmIGl0IGhhcyBiZWVuIGRlbGV0ZWQgYW5kIGNhbiByZXBseSB0byBpdFxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzaG91bGRGZXRjaENvbW1lbnQgJiYgZG9Db21tZW50QnlJZCkge1xuICAgICAgZG9Db21tZW50QnlJZChwYXJlbnRJZCwgZmFsc2UpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBzZXREZWxldGVkQ29tbWVudChTdHJpbmcocmVzdWx0KS5pbmNsdWRlcygnRXJyb3InKSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtkb0NvbW1lbnRCeUlkLCBzaG91bGRGZXRjaENvbW1lbnQsIHBhcmVudElkXSk7XG5cbiAgLy8gU3RpY2tlcnM6IEdldCBMQkMtVVNEIGV4Y2hhbmdlIHJhdGUgaWYgaGFzbid0IHlldCBhbmQgc2VsZWN0ZWQgYSBwYWlkIHN0aWNrZXJcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc3RpY2tlclByaWNlICYmICFleGNoYW5nZVJhdGUpIExicnlpby5nZXRFeGNoYW5nZVJhdGVzKCkudGhlbigoeyBMQkNfVVNEIH0pID0+IHNldEV4Y2hhbmdlUmF0ZShMQkNfVVNEKSk7XG4gIH0sIFtleGNoYW5nZVJhdGUsIHN0aWNrZXJQcmljZV0pO1xuXG4gIC8vIFN0aWNrZXJzOiBDaGVjayBpZiBjcmVhdG9yIGhhcyBhIHRpcCBhY2NvdW50IHNhdmVkIChvbiBzZWxlY3RvciBzbyB0aGF0IGlmIGEgcGFpZCBzdGlja2VyIGlzIHNlbGVjdGVkLFxuICAvLyBpdCBkZWZhdWx0cyB0byBMQkMgdGlwIGluc3RlYWQgb2YgVVNEKVxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghc3RyaXBlRW52aXJvbm1lbnQgfHwgY2FuUmVjZWl2ZUZpYXRUaXAgIT09IHVuZGVmaW5lZCB8fCAhdGlwQ2hhbm5lbE5hbWUpIHJldHVybjtcblxuICAgIExicnlpby5jYWxsKFxuICAgICAgJ2FjY291bnQnLFxuICAgICAgJ2NoZWNrJyxcbiAgICAgIHtcbiAgICAgICAgY2hhbm5lbF9jbGFpbV9pZDogY2hhbm5lbENsYWltSWQsXG4gICAgICAgIGNoYW5uZWxfbmFtZTogdGlwQ2hhbm5lbE5hbWUsXG4gICAgICAgIGVudmlyb25tZW50OiBzdHJpcGVFbnZpcm9ubWVudCxcbiAgICAgIH0sXG4gICAgICAncG9zdCdcbiAgICApXG4gICAgICAudGhlbigoYWNjb3VudENoZWNrUmVzcG9uc2UpID0+IHtcbiAgICAgICAgaWYgKGFjY291bnRDaGVja1Jlc3BvbnNlID09PSB0cnVlICYmIGNhblJlY2VpdmVGaWF0VGlwICE9PSB0cnVlKSB7XG4gICAgICAgICAgc2V0Q2FuUmVjZWl2ZUZpYXRUaXAodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0Q2FuUmVjZWl2ZUZpYXRUaXAoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKCgpID0+IHt9KTtcbiAgfSwgW2NhblJlY2VpdmVGaWF0VGlwLCBjaGFubmVsQ2xhaW1JZCwgdGlwQ2hhbm5lbE5hbWVdKTtcblxuICAvLyBIYW5kbGUga2V5Ym9hcmQgc2hvcnRjdXQgY29tbWVudCBjcmVhdGlvblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZ1bmN0aW9uIGFsdEVudGVyTGlzdGVuZXIoZTogU3ludGhldGljS2V5Ym9hcmRFdmVudDwqPikge1xuICAgICAgY29uc3QgaW5wdXRSZWYgPSBmb3JtRmllbGRSZWYgJiYgZm9ybUZpZWxkUmVmLmN1cnJlbnQgJiYgZm9ybUZpZWxkUmVmLmN1cnJlbnQuaW5wdXQ7XG5cbiAgICAgIGlmIChpbnB1dFJlZiAmJiBpbnB1dFJlZi5jdXJyZW50ID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50KSB7XG4gICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgY29uc3QgaXNUeXBpbmcgPSBCb29sZWFuKGUudGFyZ2V0LmF0dHJpYnV0ZXNbJ3R5cGluZy10ZXJtJ10pO1xuXG4gICAgICAgIGlmICgoKGlzTGl2ZXN0cmVhbSAmJiAhaXNUeXBpbmcpIHx8IGUuY3RybEtleSB8fCBlLm1ldGFLZXkpICYmIGUua2V5Q29kZSA9PT0gS0VZQ09ERVMuRU5URVIpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgYnV0dG9uUmVmLmN1cnJlbnQuY2xpY2soKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0xpdmVzdHJlYW0gJiYgaXNUeXBpbmcgJiYgZS5rZXlDb2RlID09PSBLRVlDT0RFUy5FTlRFUikge1xuICAgICAgICAgIGlucHV0UmVmLmN1cnJlbnQucmVtb3ZlQXR0cmlidXRlKCd0eXBpbmctdGVybScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBhbHRFbnRlckxpc3RlbmVyKTtcblxuICAgIC8vIHJlbW92ZXMgdGhlIGxpc3RlbmVyIHNvIGl0IGRvZXNuJ3QgY2F1c2UgcHJvYmxlbXMgZWxzZXdoZXJlIGluIHRoZSBhcHBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBhbHRFbnRlckxpc3RlbmVyKTtcbiAgICB9O1xuICB9LCBbaXNMaXZlc3RyZWFtXSk7XG5cbiAgLy8gRGV0ZXJtaW5lIG15IGNoYW5uZWxzIHRoYXQgaGF2ZSBjb21tZW50ZWRcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAobXlDb21tZW50ZWRDaGFubmVsSWRzID09PSB1bmRlZmluZWQgJiYgY2xhaW1JZCAmJiBteUNoYW5uZWxDbGFpbUlkcykge1xuICAgICAgZG9GZXRjaE15Q29tbWVudGVkQ2hhbm5lbHMoY2xhaW1JZCk7XG4gICAgfVxuICB9LCBbY2xhaW1JZCwgbXlDb21tZW50ZWRDaGFubmVsSWRzLCBteUNoYW5uZWxDbGFpbUlkc10pO1xuXG4gIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gIC8vIFJlbmRlclxuICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gIGlmICghaXNGZXRjaGluZ0NoYW5uZWxzICYmICFoYXNDaGFubmVscykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgICBjbGFzc05hbWU9XCJjb21tZW50LWNyZWF0ZV9fYXV0aFwiXG4gICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICBpZiAoZW1iZWQpIHtcbiAgICAgICAgICAgIHdpbmRvdy5vcGVuKGBodHRwczovL29keXNlZS5jb20vJC8ke1BBR0VTLkFVVEh9P3JlZGlyZWN0PS8kLyR7UEFHRVMuTElWRVNUUkVBTX1gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBwYXRoUGx1c1JlZGlyZWN0ID0gYC8kLyR7UEFHRVMuQ0hBTk5FTF9ORVd9P3JlZGlyZWN0PSR7cGF0aG5hbWV9YDtcbiAgICAgICAgICBpZiAoaXNMaXZlc3RyZWFtKSB7XG4gICAgICAgICAgICB3aW5kb3cub3BlbihwYXRoUGx1c1JlZGlyZWN0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHVzaChwYXRoUGx1c1JlZGlyZWN0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICB0eXBlPVwidGV4dGFyZWFcIlxuICAgICAgICAgIG5hbWU9XCJjb21tZW50X19zaWdudXAtcHJvbXB0XCJcbiAgICAgICAgICBwbGFjZWhvbGRlcj17X18oJ1NheSBzb21ldGhpbmcgYWJvdXQgdGhpcy4uLicpfVxuICAgICAgICAgIGRpc2FibGVkPXtpc01vYmlsZX1cbiAgICAgICAgLz5cblxuICAgICAgICB7IWlzTW9iaWxlICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb25fX2FjdGlvbnMtLW5vLW1hcmdpblwiPlxuICAgICAgICAgICAgPEJ1dHRvbiBkaXNhYmxlZCBidXR0b249XCJwcmltYXJ5XCIgbGFiZWw9e19fKCdQb3N0IC0tW2J1dHRvbiB0byBzdWJtaXQgc29tZXRoaW5nXS0tJyl9IHJlcXVpcmVzQXV0aCAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGNvbW1lbnRTZWxlY3RvcnNQcm9wcyA9IHtcbiAgICBjbGFpbUlzTWluZSxcbiAgICBhZGRFbW90ZVRvQ29tbWVudCxcbiAgICBoYW5kbGVTZWxlY3RTdGlja2VyLFxuICAgIG9wZW5UYWI6IHNob3dTZWxlY3RvcnMudGFiIHx8IHVuZGVmaW5lZCxcbiAgfTtcbiAgY29uc3Qgc3VibWl0QnV0dG9uUHJvcHMgPSB7IGJ1dHRvbjogJ3ByaW1hcnknLCB0eXBlOiAnc3VibWl0JywgcmVxdWlyZXNBdXRoOiB0cnVlIH07XG4gIGNvbnN0IGFjdGlvbkJ1dHRvblByb3BzID0geyBidXR0b246ICdhbHQnIH07XG4gIGNvbnN0IHRpcEJ1dHRvblByb3BzID0ge1xuICAgIC4uLmFjdGlvbkJ1dHRvblByb3BzLFxuICAgIGRpc2FibGVkOiAhY29tbWVudFZhbHVlLmxlbmd0aCAmJiAhc2VsZWN0ZWRTdGlja2VyLFxuICAgIHRpcFNlbGVjdG9yT3BlbixcbiAgICBhY3RpdmVUYWIsXG4gICAgb25DbGljazogaGFuZGxlU2VsZWN0VGlwQ29tbWVudCxcbiAgfTtcbiAgY29uc3QgY2FuY2VsQnV0dG9uUHJvcHMgPSB7IGJ1dHRvbjogJ2xpbmsnLCBsYWJlbDogX18oJ0NhbmNlbCcpIH07XG4gIGNvbnN0IHN0aWNrZXJSZXZpZXdQcm9wcyA9IHtcbiAgICBhY3RpdmVDaGFubmVsVXJsLFxuICAgIHNyYzogc2VsZWN0ZWRTdGlja2VyID8gc2VsZWN0ZWRTdGlja2VyLnVybCA6ICcnLFxuICAgIHByaWNlOiBzZWxlY3RlZFN0aWNrZXIgPyBzZWxlY3RlZFN0aWNrZXIucHJpY2UgOiAwLFxuICAgIGV4Y2hhbmdlUmF0ZSxcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxGb3JtXG4gICAgICBvblN1Ym1pdD17KCkgPT4ge319XG4gICAgICBjbGFzc05hbWU9e2NsYXNzbmFtZXMoJ2NvbW1lbnRDcmVhdGUnLCB7XG4gICAgICAgICdjb21tZW50Q3JlYXRlLS1yZXBseSc6IGlzUmVwbHksXG4gICAgICAgICdjb21tZW50Q3JlYXRlLS1uZXN0ZWRSZXBseSc6IGlzTmVzdGVkLFxuICAgICAgICAnY29tbWVudENyZWF0ZS0tYm90dG9tJzogYm90dG9tLFxuICAgICAgfSl9XG4gICAgPlxuICAgICAge2lzUmV2aWV3aW5nU3VwcG9ydENvbW1lbnQgPyAoXG4gICAgICAgIGFjdGl2ZUNoYW5uZWxVcmwgJiZcbiAgICAgICAgYWN0aXZlVGFiICYmIChcbiAgICAgICAgICA8VGlwUmV2aWV3Qm94XG4gICAgICAgICAgICBhY3RpdmVDaGFubmVsVXJsPXthY3RpdmVDaGFubmVsVXJsfVxuICAgICAgICAgICAgdGlwQW1vdW50PXt0aXBBbW91bnR9XG4gICAgICAgICAgICBhY3RpdmVUYWI9e2FjdGl2ZVRhYn1cbiAgICAgICAgICAgIG1lc3NhZ2U9e2NvbW1lbnRWYWx1ZX1cbiAgICAgICAgICAgIGlzUmV2aWV3aW5nU3RpY2tlckNvbW1lbnQ9e2lzUmV2aWV3aW5nU3RpY2tlckNvbW1lbnR9XG4gICAgICAgICAgICBzdGlja2VyUHJldmlld0NvbXBvbmVudD17c2VsZWN0ZWRTdGlja2VyICYmIDxTdGlja2VyUmV2aWV3Qm94IHsuLi5zdGlja2VyUmV2aWV3UHJvcHN9IC8+fVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgICkgOiBzZWxlY3RlZFN0aWNrZXIgPyAoXG4gICAgICAgIGFjdGl2ZUNoYW5uZWxVcmwgJiYgPFN0aWNrZXJSZXZpZXdCb3ggey4uLnN0aWNrZXJSZXZpZXdQcm9wc30gLz5cbiAgICAgICkgOiAoXG4gICAgICAgIDw+XG4gICAgICAgICAgeyFpc01vYmlsZSAmJiBzaG93U2VsZWN0b3JzLm9wZW4gJiYgKFxuICAgICAgICAgICAgPENvbW1lbnRTZWxlY3RvcnNcbiAgICAgICAgICAgICAgey4uLmNvbW1lbnRTZWxlY3RvcnNQcm9wc31cbiAgICAgICAgICAgICAgY2xvc2VTZWxlY3Rvcj17KCkgPT4gc2V0U2hvd1NlbGVjdG9ycyh7IHRhYjogc2hvd1NlbGVjdG9ycy50YWIgfHwgdW5kZWZpbmVkLCBvcGVuOiBmYWxzZSB9KX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICAgIGF1dG9Gb2N1cz17aXNSZXBseX1cbiAgICAgICAgICAgIGNoYXJDb3VudD17Y2hhckNvdW50fVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtpc1JlcGx5ID8gJ2NyZWF0ZV9fcmVwbHknIDogJ2NyZWF0ZV9fY29tbWVudCd9XG4gICAgICAgICAgICBkaXNhYmxlZD17aXNGZXRjaGluZ0NoYW5uZWxzIHx8IGRpc2FibGVJbnB1dH1cbiAgICAgICAgICAgIGlzTGl2ZXN0cmVhbT17aXNMaXZlc3RyZWFtfVxuICAgICAgICAgICAgbGFiZWw9ezxGb3JtQ2hhbm5lbFNlbGVjdG9yIGlzUmVwbHk9e0Jvb2xlYW4oaXNSZXBseSl9IGlzTGl2ZXN0cmVhbT17Qm9vbGVhbihpc0xpdmVzdHJlYW0pfSAvPn1cbiAgICAgICAgICAgIG5vdGljZUxhYmVsPXtcbiAgICAgICAgICAgICAgaXNNb2JpbGUgJiYgKFxuICAgICAgICAgICAgICAgIDxIZWxwVGV4dCBkZWxldGVkQ29tbWVudD17ZGVsZXRlZENvbW1lbnR9IG1pbkFtb3VudD17bWluQW1vdW50fSBtaW5TdXBlcj17bWluU3VwZXJ9IG1pblRpcD17bWluVGlwfSAvPlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuYW1lPXtpc1JlcGx5ID8gJ2NyZWF0ZV9fcmVwbHknIDogJ2NyZWF0ZV9fY29tbWVudCd9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldENvbW1lbnRWYWx1ZShTSU1QTEVfU0lURSB8fCAhYWR2YW5jZWRFZGl0b3IgfHwgaXNSZXBseSA/IGUudGFyZ2V0LnZhbHVlIDogZSl9XG4gICAgICAgICAgICBoYW5kbGVUaXA9eyhpc0xCQykgPT4gaGFuZGxlU2VsZWN0VGlwQ29tbWVudChpc0xCQyA/IFRBQl9MQkMgOiBUQUJfRklBVCl9XG4gICAgICAgICAgICBoYW5kbGVTdWJtaXQ9e2hhbmRsZUNyZWF0ZUNvbW1lbnR9XG4gICAgICAgICAgICBzbGltSW5wdXQ9e2lzTW9iaWxlICYmIHVyaX0gLy8gXCJ1cmlcIjogbWFrZSBzdXJlIGl0J3Mgb24gYSBmaWxlIHBhZ2VcbiAgICAgICAgICAgIHNsaW1JbnB1dEJ1dHRvblJlZj17c2xpbUlucHV0QnV0dG9uUmVmfVxuICAgICAgICAgICAgb25TbGltSW5wdXRDbG9zZT17b25TbGltSW5wdXRDbG9zZX1cbiAgICAgICAgICAgIGNvbW1lbnRTZWxlY3RvcnNQcm9wcz17Y29tbWVudFNlbGVjdG9yc1Byb3BzfVxuICAgICAgICAgICAgc3VibWl0QnV0dG9uUmVmPXtidXR0b25SZWZ9XG4gICAgICAgICAgICBzZXRTaG93U2VsZWN0b3JzPXtzZXRTaG93U2VsZWN0b3JzfVxuICAgICAgICAgICAgc2hvd1NlbGVjdG9ycz17c2hvd1NlbGVjdG9yc31cbiAgICAgICAgICAgIHRpcE1vZGFsT3Blbj17dGlwTW9kYWxPcGVufVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9e19fKCdTYXkgc29tZXRoaW5nIGFib3V0IHRoaXMuLi4nKX1cbiAgICAgICAgICAgIHF1aWNrQWN0aW9uSGFuZGxlcj17IVNJTVBMRV9TSVRFID8gKCkgPT4gc2V0QWR2YW5jZWRFZGl0b3IoIWFkdmFuY2VkRWRpdG9yKSA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgIHF1aWNrQWN0aW9uTGFiZWw9e1xuICAgICAgICAgICAgICAhU0lNUExFX1NJVEUgJiYgKGlzUmVwbHkgPyB1bmRlZmluZWQgOiBhZHZhbmNlZEVkaXRvciA/IF9fKCdTaW1wbGUgRWRpdG9yJykgOiBfXygnQWR2YW5jZWQgRWRpdG9yJykpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWY9e2Zvcm1GaWVsZFJlZn1cbiAgICAgICAgICAgIHRleHRBcmVhTWF4TGVuZ3RoPXtpc0xpdmVzdHJlYW0gPyBGRl9NQVhfQ0hBUlNfSU5fTElWRVNUUkVBTV9DT01NRU5UIDogRkZfTUFYX0NIQVJTX0lOX0NPTU1FTlR9XG4gICAgICAgICAgICB0eXBlPXshU0lNUExFX1NJVEUgJiYgYWR2YW5jZWRFZGl0b3IgJiYgIWlzUmVwbHkgPyAnbWFya2Rvd24nIDogJ3RleHRhcmVhJ31cbiAgICAgICAgICAgIHZhbHVlPXtjb21tZW50VmFsdWV9XG4gICAgICAgICAgICB1cmk9e3VyaX1cbiAgICAgICAgICAvPlxuICAgICAgICA8Lz5cbiAgICAgICl9XG5cbiAgICAgIHsoIWlzTW9iaWxlIHx8IGlzUmV2aWV3aW5nU3RpY2tlckNvbW1lbnQpICYmICh0aXBTZWxlY3Rvck9wZW4gfHwgKGlzUmV2aWV3aW5nU3RpY2tlckNvbW1lbnQgJiYgc3RpY2tlclByaWNlKSkgJiYgKFxuICAgICAgICA8V2FsbGV0VGlwQW1vdW50U2VsZWN0b3JcbiAgICAgICAgICBhY3RpdmVUYWI9e2FjdGl2ZVRhYn1cbiAgICAgICAgICBhbW91bnQ9e3RpcEFtb3VudH1cbiAgICAgICAgICB1cmk9e3VyaX1cbiAgICAgICAgICBjb252ZXJ0ZWRBbW91bnQ9e2NvbnZlcnRlZEFtb3VudH1cbiAgICAgICAgICBjdXN0b21UaXBBbW91bnQ9e3N0aWNrZXJQcmljZX1cbiAgICAgICAgICBleGNoYW5nZVJhdGU9e2V4Y2hhbmdlUmF0ZX1cbiAgICAgICAgICBmaWF0Q29udmVyc2lvbj17c2VsZWN0ZWRTdGlja2VyICYmICEhc2VsZWN0ZWRTdGlja2VyLnByaWNlfVxuICAgICAgICAgIG9uQ2hhbmdlPXsoYW1vdW50KSA9PiBzZXRUaXBBbW91bnQoYW1vdW50KX1cbiAgICAgICAgICBzZXRDb252ZXJ0ZWRBbW91bnQ9e3NldENvbnZlcnRlZEFtb3VudH1cbiAgICAgICAgICBzZXREaXNhYmxlU3VibWl0QnV0dG9uPXtzZXREaXNhYmxlUmV2aWV3QnV0dG9ufVxuICAgICAgICAgIHNldFRpcEVycm9yPXtzZXRUaXBFcnJvcn1cbiAgICAgICAgICB0aXBFcnJvcj17dGlwRXJyb3J9XG4gICAgICAgIC8+XG4gICAgICApfVxuXG4gICAgICB7KCFpc01vYmlsZSB8fCBpc1Jldmlld2luZ1N0aWNrZXJDb21tZW50IHx8IGlzUmV2aWV3aW5nU3VwcG9ydENvbW1lbnQpICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uX19hY3Rpb25zXCI+XG4gICAgICAgICAgey8qIFN1Ym1pdCBCdXR0b24gKi99XG4gICAgICAgICAge2lzUmV2aWV3aW5nU3VwcG9ydENvbW1lbnQgPyAoXG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHsuLi5zdWJtaXRCdXR0b25Qcm9wc31cbiAgICAgICAgICAgICAgYXV0b0ZvY3VzXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZCB8fCAhbWluQW1vdW50TWV0fVxuICAgICAgICAgICAgICBsYWJlbD17XG4gICAgICAgICAgICAgICAgaXNTdWJtaXR0aW5nXG4gICAgICAgICAgICAgICAgICA/IF9fKCdTZW5kaW5nLi4uJylcbiAgICAgICAgICAgICAgICAgIDogY29tbWVudEZhaWx1cmUgJiYgdGlwQW1vdW50ID09PSBzdWNjZXNzVGlwLnRpcEFtb3VudFxuICAgICAgICAgICAgICAgICAgPyBfXygnUmUtc3VibWl0JylcbiAgICAgICAgICAgICAgICAgIDogX18oJ1NlbmQnKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVN1cHBvcnRDb21tZW50fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApIDogdGlwU2VsZWN0b3JPcGVuID8gKFxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB7Li4uc3VibWl0QnV0dG9uUHJvcHN9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZCB8fCB0aXBTZWxlY3RvckVycm9yIHx8ICFtaW5BbW91bnRNZXR9XG4gICAgICAgICAgICAgIGljb249e2FjdGl2ZVRhYiA9PT0gVEFCX0xCQyA/IElDT05TLkxCQyA6IGZpYXRJY29uVG9Vc2V9XG4gICAgICAgICAgICAgIGxhYmVsPXtfXygnUmV2aWV3Jyl9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRSZXZpZXdpbmdTdXBwb3J0Q29tbWVudCh0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAob25TbGltSW5wdXRDbG9zZSkgb25TbGltSW5wdXRDbG9zZSgpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgKCFpc01vYmlsZSB8fCBzZWxlY3RlZFN0aWNrZXIpICYmXG4gICAgICAgICAgICAoIW1pblRpcCB8fCBjbGFpbUlzTWluZSkgJiYgKFxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgey4uLnN1Ym1pdEJ1dHRvblByb3BzfVxuICAgICAgICAgICAgICAgIHJlZj17YnV0dG9uUmVmfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgICAgICAgICBsYWJlbD17XG4gICAgICAgICAgICAgICAgICBpc1JlcGx5XG4gICAgICAgICAgICAgICAgICAgID8gaXNTdWJtaXR0aW5nXG4gICAgICAgICAgICAgICAgICAgICAgPyBfXygnUmVwbHlpbmcuLi4nKVxuICAgICAgICAgICAgICAgICAgICAgIDogX18oJ1JlcGx5JylcbiAgICAgICAgICAgICAgICAgICAgOiBpc1N1Ym1pdHRpbmdcbiAgICAgICAgICAgICAgICAgICAgPyBfXygnQ29tbWVudGluZy4uLicpXG4gICAgICAgICAgICAgICAgICAgIDogX18oJ0NvbW1lbnQgLS1bYnV0dG9uIHRvIHN1Ym1pdCBzb21ldGhpbmddLS0nKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiAoc2VsZWN0ZWRTdGlja2VyID8gaGFuZGxlU3VibWl0U3RpY2tlcigpIDogaGFuZGxlQ3JlYXRlQ29tbWVudCgpKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIClcbiAgICAgICAgICApfVxuXG4gICAgICAgICAgeyghaXNNb2JpbGUgfHwgaXNSZXZpZXdpbmdTdGlja2VyQ29tbWVudCkgJiYgKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgPFN0aWNrZXJBY3Rpb25CdXR0b25cbiAgICAgICAgICAgICAgICB7Li4uYWN0aW9uQnV0dG9uUHJvcHN9XG4gICAgICAgICAgICAgICAgaXNSZXZpZXdpbmdTdGlja2VyQ29tbWVudD17aXNSZXZpZXdpbmdTdGlja2VyQ29tbWVudH1cbiAgICAgICAgICAgICAgICBpY29uPXtJQ09OUy5TVElDS0VSfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVN0aWNrZXJDb21tZW50fVxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIHshc3VwcG9ydERpc2FibGVkICYmICFjbGFpbUlzTWluZSAmJiAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgIDxUaXBBY3Rpb25CdXR0b24gey4uLnRpcEJ1dHRvblByb3BzfSBuYW1lPXtfXygnQ3JlZGl0cycpfSBpY29uPXtJQ09OUy5MQkN9IHRhYj17VEFCX0xCQ30gLz5cblxuICAgICAgICAgICAgICAgICAgeyF3aW5kb3cub2R5c2VlLmJ1aWxkLmdvb2dsZVBsYXkgJiYgc3RyaXBlRW52aXJvbm1lbnQgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8VGlwQWN0aW9uQnV0dG9uIHsuLi50aXBCdXR0b25Qcm9wc30gbmFtZT17X18oJ0Nhc2gnKX0gaWNvbj17ZmlhdEljb25Ub1VzZX0gdGFiPXtUQUJfRklBVH0gLz5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAge3RpcFNlbGVjdG9yT3BlbiB8fCBpc1Jldmlld2luZ1N1cHBvcnRDb21tZW50ID8gKFxuICAgICAgICAgICAgPEJ1dHRvbiB7Li4uY2FuY2VsQnV0dG9uUHJvcHN9IGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9IG9uQ2xpY2s9e2hhbmRsZUNhbmNlbFN1cHBvcnR9IC8+XG4gICAgICAgICAgKSA6IGlzUmV2aWV3aW5nU3RpY2tlckNvbW1lbnQgPyAoXG4gICAgICAgICAgICA8QnV0dG9uIHsuLi5jYW5jZWxCdXR0b25Qcm9wc30gb25DbGljaz17aGFuZGxlQ2FuY2VsU3RpY2tlcn0gLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgb25DYW5jZWxSZXBseWluZyAmJiA8QnV0dG9uIHsuLi5jYW5jZWxCdXR0b25Qcm9wc30gb25DbGljaz17b25DYW5jZWxSZXBseWluZ30gLz5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgPEhlbHBUZXh0IGRlbGV0ZWRDb21tZW50PXtkZWxldGVkQ29tbWVudH0gbWluQW1vdW50PXttaW5BbW91bnR9IG1pblN1cGVyPXttaW5TdXBlcn0gbWluVGlwPXttaW5UaXB9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L0Zvcm0+XG4gICk7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBMkRBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXVDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBNUNBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQW9EQTtBQUFBO0FBQUE7QUFwREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBZ0VBO0FBQUE7QUFBQTtBQWhFQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFxRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFGQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFIQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBUkE7QUFDQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQWhCQTtBQUNBO0FBQ0E7QUFrQkE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBYkE7QUFlQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQURBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBSkE7QUFPQTtBQUFBO0FBQUE7QUFBQTtBQWpCQTtBQW9CQTtBQUNBO0FBckJBO0FBSEE7QUE4QkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFPQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhCQTtBQW1CQTtBQUNBO0FBRUE7Ozs7Ozs7O0FBTUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXRCQTtBQXlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBaENBO0FBa0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBTEE7QUFDQTtBQVFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFEQTtBQUtBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFIQTtBQVFBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFmQTtBQUhBO0FBQ0E7QUF1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQURBO0FBdEJBO0FBQ0E7QUEyQkE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQWxCQTtBQXFCQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBUUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBQ0E7QUFNQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU9BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBRkE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQWdCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFGQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQWJBO0FBY0E7QUFBQTtBQWRBO0FBZUE7QUFDQTtBQWhCQTtBQWlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBakNBO0FBd0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVJBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFaQTtBQWlCQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBT0E7QUFYQTtBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBZUE7QUFDQTtBQUNBO0FBU0E7QUFBQTtBQUFBO0FBYkE7QUFzQkE7QUFDQTtBQUNBO0FBSkE7QUFTQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBUUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUVBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../ui/component/commentCreate/view.jsx\n");

/***/ })

})