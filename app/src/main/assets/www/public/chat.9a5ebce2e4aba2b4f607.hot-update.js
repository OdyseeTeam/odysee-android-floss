webpackHotUpdate("chat",{

/***/ "../ui/component/chat/chatComment/index.js":
/*!*************************************************!*\
  !*** ../ui/component/chat/chatComment/index.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ \"../node_modules/react-redux/es/index.js\");\n/* harmony import */ var redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! redux/selectors/claims */ \"../ui/redux/selectors/claims.js\");\n/* harmony import */ var redux_selectors_app__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! redux/selectors/app */ \"../ui/redux/selectors/app.js\");\n/* harmony import */ var redux_selectors_memberships__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! redux/selectors/memberships */ \"../ui/redux/selectors/memberships.js\");\n/* harmony import */ var util_claim__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! util/claim */ \"../ui/util/claim.js\");\n/* harmony import */ var _view__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./view */ \"../ui/component/chat/chatComment/view.jsx\");\n\n\n\n\n\n\n\nvar select = function select(state, props) {\n  var uri = props.uri,\n      comment = props.comment;\n  var authorUri = comment.channel_url,\n      channelId = comment.channel_id;\n  var authorTitle = Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__[\"selectTitleForUri\"])(state, authorUri);\n  var channelAge = Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__[\"selectDateForUri\"])(state, authorUri);\n  var activeChannelClaim = Object(redux_selectors_app__WEBPACK_IMPORTED_MODULE_2__[\"selectActiveChannelClaim\"])(state);\n  var claim = Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__[\"selectClaimForUri\"])(state, uri);\n  var creatorId = Object(util_claim__WEBPACK_IMPORTED_MODULE_4__[\"getChannelIdFromClaim\"])(claim);\n  return {\n    claim: claim,\n    stakedLevel: Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__[\"selectStakedLevelForChannelUri\"])(state, authorUri),\n    claimsByUri: Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__[\"selectClaimsByUri\"])(state),\n    odyseeMembership: Object(redux_selectors_memberships__WEBPACK_IMPORTED_MODULE_3__[\"selectOdyseeMembershipForChannelId\"])(state, channelId),\n    creatorMembership: Object(redux_selectors_memberships__WEBPACK_IMPORTED_MODULE_3__[\"selectMembershipForCreatorIdAndChannelId\"])(state, creatorId, channelId),\n    activeChannelClaim: activeChannelClaim,\n    authorTitle: authorTitle,\n    channelAge: channelAge\n  };\n};\n\nvar perform = {};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_0__[\"connect\"])(select, perform)(_view__WEBPACK_IMPORTED_MODULE_5__[\"default\"]));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L2NoYXQvY2hhdENvbW1lbnQvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vdWkvY29tcG9uZW50L2NoYXQvY2hhdENvbW1lbnQvaW5kZXguanM/MmEwZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHtcbiAgc2VsZWN0U3Rha2VkTGV2ZWxGb3JDaGFubmVsVXJpLFxuICBzZWxlY3RDbGFpbUZvclVyaSxcbiAgc2VsZWN0Q2xhaW1zQnlVcmksXG4gIHNlbGVjdFRpdGxlRm9yVXJpLFxuICBzZWxlY3REYXRlRm9yVXJpLFxufSBmcm9tICdyZWR1eC9zZWxlY3RvcnMvY2xhaW1zJztcbmltcG9ydCB7IHNlbGVjdEFjdGl2ZUNoYW5uZWxDbGFpbSB9IGZyb20gJ3JlZHV4L3NlbGVjdG9ycy9hcHAnO1xuaW1wb3J0IHtcbiAgc2VsZWN0T2R5c2VlTWVtYmVyc2hpcEZvckNoYW5uZWxJZCxcbiAgc2VsZWN0TWVtYmVyc2hpcEZvckNyZWF0b3JJZEFuZENoYW5uZWxJZCxcbn0gZnJvbSAncmVkdXgvc2VsZWN0b3JzL21lbWJlcnNoaXBzJztcbmltcG9ydCB7IGdldENoYW5uZWxJZEZyb21DbGFpbSB9IGZyb20gJ3V0aWwvY2xhaW0nO1xuXG5pbXBvcnQgQ2hhdENvbW1lbnQgZnJvbSAnLi92aWV3JztcblxuY29uc3Qgc2VsZWN0ID0gKHN0YXRlLCBwcm9wcykgPT4ge1xuICBjb25zdCB7IHVyaSwgY29tbWVudCB9ID0gcHJvcHM7XG4gIGNvbnN0IHsgY2hhbm5lbF91cmw6IGF1dGhvclVyaSwgY2hhbm5lbF9pZDogY2hhbm5lbElkIH0gPSBjb21tZW50O1xuICBjb25zdCBhdXRob3JUaXRsZSA9IHNlbGVjdFRpdGxlRm9yVXJpKHN0YXRlLCBhdXRob3JVcmkpO1xuICBjb25zdCBjaGFubmVsQWdlID0gc2VsZWN0RGF0ZUZvclVyaShzdGF0ZSwgYXV0aG9yVXJpKTtcblxuICBjb25zdCBhY3RpdmVDaGFubmVsQ2xhaW0gPSBzZWxlY3RBY3RpdmVDaGFubmVsQ2xhaW0oc3RhdGUpO1xuXG4gIGNvbnN0IGNsYWltID0gc2VsZWN0Q2xhaW1Gb3JVcmkoc3RhdGUsIHVyaSk7XG4gIGNvbnN0IGNyZWF0b3JJZCA9IGdldENoYW5uZWxJZEZyb21DbGFpbShjbGFpbSk7XG5cbiAgcmV0dXJuIHtcbiAgICBjbGFpbSxcbiAgICBzdGFrZWRMZXZlbDogc2VsZWN0U3Rha2VkTGV2ZWxGb3JDaGFubmVsVXJpKHN0YXRlLCBhdXRob3JVcmkpLFxuICAgIGNsYWltc0J5VXJpOiBzZWxlY3RDbGFpbXNCeVVyaShzdGF0ZSksXG4gICAgb2R5c2VlTWVtYmVyc2hpcDogc2VsZWN0T2R5c2VlTWVtYmVyc2hpcEZvckNoYW5uZWxJZChzdGF0ZSwgY2hhbm5lbElkKSxcbiAgICBjcmVhdG9yTWVtYmVyc2hpcDogc2VsZWN0TWVtYmVyc2hpcEZvckNyZWF0b3JJZEFuZENoYW5uZWxJZChzdGF0ZSwgY3JlYXRvcklkLCBjaGFubmVsSWQpLFxuICAgIGFjdGl2ZUNoYW5uZWxDbGFpbSxcbiAgICBhdXRob3JUaXRsZSxcbiAgICBjaGFubmVsQWdlLFxuICB9O1xufTtcblxuY29uc3QgcGVyZm9ybSA9IHt9O1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KHNlbGVjdCwgcGVyZm9ybSkoQ2hhdENvbW1lbnQpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFPQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVhBO0FBQ0E7QUFzQkE7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../ui/component/chat/chatComment/index.js\n");

/***/ }),

/***/ "../ui/component/chat/index.js":
/*!*************************************!*\
  !*** ../ui/component/chat/index.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ \"../node_modules/react-redux/es/index.js\");\n/* harmony import */ var constants_livestream__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! constants/livestream */ \"../ui/constants/livestream.js\");\n/* harmony import */ var redux_actions_claims__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! redux/actions/claims */ \"../ui/redux/actions/claims.js\");\n/* harmony import */ var redux_selectors_claims__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! redux/selectors/claims */ \"../ui/redux/selectors/claims.js\");\n/* harmony import */ var redux_actions_comments__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! redux/actions/comments */ \"../ui/redux/actions/comments.js\");\n/* harmony import */ var redux_selectors_comments__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! redux/selectors/comments */ \"../ui/redux/selectors/comments.js\");\n/* harmony import */ var redux_actions_memberships__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! redux/actions/memberships */ \"../ui/redux/actions/memberships.js\");\n/* harmony import */ var redux_selectors_memberships__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! redux/selectors/memberships */ \"../ui/redux/selectors/memberships.js\");\n/* harmony import */ var redux_selectors_app__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! redux/selectors/app */ \"../ui/redux/selectors/app.js\");\n/* harmony import */ var util_claim__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! util/claim */ \"../ui/util/claim.js\");\n/* harmony import */ var _view__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./view */ \"../ui/component/chat/view.jsx\");\n\n\n\n\n\n\n\n\n\n\n\n\nvar select = function select(state, props) {\n  var uri = props.uri;\n  var claim = Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_3__[\"selectClaimForUri\"])(state, uri);\n  var claimId = claim && claim.claim_id;\n  var channelId = Object(util_claim__WEBPACK_IMPORTED_MODULE_9__[\"getChannelIdFromClaim\"])(claim);\n  var activeChannelClaim = Object(redux_selectors_app__WEBPACK_IMPORTED_MODULE_8__[\"selectActiveChannelClaim\"])(state);\n  var activeChannelId = activeChannelClaim === null || activeChannelClaim === void 0 ? void 0 : activeChannelClaim.claim_id;\n  return {\n    activeChannelClaim: activeChannelClaim,\n    activeChannelId: activeChannelId,\n    claimId: claimId,\n    claimIsMine: props.uri && Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_3__[\"selectClaimIsMine\"])(state, claim),\n    comments: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_5__[\"selectTopLevelCommentsForUri\"])(state, uri, constants_livestream__WEBPACK_IMPORTED_MODULE_1__[\"MAX_LIVESTREAM_COMMENTS\"]),\n    pinnedComments: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_5__[\"selectPinnedCommentsForUri\"])(state, uri),\n    superChats: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_5__[\"selectHyperChatsForUri\"])(state, uri),\n    channelId: channelId,\n    chatCommentsRestrictedToChannelMembers: Boolean(Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_3__[\"selectProtectedContentTagForUri\"])(state, uri)),\n    unauthorizedForContent: Object(redux_selectors_memberships__WEBPACK_IMPORTED_MODULE_7__[\"selectIfUnauthorizedForContent\"])(state, channelId, claimId, uri),\n    settingsByChannelId: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_5__[\"selectSettingsByChannelId\"])(state)\n  };\n};\n\nvar perform = {\n  doCommentList: redux_actions_comments__WEBPACK_IMPORTED_MODULE_4__[\"doCommentList\"],\n  doHyperChatList: redux_actions_comments__WEBPACK_IMPORTED_MODULE_4__[\"doHyperChatList\"],\n  doResolveUris: redux_actions_claims__WEBPACK_IMPORTED_MODULE_2__[\"doResolveUris\"],\n  doFetchOdyseeMembershipForChannelIds: redux_actions_memberships__WEBPACK_IMPORTED_MODULE_6__[\"doFetchOdyseeMembershipForChannelIds\"],\n  doFetchChannelMembershipsForChannelIds: redux_actions_memberships__WEBPACK_IMPORTED_MODULE_6__[\"doFetchChannelMembershipsForChannelIds\"],\n  setLivestreamChatMembersOnlyCreatorSetting: redux_actions_comments__WEBPACK_IMPORTED_MODULE_4__[\"setLivestreamChatMembersOnlyCreatorSetting\"]\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_0__[\"connect\"])(select, perform)(_view__WEBPACK_IMPORTED_MODULE_10__[\"default\"]));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L2NoYXQvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vdWkvY29tcG9uZW50L2NoYXQvaW5kZXguanM/MmU2NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgTUFYX0xJVkVTVFJFQU1fQ09NTUVOVFMgfSBmcm9tICdjb25zdGFudHMvbGl2ZXN0cmVhbSc7XG5pbXBvcnQgeyBkb1Jlc29sdmVVcmlzIH0gZnJvbSAncmVkdXgvYWN0aW9ucy9jbGFpbXMnO1xuaW1wb3J0IHsgc2VsZWN0Q2xhaW1Gb3JVcmksIHNlbGVjdFByb3RlY3RlZENvbnRlbnRUYWdGb3JVcmksIHNlbGVjdENsYWltSXNNaW5lIH0gZnJvbSAncmVkdXgvc2VsZWN0b3JzL2NsYWltcyc7XG5pbXBvcnQgeyBkb0NvbW1lbnRMaXN0LCBkb0h5cGVyQ2hhdExpc3QsIHNldExpdmVzdHJlYW1DaGF0TWVtYmVyc09ubHlDcmVhdG9yU2V0dGluZyB9IGZyb20gJ3JlZHV4L2FjdGlvbnMvY29tbWVudHMnO1xuaW1wb3J0IHtcbiAgc2VsZWN0VG9wTGV2ZWxDb21tZW50c0ZvclVyaSxcbiAgc2VsZWN0SHlwZXJDaGF0c0ZvclVyaSxcbiAgc2VsZWN0UGlubmVkQ29tbWVudHNGb3JVcmksXG4gIHNlbGVjdFNldHRpbmdzQnlDaGFubmVsSWQsXG59IGZyb20gJ3JlZHV4L3NlbGVjdG9ycy9jb21tZW50cyc7XG5pbXBvcnQge1xuICBkb0ZldGNoT2R5c2VlTWVtYmVyc2hpcEZvckNoYW5uZWxJZHMsXG4gIGRvRmV0Y2hDaGFubmVsTWVtYmVyc2hpcHNGb3JDaGFubmVsSWRzLFxufSBmcm9tICdyZWR1eC9hY3Rpb25zL21lbWJlcnNoaXBzJztcbmltcG9ydCB7IHNlbGVjdElmVW5hdXRob3JpemVkRm9yQ29udGVudCB9IGZyb20gJ3JlZHV4L3NlbGVjdG9ycy9tZW1iZXJzaGlwcyc7XG5pbXBvcnQgeyBzZWxlY3RBY3RpdmVDaGFubmVsQ2xhaW0gfSBmcm9tICdyZWR1eC9zZWxlY3RvcnMvYXBwJztcbmltcG9ydCB7IGdldENoYW5uZWxJZEZyb21DbGFpbSB9IGZyb20gJ3V0aWwvY2xhaW0nO1xuXG5pbXBvcnQgQ2hhdExheW91dCBmcm9tICcuL3ZpZXcnO1xuXG5jb25zdCBzZWxlY3QgPSAoc3RhdGUsIHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgdXJpIH0gPSBwcm9wcztcbiAgY29uc3QgY2xhaW0gPSBzZWxlY3RDbGFpbUZvclVyaShzdGF0ZSwgdXJpKTtcbiAgY29uc3QgY2xhaW1JZCA9IGNsYWltICYmIGNsYWltLmNsYWltX2lkO1xuICBjb25zdCBjaGFubmVsSWQgPSBnZXRDaGFubmVsSWRGcm9tQ2xhaW0oY2xhaW0pO1xuXG4gIGNvbnN0IGFjdGl2ZUNoYW5uZWxDbGFpbSA9IHNlbGVjdEFjdGl2ZUNoYW5uZWxDbGFpbShzdGF0ZSk7XG4gIGNvbnN0IGFjdGl2ZUNoYW5uZWxJZCA9IGFjdGl2ZUNoYW5uZWxDbGFpbT8uY2xhaW1faWQ7XG5cbiAgcmV0dXJuIHtcbiAgICBhY3RpdmVDaGFubmVsQ2xhaW0sXG4gICAgYWN0aXZlQ2hhbm5lbElkLFxuICAgIGNsYWltSWQsXG4gICAgY2xhaW1Jc01pbmU6IHByb3BzLnVyaSAmJiBzZWxlY3RDbGFpbUlzTWluZShzdGF0ZSwgY2xhaW0pLFxuICAgIGNvbW1lbnRzOiBzZWxlY3RUb3BMZXZlbENvbW1lbnRzRm9yVXJpKHN0YXRlLCB1cmksIE1BWF9MSVZFU1RSRUFNX0NPTU1FTlRTKSxcbiAgICBwaW5uZWRDb21tZW50czogc2VsZWN0UGlubmVkQ29tbWVudHNGb3JVcmkoc3RhdGUsIHVyaSksXG4gICAgc3VwZXJDaGF0czogc2VsZWN0SHlwZXJDaGF0c0ZvclVyaShzdGF0ZSwgdXJpKSxcbiAgICBjaGFubmVsSWQsXG4gICAgY2hhdENvbW1lbnRzUmVzdHJpY3RlZFRvQ2hhbm5lbE1lbWJlcnM6IEJvb2xlYW4oc2VsZWN0UHJvdGVjdGVkQ29udGVudFRhZ0ZvclVyaShzdGF0ZSwgdXJpKSksXG4gICAgdW5hdXRob3JpemVkRm9yQ29udGVudDogc2VsZWN0SWZVbmF1dGhvcml6ZWRGb3JDb250ZW50KHN0YXRlLCBjaGFubmVsSWQsIGNsYWltSWQsIHVyaSksXG4gICAgc2V0dGluZ3NCeUNoYW5uZWxJZDogc2VsZWN0U2V0dGluZ3NCeUNoYW5uZWxJZChzdGF0ZSksXG4gIH07XG59O1xuXG5jb25zdCBwZXJmb3JtID0ge1xuICBkb0NvbW1lbnRMaXN0LFxuICBkb0h5cGVyQ2hhdExpc3QsXG4gIGRvUmVzb2x2ZVVyaXMsXG4gIGRvRmV0Y2hPZHlzZWVNZW1iZXJzaGlwRm9yQ2hhbm5lbElkcyxcbiAgZG9GZXRjaENoYW5uZWxNZW1iZXJzaGlwc0ZvckNoYW5uZWxJZHMsXG4gIHNldExpdmVzdHJlYW1DaGF0TWVtYmVyc09ubHlDcmVhdG9yU2V0dGluZyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3Qoc2VsZWN0LCBwZXJmb3JtKShDaGF0TGF5b3V0KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQVRBO0FBQ0E7QUF1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../ui/component/chat/index.js\n");

/***/ }),

/***/ "../ui/component/chat/view.jsx":
/*!*************************************!*\
  !*** ../ui/component/chat/view.jsx ***!
  \*************************************/
/*! exports provided: VIEW_MODES, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VIEW_MODES\", function() { return VIEW_MODES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ChatLayout; });\n/* harmony import */ var scss_component_livestream_chat_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! scss/component/_livestream-chat.scss */ \"../ui/scss/component/_livestream-chat.scss\");\n/* harmony import */ var scss_component_livestream_chat_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(scss_component_livestream_chat_scss__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var effects_use_screensize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! effects/use-screensize */ \"../ui/effects/use-screensize.js\");\n/* harmony import */ var constants_icons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! constants/icons */ \"../ui/constants/icons.js\");\n/* harmony import */ var component_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! component/button */ \"../ui/component/button/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! classnames */ \"../node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var component_commentCreate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! component/commentCreate */ \"../ui/component/commentCreate/index.js\");\n/* harmony import */ var component_common_credit_amount__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! component/common/credit-amount */ \"../ui/component/common/credit-amount.jsx\");\n/* harmony import */ var component_chat_chatComment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! component/chat/chatComment */ \"../ui/component/chat/chatComment/index.js\");\n/* harmony import */ var component_chat_chatComments__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! component/chat/chatComments */ \"../ui/component/chat/chatComments/index.js\");\n/* harmony import */ var _livestream_hyperchats__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./livestream-hyperchats */ \"../ui/component/chat/livestream-hyperchats.jsx\");\n/* harmony import */ var _livestream_menu__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./livestream-menu */ \"../ui/component/chat/livestream-menu.jsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var component_yrbl__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! component/yrbl */ \"../ui/component/yrbl/index.jsx\");\n/* harmony import */ var util_livestream__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! util/livestream */ \"../ui/util/livestream.js\");\n/* harmony import */ var _mui_material_Slide__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @mui/material/Slide */ \"../node_modules/@mui/material/Slide/index.js\");\n/* harmony import */ var effects_use_persisted_state__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! effects/use-persisted-state */ \"../ui/effects/use-persisted-state.js\");\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\n // $FlowFixMe\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n // import { setLivestreamChatMembersOnlyCreatorSetting } from '../../redux/actions/comments';\n\nvar VIEW_MODES = {\n  CHAT: 'chat',\n  SUPERCHAT: 'sc'\n};\nvar COMMENT_SCROLL_TIMEOUT = 25;\nfunction ChatLayout(props) {\n  var activeChannelId = props.activeChannelId,\n      channelId = props.channelId,\n      chatCommentsRestrictedToChannelMembers = props.chatCommentsRestrictedToChannelMembers,\n      claimId = props.claimId,\n      claimIsMine = props.claimIsMine,\n      commentsByChronologicalOrder = props.comments,\n      customViewMode = props.customViewMode,\n      doCommentList = props.doCommentList,\n      doFetchChannelMembershipsForChannelIds = props.doFetchChannelMembershipsForChannelIds,\n      doFetchOdyseeMembershipForChannelIds = props.doFetchOdyseeMembershipForChannelIds,\n      doHyperChatList = props.doHyperChatList,\n      doResolveUris = props.doResolveUris,\n      embed = props.embed,\n      hideHeader = props.hideHeader,\n      hyperchatsHidden = props.hyperchatsHidden,\n      isPopoutWindow = props.isPopoutWindow,\n      pinnedComments = props.pinnedComments,\n      setCustomViewMode = props.setCustomViewMode,\n      setLayountRendered = props.setLayountRendered,\n      hyperChatsByAmount = props.superChats,\n      uri = props.uri,\n      activeChannelClaim = props.activeChannelClaim,\n      setLivestreamChatMembersOnlyCreatorSetting = props.setLivestreamChatMembersOnlyCreatorSetting,\n      unauthorizedForContent = props.unauthorizedForContent,\n      settingsByChannelId = props.settingsByChannelId;\n  var isMobile = Object(effects_use_screensize__WEBPACK_IMPORTED_MODULE_1__[\"useIsMobile\"])() && !isPopoutWindow;\n  var isLimitedPopout = Object(effects_use_screensize__WEBPACK_IMPORTED_MODULE_1__[\"useIsMobile\"])() && isPopoutWindow;\n  var webElement = document.querySelector('.livestream__comments');\n  var mobileElement = document.querySelector('.livestream__comments--mobile');\n  var discussionElement = isMobile ? mobileElement : webElement;\n  var allCommentsElem = document.querySelectorAll('.livestream__comment');\n  var lastCommentElem = allCommentsElem && allCommentsElem[allCommentsElem.length - 1];\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_11___default.a.useState(VIEW_MODES.CHAT),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      viewMode = _React$useState2[0],\n      setViewMode = _React$useState2[1];\n\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_11___default.a.useState(0),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      scrollPos = _React$useState4[0],\n      setScrollPos = _React$useState4[1];\n\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_11___default.a.useState(true),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      showPinned = _React$useState6[0],\n      setShowPinned = _React$useState6[1];\n\n  var _React$useState7 = react__WEBPACK_IMPORTED_MODULE_11___default.a.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      resolvingSuperChats = _React$useState8[0],\n      setResolvingSuperChats = _React$useState8[1];\n\n  var _React$useState9 = react__WEBPACK_IMPORTED_MODULE_11___default.a.useState(undefined),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      openedPopoutWindow = _React$useState10[0],\n      _setPopoutWindow = _React$useState10[1];\n\n  var _React$useState11 = react__WEBPACK_IMPORTED_MODULE_11___default.a.useState(false),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      chatHidden = _React$useState12[0],\n      setChatHidden = _React$useState12[1];\n\n  var _React$useState13 = react__WEBPACK_IMPORTED_MODULE_11___default.a.useState(false),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      didInitialScroll = _React$useState14[0],\n      setDidInitialScroll = _React$useState14[1];\n\n  var _React$useState15 = react__WEBPACK_IMPORTED_MODULE_11___default.a.useState(0),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      minScrollHeight = _React$useState16[0],\n      setMinScrollHeight = _React$useState16[1];\n\n  var _React$useState17 = react__WEBPACK_IMPORTED_MODULE_11___default.a.useState(false),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      keyboardOpened = _React$useState18[0],\n      setKeyboardOpened = _React$useState18[1];\n\n  var _React$useState19 = react__WEBPACK_IMPORTED_MODULE_11___default.a.useState(false),\n      _React$useState20 = _slicedToArray(_React$useState19, 2),\n      superchatsAmount = _React$useState20[0],\n      setSuperchatsAmount = _React$useState20[1];\n\n  var _React$useState21 = react__WEBPACK_IMPORTED_MODULE_11___default.a.useState(),\n      _React$useState22 = _slicedToArray(_React$useState21, 2),\n      chatElement = _React$useState22[0],\n      setChatElement = _React$useState22[1];\n\n  var _React$useState23 = react__WEBPACK_IMPORTED_MODULE_11___default.a.useState(''),\n      _React$useState24 = _slicedToArray(_React$useState23, 2),\n      textInjection = _React$useState24[0],\n      setTextInjection = _React$useState24[1];\n\n  var _React$useState25 = react__WEBPACK_IMPORTED_MODULE_11___default.a.useState(hyperchatsHidden),\n      _React$useState26 = _slicedToArray(_React$useState25, 2),\n      hideHyperchats = _React$useState26[0],\n      sethideHyperchats = _React$useState26[1];\n\n  var _usePersistedState = Object(effects_use_persisted_state__WEBPACK_IMPORTED_MODULE_15__[\"default\"])('isCompact', false),\n      _usePersistedState2 = _slicedToArray(_usePersistedState, 2),\n      isCompact = _usePersistedState2[0],\n      setIsCompact = _usePersistedState2[1];\n\n  var superChatsByChronologicalOrder = [];\n  if (hyperChatsByAmount) hyperChatsByAmount.forEach(function (chat) {\n    return superChatsByChronologicalOrder.push(chat);\n  });\n\n  if (superChatsByChronologicalOrder.length > 0) {\n    superChatsByChronologicalOrder.sort(function (a, b) {\n      return b.timestamp - a.timestamp;\n    });\n  } // get commenter claim ids for checking premium status\n\n\n  var commenterClaimIds = commentsByChronologicalOrder && commentsByChronologicalOrder.map(function (_ref) {\n    var channel_id = _ref.channel_id;\n    return channel_id;\n  });\n  react__WEBPACK_IMPORTED_MODULE_11___default.a.useEffect(function () {\n    if ((commenterClaimIds === null || commenterClaimIds === void 0 ? void 0 : commenterClaimIds.length) > 0 && channelId) {\n      doFetchOdyseeMembershipForChannelIds(commenterClaimIds);\n      doFetchChannelMembershipsForChannelIds(channelId, commenterClaimIds);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [channelId, commenterClaimIds.length, doFetchChannelMembershipsForChannelIds, doFetchOdyseeMembershipForChannelIds]);\n  var commentsToDisplay = viewMode === VIEW_MODES.CHAT ? commentsByChronologicalOrder : superChatsByChronologicalOrder;\n  var commentsLength = commentsToDisplay && commentsToDisplay.length;\n  var pinnedComment = pinnedComments.length > 0 ? pinnedComments[0] : null;\n\n  var _getTipValues = Object(util_livestream__WEBPACK_IMPORTED_MODULE_13__[\"getTipValues\"])(superChatsByChronologicalOrder),\n      superChatsChannelUrls = _getTipValues.superChatsChannelUrls,\n      superChatsFiatAmount = _getTipValues.superChatsFiatAmount,\n      superChatsLBCAmount = _getTipValues.superChatsLBCAmount;\n\n  var scrolledPastRecent = Boolean((viewMode !== VIEW_MODES.SUPERCHAT || !resolvingSuperChats) && (!isMobile ? scrollPos < 0 : scrollPos < minScrollHeight));\n  var restoreScrollPos = react__WEBPACK_IMPORTED_MODULE_11___default.a.useCallback(function () {\n    if (discussionElement) {\n      discussionElement.scrollTop = !isMobile ? 0 : discussionElement.scrollHeight;\n\n      if (isMobile) {\n        var pos = lastCommentElem && discussionElement.scrollTop - lastCommentElem.getBoundingClientRect().height;\n\n        if (!minScrollHeight || minScrollHeight !== pos) {\n          setMinScrollHeight(pos);\n        }\n      }\n    }\n  }, [discussionElement, isMobile, lastCommentElem, minScrollHeight]);\n\n  function toggleClick(toggleMode) {\n    if (toggleMode === VIEW_MODES.SUPERCHAT) {\n      toggleHyperChat();\n    } else {\n      setViewMode(VIEW_MODES.CHAT);\n      if (setCustomViewMode) setCustomViewMode(VIEW_MODES.CHAT);\n    }\n\n    if (discussionElement) {\n      discussionElement.scrollTop = 0;\n    }\n  }\n\n  function toggleHyperChat() {\n    var hasNewSuperchats = !superchatsAmount || superChatsChannelUrls.length !== superchatsAmount;\n\n    if (superChatsChannelUrls && hasNewSuperchats) {\n      setSuperchatsAmount(superChatsChannelUrls.length);\n      doResolveUris(superChatsChannelUrls, false);\n    }\n\n    setViewMode(VIEW_MODES.SUPERCHAT);\n    if (setCustomViewMode) setCustomViewMode(VIEW_MODES.SUPERCHAT);\n  }\n\n  react__WEBPACK_IMPORTED_MODULE_11___default.a.useEffect(function () {\n    if (setLayountRendered) setLayountRendered(true);\n  }, [setLayountRendered]);\n  react__WEBPACK_IMPORTED_MODULE_11___default.a.useEffect(function () {\n    if (customViewMode && customViewMode !== viewMode) {\n      setViewMode(customViewMode);\n    }\n  }, [customViewMode, viewMode]);\n  react__WEBPACK_IMPORTED_MODULE_11___default.a.useEffect(function () {\n    if (claimId) {\n      doCommentList(uri, undefined, 1, 75, undefined, true, // protected comments params\n      chatCommentsRestrictedToChannelMembers, activeChannelId);\n      doHyperChatList(uri, chatCommentsRestrictedToChannelMembers);\n    }\n  }, [claimId, uri, doCommentList, doHyperChatList]);\n  react__WEBPACK_IMPORTED_MODULE_11___default.a.useEffect(function () {\n    if (isMobile && !didInitialScroll) {\n      restoreScrollPos();\n      setDidInitialScroll(true);\n    }\n  }, [didInitialScroll, isMobile, restoreScrollPos, viewMode]);\n  react__WEBPACK_IMPORTED_MODULE_11___default.a.useEffect(function () {\n    if (discussionElement && !openedPopoutWindow) setChatElement(discussionElement);\n  }, [discussionElement, openedPopoutWindow]); // Register scroll handler (TODO: Should throttle/debounce)\n\n  react__WEBPACK_IMPORTED_MODULE_11___default.a.useEffect(function () {\n    function handleScroll() {\n      if (chatElement) {\n        var scrollTop = chatElement.scrollTop;\n\n        if (scrollTop !== scrollPos) {\n          setScrollPos(scrollTop);\n        }\n      }\n    }\n\n    if (chatElement) {\n      chatElement.addEventListener('scroll', handleScroll);\n      return function () {\n        return chatElement.removeEventListener('scroll', handleScroll);\n      };\n    }\n  }, [chatElement, scrollPos]); // Retain scrollPos=0 when receiving new messages.\n\n  react__WEBPACK_IMPORTED_MODULE_11___default.a.useEffect(function () {\n    if (discussionElement && commentsLength > 0) {\n      // Only update comment scroll if the user hasn't scrolled up to view old comments\n      // $FlowFixMe\n      if (scrollPos && (!isMobile || minScrollHeight) && scrollPos >= minScrollHeight) {\n        // +ve scrollPos: not scrolled (Usually, there'll be a few pixels beyond 0).\n        // -ve scrollPos: user scrolled.\n        var timer = setTimeout(function () {\n          // Use a timer here to ensure we reset after the new comment has been rendered.\n          if (!isMobile) {\n            discussionElement.scrollTop = 0;\n          } else {\n            restoreScrollPos();\n          }\n        }, COMMENT_SCROLL_TIMEOUT);\n        return function () {\n          return clearTimeout(timer);\n        };\n      }\n    } // eslint-disable-next-line react-hooks/exhaustive-deps -- Just respond to 'commentsLength' and nothing else\n\n  }, [commentsLength]); // Restore Scroll Pos after mobile input opens keyboard and avoid scroll height conflicts\n\n  react__WEBPACK_IMPORTED_MODULE_11___default.a.useEffect(function () {\n    if (keyboardOpened) {\n      var timer = setTimeout(function () {\n        restoreScrollPos();\n        setKeyboardOpened(false);\n      }, 300);\n      return function () {\n        return clearTimeout(timer);\n      };\n    }\n  }, [keyboardOpened, restoreScrollPos]);\n  react__WEBPACK_IMPORTED_MODULE_11___default.a.useEffect(function () {\n    if (textInjection && textInjection.length) setTextInjection('');\n  }, [textInjection]);\n  if (!claimId) return null;\n  if (unauthorizedForContent && !claimIsMine) return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_11___default.a.Fragment, null);\n\n  if (openedPopoutWindow || chatHidden) {\n    return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(\"div\", {\n      className: \"card livestream__chat\"\n    }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(\"div\", {\n      className: \"card__header--between livestreamDiscussion__header\"\n    }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(\"div\", {\n      className: \"card__title-section--small livestreamDiscussion__title\"\n    }, __('Livestream Chat'))), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(\"div\", {\n      className: \"livestreamComments__wrapper\"\n    }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(\"div\", {\n      className: \"main--empty\"\n    }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(component_yrbl__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n      title: __('Chat Hidden'),\n      actions: react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(\"div\", {\n        className: \"section__actions\"\n      }, openedPopoutWindow && react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        button: \"secondary\",\n        label: __('Close Popout'),\n        onClick: function onClick() {\n          openedPopoutWindow.close();\n\n          _setPopoutWindow(undefined);\n        }\n      }), chatHidden && react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        button: \"secondary\",\n        label: __('Show Chat'),\n        onClick: function onClick() {\n          return setChatHidden(false);\n        }\n      }))\n    })), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(\"div\", {\n      className: \"livestream__comment-create\"\n    }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(component_commentCreate__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n      isLivestream: true,\n      bottom: true,\n      uri: uri,\n      disableInput: true\n    }))));\n  }\n\n  var toggleProps = {\n    viewMode: viewMode,\n    onClick: function onClick(toggleMode) {\n      return toggleClick(toggleMode);\n    }\n  };\n\n  function handleCommentClick(authorTitle) {\n    setTextInjection(authorTitle);\n  }\n\n  return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()('card livestream__chat', {\n      'livestream__chat--popout': isPopoutWindow\n    })\n  }, !hideHeader && react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(\"div\", {\n    className: \"card__header--between livestreamDiscussion__header\"\n  }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(\"div\", {\n    className: \"recommended-content__toggles\"\n  }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(ChatContentToggle, _extends({}, toggleProps, {\n    toggleMode: VIEW_MODES.CHAT,\n    label: !isLimitedPopout ? __('Livestream Chat') : __('Chat')\n  })), hyperChatsByAmount && react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(ChatContentToggle, _extends({}, toggleProps, {\n    toggleMode: VIEW_MODES.SUPERCHAT,\n    label: react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_11___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(component_common_credit_amount__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      amount: superChatsLBCAmount || 0,\n      size: 8\n    }), \" /\\xA0\", react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(component_common_credit_amount__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      amount: superChatsFiatAmount || 0,\n      size: 8,\n      isFiat: true\n    }), \" \", __('Tipped'))\n  }))), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_livestream_menu__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    isPopoutWindow: isPopoutWindow,\n    hideChat: function hideChat() {\n      return setChatHidden(true);\n    },\n    setPopoutWindow: function setPopoutWindow(v) {\n      return _setPopoutWindow(v);\n    },\n    isMobile: isMobile,\n    toggleHyperchats: function toggleHyperchats() {\n      return sethideHyperchats(!hideHyperchats);\n    },\n    toggleIsCompact: function toggleIsCompact() {\n      return setIsCompact(!isCompact);\n    },\n    isCompact: isCompact,\n    hyperchatsHidden: hideHyperchats,\n    noHyperchats: !hyperChatsByAmount,\n    activeChannelClaim: activeChannelClaim,\n    activeClaimId: claimId,\n    setLivestreamChatMembersOnlyCreatorSetting: setLivestreamChatMembersOnlyCreatorSetting,\n    claimIsMine: claimIsMine,\n    settingsByChannelId: settingsByChannelId\n  })), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(\"div\", {\n    className: \"livestreamComments__wrapper\"\n  }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()('livestream-comments__top-actions', {\n      'livestream-comments__top-actions--mobile': isMobile\n    })\n  }, isMobile && (pinnedComment && showPinned || hyperChatsByAmount && !hyperchatsHidden) && react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(\"div\", {\n    className: \"livestream__top-gradient\"\n  }), viewMode === VIEW_MODES.CHAT && hyperChatsByAmount && react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_livestream_hyperchats__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n    superChats: hyperChatsByAmount,\n    toggleHyperChat: toggleHyperChat,\n    hyperchatsHidden: hyperchatsHidden || hideHyperchats,\n    isMobile: isMobile,\n    noHyperchats: false\n  }), pinnedComment && viewMode === VIEW_MODES.CHAT && (isMobile ? react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_mui_material_Slide__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n    direction: \"left\",\n    \"in\": showPinned,\n    mountOnEnter: true,\n    unmountOnExit: true\n  }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(\"div\", {\n    className: \"livestream-pinned__wrapper--mobile\"\n  }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(component_chat_chatComment__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    comment: pinnedComment,\n    key: pinnedComment.comment_id,\n    uri: uri,\n    handleDismissPin: function handleDismissPin() {\n      return setShowPinned(false);\n    },\n    isMobile: true,\n    setResolvingSuperChats: setResolvingSuperChats\n  }))) : showPinned && react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(\"div\", {\n    className: \"livestream-pinned__wrapper\"\n  }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(component_chat_chatComment__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    comment: pinnedComment,\n    key: pinnedComment.comment_id,\n    uri: uri\n  }), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    title: __('Dismiss pinned comment'),\n    button: \"inverse\",\n    className: \"close-button\",\n    onClick: function onClick() {\n      return setShowPinned(false);\n    },\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_2__[\"REMOVE\"]\n  })))), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(component_chat_chatComments__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n    uri: uri,\n    viewMode: viewMode,\n    comments: commentsToDisplay,\n    isMobile: isMobile,\n    restoreScrollPos: !scrolledPastRecent && isMobile && restoreScrollPos,\n    handleCommentClick: handleCommentClick,\n    isCompact: isCompact\n  }), scrolledPastRecent && react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    button: \"secondary\",\n    className: \"livestream-comments__scroll-to-recent\",\n    label: viewMode === VIEW_MODES.CHAT ? __('Recent Comments') : __('Recent Tips'),\n    onClick: restoreScrollPos,\n    iconRight: constants_icons__WEBPACK_IMPORTED_MODULE_2__[\"DOWN\"]\n  }), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(\"div\", {\n    className: \"livestream__comment-create\"\n  }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(component_commentCreate__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    isLivestream: true,\n    bottom: true,\n    embed: embed,\n    uri: uri,\n    onDoneReplying: restoreScrollPos,\n    onSlimInputClose: !scrolledPastRecent && isMobile ? function () {\n      return setKeyboardOpened(true);\n    } : undefined,\n    textInjection: textInjection\n  }))));\n}\n\nvar ChatContentToggle = function ChatContentToggle(props) {\n  var viewMode = props.viewMode,\n      toggleMode = props.toggleMode,\n      label = props.label,\n      _onClick = props.onClick;\n  return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()('button-toggle', {\n      'button-toggle--active': viewMode === toggleMode\n    }),\n    label: label,\n    onClick: function onClick() {\n      return _onClick(toggleMode);\n    }\n  });\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! i18n.js */ \"../ui/i18n.js\")[\"__\"]))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L2NoYXQvdmlldy5qc3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vdWkvY29tcG9uZW50L2NoYXQvdmlldy5qc3g/MmUzMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAZmxvd1xuaW1wb3J0ICdzY3NzL2NvbXBvbmVudC9fbGl2ZXN0cmVhbS1jaGF0LnNjc3MnO1xuXG4vLyAkRmxvd0ZpeE1lXG5pbXBvcnQgeyB1c2VJc01vYmlsZSB9IGZyb20gJ2VmZmVjdHMvdXNlLXNjcmVlbnNpemUnO1xuaW1wb3J0ICogYXMgSUNPTlMgZnJvbSAnY29uc3RhbnRzL2ljb25zJztcbmltcG9ydCBCdXR0b24gZnJvbSAnY29tcG9uZW50L2J1dHRvbic7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBDb21tZW50Q3JlYXRlIGZyb20gJ2NvbXBvbmVudC9jb21tZW50Q3JlYXRlJztcbmltcG9ydCBDcmVkaXRBbW91bnQgZnJvbSAnY29tcG9uZW50L2NvbW1vbi9jcmVkaXQtYW1vdW50JztcbmltcG9ydCBDaGF0Q29tbWVudCBmcm9tICdjb21wb25lbnQvY2hhdC9jaGF0Q29tbWVudCc7XG5pbXBvcnQgQ2hhdENvbW1lbnRzIGZyb20gJ2NvbXBvbmVudC9jaGF0L2NoYXRDb21tZW50cyc7XG5pbXBvcnQgTGl2ZXN0cmVhbUh5cGVyY2hhdHMgZnJvbSAnLi9saXZlc3RyZWFtLWh5cGVyY2hhdHMnO1xuaW1wb3J0IExpdmVzdHJlYW1NZW51IGZyb20gJy4vbGl2ZXN0cmVhbS1tZW51JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgWXJibCBmcm9tICdjb21wb25lbnQveXJibCc7XG5pbXBvcnQgeyBnZXRUaXBWYWx1ZXMgfSBmcm9tICd1dGlsL2xpdmVzdHJlYW0nO1xuaW1wb3J0IFNsaWRlIGZyb20gJ0BtdWkvbWF0ZXJpYWwvU2xpZGUnO1xuaW1wb3J0IHVzZVBlcnNpc3RlZFN0YXRlIGZyb20gJ2VmZmVjdHMvdXNlLXBlcnNpc3RlZC1zdGF0ZSc7XG4vLyBpbXBvcnQgeyBzZXRMaXZlc3RyZWFtQ2hhdE1lbWJlcnNPbmx5Q3JlYXRvclNldHRpbmcgfSBmcm9tICcuLi8uLi9yZWR1eC9hY3Rpb25zL2NvbW1lbnRzJztcblxuZXhwb3J0IGNvbnN0IFZJRVdfTU9ERVMgPSB7XG4gIENIQVQ6ICdjaGF0JyxcbiAgU1VQRVJDSEFUOiAnc2MnLFxufTtcbmNvbnN0IENPTU1FTlRfU0NST0xMX1RJTUVPVVQgPSAyNTtcblxudHlwZSBQcm9wcyA9IHtcbiAgY3VzdG9tVmlld01vZGU/OiBzdHJpbmcsXG4gIGNsYWltSXNNaW5lOiBib29sZWFuLFxuICBlbWJlZD86IGJvb2xlYW4sXG4gIGhpZGVIZWFkZXI/OiBib29sZWFuLFxuICBoeXBlcmNoYXRzSGlkZGVuPzogYm9vbGVhbixcbiAgaXNQb3BvdXRXaW5kb3c/OiBib29sZWFuLFxuICBzZXRDdXN0b21WaWV3TW9kZT86IChhbnkpID0+IHZvaWQsXG4gIHVyaTogc3RyaW5nLFxuICAvLyByZWR1eFxuICBjaGFubmVsSWQ6IHN0cmluZyxcbiAgY2xhaW1JZD86IHN0cmluZyxcbiAgY29tbWVudHM6IEFycmF5PENvbW1lbnQ+LFxuICBkb0NvbW1lbnRMaXN0OiAoXG4gICAgdXJpOiBzdHJpbmcsXG4gICAgcGFyZW50SWQ6ID9zdHJpbmcsXG4gICAgcGFnZTogbnVtYmVyLFxuICAgIHBhZ2VTaXplOiBudW1iZXIsXG4gICAgc29ydEJ5OiA/bnVtYmVyLFxuICAgIGlzTGl2ZXN0cmVhbTogYm9vbGVhbixcbiAgICBjaGF0Q29tbWVudHNSZXN0cmljdGVkVG9DaGFubmVsTWVtYmVyczogP2Jvb2xlYW4sXG4gICAgYWN0aXZlQ2hhbm5lbElkOiA/c3RyaW5nXG4gICkgPT4gdm9pZCxcbiAgZG9GZXRjaENoYW5uZWxNZW1iZXJzaGlwc0ZvckNoYW5uZWxJZHM6IChjaGFubmVsSWQ6IHN0cmluZywgY2xhaW1JZHM6IENsYWltSWRzKSA9PiB2b2lkLFxuICBkb0ZldGNoT2R5c2VlTWVtYmVyc2hpcEZvckNoYW5uZWxJZHM6IChjbGFpbUlkczogQ2xhaW1JZHMpID0+IHZvaWQsXG4gIGRvSHlwZXJDaGF0TGlzdDogKHVyaTogc3RyaW5nLCBpc19wcm90ZWN0ZWQ6IGJvb2xlYW4pID0+IHZvaWQsXG4gIGRvUmVzb2x2ZVVyaXM6ICh1cmlzOiBBcnJheTxzdHJpbmc+LCBjYWNoZTogYm9vbGVhbikgPT4gdm9pZCxcbiAgcGlubmVkQ29tbWVudHM6IEFycmF5PENvbW1lbnQ+LFxuICBzZXRMYXlvdW50UmVuZGVyZWQ6IChib29sZWFuKSA9PiB2b2lkLFxuICBzdXBlckNoYXRzOiBBcnJheTxDb21tZW50PixcbiAgY2hhdENvbW1lbnRzUmVzdHJpY3RlZFRvQ2hhbm5lbE1lbWJlcnM6IGJvb2xlYW4sXG4gIGFjdGl2ZUNoYW5uZWxJZDogc3RyaW5nLFxuICBhY3RpdmVDaGFubmVsQ2xhaW06IENoYW5uZWxDbGFpbSxcbiAgc2V0dGluZ3NCeUNoYW5uZWxJZDogeyBbc3RyaW5nXTogUGVyQ2hhbm5lbFNldHRpbmdzIH0sIC8vIENoYW5uZWxJRCAtPiBzZXR0aW5nc1xuICB1bmF1dGhvcml6ZWRGb3JDb250ZW50OiBhbnksXG4gIHNldExpdmVzdHJlYW1DaGF0TWVtYmVyc09ubHlDcmVhdG9yU2V0dGluZzogYW55LFxuICBkb1VwZGF0ZUNyZWF0b3JTZXR0aW5nczogKENoYW5uZWxDbGFpbSwgUGVyQ2hhbm5lbFNldHRpbmdzKSA9PiB2b2lkLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2hhdExheW91dChwcm9wczogUHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGFjdGl2ZUNoYW5uZWxJZCxcbiAgICBjaGFubmVsSWQsXG4gICAgY2hhdENvbW1lbnRzUmVzdHJpY3RlZFRvQ2hhbm5lbE1lbWJlcnMsXG4gICAgY2xhaW1JZCxcbiAgICBjbGFpbUlzTWluZSxcbiAgICBjb21tZW50czogY29tbWVudHNCeUNocm9ub2xvZ2ljYWxPcmRlcixcbiAgICBjdXN0b21WaWV3TW9kZSxcbiAgICBkb0NvbW1lbnRMaXN0LFxuICAgIGRvRmV0Y2hDaGFubmVsTWVtYmVyc2hpcHNGb3JDaGFubmVsSWRzLFxuICAgIGRvRmV0Y2hPZHlzZWVNZW1iZXJzaGlwRm9yQ2hhbm5lbElkcyxcbiAgICBkb0h5cGVyQ2hhdExpc3QsXG4gICAgZG9SZXNvbHZlVXJpcyxcbiAgICBlbWJlZCxcbiAgICBoaWRlSGVhZGVyLFxuICAgIGh5cGVyY2hhdHNIaWRkZW4sXG4gICAgaXNQb3BvdXRXaW5kb3csXG4gICAgcGlubmVkQ29tbWVudHMsXG4gICAgc2V0Q3VzdG9tVmlld01vZGUsXG4gICAgc2V0TGF5b3VudFJlbmRlcmVkLFxuICAgIHN1cGVyQ2hhdHM6IGh5cGVyQ2hhdHNCeUFtb3VudCxcbiAgICB1cmksXG4gICAgYWN0aXZlQ2hhbm5lbENsYWltLFxuICAgIHNldExpdmVzdHJlYW1DaGF0TWVtYmVyc09ubHlDcmVhdG9yU2V0dGluZyxcbiAgICB1bmF1dGhvcml6ZWRGb3JDb250ZW50LFxuICAgIHNldHRpbmdzQnlDaGFubmVsSWQsXG4gIH0gPSBwcm9wcztcblxuICBjb25zdCBpc01vYmlsZSA9IHVzZUlzTW9iaWxlKCkgJiYgIWlzUG9wb3V0V2luZG93O1xuICBjb25zdCBpc0xpbWl0ZWRQb3BvdXQgPSB1c2VJc01vYmlsZSgpICYmIGlzUG9wb3V0V2luZG93O1xuXG4gIGNvbnN0IHdlYkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGl2ZXN0cmVhbV9fY29tbWVudHMnKTtcbiAgY29uc3QgbW9iaWxlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5saXZlc3RyZWFtX19jb21tZW50cy0tbW9iaWxlJyk7XG4gIGNvbnN0IGRpc2N1c3Npb25FbGVtZW50ID0gaXNNb2JpbGUgPyBtb2JpbGVFbGVtZW50IDogd2ViRWxlbWVudDtcbiAgY29uc3QgYWxsQ29tbWVudHNFbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxpdmVzdHJlYW1fX2NvbW1lbnQnKTtcbiAgY29uc3QgbGFzdENvbW1lbnRFbGVtID0gYWxsQ29tbWVudHNFbGVtICYmIGFsbENvbW1lbnRzRWxlbVthbGxDb21tZW50c0VsZW0ubGVuZ3RoIC0gMV07XG5cbiAgY29uc3QgW3ZpZXdNb2RlLCBzZXRWaWV3TW9kZV0gPSBSZWFjdC51c2VTdGF0ZShWSUVXX01PREVTLkNIQVQpO1xuICBjb25zdCBbc2Nyb2xsUG9zLCBzZXRTY3JvbGxQb3NdID0gUmVhY3QudXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtzaG93UGlubmVkLCBzZXRTaG93UGlubmVkXSA9IFJlYWN0LnVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbcmVzb2x2aW5nU3VwZXJDaGF0cywgc2V0UmVzb2x2aW5nU3VwZXJDaGF0c10gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtvcGVuZWRQb3BvdXRXaW5kb3csIHNldFBvcG91dFdpbmRvd10gPSBSZWFjdC51c2VTdGF0ZSh1bmRlZmluZWQpO1xuICBjb25zdCBbY2hhdEhpZGRlbiwgc2V0Q2hhdEhpZGRlbl0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtkaWRJbml0aWFsU2Nyb2xsLCBzZXREaWRJbml0aWFsU2Nyb2xsXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW21pblNjcm9sbEhlaWdodCwgc2V0TWluU2Nyb2xsSGVpZ2h0XSA9IFJlYWN0LnVzZVN0YXRlKDApO1xuICBjb25zdCBba2V5Ym9hcmRPcGVuZWQsIHNldEtleWJvYXJkT3BlbmVkXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3N1cGVyY2hhdHNBbW91bnQsIHNldFN1cGVyY2hhdHNBbW91bnRdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY2hhdEVsZW1lbnQsIHNldENoYXRFbGVtZW50XSA9IFJlYWN0LnVzZVN0YXRlKCk7XG4gIGNvbnN0IFt0ZXh0SW5qZWN0aW9uLCBzZXRUZXh0SW5qZWN0aW9uXSA9IFJlYWN0LnVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2hpZGVIeXBlcmNoYXRzLCBzZXRoaWRlSHlwZXJjaGF0c10gPSBSZWFjdC51c2VTdGF0ZShoeXBlcmNoYXRzSGlkZGVuKTtcbiAgY29uc3QgW2lzQ29tcGFjdCwgc2V0SXNDb21wYWN0XSA9IHVzZVBlcnNpc3RlZFN0YXRlKCdpc0NvbXBhY3QnLCBmYWxzZSk7XG5cbiAgbGV0IHN1cGVyQ2hhdHNCeUNocm9ub2xvZ2ljYWxPcmRlciA9IFtdO1xuICBpZiAoaHlwZXJDaGF0c0J5QW1vdW50KSBoeXBlckNoYXRzQnlBbW91bnQuZm9yRWFjaCgoY2hhdCkgPT4gc3VwZXJDaGF0c0J5Q2hyb25vbG9naWNhbE9yZGVyLnB1c2goY2hhdCkpO1xuICBpZiAoc3VwZXJDaGF0c0J5Q2hyb25vbG9naWNhbE9yZGVyLmxlbmd0aCA+IDApIHtcbiAgICBzdXBlckNoYXRzQnlDaHJvbm9sb2dpY2FsT3JkZXIuc29ydCgoYSwgYikgPT4gYi50aW1lc3RhbXAgLSBhLnRpbWVzdGFtcCk7XG4gIH1cblxuICAvLyBnZXQgY29tbWVudGVyIGNsYWltIGlkcyBmb3IgY2hlY2tpbmcgcHJlbWl1bSBzdGF0dXNcbiAgY29uc3QgY29tbWVudGVyQ2xhaW1JZHMgPVxuICAgIGNvbW1lbnRzQnlDaHJvbm9sb2dpY2FsT3JkZXIgJiYgY29tbWVudHNCeUNocm9ub2xvZ2ljYWxPcmRlci5tYXAoKHsgY2hhbm5lbF9pZCB9KSA9PiBjaGFubmVsX2lkKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjb21tZW50ZXJDbGFpbUlkcz8ubGVuZ3RoID4gMCAmJiBjaGFubmVsSWQpIHtcbiAgICAgIGRvRmV0Y2hPZHlzZWVNZW1iZXJzaGlwRm9yQ2hhbm5lbElkcyhjb21tZW50ZXJDbGFpbUlkcyk7XG4gICAgICBkb0ZldGNoQ2hhbm5lbE1lbWJlcnNoaXBzRm9yQ2hhbm5lbElkcyhjaGFubmVsSWQsIGNvbW1lbnRlckNsYWltSWRzKTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbXG4gICAgY2hhbm5lbElkLFxuICAgIGNvbW1lbnRlckNsYWltSWRzLmxlbmd0aCxcbiAgICBkb0ZldGNoQ2hhbm5lbE1lbWJlcnNoaXBzRm9yQ2hhbm5lbElkcyxcbiAgICBkb0ZldGNoT2R5c2VlTWVtYmVyc2hpcEZvckNoYW5uZWxJZHMsXG4gIF0pO1xuXG4gIGNvbnN0IGNvbW1lbnRzVG9EaXNwbGF5ID1cbiAgICB2aWV3TW9kZSA9PT0gVklFV19NT0RFUy5DSEFUID8gY29tbWVudHNCeUNocm9ub2xvZ2ljYWxPcmRlciA6IHN1cGVyQ2hhdHNCeUNocm9ub2xvZ2ljYWxPcmRlcjtcbiAgY29uc3QgY29tbWVudHNMZW5ndGggPSBjb21tZW50c1RvRGlzcGxheSAmJiBjb21tZW50c1RvRGlzcGxheS5sZW5ndGg7XG4gIGNvbnN0IHBpbm5lZENvbW1lbnQgPSBwaW5uZWRDb21tZW50cy5sZW5ndGggPiAwID8gcGlubmVkQ29tbWVudHNbMF0gOiBudWxsO1xuICBjb25zdCB7IHN1cGVyQ2hhdHNDaGFubmVsVXJscywgc3VwZXJDaGF0c0ZpYXRBbW91bnQsIHN1cGVyQ2hhdHNMQkNBbW91bnQgfSA9IGdldFRpcFZhbHVlcyhcbiAgICBzdXBlckNoYXRzQnlDaHJvbm9sb2dpY2FsT3JkZXJcbiAgKTtcbiAgY29uc3Qgc2Nyb2xsZWRQYXN0UmVjZW50ID0gQm9vbGVhbihcbiAgICAodmlld01vZGUgIT09IFZJRVdfTU9ERVMuU1VQRVJDSEFUIHx8ICFyZXNvbHZpbmdTdXBlckNoYXRzKSAmJlxuICAgICAgKCFpc01vYmlsZSA/IHNjcm9sbFBvcyA8IDAgOiBzY3JvbGxQb3MgPCBtaW5TY3JvbGxIZWlnaHQpXG4gICk7XG5cbiAgY29uc3QgcmVzdG9yZVNjcm9sbFBvcyA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoZGlzY3Vzc2lvbkVsZW1lbnQpIHtcbiAgICAgIGRpc2N1c3Npb25FbGVtZW50LnNjcm9sbFRvcCA9ICFpc01vYmlsZSA/IDAgOiBkaXNjdXNzaW9uRWxlbWVudC5zY3JvbGxIZWlnaHQ7XG5cbiAgICAgIGlmIChpc01vYmlsZSkge1xuICAgICAgICBjb25zdCBwb3MgPSBsYXN0Q29tbWVudEVsZW0gJiYgZGlzY3Vzc2lvbkVsZW1lbnQuc2Nyb2xsVG9wIC0gbGFzdENvbW1lbnRFbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcblxuICAgICAgICBpZiAoIW1pblNjcm9sbEhlaWdodCB8fCBtaW5TY3JvbGxIZWlnaHQgIT09IHBvcykge1xuICAgICAgICAgIHNldE1pblNjcm9sbEhlaWdodChwb3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCBbZGlzY3Vzc2lvbkVsZW1lbnQsIGlzTW9iaWxlLCBsYXN0Q29tbWVudEVsZW0sIG1pblNjcm9sbEhlaWdodF0pO1xuXG4gIGZ1bmN0aW9uIHRvZ2dsZUNsaWNrKHRvZ2dsZU1vZGU6IHN0cmluZykge1xuICAgIGlmICh0b2dnbGVNb2RlID09PSBWSUVXX01PREVTLlNVUEVSQ0hBVCkge1xuICAgICAgdG9nZ2xlSHlwZXJDaGF0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFZpZXdNb2RlKFZJRVdfTU9ERVMuQ0hBVCk7XG4gICAgICBpZiAoc2V0Q3VzdG9tVmlld01vZGUpIHNldEN1c3RvbVZpZXdNb2RlKFZJRVdfTU9ERVMuQ0hBVCk7XG4gICAgfVxuXG4gICAgaWYgKGRpc2N1c3Npb25FbGVtZW50KSB7XG4gICAgICBkaXNjdXNzaW9uRWxlbWVudC5zY3JvbGxUb3AgPSAwO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRvZ2dsZUh5cGVyQ2hhdCgpIHtcbiAgICBjb25zdCBoYXNOZXdTdXBlcmNoYXRzID0gIXN1cGVyY2hhdHNBbW91bnQgfHwgc3VwZXJDaGF0c0NoYW5uZWxVcmxzLmxlbmd0aCAhPT0gc3VwZXJjaGF0c0Ftb3VudDtcblxuICAgIGlmIChzdXBlckNoYXRzQ2hhbm5lbFVybHMgJiYgaGFzTmV3U3VwZXJjaGF0cykge1xuICAgICAgc2V0U3VwZXJjaGF0c0Ftb3VudChzdXBlckNoYXRzQ2hhbm5lbFVybHMubGVuZ3RoKTtcbiAgICAgIGRvUmVzb2x2ZVVyaXMoc3VwZXJDaGF0c0NoYW5uZWxVcmxzLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgc2V0Vmlld01vZGUoVklFV19NT0RFUy5TVVBFUkNIQVQpO1xuICAgIGlmIChzZXRDdXN0b21WaWV3TW9kZSkgc2V0Q3VzdG9tVmlld01vZGUoVklFV19NT0RFUy5TVVBFUkNIQVQpO1xuICB9XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc2V0TGF5b3VudFJlbmRlcmVkKSBzZXRMYXlvdW50UmVuZGVyZWQodHJ1ZSk7XG4gIH0sIFtzZXRMYXlvdW50UmVuZGVyZWRdKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjdXN0b21WaWV3TW9kZSAmJiBjdXN0b21WaWV3TW9kZSAhPT0gdmlld01vZGUpIHtcbiAgICAgIHNldFZpZXdNb2RlKGN1c3RvbVZpZXdNb2RlKTtcbiAgICB9XG4gIH0sIFtjdXN0b21WaWV3TW9kZSwgdmlld01vZGVdKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjbGFpbUlkKSB7XG4gICAgICBkb0NvbW1lbnRMaXN0KFxuICAgICAgICB1cmksXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgMSxcbiAgICAgICAgNzUsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgLy8gcHJvdGVjdGVkIGNvbW1lbnRzIHBhcmFtc1xuICAgICAgICBjaGF0Q29tbWVudHNSZXN0cmljdGVkVG9DaGFubmVsTWVtYmVycyxcbiAgICAgICAgYWN0aXZlQ2hhbm5lbElkXG4gICAgICApO1xuICAgICAgZG9IeXBlckNoYXRMaXN0KHVyaSwgY2hhdENvbW1lbnRzUmVzdHJpY3RlZFRvQ2hhbm5lbE1lbWJlcnMpO1xuICAgIH1cbiAgfSwgW2NsYWltSWQsIHVyaSwgZG9Db21tZW50TGlzdCwgZG9IeXBlckNoYXRMaXN0XSk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNNb2JpbGUgJiYgIWRpZEluaXRpYWxTY3JvbGwpIHtcbiAgICAgIHJlc3RvcmVTY3JvbGxQb3MoKTtcbiAgICAgIHNldERpZEluaXRpYWxTY3JvbGwodHJ1ZSk7XG4gICAgfVxuICB9LCBbZGlkSW5pdGlhbFNjcm9sbCwgaXNNb2JpbGUsIHJlc3RvcmVTY3JvbGxQb3MsIHZpZXdNb2RlXSk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZGlzY3Vzc2lvbkVsZW1lbnQgJiYgIW9wZW5lZFBvcG91dFdpbmRvdykgc2V0Q2hhdEVsZW1lbnQoZGlzY3Vzc2lvbkVsZW1lbnQpO1xuICB9LCBbZGlzY3Vzc2lvbkVsZW1lbnQsIG9wZW5lZFBvcG91dFdpbmRvd10pO1xuXG4gIC8vIFJlZ2lzdGVyIHNjcm9sbCBoYW5kbGVyIChUT0RPOiBTaG91bGQgdGhyb3R0bGUvZGVib3VuY2UpXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZnVuY3Rpb24gaGFuZGxlU2Nyb2xsKCkge1xuICAgICAgaWYgKGNoYXRFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHNjcm9sbFRvcCA9IGNoYXRFbGVtZW50LnNjcm9sbFRvcDtcblxuICAgICAgICBpZiAoc2Nyb2xsVG9wICE9PSBzY3JvbGxQb3MpIHtcbiAgICAgICAgICBzZXRTY3JvbGxQb3Moc2Nyb2xsVG9wKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjaGF0RWxlbWVudCkge1xuICAgICAgY2hhdEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlU2Nyb2xsKTtcblxuICAgICAgcmV0dXJuICgpID0+IGNoYXRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbCk7XG4gICAgfVxuICB9LCBbY2hhdEVsZW1lbnQsIHNjcm9sbFBvc10pO1xuXG4gIC8vIFJldGFpbiBzY3JvbGxQb3M9MCB3aGVuIHJlY2VpdmluZyBuZXcgbWVzc2FnZXMuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGRpc2N1c3Npb25FbGVtZW50ICYmIGNvbW1lbnRzTGVuZ3RoID4gMCkge1xuICAgICAgLy8gT25seSB1cGRhdGUgY29tbWVudCBzY3JvbGwgaWYgdGhlIHVzZXIgaGFzbid0IHNjcm9sbGVkIHVwIHRvIHZpZXcgb2xkIGNvbW1lbnRzXG4gICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICBpZiAoc2Nyb2xsUG9zICYmICghaXNNb2JpbGUgfHwgbWluU2Nyb2xsSGVpZ2h0KSAmJiBzY3JvbGxQb3MgPj0gbWluU2Nyb2xsSGVpZ2h0KSB7XG4gICAgICAgIC8vICt2ZSBzY3JvbGxQb3M6IG5vdCBzY3JvbGxlZCAoVXN1YWxseSwgdGhlcmUnbGwgYmUgYSBmZXcgcGl4ZWxzIGJleW9uZCAwKS5cbiAgICAgICAgLy8gLXZlIHNjcm9sbFBvczogdXNlciBzY3JvbGxlZC5cbiAgICAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAvLyBVc2UgYSB0aW1lciBoZXJlIHRvIGVuc3VyZSB3ZSByZXNldCBhZnRlciB0aGUgbmV3IGNvbW1lbnQgaGFzIGJlZW4gcmVuZGVyZWQuXG4gICAgICAgICAgaWYgKCFpc01vYmlsZSkge1xuICAgICAgICAgICAgZGlzY3Vzc2lvbkVsZW1lbnQuc2Nyb2xsVG9wID0gMDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdG9yZVNjcm9sbFBvcygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgQ09NTUVOVF9TQ1JPTExfVElNRU9VVCk7XG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzIC0tIEp1c3QgcmVzcG9uZCB0byAnY29tbWVudHNMZW5ndGgnIGFuZCBub3RoaW5nIGVsc2VcbiAgfSwgW2NvbW1lbnRzTGVuZ3RoXSk7XG5cbiAgLy8gUmVzdG9yZSBTY3JvbGwgUG9zIGFmdGVyIG1vYmlsZSBpbnB1dCBvcGVucyBrZXlib2FyZCBhbmQgYXZvaWQgc2Nyb2xsIGhlaWdodCBjb25mbGljdHNcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoa2V5Ym9hcmRPcGVuZWQpIHtcbiAgICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHJlc3RvcmVTY3JvbGxQb3MoKTtcbiAgICAgICAgc2V0S2V5Ym9hcmRPcGVuZWQoZmFsc2UpO1xuICAgICAgfSwgMzAwKTtcblxuICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgfVxuICB9LCBba2V5Ym9hcmRPcGVuZWQsIHJlc3RvcmVTY3JvbGxQb3NdKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0ZXh0SW5qZWN0aW9uICYmIHRleHRJbmplY3Rpb24ubGVuZ3RoKSBzZXRUZXh0SW5qZWN0aW9uKCcnKTtcbiAgfSwgW3RleHRJbmplY3Rpb25dKTtcblxuICBpZiAoIWNsYWltSWQpIHJldHVybiBudWxsO1xuXG4gIGlmICh1bmF1dGhvcml6ZWRGb3JDb250ZW50ICYmICFjbGFpbUlzTWluZSkgcmV0dXJuIDw+PC8+O1xuXG4gIGlmIChvcGVuZWRQb3BvdXRXaW5kb3cgfHwgY2hhdEhpZGRlbikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQgbGl2ZXN0cmVhbV9fY2hhdFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmRfX2hlYWRlci0tYmV0d2VlbiBsaXZlc3RyZWFtRGlzY3Vzc2lvbl9faGVhZGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkX190aXRsZS1zZWN0aW9uLS1zbWFsbCBsaXZlc3RyZWFtRGlzY3Vzc2lvbl9fdGl0bGVcIj57X18oJ0xpdmVzdHJlYW0gQ2hhdCcpfTwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpdmVzdHJlYW1Db21tZW50c19fd3JhcHBlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFpbi0tZW1wdHlcIj5cbiAgICAgICAgICAgIDxZcmJsXG4gICAgICAgICAgICAgIHRpdGxlPXtfXygnQ2hhdCBIaWRkZW4nKX1cbiAgICAgICAgICAgICAgYWN0aW9ucz17XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uX19hY3Rpb25zXCI+XG4gICAgICAgICAgICAgICAgICB7b3BlbmVkUG9wb3V0V2luZG93ICYmIChcbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbj1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e19fKCdDbG9zZSBQb3BvdXQnKX1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuZWRQb3BvdXRXaW5kb3cuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFBvcG91dFdpbmRvdyh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICB7Y2hhdEhpZGRlbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b24gYnV0dG9uPVwic2Vjb25kYXJ5XCIgbGFiZWw9e19fKCdTaG93IENoYXQnKX0gb25DbGljaz17KCkgPT4gc2V0Q2hhdEhpZGRlbihmYWxzZSl9IC8+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaXZlc3RyZWFtX19jb21tZW50LWNyZWF0ZVwiPlxuICAgICAgICAgICAgPENvbW1lbnRDcmVhdGUgaXNMaXZlc3RyZWFtIGJvdHRvbSB1cmk9e3VyaX0gZGlzYWJsZUlucHV0IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IHRvZ2dsZVByb3BzID0geyB2aWV3TW9kZSwgb25DbGljazogKHRvZ2dsZU1vZGUpID0+IHRvZ2dsZUNsaWNrKHRvZ2dsZU1vZGUpIH07XG5cbiAgZnVuY3Rpb24gaGFuZGxlQ29tbWVudENsaWNrKGF1dGhvclRpdGxlKSB7XG4gICAgc2V0VGV4dEluamVjdGlvbihhdXRob3JUaXRsZSk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc25hbWVzKCdjYXJkIGxpdmVzdHJlYW1fX2NoYXQnLCB7ICdsaXZlc3RyZWFtX19jaGF0LS1wb3BvdXQnOiBpc1BvcG91dFdpbmRvdyB9KX0+XG4gICAgICB7IWhpZGVIZWFkZXIgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmRfX2hlYWRlci0tYmV0d2VlbiBsaXZlc3RyZWFtRGlzY3Vzc2lvbl9faGVhZGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWNvbW1lbmRlZC1jb250ZW50X190b2dnbGVzXCI+XG4gICAgICAgICAgICB7LyogdGhlIHN1cGVyY2hhdHMgaW4gY2hyb25vbG9naWNhbCBvcmRlciBidXR0b24gKi99XG4gICAgICAgICAgICA8Q2hhdENvbnRlbnRUb2dnbGVcbiAgICAgICAgICAgICAgey4uLnRvZ2dsZVByb3BzfVxuICAgICAgICAgICAgICB0b2dnbGVNb2RlPXtWSUVXX01PREVTLkNIQVR9XG4gICAgICAgICAgICAgIGxhYmVsPXshaXNMaW1pdGVkUG9wb3V0ID8gX18oJ0xpdmVzdHJlYW0gQ2hhdCcpIDogX18oJ0NoYXQnKX1cbiAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgIHsvKiB0aGUgYnV0dG9uIHRvIHNob3cgc3VwZXJjaGF0cyBsaXN0ZWQgYnkgbW9zdCB0byBsZWFzdCBzdXBwb3J0IGFtb3VudCAqL31cbiAgICAgICAgICAgIHtoeXBlckNoYXRzQnlBbW91bnQgJiYgKFxuICAgICAgICAgICAgICA8Q2hhdENvbnRlbnRUb2dnbGVcbiAgICAgICAgICAgICAgICB7Li4udG9nZ2xlUHJvcHN9XG4gICAgICAgICAgICAgICAgdG9nZ2xlTW9kZT17VklFV19NT0RFUy5TVVBFUkNIQVR9XG4gICAgICAgICAgICAgICAgbGFiZWw9e1xuICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgPENyZWRpdEFtb3VudCBhbW91bnQ9e3N1cGVyQ2hhdHNMQkNBbW91bnQgfHwgMH0gc2l6ZT17OH0gLz4gLyZuYnNwO1xuICAgICAgICAgICAgICAgICAgICA8Q3JlZGl0QW1vdW50IGFtb3VudD17c3VwZXJDaGF0c0ZpYXRBbW91bnQgfHwgMH0gc2l6ZT17OH0gaXNGaWF0IC8+IHtfXygnVGlwcGVkJyl9XG4gICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPExpdmVzdHJlYW1NZW51XG4gICAgICAgICAgICBpc1BvcG91dFdpbmRvdz17aXNQb3BvdXRXaW5kb3d9XG4gICAgICAgICAgICBoaWRlQ2hhdD17KCkgPT4gc2V0Q2hhdEhpZGRlbih0cnVlKX1cbiAgICAgICAgICAgIHNldFBvcG91dFdpbmRvdz17KHYpID0+IHNldFBvcG91dFdpbmRvdyh2KX1cbiAgICAgICAgICAgIGlzTW9iaWxlPXtpc01vYmlsZX1cbiAgICAgICAgICAgIHRvZ2dsZUh5cGVyY2hhdHM9eygpID0+IHNldGhpZGVIeXBlcmNoYXRzKCFoaWRlSHlwZXJjaGF0cyl9XG4gICAgICAgICAgICB0b2dnbGVJc0NvbXBhY3Q9eygpID0+IHNldElzQ29tcGFjdCghaXNDb21wYWN0KX1cbiAgICAgICAgICAgIGlzQ29tcGFjdD17aXNDb21wYWN0fVxuICAgICAgICAgICAgaHlwZXJjaGF0c0hpZGRlbj17aGlkZUh5cGVyY2hhdHN9XG4gICAgICAgICAgICBub0h5cGVyY2hhdHM9eyFoeXBlckNoYXRzQnlBbW91bnR9XG4gICAgICAgICAgICBhY3RpdmVDaGFubmVsQ2xhaW09e2FjdGl2ZUNoYW5uZWxDbGFpbX1cbiAgICAgICAgICAgIGFjdGl2ZUNsYWltSWQ9e2NsYWltSWR9XG4gICAgICAgICAgICBzZXRMaXZlc3RyZWFtQ2hhdE1lbWJlcnNPbmx5Q3JlYXRvclNldHRpbmc9e3NldExpdmVzdHJlYW1DaGF0TWVtYmVyc09ubHlDcmVhdG9yU2V0dGluZ31cbiAgICAgICAgICAgIGNsYWltSXNNaW5lPXtjbGFpbUlzTWluZX1cbiAgICAgICAgICAgIHNldHRpbmdzQnlDaGFubmVsSWQ9e3NldHRpbmdzQnlDaGFubmVsSWR9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpdmVzdHJlYW1Db21tZW50c19fd3JhcHBlclwiPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc25hbWVzKCdsaXZlc3RyZWFtLWNvbW1lbnRzX190b3AtYWN0aW9ucycsIHtcbiAgICAgICAgICAgICdsaXZlc3RyZWFtLWNvbW1lbnRzX190b3AtYWN0aW9ucy0tbW9iaWxlJzogaXNNb2JpbGUsXG4gICAgICAgICAgfSl9XG4gICAgICAgID5cbiAgICAgICAgICB7aXNNb2JpbGUgJiYgKChwaW5uZWRDb21tZW50ICYmIHNob3dQaW5uZWQpIHx8IChoeXBlckNoYXRzQnlBbW91bnQgJiYgIWh5cGVyY2hhdHNIaWRkZW4pKSAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpdmVzdHJlYW1fX3RvcC1ncmFkaWVudFwiIC8+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHt2aWV3TW9kZSA9PT0gVklFV19NT0RFUy5DSEFUICYmIGh5cGVyQ2hhdHNCeUFtb3VudCAmJiAoXG4gICAgICAgICAgICA8TGl2ZXN0cmVhbUh5cGVyY2hhdHNcbiAgICAgICAgICAgICAgc3VwZXJDaGF0cz17aHlwZXJDaGF0c0J5QW1vdW50fVxuICAgICAgICAgICAgICB0b2dnbGVIeXBlckNoYXQ9e3RvZ2dsZUh5cGVyQ2hhdH1cbiAgICAgICAgICAgICAgaHlwZXJjaGF0c0hpZGRlbj17aHlwZXJjaGF0c0hpZGRlbiB8fCBoaWRlSHlwZXJjaGF0c31cbiAgICAgICAgICAgICAgaXNNb2JpbGU9e2lzTW9iaWxlfVxuICAgICAgICAgICAgICBub0h5cGVyY2hhdHM9e2ZhbHNlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAge3Bpbm5lZENvbW1lbnQgJiZcbiAgICAgICAgICAgIHZpZXdNb2RlID09PSBWSUVXX01PREVTLkNIQVQgJiZcbiAgICAgICAgICAgIChpc01vYmlsZSA/IChcbiAgICAgICAgICAgICAgPFNsaWRlIGRpcmVjdGlvbj1cImxlZnRcIiBpbj17c2hvd1Bpbm5lZH0gbW91bnRPbkVudGVyIHVubW91bnRPbkV4aXQ+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaXZlc3RyZWFtLXBpbm5lZF9fd3JhcHBlci0tbW9iaWxlXCI+XG4gICAgICAgICAgICAgICAgICA8Q2hhdENvbW1lbnRcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudD17cGlubmVkQ29tbWVudH1cbiAgICAgICAgICAgICAgICAgICAga2V5PXtwaW5uZWRDb21tZW50LmNvbW1lbnRfaWR9XG4gICAgICAgICAgICAgICAgICAgIHVyaT17dXJpfVxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVEaXNtaXNzUGluPXsoKSA9PiBzZXRTaG93UGlubmVkKGZhbHNlKX1cbiAgICAgICAgICAgICAgICAgICAgaXNNb2JpbGVcbiAgICAgICAgICAgICAgICAgICAgc2V0UmVzb2x2aW5nU3VwZXJDaGF0cz17c2V0UmVzb2x2aW5nU3VwZXJDaGF0c31cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvU2xpZGU+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICBzaG93UGlubmVkICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpdmVzdHJlYW0tcGlubmVkX193cmFwcGVyXCI+XG4gICAgICAgICAgICAgICAgICA8Q2hhdENvbW1lbnQgY29tbWVudD17cGlubmVkQ29tbWVudH0ga2V5PXtwaW5uZWRDb21tZW50LmNvbW1lbnRfaWR9IHVyaT17dXJpfSAvPlxuXG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPXtfXygnRGlzbWlzcyBwaW5uZWQgY29tbWVudCcpfVxuICAgICAgICAgICAgICAgICAgICBidXR0b249XCJpbnZlcnNlXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2UtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd1Bpbm5lZChmYWxzZSl9XG4gICAgICAgICAgICAgICAgICAgIGljb249e0lDT05TLlJFTU9WRX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8Q2hhdENvbW1lbnRzXG4gICAgICAgICAgdXJpPXt1cml9XG4gICAgICAgICAgdmlld01vZGU9e3ZpZXdNb2RlfVxuICAgICAgICAgIGNvbW1lbnRzPXtjb21tZW50c1RvRGlzcGxheX1cbiAgICAgICAgICBpc01vYmlsZT17aXNNb2JpbGV9XG4gICAgICAgICAgcmVzdG9yZVNjcm9sbFBvcz17IXNjcm9sbGVkUGFzdFJlY2VudCAmJiBpc01vYmlsZSAmJiByZXN0b3JlU2Nyb2xsUG9zfVxuICAgICAgICAgIGhhbmRsZUNvbW1lbnRDbGljaz17aGFuZGxlQ29tbWVudENsaWNrfVxuICAgICAgICAgIGlzQ29tcGFjdD17aXNDb21wYWN0fVxuICAgICAgICAvPlxuXG4gICAgICAgIHtzY3JvbGxlZFBhc3RSZWNlbnQgJiYgKFxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGJ1dHRvbj1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJsaXZlc3RyZWFtLWNvbW1lbnRzX19zY3JvbGwtdG8tcmVjZW50XCJcbiAgICAgICAgICAgIGxhYmVsPXt2aWV3TW9kZSA9PT0gVklFV19NT0RFUy5DSEFUID8gX18oJ1JlY2VudCBDb21tZW50cycpIDogX18oJ1JlY2VudCBUaXBzJyl9XG4gICAgICAgICAgICBvbkNsaWNrPXtyZXN0b3JlU2Nyb2xsUG9zfVxuICAgICAgICAgICAgaWNvblJpZ2h0PXtJQ09OUy5ET1dOfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaXZlc3RyZWFtX19jb21tZW50LWNyZWF0ZVwiPlxuICAgICAgICAgIDxDb21tZW50Q3JlYXRlXG4gICAgICAgICAgICBpc0xpdmVzdHJlYW1cbiAgICAgICAgICAgIGJvdHRvbVxuICAgICAgICAgICAgZW1iZWQ9e2VtYmVkfVxuICAgICAgICAgICAgdXJpPXt1cml9XG4gICAgICAgICAgICBvbkRvbmVSZXBseWluZz17cmVzdG9yZVNjcm9sbFBvc31cbiAgICAgICAgICAgIG9uU2xpbUlucHV0Q2xvc2U9eyFzY3JvbGxlZFBhc3RSZWNlbnQgJiYgaXNNb2JpbGUgPyAoKSA9PiBzZXRLZXlib2FyZE9wZW5lZCh0cnVlKSA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgIHRleHRJbmplY3Rpb249e3RleHRJbmplY3Rpb259XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxudHlwZSBUb2dnbGVQcm9wcyA9IHtcbiAgdmlld01vZGU6IHN0cmluZyxcbiAgdG9nZ2xlTW9kZTogc3RyaW5nLFxuICBsYWJlbDogc3RyaW5nIHwgYW55LFxuICBvbkNsaWNrOiAoc3RyaW5nKSA9PiB2b2lkLFxufTtcblxuY29uc3QgQ2hhdENvbnRlbnRUb2dnbGUgPSAocHJvcHM6IFRvZ2dsZVByb3BzKSA9PiB7XG4gIGNvbnN0IHsgdmlld01vZGUsIHRvZ2dsZU1vZGUsIGxhYmVsLCBvbkNsaWNrIH0gPSBwcm9wcztcblxuICByZXR1cm4gKFxuICAgIDxCdXR0b25cbiAgICAgIGNsYXNzTmFtZT17Y2xhc3NuYW1lcygnYnV0dG9uLXRvZ2dsZScsIHsgJ2J1dHRvbi10b2dnbGUtLWFjdGl2ZSc6IHZpZXdNb2RlID09PSB0b2dnbGVNb2RlIH0pfVxuICAgICAgbGFiZWw9e2xhYmVsfVxuICAgICAgb25DbGljaz17KCkgPT4gb25DbGljayh0b2dnbGVNb2RlKX1cbiAgICAvPlxuICApO1xufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBeUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUE2QkE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXJDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQW9EQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUF4REE7QUFDQTtBQUNBO0FBMERBO0FBQ0E7QUFBQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBREE7QUFhQTtBQUVBO0FBQ0E7QUFDQTtBQWhGQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBa0ZBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFDQTtBQWFBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFDQTtBQUFBO0FBV0E7QUFDQTtBQWRBO0FBaUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU9BO0FBQ0E7QUFEQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQWZBO0FBQ0E7QUFrQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQU5BO0FBUUE7QUFBQTtBQUFBO0FBQ0E7QUFoQkE7QUFDQTtBQURBO0FBQ0E7QUFxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBS0E7QUFBQTtBQUFBO0FBQ0E7QUFSQTtBQVdBO0FBQ0E7QUFEQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFOQTtBQVdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWhCQTtBQXVCQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUhBO0FBVUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBTkE7QUFjQTtBQUNBO0FBQUE7QUFGQTtBQUdBO0FBQUE7QUFIQTtBQUlBO0FBQ0E7QUFBQTtBQUxBO0FBTUE7QUFBQTtBQU5BO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWRBO0FBbUJBO0FBQUE7QUFFQTtBQUNBO0FBREE7QUFEQTtBQU1BO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFZQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFKQTtBQUtBO0FBQ0E7QUFOQTtBQVlBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFKQTtBQUtBO0FBTEE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBU0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQVBBO0FBYUE7QUFDQTtBQVFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBSEE7QUFKQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../ui/component/chat/view.jsx\n");

/***/ })

})