"use strict";(self.webpackChunkodysee_com=self.webpackChunkodysee_com||[]).push([[7882],{41938:(e,t,a)=>{a.d(t,{Z:()=>d});var n=a(88441),r=a(16643),l=a(94720),c=a(50189),o=a(95810),i=a(71036).__;function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,l,c,o=[],i=!0,s=!1;try{if(l=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;i=!1}else for(;!(i=(n=l.call(a)).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{if(!i&&null!=a.return&&(c=a.return(),Object(c)!==c))return}finally{if(s)throw r}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var m="page";const d=(0,r.EN)((function(e){var t=e.totalPages,a=void 0===t?1:t,r=e.shouldResetPageNumber,u=e.location,d=e.history,p=e.onPageChange,f=e.disableHistory,b=u.search,y=s(n.useState(""),2),g=y[0],v=y[1],h=new URLSearchParams(b),E=Number(h.get(m)),_=f?1:E||1,N=s(n.useState(_),2),C=N[0],P=N[1],k=(0,o.dD)();function S(e){if(p&&p(e),C!==e&&(P(e),!f)){var t=new URLSearchParams(b);t.set(m,e.toString()),d.push("?"+t.toString())}}return r&&1!==C&&S(1),n.useEffect((function(){E&&P(E)}),[E,P]),n.createElement(l.l0,{style:a<=1?{display:"none"}:null,onSubmit:function(){var e=Number(g);e&&e>0&&e<=a&&S(e),v("")}},n.createElement("fieldset-group",{class:"fieldset-group--smushed fieldgroup--paginate"},n.createElement("fieldset-section",null,n.createElement(c.Z,{pageCount:a,pageRangeDisplayed:2,previousLabel:"‹",nextLabel:"›",activeClassName:"pagination__item--selected",pageClassName:"pagination__item",previousClassName:"pagination__item pagination__item--previous",nextClassName:"pagination__item pagination__item--next",breakClassName:"pagination__item pagination__item--break",marginPagesDisplayed:2,onPageChange:function(e){return S(e.selected+1)},forcePage:C-1,initialPage:C-1,containerClassName:"pagination"})),!k&&n.createElement(l.Wi,{value:g,onChange:function(e){return v(e.target.value)},className:"paginate-channel",label:i("Go to page:"),type:"text",name:"paginate-file"})))}))},88485:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(88441),r=a(44908);const l=function(e){var t=e.id,a="https://explorer.lbry.com/tx/".concat(t),l=t.substr(0,7);return n.createElement(r.default,{button:"link",href:a,label:l})}},87894:(e,t,a)=>{a.d(t,{Z:()=>p});var n=a(3658),r=a(35101),l=a(77369),c=a(73249),o=a(88441),i=a(44908),s=a(16062),u=a(32158),m=a(74971),d=a(71036).__;const p=(0,n.$j)((function(e){return{balance:(0,r.QM)(e)}}))((function(e){var t=e.includeWalletLink,a=void 0!==t&&t,n=e.type,r=void 0===n?"sad":n;return o.createElement("div",{className:"main--empty"},o.createElement(s.Z,{type:r,title:d("Your wallet is empty"),subtitle:o.createElement("div",null,o.createElement("p",null,o.createElement(u.Z,{tokens:{lbc:o.createElement(m.Z,null)}},"You need %lbc% to create a channel and upload content.")),o.createElement("p",null,o.createElement(u.Z,{tokens:{lbc:o.createElement(m.Z,null)}},"Never fear though, there are tons of ways to earn %lbc%. You can earn or purchase %lbc%, or you can have your friends send you some."))),actions:o.createElement("div",{className:"section__actions"},o.createElement(i.default,{button:"primary",icon:l.REWARDS,label:d("Earn Rewards"),navigate:"/$/".concat(c.REWARDS)}),o.createElement(i.default,{button:"secondary",icon:l.BUY,label:"Buy/Swap Credits",navigate:"/$/".concat(c.BUY)}),a&&o.createElement(i.default,{icon:l.RECEIVE,button:"secondary",label:d("Your Address"),navigate:"/$/".concat(c.RECEIVE)}))}))}))},94089:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Pt});var n=a(3658),r=a(35101),l=a(15927),c=a(88441),o=a(16643),i=a(86102),s=a(36092),u=a(46727),m=a(48767);const d=(0,n.$j)((function(e){return{balance:(0,r.QM)(e),claimsBalance:(0,r.Iw)(e)||0,supportsBalance:(0,r.Kb)(e)||0,tipsBalance:(0,r.KV)(e)||0,rewards:(0,u.gG)(e),hasSynced:Boolean((0,s.IN)(e)),fetchingUtxoCounts:(0,r.Az)(e),consolidatingUtxos:(0,r.gD)(e),massClaimingTips:(0,r.sB)(e),utxoCounts:(0,r.vM)(e),consolidateIsPending:(0,r.Rs)(e),massClaimIsPending:(0,r.Cs)(e)}}),{doOpenModal:l.DG,doFetchUtxoCounts:i.bW,doUtxoConsolidate:i.jn})(m.Z);var p=a(37662),f=a(77369),b="active",y="type",g="subtype",v="page_size",h="page",E="all",_="sent",N="received",C="support",P="channel",k="publish",S="repost",w=[E,_,N,C,P,k,S],T="tip",x="purchase",A="payment",O=[E,T,x,A],L="type",R="is_spent",j="is_not_spent",D="is_my_input",F="is_my_output",I="is_not_my_input",Z="is_not_my_output",M="is_my_input_or_output",B="exclude_internal_transfers",U="other",Y="stream",H=20,K=a(17526),z=a(60732),G=a(74971),W=a(7920),$=a(16395),V=a(88485),q=a(68470),J=a(5272),Q=a(44908),X=a(91983),ee=a(53389),te=a(99477),ae=a(91960),ne=a(71036).__;function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function le(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(r=n.key,l=void 0,l=function(e,t){if("object"!==re(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===re(l)?l:String(l)),n)}var r,l}function ce(e,t){return ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ce(e,t)}function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=se(e);if(t){var r=se(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return function(e,t){if(t&&("object"===re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ie(e)}(this,a)}}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e){return se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},se(e)}const ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ce(e,t)}(l,e);var t,a,n,r=oe(l);function l(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(e=r.call(this)).state={abandonState:te.Rc},ie(e).abandonClaim=e.abandonClaim.bind(ie(e)),ie(e).getLink=e.getLink.bind(ie(e)),e}return t=l,(a=[{key:"getLink",value:function(e,t,a){var n=this.state.abandonState;if("claim"===e&&"repost"!==a)return null;if(this.state.abandonState===te.hA)return c.createElement(z.Z,{type:"small"});if(t&&e===C)return c.createElement(Q.default,{disabled:n===te.jP,button:"secondary",icon:f.UNLOCK,onClick:this.abandonClaim,title:ne("Unlock tip")});var r=e===C?"Abandon Support":"Abandon Claim";return c.createElement(Q.default,{disabled:n===te.jP,button:"secondary",icon:f.DELETE,onClick:this.abandonClaim,title:ne(r)})}},{key:"abandonClaim",value:function(){var e=this;this.props.revokeClaim(this.props.txo,(function(t){return e.setState({abandonState:t})}))}},{key:"render",value:function(){var e,t,a=this.props,n=a.reward,r=a.txo,l=a.isRevokeable,o=a.signingChannel,i=r.amount,s=r.claim_id,u=r.normalized_name,m=r.timestamp,d=r.txid,p=r.type,f=r.value_type,b=r.is_my_input,y=r.is_my_output,g=r.signing_channel&&("74562a01e5836c04040b80bf1f4d685fec02cc90"===r.signing_channel.channel_id||"7d0b0f83a195fd1278e1944ddda4cda8d9c01a56"===r.signing_channel.channel_id),v=u,h=("support"===p||"payment"===p||"other"===p)&&b&&!y,E="support"===p&&(b&&!y||!b&&y),_=new Date(1e3*m);try{v.startsWith("@")?(t=(0,ee.parseURI)(v).claimName,e=(0,ee.buildURI)({channelName:t,channelClaimId:s},!0)):(t=(0,ee.parseURI)(v).claimName,e=(0,ee.buildURI)({streamName:t,streamClaimId:s},!0))}catch(e){}var N=v&&s;return c.createElement("tr",null,c.createElement("td",{className:"table__date"},m?c.createElement("div",null,c.createElement(J.Z,{date:_,type:"date",formatOptions:{month:"short",day:"numeric",year:"numeric"}}),c.createElement("div",{className:"table__item-label"},c.createElement(J.Z,{date:_,type:"time"}))):c.createElement("span",{className:"empty"},ne("Pending"))),c.createElement("td",{className:"table__item--actionable"},c.createElement("span",null,E&&ne("Tip")||"support"===p&&!E&&ne("Support --[noun; transaction type]--")||f&&("stream"===f&&ne("Upload")||ne((0,X.lV)(f)))||p&&ne((0,X.lV)(p)))," ",l&&this.getLink(p,E,f)),c.createElement("td",null,N&&c.createElement(Q.default,{button:"link",navigate:e,label:t,disabled:!_}),!N&&n&&c.createElement("span",null,n.reward_title),g&&c.createElement("div",{className:"table__item-label"},ne("%SITE_NAME% view reward",{SITE_NAME:$.SITE_NAME})),E&&o&&!g&&c.createElement("div",{className:"table__item-label"},c.createElement(ae.Z,{uri:o&&o.permanent_url,link:!0,showAtSign:!0})),E&&!o&&!g&&c.createElement("div",{className:"table__item-label"},"Anonymous")),c.createElement("td",null,c.createElement(V.Z,{id:d})),c.createElement("td",{className:"table__item--align-right"},c.createElement(q.Z,{showPlus:h,amount:Number(h?0-i:i),precision:8,showLBC:!1})))}}])&&le(t.prototype,a),n&&le(t,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(c.PureComponent);const me=(0,n.$j)((function(e,t){var a=t.txo&&t.txo.signing_channel&&t.txo.signing_channel.channel_id;return{signingChannel:(0,W.zj)(a)(e)}}),(function(e){return{openModal:function(t,a){return e((0,l.DG)(t,a))}}}))(ue);var de=a(71036).__;const pe=function(e){var t=e.emptyMessage,a=e.rewards,n=e.loading,r=e.txos,l=["channel","stream","repost","support","claim","collection"];function o(t,a){e.openModal(K.f9,{tx:t,cb:a})}return c.createElement(c.Fragment,null,!n&&!r.length&&c.createElement("h2",{className:"main--empty empty"},t||de("No transactions.")),n&&c.createElement("h2",{className:"main--empty empty"},c.createElement(z.Z,{delayed:!0})),!n&&!!r.length&&c.createElement("div",{className:"table__wrapper"},c.createElement("table",{className:"table table--transactions"},c.createElement("thead",null,c.createElement("tr",null,c.createElement("th",{className:"table-column-lbc-date"},de("Date")),c.createElement("th",{className:"table-column-lbc-type"},c.createElement(c.Fragment,null,de("Type"))),c.createElement("th",null,de("Details")," "),c.createElement("th",{className:"table-column-lbc-transaction"},de("Transaction")),c.createElement("th",{className:"table__item--align-right"},c.createElement(G.Z,{size:18})))),c.createElement("tbody",null,r&&r.map((function(e,t){return c.createElement(me,{key:"".concat(e.txid,":").concat(e.nout,"-").concat(t),txo:e,reward:a&&a[e.txid],isRevokeable:e.is_my_output&&!e.is_spent&&l.includes(e.type),revokeClaim:o})}))))))};const fe=(0,n.$j)((function(e){return{rewards:(0,u.LE)(e),loading:(0,r.JX)(e)}}),(function(e){return{openModal:function(t,a){return e((0,l.DG)(t,a))}}}))(pe);var be=a(41938),ye=a(25172),ge=a(51635),ve=a(66598),he=a.n(ve),Ee=a(53445),_e=a(71036).__;function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function Ce(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(r=n.key,l=void 0,l=function(e,t){if("object"!==Ne(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==Ne(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Ne(l)?l:String(l)),n)}var r,l}function Pe(e,t){return Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pe(e,t)}function ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=we(e);if(t){var r=we(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return function(e,t){if(t&&("object"===Ne(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Se(e)}(this,a)}}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e){return we=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},we(e)}const Te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pe(e,t)}(l,e);var t,a,n,r=ke(l);function l(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),Se(e=r.call(this)).handleDownload=e.handleDownload.bind(Se(e)),e}return t=l,(a=[{key:"handleDownload",value:function(){var e=this.props,t=e.data,a=e.defaultFileName,n=document.createElement("a"),r=new Blob([t],{type:"text/plain"});n.href=URL.createObjectURL(r),n.download=a||"file.txt",document.body.appendChild(n),n.click(),document.body.removeChild(n)}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.label,n=e.tooltip,r=e.disabled,l=e.onFetch,o=e.progressMsg;return l?c.createElement(c.Fragment,null,!o&&c.createElement("div",{className:"button-group"},c.createElement(Q.default,{button:"alt",disabled:r,icon:f.FETCH,label:a,"aria-label":n,onClick:function(){return l()}}),t&&c.createElement(Q.default,{button:"alt",disabled:r,icon:f.DOWNLOAD,"aria-label":_e("Download fetched file"),onClick:this.handleDownload})),o&&c.createElement(c.Fragment,null,o,c.createElement(z.Z,{type:"small"}))):c.createElement(Q.default,{button:"primary",disabled:r,icon:f.DOWNLOAD,label:a||_e("Export"),"aria-label":n,onClick:this.handleDownload})}}])&&Ce(t.prototype,a),n&&Ce(t,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(c.PureComponent);var xe=a(86189),Ae=a(22768),Oe=a.n(Ae),Le=a(90799),Re=a(71036).__;const je=function(e){var t=e.page,a=void 0===t?1:t,n=e.pageSize,r=void 0===n?5:n,l=e.fetchDataOnMount,o=e.paymentHistory,i=e.lastFour,s=e.doCustomerListPaymentHistory,u=e.doGetCustomerStatus,m=e.transactionType,d=o?o.filter((function(e){switch(m){case"tips":return"tip"===e.type;case"rentals-purchases":return"rental"===e.type||"purchase"===e.type;default:return!1}})):[],p=d.slice((a-1)*r,a*r),f=Math.ceil(d.length/r);function b(e){return c.createElement("td",null,e)}return c.useEffect((function(){l&&s()}),[]),c.useEffect((function(){u()}),[u]),c.createElement(c.Fragment,null,c.createElement("div",{className:"section card-stack"},c.createElement("div",{className:"table__wrapper"},c.createElement("table",{className:"table table--transactions"},c.createElement("thead",null,c.createElement("tr",null,c.createElement("th",{className:"date-header"},Re("Date")),c.createElement("th",{className:"channelName-header"},c.createElement(c.Fragment,null,Re("Receiving Channel"))),c.createElement("th",{className:"transactionType-header"},c.createElement(c.Fragment,null,Re("Type"))),c.createElement("th",{className:"location-header"},Re("Location")),c.createElement("th",{className:"amount-header"},Re("Amount")," "),c.createElement("th",{className:"card-header"},Re("Card Last 4")),c.createElement("th",{className:"anonymous-header"},Re("Anonymous")))),c.createElement("tbody",null,p&&p.map((function(e){return c.createElement("tr",{key:e.name+e.created_at},b((t=e,Oe()(t.created_at).format("LLL"))),b(function(e){return c.createElement(Q.default,{navigate:"/"+e.channel_name+":"+e.channel_claim_id,label:e.channel_name,button:"link"})}(e)),b(function(e){return(0,X.lV)(e.type)}(e)),b(function(e){return c.createElement(Q.default,{navigate:"/"+e.channel_name+":"+e.source_claim_id,label:e.channel_claim_id===e.source_claim_id?Re("Channel"):Re("Content"),button:"link"})}(e)),b(function(e){var t;return c.createElement(c.Fragment,null,null===(t=Le.wA[e.currency.toUpperCase()])||void 0===t?void 0:t.symbol,e.tipped_amount/100," ",Le.Mf[e.currency.toUpperCase()])}(e)),b(i),b(function(e){return e.private_tip?Re("Yes"):Re("No")}(e)));var t})))),(!p||0===p.length)&&c.createElement("p",{className:"wallet__fiat-transactions"},Re("No Tips"))),c.createElement(be.Z,{totalPages:f})))};var De={doCustomerListPaymentHistory:p.ZC,doGetCustomerStatus:p.lO};const Fe=(0,n.$j)((function(e){return{lastFour:(0,xe.P4)(e),paymentHistory:(0,xe.vF)(e)}}),De)(je);var Ie=a(73249),Ze=a(71036).__;const Me=function(e){var t=e.page,a=void 0===t?1:t,n=e.pageSize,r=void 0===n?5:n,l=e.fetchDataOnMount,o=e.incomingHistory,i=e.transactionType,s=e.doListAccountTransactions,u=o?o.filter((function(e){return function(e){switch(i){case"tips":return"tip"===e.type;case"rentals-purchases":return"rental"===e.type||"purchase"===e.type;default:return!1}}(e)})):[],m=u.slice((a-1)*r,a*r),d=Math.ceil(u.length/r);function p(e){return c.createElement("td",null,e)}return c.useEffect((function(){l&&s()}),[]),c.createElement(c.Fragment,null,c.createElement("div",{className:"table__wrapper"},c.createElement("table",{className:"table table--transactions"},c.createElement("thead",null,c.createElement("tr",null,c.createElement("th",{className:"date-header"},Ze("Date")),c.createElement("th",{className:"channelName-header"},c.createElement(c.Fragment,null,Ze("Receiving Channel"))),c.createElement("th",{className:"channelName-header"},c.createElement(c.Fragment,null,Ze("Sending Channel"))),c.createElement("th",{className:"transactionType-header"},c.createElement(c.Fragment,null,Ze("Type"))),c.createElement("th",{className:"location-header"},Ze("Location")),c.createElement("th",{className:"amount-header"},Ze("Amount")," "),c.createElement("th",{className:"processingFee-header"},Ze("Processing Fee")),c.createElement("th",{className:"receivedAmount-header"},Ze("Received Amount")))),c.createElement("tbody",null,m&&m.map((function(e){var t=(Le.wA[e.currency.toUpperCase()]||{}).symbol;return c.createElement("tr",{key:e.name+e.created_at},p(function(e){return Oe()(e.created_at).format("LLL")}(e)),p(function(e){return c.createElement(Q.default,{navigate:"/"+e.channel_name+":"+e.channel_claim_id,label:e.channel_name,button:"link"})}(e)),p(function(e){return c.createElement(Q.default,{navigate:"/"+e.tipper_channel_name+":"+e.tipper_channel_claim_id,label:e.tipper_channel_name,button:"link"})}(e)),p(function(e){return(0,X.lV)(e.type)}(e)),p(function(e){return c.createElement(Q.default,{navigate:e.target_claim_id?"/$/".concat(Ie.SEARCH,"?q=").concat(e.target_claim_id):void 0,label:e.channel_claim_id===e.source_claim_id?Ze("Channel"):Ze("Content"),button:"link",target:"_blank"})}(e)),p(function(e,t){return c.createElement(c.Fragment,null,t,e.tipped_amount/100," ",Le.Mf[e.currency.toUpperCase()])}(e,t)),p(function(e,t){return c.createElement(c.Fragment,null,t,(e.transaction_fee+e.application_fee)/100)}(e,t)),p(function(e,t){return c.createElement(c.Fragment,null,t,e.received_amount/100)}(e,t)))})))),0===m.length&&c.createElement("p",{className:"wallet__fiat-transactions"},Ze("No Tips"))),c.createElement(be.Z,{totalPages:d}))};var Be={doListAccountTransactions:p.Gl};const Ue=(0,n.$j)((function(e){return{incomingHistory:(0,xe._5)(e)}}),Be)(Me);var Ye=a(71036).__,He="currency",Ke="tab",ze="fiatType",Ge="transactionType",We="credits",$e="fiat-payment-history",Ve="incoming",qe="tip";const Je=(0,o.EN)((function(e){var t=e.search,a=e.txoPage,n=e.txoItemCount,r=e.fetchTxoPage,l=e.fetchTransactions,o=e.updateTxoPageParams,i=e.history,s=e.isFetchingTransactions,u=e.transactionsFile,m=e.doCustomerListPaymentHistory,d=e.doListAccountTransactions;c.useEffect((function(){m()}),[m]),c.useEffect((function(){d()}),[d]);var p=new URLSearchParams(t),K=p.get(h)||String(1),z=p.get(v)||String(H),G=p.get(y)||E,W=p.get(g),$=p.get(b)||E,V=p.get(He)||We,q=p.get(ze)||Ve,J=p.get(Ke)||$e,ee=p.get(Ge)||qe,te={page:K,pageSize:z,active:$,type:G,subtype:W,currency:V,fiatType:q,tab:J,transactionType:ee},ae=G===_||te.type===N&&te.subtype!==T,ne={};function re(e){var t=function(e){var t=new URLSearchParams;switch(e.changedParameterKey){case h:te.type&&t.set(y,te.type),te.subtype&&t.set(g,te.subtype),te.active&&t.set(b,te.active),t.set(h,e.value),t.set(Ke,te.tab),t.set(He,te.currency);break;case y:t.set(y,e.value),e.value!==_&&e.value!==N||(t.set(b,"all"),te.subtype?t.set(g,te.subtype):t.set(g,"all")),te.active&&!ae?t.set(b,te.active):t.set(b,"all"),t.set(h,String(1)),t.set(v,te.pageSize),t.set(Ke,te.tab),t.set(He,te.currency);break;case g:te.type&&t.set(y,te.type),t.set(b,"all"),t.set(g,e.value),t.set(h,String(1)),t.set(v,te.pageSize),t.set(Ke,te.tab),t.set(He,te.currency);break;case b:te.type&&t.set(y,te.type),te.subtype&&t.set(g,te.subtype),t.set(b,e.value),t.set(h,String(1)),t.set(v,te.pageSize),t.set(Ke,te.tab),t.set(He,te.currency);break;case He:t.set(He,e.value),t.set(Ke,te.tab),"credits"===e.value?t.delete(ze):(t.set(ze,te.fiatType),t.set(Ge,te.transactionType));break;case ze:t.set(ze,e.value),t.set(Ke,te.tab),t.set(He,te.currency),t.set(Ge,te.transactionType)}return"?".concat(t.toString())}(e);i.push(t)}te.type&&(te.type===E?(ne[B]=!0,ne[M]=!0):te.type===_?(ne[D]=!0,ne[Z]=!0,te.subtype===T?ne[L]=C:te.subtype===x?ne[L]=x:te.subtype===A?ne[L]=U:ne[L]=[U,x,C]):te.type===N?(ne[F]=!0,ne[I]=!0,te.subtype===T?ne[L]=C:te.subtype===x?ne[L]=x:te.subtype===A?(ne[L]=U,ne[B]=!0):ne[L]=[U,x,C]):te.type===C?(ne[L]=C,ne[D]=!0,ne[F]=!0):te.type===P||te.type===S?ne[L]=te.type:te.type===k&&(ne[L]=Y)),te.active&&("spent"===te.active?ne[R]=!0:"active"===te.active&&(ne[j]=!0)),te.page&&(ne[h]=Number(K)),te.pageSize&&(ne[v]=Number(z));var le=JSON.stringify(ne);return(0,c.useEffect)((function(){if(le&&o){var e=JSON.parse(le);o(e)}}),[le,o]),c.createElement(ge.Z,{title:c.createElement(c.Fragment,null),isBodyList:!0,body:"credits"===V?c.createElement("div",null,c.createElement("div",{className:"card__body-actions"},c.createElement("div",{className:"card__actions card__actions--between"},c.createElement("div",{className:"card__actions--inline"},c.createElement("div",null,c.createElement(ye.W,{type:"select",name:"type",label:c.createElement(c.Fragment,null,Ye("Type"),c.createElement(Ee.Z,{href:"https://help.odysee.tv/category-wallet/transactionhistory/"})),value:G||"all",onChange:function(e){return re({changedParameterKey:y,value:e.target.value,tab:J})}},Object.values(w).map((function(e){var t=String(e);return c.createElement("option",{key:t,value:t},t&&Ye((0,X.lV)(t)))})))),(G===_||G===N)&&c.createElement("div",null,c.createElement(ye.W,{type:"select",name:"subtype",label:Ye("Payment Type"),value:W||"all",onChange:function(e){return re({changedParameterKey:g,value:e.target.value,tab:J})}},Object.values(O).map((function(e){var t=String(e);return c.createElement("option",{key:t,value:t},t&&Ye((0,X.lV)(t)))})))),!ae&&c.createElement("div",null,c.createElement("fieldset-section",null,c.createElement("label",null,Ye("Status")),c.createElement("div",{className:"txo__radios"},c.createElement(Q.default,{button:"alt",onClick:function(e){return re({changedParameterKey:b,value:"active"})},className:he()("button-toggle",{"button-toggle--active":$===b}),label:Ye("Active")}),c.createElement(Q.default,{button:"alt",onClick:function(e){return re({changedParameterKey:b,value:"spent"})},className:he()("button-toggle",{"button-toggle--active":"spent"===$}),label:Ye("Historical")}),c.createElement(Q.default,{button:"alt",onClick:function(e){return re({changedParameterKey:b,value:"all"})},className:he()("button-toggle",{"button-toggle--active":"all"===$}),label:Ye("All")}))))),c.createElement("div",{className:"card__actions--inline"},!s&&null===u&&c.createElement("label",null,c.createElement("span",{className:"error__text"},Ye("Failed to process fetched data."))),c.createElement("div",{className:"txo__export"},c.createElement(Te,{data:u,label:Ye("Export"),tooltip:Ye("Fetch transaction data for export"),defaultFileName:"transactions-history.csv",onFetch:function(){return l()},progressMsg:s?Ye("Fetching data"):""})),c.createElement(Q.default,{button:"alt",icon:f.REFRESH,label:Ye("Refresh"),onClick:function(){return r()}})))),c.createElement(fe,{txos:a}),c.createElement(be.Z,{totalPages:Math.ceil(n/Number(z))})):c.createElement("div",null,c.createElement("div",{className:"section card-stack"},c.createElement("div",{className:"card__body-actions"},c.createElement("div",{className:"card__actions"},c.createElement("div",null,c.createElement("fieldset-section",null,c.createElement("label",null,Ye("Type")),c.createElement("div",{className:"txo__radios"},c.createElement(Q.default,{button:"alt",onClick:function(e){return re({changedParameterKey:ze,value:"incoming"})},className:he()("button-toggle",{"button-toggle--active":"incoming"===q}),label:Ye("Incoming")}),c.createElement(Q.default,{button:"alt",onClick:function(e){return re({changedParameterKey:ze,value:"outgoing"})},className:he()("button-toggle",{"button-toggle--active":"outgoing"===q}),label:Ye("Outgoing")})))))),"incoming"===q&&c.createElement(Ue,{transactionType:ee,page:K,pageSize:z}),"outgoing"===q&&c.createElement(Fe,{transactionType:ee,page:K,pageSize:z})))})}));var Qe={openModal:l.DG,fetchTxoPage:i.ZU,fetchTransactions:i.WL,updateTxoPageParams:i.YM,doCustomerListPaymentHistory:p.ZC,doListAccountTransactions:p.Gl};const Xe=(0,o.EN)((0,n.$j)((function(e){return{txoFetchError:(0,r.xw)(e),txoPage:(0,r.uG)(e),txoPageNumber:(0,r.rk)(e),txoItemCount:(0,r.Ki)(e),loading:(0,r.JX)(e),isFetchingTransactions:(0,r.Ss)(e),transactionsFile:(0,r._h)(e)}}),Qe)(Je));var et=a(9319),tt=a(87894),at=a(50729),nt=a(1892),rt=a.n(nt),lt=a(95760),ct=a.n(lt),ot=a(38311),it=a.n(ot),st=a(58192),ut=a.n(st),mt=a(38060),dt=a.n(mt),pt=a(54865),ft=a.n(pt),bt=a(92161),yt={};yt.styleTagTransform=ft(),yt.setAttributes=ut(),yt.insert=it().bind(null,"head"),yt.domAPI=ct(),yt.insertStyleElement=dt();rt()(bt.Z,yt);bt.Z&&bt.Z.locals&&bt.Z.locals;var gt=a(71036).__,vt="tab",ht="currency",Et="credits",_t="fiat",Nt={LBRY_CREDITS_TAB:"credits",ACCOUNT_HISTORY:"fiat-account-history",PAYMENT_HISTORY:"fiat-payment-history"};const Ct=function(e){var t,a=(0,o.k6)(),n=a.location.search,r=a.push,l=new URLSearchParams(n),i=l.get(vt)||Nt.LBRY_CREDITS_TAB,s=l.get(ht),u=l.get("transactionType");switch(i){case Nt.LBRY_CREDITS_TAB:t=0;break;case Nt.PAYMENT_HISTORY:s===Et?t=1:s===_t&&(t="tips"===u?2:3);break;default:t=0}var m=e.totalBalance,p=0===m,f=void 0===m;return c.createElement(c.Fragment,null,c.createElement(et.Z,{className:"transactionsPage-wrapper"},c.createElement(at.mQ,{onChange:function(e){var t="/$/".concat(Ie.WALLET,"?");t+=0===e?"".concat(vt,"=").concat(Nt.LBRY_CREDITS_TAB):1===e?"".concat(vt,"=").concat(Nt.PAYMENT_HISTORY,"&").concat(ht,"=").concat(Et):2===e?"".concat(vt,"=").concat(Nt.PAYMENT_HISTORY,"&").concat(ht,"=").concat(_t,"&transactionType=tips"):3===e?"".concat(vt,"=").concat(Nt.PAYMENT_HISTORY,"&").concat(ht,"=").concat(_t,"&transactionType=rentals-purchases"):"".concat(vt,"=").concat(Nt.LBRY_CREDITS_TAB),r(t)},index:t},c.createElement(at.td,{className:"tabs__list--collection-edit-page"},c.createElement(at.OK,null,gt("Balance")),c.createElement(at.OK,null,gt("Credits")),c.createElement(at.OK,null,gt("Tips")),c.createElement(at.OK,null,gt("Rentals/Purchases"))),c.createElement(at.nP,null,c.createElement(at.x4,null,c.createElement(d,null)),c.createElement(at.x4,null,c.createElement("div",{className:"section card-stack"},c.createElement("div",{className:"lbc-transactions"},f&&c.createElement("div",{className:"main--empty"},c.createElement(z.Z,{delayed:!0})),!f&&c.createElement(c.Fragment,null,p&&c.createElement(tt.Z,{includeWalletLink:!0}),c.createElement("div",{className:"card-stack"},c.createElement(Xe,{search:n})))))),c.createElement(at.x4,null,c.createElement("div",{className:"section card-stack"},c.createElement("div",{className:"lbc-transactions"},f&&c.createElement("div",{className:"main--empty"},c.createElement(z.Z,{delayed:!0})),!f&&c.createElement(c.Fragment,null,c.createElement("div",{className:"card-stack"},c.createElement(Xe,{search:n})))))),c.createElement(at.x4,null,c.createElement("div",{className:"section card-stack"},c.createElement("div",{className:"lbc-transactions"},f&&c.createElement("div",{className:"main--empty"},c.createElement(z.Z,{delayed:!0})),!f&&c.createElement(c.Fragment,null,c.createElement("div",{className:"card-stack"},c.createElement(Xe,{search:n}))))))))))};const Pt=(0,n.$j)((function(e){return{totalBalance:(0,r.Cl)(e)}}),{doOpenModal:l.DG})(Ct)},64755:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(88441),l=(n=r)&&n.__esModule?n:{default:n};t.default=function(e){var t=e.breakLabel,a=e.breakClassName||"break";return l.default.createElement("li",{className:a},t)}},91980:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(88441),l=(n=r)&&n.__esModule?n:{default:n};t.default=function(e){var t=e.pageClassName,a=e.pageLinkClassName,n=e.onClick,r=e.href,c="Page "+e.page+(e.extraAriaContext?" "+e.extraAriaContext:""),o=null;return e.selected&&(o="page",c="Page "+e.page+" is your current page",t=void 0!==t?t+" "+e.activeClassName:e.activeClassName,void 0!==a?void 0!==e.activeLinkClassName&&(a=a+" "+e.activeLinkClassName):a=e.activeLinkClassName),l.default.createElement("li",{className:t},l.default.createElement("a",{onClick:n,role:"button",className:a,href:r,tabIndex:"0","aria-label":c,"aria-current":o,onKeyPress:n},e.page))}},27098:(e,t,a)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(88441),c=u(l),o=u(a(80398)),i=u(a(91980)),s=u(a(64755));function u(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==n(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handlePreviousPage=function(e){var t=a.state.selected;e.preventDefault?e.preventDefault():e.returnValue=!1,t>0&&a.handlePageSelected(t-1,e)},a.handleNextPage=function(e){var t=a.state.selected,n=a.props.pageCount;e.preventDefault?e.preventDefault():e.returnValue=!1,t<n-1&&a.handlePageSelected(t+1,e)},a.handlePageSelected=function(e,t){t.preventDefault?t.preventDefault():t.returnValue=!1,a.state.selected!==e&&(a.setState({selected:e}),a.callCallback(e))},a.callCallback=function(e){void 0!==a.props.onPageChange&&"function"==typeof a.props.onPageChange&&a.props.onPageChange({selected:e})},a.pagination=function(){var e=[],t=a.props,n=t.pageRangeDisplayed,r=t.pageCount,l=t.marginPagesDisplayed,o=t.breakLabel,i=t.breakClassName,u=a.state.selected;if(r<=n)for(var m=0;m<r;m++)e.push(a.getPageElement(m));else{var d=n/2,p=n-d;u>r-n/2?d=n-(p=r-u):u<n/2&&(p=n-(d=u));var f=void 0,b=void 0,y=void 0,g=function(e){return a.getPageElement(e)};for(f=0;f<r;f++)(b=f+1)<=l||b>r-l||f>=u-d&&f<=u+p?e.push(g(f)):o&&e[e.length-1]!==y&&(y=c.default.createElement(s.default,{key:f,breakLabel:o,breakClassName:i}),e.push(y))}return e},a.state={selected:e.initialPage?e.initialPage:e.forcePage?e.forcePage:0},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+n(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.initialPage,a=e.disableInitialCallback;void 0===t||a||this.callCallback(t)}},{key:"componentWillReceiveProps",value:function(e){void 0!==e.forcePage&&this.props.forcePage!==e.forcePage&&this.setState({selected:e.forcePage})}},{key:"hrefBuilder",value:function(e){var t=this.props,a=t.hrefBuilder,n=t.pageCount;if(a&&e!==this.state.selected&&e>=0&&e<n)return a(e+1)}},{key:"getPageElement",value:function(e){var t=this.state.selected,a=this.props,n=a.pageClassName,r=a.pageLinkClassName,l=a.activeClassName,o=a.activeLinkClassName,s=a.extraAriaContext;return c.default.createElement(i.default,{key:e,onClick:this.handlePageSelected.bind(null,e),selected:t===e,pageClassName:n,pageLinkClassName:r,activeClassName:l,activeLinkClassName:o,extraAriaContext:s,href:this.hrefBuilder(e),page:e+1})}},{key:"render",value:function(){var e=this.props,t=e.disabledClassName,a=e.previousClassName,n=e.nextClassName,r=e.pageCount,l=e.containerClassName,o=e.previousLinkClassName,i=e.previousLabel,s=e.nextLinkClassName,u=e.nextLabel,m=this.state.selected,d=a+(0===m?" "+t:""),p=n+(m===r-1?" "+t:"");return c.default.createElement("ul",{className:l},c.default.createElement("li",{className:d},c.default.createElement("a",{onClick:this.handlePreviousPage,className:o,href:this.hrefBuilder(m-1),tabIndex:"0",role:"button",onKeyPress:this.handlePreviousPage},i)),this.pagination(),c.default.createElement("li",{className:p},c.default.createElement("a",{onClick:this.handleNextPage,className:s,href:this.hrefBuilder(m+1),tabIndex:"0",role:"button",onKeyPress:this.handleNextPage},u)))}}]),t}(l.Component);m.propTypes={pageCount:o.default.number.isRequired,pageRangeDisplayed:o.default.number.isRequired,marginPagesDisplayed:o.default.number.isRequired,previousLabel:o.default.node,nextLabel:o.default.node,breakLabel:o.default.node,hrefBuilder:o.default.func,onPageChange:o.default.func,initialPage:o.default.number,forcePage:o.default.number,disableInitialCallback:o.default.bool,containerClassName:o.default.string,pageClassName:o.default.string,pageLinkClassName:o.default.string,activeClassName:o.default.string,activeLinkClassName:o.default.string,previousClassName:o.default.string,nextClassName:o.default.string,previousLinkClassName:o.default.string,nextLinkClassName:o.default.string,disabledClassName:o.default.string,breakClassName:o.default.string},m.defaultProps={pageCount:10,pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousClassName:"previous",nextClassName:"next",previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",disabledClassName:"disabled",disableInitialCallback:!1},t.default=m},50189:(e,t,a)=>{var n,r=a(27098),l=(n=r)&&n.__esModule?n:{default:n};t.Z=l.default},92161:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(26612),r=a.n(n),l=a(40805),c=a.n(l)()(r());c.push([e.id,".transactionsPage-wrapper .credit-amount{font-size:var(--font-body)}.transactionsPage-wrapper .card__actions{align-items:end}[dir] .transactionsPage-wrapper .empty .spinner{background:unset;border:unset}","",{version:3,sources:["webpack://./../ui/page/wallet/style.scss"],names:[],mappings:"AAGE,yCACE,0BAAA,CAEF,yCACE,eAAA,CAGA,gDAEE,gBAAA,CADA,YACA",sourcesContent:["@import '~ui/scss/init/breakpoints';\n\n.transactionsPage-wrapper {\n  .credit-amount {\n    font-size: var(--font-body);\n  }\n  .card__actions {\n    align-items: end;\n  }\n  .empty {\n    .spinner {\n      border: unset;\n      background: unset;\n    }\n  }\n}\n"],sourceRoot:""}]);const o=c}}]);
//# sourceMappingURL=wallet-5b44b399a7262bf9af40.js.map