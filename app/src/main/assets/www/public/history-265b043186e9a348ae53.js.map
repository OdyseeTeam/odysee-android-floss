{"version":3,"file":"history-265b043186e9a348ae53.js","mappings":"maAWIA,EAAU,CAAC,EAEfA,EAAQC,kBAAoB,IAC5BD,EAAQE,cAAgB,IAElBF,EAAQG,OAAS,SAAc,KAAM,QAE3CH,EAAQI,OAAS,IACjBJ,EAAQK,mBAAqB,IAEhB,IAAI,IAASL,GAKJ,KAAW,YAAiB,W,kBCZrCM,EAAY,G,gDCAnBC,EAAU,CACdC,yBAAAA,EAAAA,GACAC,cAAAA,EAAAA,GACAC,YAAAA,EAAAA,IAGF,SAAeC,EAAAA,EAAAA,KAAWC,EAAAA,EAAAA,KAVX,SAACC,GAAK,MAAM,CACzBC,aAAaC,EAAAA,EAAAA,IAAuBF,GACrC,GAQ+DN,EAAtCK,EDeX,SAA0BI,GACvC,IAAQF,EAAsEE,EAAtEF,YAAaN,EAAyDQ,EAAzDR,yBAA0BC,EAA+BO,EAA/BP,cAAeC,EAAgBM,EAAhBN,YAE9DO,GAAgDC,EAAAA,EAAAA,GAC9CJ,EACAL,EACAH,GACA,GAJMa,EAAIF,EAAJE,KAAMC,EAAIH,EAAJG,KAAMC,EAAaJ,EAAbI,cAAeC,EAAQL,EAARK,SAkBnC,OACEC,EAAAA,cAACC,EAAAA,EAAI,CAACC,UAAU,uBACdF,EAAAA,cAAA,OAAKE,UAAWC,IAAW,uBACzBH,EAAAA,cAAA,OAAKE,UAAU,sBACbF,EAAAA,cAAA,MAAIE,UAAU,eACZF,EAAAA,cAACI,EAAAA,QAAI,CAACC,KAAMC,EAAAA,cAAqBC,MAAO,CAAEC,YAAa,sBACvDR,EAAAA,cAAA,aAAQS,EAAG,kBACXT,EAAAA,cAACU,EAAAA,EAAO,CAACC,MAAOF,EAAG,yDACjBT,EAAAA,cAACY,EAAAA,QAAM,CAACV,UAAU,aAAaG,KAAMC,EAAAA,KAAYO,SAAU,OAI/Db,EAAAA,cAAA,OAAKE,UAAU,kCACZN,EAAKkB,OAAS,GACbd,EAAAA,cAACY,EAAAA,QAAM,CACLD,MAAOF,EAAG,iBACVM,OAAO,UACPC,MAAOP,EAAG,iBACVQ,QAAS,WA5BrB9B,EAAY+B,EAAAA,GAAgB,CAC1BP,MAAOF,EAAG,iBACVU,SAAUV,EAAG,mDACbW,UAAW,SAACC,GACVpC,IACAoC,GACF,GAsBuC,MAKpCzB,EAAKkB,OAAS,GACbd,EAAAA,cAACsB,EAAAA,EAAS,CACR1B,KAAMA,EAAK2B,MAAM,GAAI1B,EAAO,GAAKd,GACjCyC,eAAgBzB,EAChBF,KAAMA,EAAO,EACb4B,SAAU1C,EACV2C,QAAS5B,EACT6B,mBAAiB,EACjBC,gBAAc,IAGD,IAAhBhC,EAAKkB,QACJd,EAAAA,cAAA,OAAKO,MAAO,CAAEsB,UAAW,WACvB7B,EAAAA,cAAA,OAAK8B,IAAKC,EAAAA,mBACV/B,EAAAA,cAAA,MAAIE,UAAU,oBAAoBK,MAAO,CAAEyB,UAAW,MACnDvB,EAAG,mBAOlB,I,sEElGIwB,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,05DAA25D,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,kDAAkD,MAAQ,GAAG,SAAW,oXAAoX,eAAiB,CAAC,6jCAA6jC,WAAa,MAEv/G,S","sources":["webpack://odysee.com/../ui/page/watchHistory/style.scss?6ca0","webpack://odysee.com/../ui/page/watchHistory/view.jsx","webpack://odysee.com/../ui/page/watchHistory/index.js","webpack://odysee.com/../ui/page/watchHistory/style.scss"],"sourcesContent":["\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./style.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./style.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","// @flow\nimport React from 'react';\nimport ClaimList from 'component/claimList';\nimport Page from 'component/page';\nimport Button from 'component/button';\nimport classnames from 'classnames';\nimport Icon from 'component/common/icon';\nimport * as ICONS from 'constants/icons';\nimport * as MODALS from 'constants/modal_types';\nimport { YRBL_SAD_IMG_URL } from 'config';\nimport Tooltip from 'component/common/tooltip';\nimport useClaimListInfiniteScroll from 'effects/use-claimList-infinite-scroll';\nimport './style.scss';\n\nexport const PAGE_SIZE = 30;\n\n// ****************************************************************************\n// ****************************************************************************\n\nexport type Props = {||};\n\ntype StateProps = {|\n  historyUris: Array<string>,\n|};\n\ntype DispatchProps = {|\n  doClearContentHistoryAll: () => void,\n  doResolveUris: (uris: Array<string>, returnCachedClaims: boolean, resolveReposts: boolean) => void,\n  doOpenModal: (id: any, modalProps: any) => void,\n|};\n\n// ****************************************************************************\n// WatchHistoryPage\n// ****************************************************************************\n\nexport default function WatchHistoryPage(props: Props & StateProps & DispatchProps) {\n  const { historyUris, doClearContentHistoryAll, doResolveUris, doOpenModal } = props;\n\n  const { uris, page, isLoadingPage, bumpPage } = useClaimListInfiniteScroll(\n    historyUris,\n    doResolveUris,\n    PAGE_SIZE,\n    true\n  );\n\n  function clearHistory() {\n    doOpenModal(MODALS.CONFIRM, {\n      title: __('Clear History'),\n      subtitle: __('Watch history will be cleared from this device.'),\n      onConfirm: (closeModal) => {\n        doClearContentHistoryAll();\n        closeModal();\n      },\n    });\n  }\n\n  return (\n    <Page className=\"historyPage-wrapper\">\n      <div className={classnames('section card-stack')}>\n        <div className=\"claim-list__header\">\n          <h1 className=\"page__title\">\n            <Icon icon={ICONS.WATCH_HISTORY} style={{ marginRight: 'var(--spacing-s)' }} />\n            <label>{__('Watch History')}</label>\n            <Tooltip title={__('Currently, your watch history is only saved locally.')}>\n              <Button className=\"icon--help\" icon={ICONS.HELP} iconSize={14} />\n            </Tooltip>\n          </h1>\n\n          <div className=\"claim-list__alt-controls--wrap\">\n            {uris.length > 0 && (\n              <Button\n                title={__('Clear History')}\n                button=\"primary\"\n                label={__('Clear History')}\n                onClick={() => clearHistory()}\n              />\n            )}\n          </div>\n        </div>\n        {uris.length > 0 && (\n          <ClaimList\n            uris={uris.slice(0, (page + 1) * PAGE_SIZE)}\n            onScrollBottom={bumpPage}\n            page={page + 1}\n            pageSize={PAGE_SIZE}\n            loading={isLoadingPage}\n            useLoadingSpinner\n            inWatchHistory\n          />\n        )}\n        {uris.length === 0 && (\n          <div style={{ textAlign: 'center' }}>\n            <img src={YRBL_SAD_IMG_URL} />\n            <h2 className=\"main--empty empty\" style={{ marginTop: '0' }}>\n              {__('Nothing here')}\n            </h2>\n          </div>\n        )}\n      </div>\n    </Page>\n  );\n}\n","// @flow\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport type { Props } from './view';\nimport WatchHistoryPage from './view';\nimport { selectWatchHistoryUris } from 'redux/selectors/content';\nimport { doOpenModal } from 'redux/actions/app';\nimport { doClearContentHistoryAll } from 'redux/actions/content';\nimport { doResolveUris } from 'redux/actions/claims';\n\nconst select = (state) => ({\n  historyUris: selectWatchHistoryUris(state),\n});\n\nconst perform = {\n  doClearContentHistoryAll,\n  doResolveUris,\n  doOpenModal,\n};\n\nexport default withRouter(connect<_, Props, _, _, _, _>(select, perform)(WatchHistoryPage));\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".historyPage-wrapper .claim-preview__wrapper .claim-preview__history-remove{opacity:0;position:absolute;top:var(--spacing-xs)}[dir=ltr] .historyPage-wrapper .claim-preview__wrapper .claim-preview__history-remove{right:var(--spacing-xs)}[dir=rtl] .historyPage-wrapper .claim-preview__wrapper .claim-preview__history-remove{left:var(--spacing-xs)}.historyPage-wrapper .claim-preview__wrapper .claim-preview__history-remove .icon{height:28px;width:28px}[dir] .historyPage-wrapper .claim-preview__wrapper .claim-preview__history-remove .icon{background:var(--color-background);border-radius:50%;padding:4px}.historyPage-wrapper .claim-preview__wrapper .claim-preview__history-remove:hover .icon{stroke:var(--color-primary)}[dir] .historyPage-wrapper .claim-preview__wrapper .claim-preview__history-remove:hover .icon{cursor:pointer}.historyPage-wrapper .claim-preview__wrapper .menu__button.claim__menu-button{top:var(--spacing-xs)}[dir=ltr] .historyPage-wrapper .claim-preview__wrapper .menu__button.claim__menu-button{right:40px}[dir=rtl] .historyPage-wrapper .claim-preview__wrapper .menu__button.claim__menu-button{left:40px}.historyPage-wrapper .claim-preview__wrapper:hover .claim-preview__history-remove{opacity:1}@media(max-width:900px){.historyPage-wrapper .claim-preview__wrapper .claim-preview__history-remove{opacity:1;top:2px}[dir=ltr] .historyPage-wrapper .claim-preview__wrapper .claim-preview__history-remove{right:2px}[dir=rtl] .historyPage-wrapper .claim-preview__wrapper .claim-preview__history-remove{left:2px}[dir] .historyPage-wrapper .claim-preview__wrapper .claim-preview__history-remove .icon{background:none}.historyPage-wrapper .claim-preview__wrapper .menu__button.claim__menu-button{top:30px!important}[dir=ltr] .historyPage-wrapper .claim-preview__wrapper .menu__button.claim__menu-button{right:2px!important}[dir=rtl] .historyPage-wrapper .claim-preview__wrapper .menu__button.claim__menu-button{left:2px!important}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../ui/page/watchHistory/style.scss\"],\"names\":[],\"mappings\":\"AAII,4EAIE,SAAA,CAHA,iBAAA,CACA,qBAEA,CAJF,sFAGE,uBACA,CAJF,sFAGE,sBACA,CAEA,kFAEE,WAAA,CADA,UAIA,CALF,wFAIE,kCAAA,CACA,iBAAA,CAFA,WAEA,CAIA,wFACE,2BACA,CAFF,8FAEE,cAAA,CAKN,8EACE,qBACA,CAFF,wFAEE,UAAA,CAFF,wFAEE,SAAA,CAIA,kFACE,SAAA,CAIJ,wBACE,4EAGE,SAAA,CAFA,OAEA,CAHF,sFAEE,SACA,CAHF,sFAEE,QACA,CACA,wFACE,eAAA,CAIJ,8EACE,kBACA,CAFF,wFAEE,mBAAA,CAFF,wFAEE,kBAAA,CAAA\",\"sourcesContent\":[\"@import '~ui/scss/init/breakpoints';\\n\\n.historyPage-wrapper {\\n  .claim-preview__wrapper {\\n    .claim-preview__history-remove {\\n      position: absolute;\\n      top: var(--spacing-xs);\\n      right: var(--spacing-xs);\\n      opacity: 0;\\n\\n      .icon {\\n        width: 28px;\\n        height: 28px;\\n        padding: 4px;\\n        background: var(--color-background);\\n        border-radius: 50%;\\n      }\\n\\n      &:hover {\\n        .icon {\\n          stroke: var(--color-primary);\\n          cursor: pointer;\\n        }\\n      }\\n    }\\n\\n    .menu__button.claim__menu-button {\\n      top: var(--spacing-xs);\\n      right: 40px;\\n    }\\n\\n    &:hover {\\n      .claim-preview__history-remove {\\n        opacity: 1;\\n      }\\n    }\\n\\n    @media (max-width: $breakpoint-small) {\\n      .claim-preview__history-remove {\\n        top: 2px;\\n        right: 2px;\\n        opacity: 1;\\n        .icon {\\n          background: none;\\n        }\\n      }\\n\\n      .menu__button.claim__menu-button {\\n        top: 30px !important;\\n        right: 2px !important;\\n      }\\n    }\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","PAGE_SIZE","perform","doClearContentHistoryAll","doResolveUris","doOpenModal","withRouter","connect","state","historyUris","selectWatchHistoryUris","props","_useClaimListInfinite","useClaimListInfiniteScroll","uris","page","isLoadingPage","bumpPage","React","Page","className","classnames","Icon","icon","ICONS","style","marginRight","__","Tooltip","title","Button","iconSize","length","button","label","onClick","MODALS","subtitle","onConfirm","closeModal","ClaimList","slice","onScrollBottom","pageSize","loading","useLoadingSpinner","inWatchHistory","textAlign","src","YRBL_SAD_IMG_URL","marginTop","___CSS_LOADER_EXPORT___","push","module","id"],"sourceRoot":""}