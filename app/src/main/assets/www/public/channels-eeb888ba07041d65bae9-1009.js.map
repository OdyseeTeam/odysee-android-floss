{"version":3,"file":"channels-eeb888ba07041d65bae9-1009.js","mappings":"iVAaMA,GAAwBC,EAAAA,EAAAA,IAAW,kBACvC,+BAAyF,ICA3F,IAQMC,EAAU,CACdC,uBAAAA,EAAAA,GACAC,mBAAAA,EAAAA,GACAC,qCAAAA,EAAAA,IAGF,SAAeC,EAAAA,EAAAA,KAdA,SAACC,GAAK,MAAM,CACzBC,aAAaC,EAAAA,EAAAA,KAAyBF,GACtCG,YAAYC,EAAAA,EAAAA,KAAwBJ,GACpCK,kBAAkBC,EAAAA,EAAAA,KAAyBN,GAC3CO,oBAAoBC,EAAAA,EAAAA,IAAyBR,GAC7CS,aAAaC,EAAAA,EAAAA,KAAkBV,GAChC,GAQ8BL,EAA/B,EDAe,SAAsBgB,GACnC,IAEEV,EAOEU,EAPFV,YACAE,EAMEQ,EANFR,WACAE,EAKEM,EALFN,iBACAE,EAIEI,EAJFJ,mBACAX,EAGEe,EAHFf,uBACAC,EAEEc,EAFFd,mBACAC,EACEa,EADFb,qCAGIc,EAAcC,OAAOC,UAAUX,aAAU,EAAVA,EAAYY,QAEjDC,EAAAA,WAAgB,WACVb,EACFL,EAAqCK,GAErCP,GAEJ,GAAG,CAACO,EAAYP,EAAwBE,IAExC,IAAQmB,GAASC,EAAAA,EAAAA,cAATD,KAER,OAAKL,GAAgBL,EAuBnBS,EAAAA,cAACG,EAAAA,EAAI,CAACC,UAAU,wBACdJ,EAAAA,cAAA,OAAKI,UAAU,cACZb,GACCS,EAAAA,cAACA,EAAAA,SAAc,CAACK,SAAU,MACxBL,EAAAA,cAACvB,EAAqB,CAAC6B,iBAAe,KAI1CN,EAAAA,cAACO,EAAAA,QAAS,CACRC,OACER,EAAAA,cAAA,MAAII,UAAU,eACZJ,EAAAA,cAACS,EAAAA,QAAI,CAACC,KAAMC,EAAAA,UACZX,EAAAA,cAAA,aAAQY,EAAG,mBAGfC,kBACEb,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAACc,EAAAA,QAAM,CACLC,OAAO,YACPC,MAAOJ,EAAG,wBACVF,KAAMC,EAAAA,QACNM,SAAQ,MAAAC,OAAQC,EAAAA,gBAElBnB,EAAAA,cAACc,EAAAA,QAAM,CACLC,OAAO,YACPL,KAAMC,EAAAA,QACNK,MAAOJ,EAAG,eACVK,SAAQ,MAAAC,OAAQC,EAAAA,gBAItBC,QAAS/B,EACTgC,KAAMpC,EACNqC,cAAe,SAACC,GAEd,OAA2B,IADHA,EAAMC,KAAKC,kBAEjCzB,EAAAA,cAAA,aAEAA,EAAAA,cAAA,OAAKI,UAAU,oBACbJ,EAAAA,cAACc,EAAAA,QAAM,CACLC,OAAO,MACPL,KAAMC,EAAAA,UACNK,MAAOJ,EAAG,aACVc,QAAS,WACP7C,EAAmB0C,EAAMI,UACzB1B,EAAK,MAADiB,OAAOC,EAAAA,mBACb,IAIR,EACAS,iBAAkB,SAACL,GACjB,IAAMM,EAAkBN,EAAMC,KAAKC,kBACnC,IAAKF,GAA6B,IAApBM,EACZ,OAAO,IAEX,MA7EJ7B,EAAAA,cAACG,EAAAA,EAAI,CAACC,UAAU,wBACbf,EACCW,EAAAA,cAAA,OAAKI,UAAU,eACbJ,EAAAA,cAAC8B,EAAAA,EAAO,CAACC,SAAO,KAGlB/B,EAAAA,cAACgC,EAAAA,EAAI,CACHC,MAAOrB,EAAG,eACVsB,SAAUtB,EAAG,0FACbuB,QACEnC,EAAAA,cAAA,OAAKI,UAAU,oBACbJ,EAAAA,cAACc,EAAAA,QAAM,CAACC,OAAO,UAAUC,MAAOJ,EAAG,kBAAmBK,SAAQ,MAAAC,OAAQC,EAAAA,kBAuEtF,G","sources":["webpack://odysee.com/../ui/page/channels/view.jsx","webpack://odysee.com/../ui/page/channels/index.js"],"sourcesContent":["// @flow\nimport React from 'react';\nimport ClaimList from 'component/claimList';\nimport Page from 'component/page';\nimport Button from 'component/button';\nimport Spinner from 'component/spinner';\nimport Yrbl from 'component/yrbl';\nimport Icon from 'component/common/icon';\nimport * as ICONS from 'constants/icons';\nimport * as PAGES from 'constants/pages';\nimport { lazyImport } from 'util/lazyImport';\nimport { useHistory } from 'react-router';\n\nconst YoutubeTransferStatus = lazyImport(() =>\n  import('component/youtubeTransferStatus' /* webpackChunkName: \"youtubeTransferStatus\" */)\n);\n\ntype Props = {\n  // -- redux --\n  channelUrls: Array<string>,\n  channelIds: ?ClaimIds,\n  fetchingChannels: boolean,\n  hasYoutubeChannels: boolean,\n  doFetchChannelListMine: () => void,\n  doSetActiveChannel: (string) => void,\n  doFetchOdyseeMembershipForChannelIds: (claimIds: ClaimIds) => void,\n};\n\nexport default function ChannelsPage(props: Props) {\n  const {\n    // -- redux --\n    channelUrls,\n    channelIds,\n    fetchingChannels,\n    hasYoutubeChannels,\n    doFetchChannelListMine,\n    doSetActiveChannel,\n    doFetchOdyseeMembershipForChannelIds,\n  } = props;\n\n  const hasChannels = Number.isInteger(channelIds?.length);\n\n  React.useEffect(() => {\n    if (channelIds) {\n      doFetchOdyseeMembershipForChannelIds(channelIds);\n    } else {\n      doFetchChannelListMine();\n    }\n  }, [channelIds, doFetchChannelListMine, doFetchOdyseeMembershipForChannelIds]);\n\n  const { push } = useHistory();\n\n  if (!hasChannels && !hasYoutubeChannels) {\n    return (\n      <Page className=\"channelsPage-wrapper\">\n        {fetchingChannels ? (\n          <div className=\"main--empty\">\n            <Spinner delayed />\n          </div>\n        ) : (\n          <Yrbl\n            title={__('No channels')}\n            subtitle={__(\"You haven't created a channel yet. All of your beautiful channels will be listed here!\")}\n            actions={\n              <div className=\"section__actions\">\n                <Button button=\"primary\" label={__('Create Channel')} navigate={`/$/${PAGES.CHANNEL_NEW}`} />\n              </div>\n            }\n          />\n        )}\n      </Page>\n    );\n  }\n\n  return (\n    <Page className=\"channelsPage-wrapper\">\n      <div className=\"card-stack\">\n        {hasYoutubeChannels && (\n          <React.Suspense fallback={null}>\n            <YoutubeTransferStatus hideChannelLink />\n          </React.Suspense>\n        )}\n\n        <ClaimList\n          header={\n            <h1 className=\"page__title\">\n              <Icon icon={ICONS.CHANNEL} />\n              <label>{__('Your channels')}</label>\n            </h1>\n          }\n          headerAltControls={\n            <>\n              <Button\n                button=\"secondary\"\n                label={__('Sync YouTube Channel')}\n                icon={ICONS.YOUTUBE}\n                navigate={`/$/${PAGES.YOUTUBE_SYNC}`}\n              />\n              <Button\n                button=\"secondary\"\n                icon={ICONS.CHANNEL}\n                label={__('New Channel')}\n                navigate={`/$/${PAGES.CHANNEL_NEW}`}\n              />\n            </>\n          }\n          loading={fetchingChannels}\n          uris={channelUrls}\n          renderActions={(claim) => {\n            const claimsInChannel = claim.meta.claims_in_channel;\n            return claimsInChannel === 0 ? (\n              <span />\n            ) : (\n              <div className=\"section__actions\">\n                <Button\n                  button=\"alt\"\n                  icon={ICONS.ANALYTICS}\n                  label={__('Analytics')}\n                  onClick={() => {\n                    doSetActiveChannel(claim.claim_id);\n                    push(`/$/${PAGES.CREATOR_DASHBOARD}`);\n                  }}\n                />\n              </div>\n            );\n          }}\n          renderProperties={(claim) => {\n            const claimsInChannel = claim.meta.claims_in_channel;\n            if (!claim || claimsInChannel === 0) {\n              return null;\n            }\n          }}\n        />\n      </div>\n    </Page>\n  );\n}\n","import { connect } from 'react-redux';\nimport {\n  selectMyChannelClaimUrls,\n  selectMyChannelClaimIds,\n  selectFetchingMyChannels,\n  selectClaimsByUri,\n} from 'redux/selectors/claims';\nimport { doFetchOdyseeMembershipForChannelIds } from 'redux/actions/memberships';\nimport { doFetchChannelListMine } from 'redux/actions/claims';\nimport { doSetActiveChannel } from 'redux/actions/app';\nimport { selectHasYoutubeChannels } from 'redux/selectors/user';\n\nimport ChannelsPage from './view';\n\nconst select = (state) => ({\n  channelUrls: selectMyChannelClaimUrls(state),\n  channelIds: selectMyChannelClaimIds(state),\n  fetchingChannels: selectFetchingMyChannels(state),\n  hasYoutubeChannels: selectHasYoutubeChannels(state),\n  claimsByUri: selectClaimsByUri(state),\n});\n\nconst perform = {\n  doFetchChannelListMine,\n  doSetActiveChannel,\n  doFetchOdyseeMembershipForChannelIds,\n};\n\nexport default connect(select, perform)(ChannelsPage);\n"],"names":["YoutubeTransferStatus","lazyImport","perform","doFetchChannelListMine","doSetActiveChannel","doFetchOdyseeMembershipForChannelIds","connect","state","channelUrls","selectMyChannelClaimUrls","channelIds","selectMyChannelClaimIds","fetchingChannels","selectFetchingMyChannels","hasYoutubeChannels","selectHasYoutubeChannels","claimsByUri","selectClaimsByUri","props","hasChannels","Number","isInteger","length","React","push","useHistory","Page","className","fallback","hideChannelLink","ClaimList","header","Icon","icon","ICONS","__","headerAltControls","Button","button","label","navigate","concat","PAGES","loading","uris","renderActions","claim","meta","claims_in_channel","onClick","claim_id","renderProperties","claimsInChannel","Spinner","delayed","Yrbl","title","subtitle","actions"],"sourceRoot":""}