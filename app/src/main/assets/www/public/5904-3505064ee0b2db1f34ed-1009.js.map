{"version":3,"file":"5904-3505064ee0b2db1f34ed-1009.js","mappings":"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","sources":["webpack://odysee.com/../ui/component/common/expandable.jsx","webpack://odysee.com/../ui/component/comment/view.jsx","webpack://odysee.com/../ui/component/comment/index.js","webpack://odysee.com/../ui/component/commentReactions/index.js","webpack://odysee.com/../ui/component/commentReactions/view.jsx","webpack://odysee.com/../ui/component/commentsReplies/index.js","webpack://odysee.com/../ui/component/commentsReplies/view.jsx"],"sourcesContent":["// @flow\nimport React from 'react';\nimport classnames from 'classnames';\nimport Button from 'component/button';\n\nimport { ExpandableContext } from 'contexts/expandable';\nimport { useOnResize } from 'effects/use-on-resize';\n\nconst COLLAPSED_HEIGHT = 220;\n\ntype Props = {\n  children: React$Node | Array<React$Node>,\n};\n\nexport default function Expandable(props: Props) {\n  const { children } = props;\n  // $FlowIgnore\n  const { props: childProps } = children;\n  const containsImage = childProps && childProps.content && childProps.content.includes('![');\n\n  const ref = React.useRef();\n\n  const [expanded, setExpanded] = React.useState(false);\n  const [disabled, disableExpanded] = React.useState(false);\n  const [childRect, setRect] = React.useState();\n\n  const childOverflows = childRect && childRect.height > COLLAPSED_HEIGHT;\n\n  function handleClick() {\n    setExpanded(!expanded);\n  }\n\n  // Update the rect when children changes,\n  // this is needed when there is an image or claim embed\n  // to be loaded ! :D\n  React.useLayoutEffect(() => {\n    if (ref.current) {\n      const childElem = ref.current.children[0];\n      setRect(childElem.getBoundingClientRect());\n    }\n  }, [children]);\n\n  const expandableRef = React.useCallback((node) => {\n    if (node) {\n      const childElem = node.children[0];\n      setRect(childElem.getBoundingClientRect());\n      ref.current = node;\n    }\n  }, []);\n\n  // Update the childRect initially & when the window size changes.\n  const handleResize = React.useCallback(() => {\n    expandableRef(ref.current);\n  }, [expandableRef]);\n  useOnResize(handleResize);\n\n  return (\n    <ExpandableContext.Provider value={{ setExpanded, disableExpanded }}>\n      <div\n        className={classnames('expandable', {\n          'expandable--open': expanded,\n          'expandable--closed-fade': !expanded && (childOverflows || containsImage),\n        })}\n        ref={expandableRef}\n      >\n        {children}\n      </div>\n\n      {(childOverflows || containsImage) && !disabled && (\n        <Button\n          button=\"link\"\n          className=\"expandable__button\"\n          label={expanded ? __('Less') : __('More')}\n          onClick={handleClick}\n        />\n      )}\n    </ExpandableContext.Provider>\n  );\n}\n","/**\n * Comment component.\n *\n * Notes:\n * - Filtration is not done at this component level. Comments are filtered\n *   in the selector through `filterComments()`. This saves the need to handle\n *   it from the render loop, but also means we cannot render it differently\n *   (e.g. displaying as \"Comment has been blocked\") since the component doesn't\n *   see it.\n */\n\n// @flow\nimport * as ICONS from 'constants/icons';\nimport * as PAGES from 'constants/pages';\nimport * as KEYCODES from 'constants/keycodes';\nimport { COMMENT_HIGHLIGHTED } from 'constants/classnames';\nimport { INLINE_PLAYER_WRAPPER_CLASS } from 'constants/player';\nimport {\n  SORT_BY,\n  COMMENT_PAGE_SIZE_REPLIES,\n  LINKED_COMMENT_QUERY_PARAM,\n  THREAD_COMMENT_QUERY_PARAM,\n  THRESHOLD_MS,\n} from 'constants/comment';\nimport { FF_MAX_CHARS_IN_COMMENT } from 'constants/form-field';\nimport { SITE_NAME, SIMPLE_SITE, ENABLE_COMMENT_REACTIONS } from 'config';\nimport React, { useEffect, useState } from 'react';\nimport { parseURI } from 'util/lbryURI';\nimport DateTime from 'component/dateTime';\nimport Button from 'component/button';\nimport Expandable from 'component/common/expandable';\nimport MarkdownPreview from 'component/common/markdown-preview';\nimport CommentBadge from 'component/common/comment-badge';\nimport ChannelThumbnail from 'component/channelThumbnail';\nimport { Menu, MenuButton } from '@reach/menu-button';\nimport Icon from 'component/common/icon';\nimport { FormField, Form } from 'component/common/form';\nimport classnames from 'classnames';\nimport usePersistedState from 'effects/use-persisted-state';\nimport CommentReactions from 'component/commentReactions';\nimport CommentsReplies from 'component/commentsReplies';\nimport { useHistory } from 'react-router';\nimport CommentMenuList from 'component/commentMenuList';\nimport CreditAmount from 'component/common/credit-amount';\nimport OptimizedImage from 'component/optimizedImage';\nimport { getChannelFromClaim } from 'util/claim';\nimport { parseSticker } from 'util/comments';\nimport { useIsMobile } from 'effects/use-screensize';\nimport MembershipBadge from 'component/membershipBadge';\nimport Spinner from 'component/spinner';\nimport { lazyImport } from 'util/lazyImport';\n\nconst CommentCreate = lazyImport(() => import('component/commentCreate' /* webpackChunkName: \"comments\" */));\n\n// ****************************************************************************\n// ****************************************************************************\n\nexport type Props = {|\n  comment: Comment,\n  uri?: string,\n  forceDisplayDeadComment?: boolean,\n  linkedCommentId?: string,\n  threadCommentId?: ?string,\n  isTopLevel?: boolean,\n  hideActions?: boolean,\n  hideContextMenu?: boolean,\n  supportDisabled?: boolean,\n  setQuickReply?: (any) => void,\n  quickReply?: any,\n  threadLevel?: number,\n  threadDepthLevel?: number,\n  disabled?: boolean,\n  updateUiFilteredComments?: (commentIds: Array<string>) => void,\n|};\n\ntype StateProps = {|\n  fetchedReplies: Array<Comment>,\n  othersReacts: ?{ like: number, dislike: number },\n  linkedCommentAncestors: { [string]: Array<string> },\n  totalReplyPages: number,\n  repliesFetching: boolean,\n  claim: StreamClaim,\n  authorTitle: ?string,\n  channelAge?: any,\n  myChannelIds: ?Array<string>,\n  hasChannels: boolean,\n  odyseeMembership: ?string,\n  creatorMembership: ?string,\n  commentingEnabled: boolean,\n  playingUri: PlayingUri,\n  stakedLevel: number,\n  isCommenterChannelDeleted: boolean,\n|};\n\ntype DispatchProps = {|\n  doClearPlayingUri: () => void,\n  doClearPlayingSource: () => void,\n  updateComment: (string, string) => void,\n  fetchReplies: (string, string, number, number, number) => void,\n  doToast: (ToastParams) => void,\n|};\n\n// ****************************************************************************\n// Comment\n// ****************************************************************************\n\nfunction CommentView(props: Props & StateProps & DispatchProps) {\n  const {\n    comment,\n    myChannelIds,\n    forceDisplayDeadComment = false,\n    doClearPlayingUri,\n    claim,\n    uri,\n    updateComment,\n    fetchReplies,\n    totalReplyPages,\n    linkedCommentId,\n    threadCommentId,\n    linkedCommentAncestors,\n    commentingEnabled,\n    hasChannels,\n    doToast,\n    isTopLevel,\n    hideActions,\n    hideContextMenu,\n    othersReacts,\n    playingUri,\n    stakedLevel,\n    isCommenterChannelDeleted,\n    supportDisabled,\n    setQuickReply,\n    quickReply,\n    odyseeMembership,\n    creatorMembership,\n    fetchedReplies,\n    repliesFetching,\n    threadLevel = 0,\n    threadDepthLevel = 0,\n    doClearPlayingSource,\n    authorTitle,\n    channelAge,\n    disabled,\n    updateUiFilteredComments,\n  } = props;\n\n  const commentElemRef = React.useRef();\n\n  const {\n    channel_url: authorUri,\n    channel_name: author,\n    channel_id: channelId,\n    comment_id: commentId,\n    comment: message,\n    is_fiat: isFiat,\n    is_global_mod: isGlobalMod,\n    is_moderator: isModerator,\n    is_pinned: isPinned,\n    support_amount: supportAmount,\n    replies: numDirectReplies,\n  } = comment;\n  const claimName = authorTitle || author;\n\n  const timePosted = comment.timestamp * 1000;\n  const commentIsEdited = parseInt(comment.signing_ts) - comment.timestamp > THRESHOLD_MS.IS_EDITED / 1000;\n  const commentIsMine = channelId && myChannelIds && myChannelIds.includes(channelId);\n\n  const isMobile = useIsMobile();\n  const ROUGH_HEADER_HEIGHT = isMobile ? 56 : 60; // @see: --header-height\n\n  const lastThreadLevel = threadDepthLevel - 1;\n  // Mobile: 0, 1, 2 -> new thread....., so each 3 comments\n  const openNewThread = threadLevel > 0 && threadLevel % lastThreadLevel === 0;\n\n  const {\n    push,\n    replace,\n    location: { pathname, search },\n  } = useHistory();\n\n  const urlParams = new URLSearchParams(search);\n  const isLinkedComment = linkedCommentId && linkedCommentId === commentId;\n  const isThreadComment = threadCommentId && threadCommentId === commentId;\n  const isInLinkedCommentChain =\n    linkedCommentId &&\n    linkedCommentAncestors[linkedCommentId] &&\n    linkedCommentAncestors[linkedCommentId].includes(commentId);\n  const showRepliesOnMount = isThreadComment || isInLinkedCommentChain || (threadLevel === 0 && !!comment.replies);\n\n  const [isReplying, setReplying] = React.useState(false);\n  const [isEditing, setEditing] = useState(false);\n  const [editedMessage, setCommentValue] = useState(message);\n  const [charCount, setCharCount] = useState(editedMessage.length);\n  const [showReplies, setShowReplies] = useState(showRepliesOnMount);\n  const [page, setPage] = useState(showRepliesOnMount ? 1 : 0);\n  const [advancedEditor] = usePersistedState('comment-editor-mode', false);\n  const [displayDeadComment, setDisplayDeadComment] = React.useState(forceDisplayDeadComment);\n  const likesCount = (othersReacts && othersReacts.like) || 0;\n  const dislikesCount = (othersReacts && othersReacts.dislike) || 0;\n  const totalLikesAndDislikes = likesCount + dislikesCount;\n  const contentChannelClaim = getChannelFromClaim(claim);\n  const commentByOwnerOfContent = contentChannelClaim && contentChannelClaim.permanent_url === authorUri;\n  const slimedToDeath =\n    !commentByOwnerOfContent && totalLikesAndDislikes >= 5 && dislikesCount / totalLikesAndDislikes > 0.8;\n  const stickerFromMessage = parseSticker(message);\n\n  const isSprout = channelAge && Math.round((new Date() - channelAge) / (1000 * 60 * 60 * 24)) < 7;\n\n  let channelOwnerOfContent;\n  try {\n    if (uri) {\n      const { channelName } = parseURI(uri);\n      if (channelName) {\n        channelOwnerOfContent = channelName;\n      }\n    }\n  } catch (e) {}\n\n  useEffect(() => {\n    if (isEditing) {\n      setCharCount(editedMessage.length);\n\n      // a user will try and press the escape key to cancel editing their comment\n      const handleEscape = (event) => {\n        if (event.keyCode === KEYCODES.ESCAPE) {\n          setEditing(false);\n        }\n      };\n\n      window.addEventListener('keydown', handleEscape);\n\n      // removes the listener so it doesn't cause problems elsewhere in the app\n      return () => {\n        window.removeEventListener('keydown', handleEscape);\n      };\n    }\n  }, [author, authorUri, editedMessage, isEditing, setEditing]);\n\n  useEffect(() => {\n    if (uri && page > 0) {\n      fetchReplies(uri, commentId, page, COMMENT_PAGE_SIZE_REPLIES, SORT_BY.OLDEST);\n    }\n  }, [page, uri, commentId, fetchReplies]);\n\n  function handleEditMessageChanged(event) {\n    setCommentValue(!SIMPLE_SITE && advancedEditor ? event : event.target.value);\n  }\n\n  function handleEditComment(isEditing: boolean) {\n    if (playingUri.source === 'comment' && commentElemRef.current) {\n      const claimLink = commentElemRef.current.querySelector(`.${INLINE_PLAYER_WRAPPER_CLASS}`);\n\n      if (isEditing && playingUri.sourceId === claimLink?.id) {\n        doClearPlayingUri();\n      } else {\n        doClearPlayingSource();\n      }\n    }\n\n    setEditing(isEditing);\n  }\n\n  function handleSubmit() {\n    updateComment(commentId, editedMessage);\n    if (setQuickReply) setQuickReply({ ...quickReply, comment_id: commentId, comment: editedMessage });\n    setEditing(false);\n    doClearPlayingSource();\n  }\n\n  function handleCommentReply() {\n    if (!hasChannels) {\n      push(`/$/${PAGES.CHANNEL_NEW}?redirect=${pathname}`);\n      doToast({ message: __('A channel is required to comment on %SITE_NAME%', { SITE_NAME }) });\n    } else {\n      setReplying(!isReplying);\n    }\n    doClearPlayingSource();\n  }\n\n  function handleTimeClick() {\n    urlParams.set(LINKED_COMMENT_QUERY_PARAM, commentId);\n    replace(`${pathname}?${urlParams.toString()}`);\n  }\n\n  function handleOpenNewThread() {\n    urlParams.set(LINKED_COMMENT_QUERY_PARAM, commentId);\n    urlParams.set(THREAD_COMMENT_QUERY_PARAM, commentId);\n    console.log('THREAD_COMMENT_QUERY_PARAM: ', THREAD_COMMENT_QUERY_PARAM);\n    console.log('commentId: ', commentId);\n    console.log('pathname: ', pathname);\n    console.log('urlParams: ', urlParams.toString());\n    if (window.cordova) {\n      window.odysee.functions.history.push({ pathname: pathname, search: urlParams.toString() });\n    } else {\n      push({ pathname, search: urlParams.toString() });\n    }\n  }\n\n  const handleShowMore = React.useCallback(() => setPage((prev) => prev + 1), []);\n\n  const linkedCommentRef = React.useCallback(\n    (node) => {\n      if (node) commentElemRef.current = node;\n      if (node !== null && window.pendingLinkedCommentScroll) {\n        delete window.pendingLinkedCommentScroll;\n\n        const mobileChatElem = document.querySelector('.MuiPaper-root .card--enable-overflow');\n        const elem = (isMobile && mobileChatElem) || window;\n\n        if (elem) {\n          // $FlowFixMe\n          elem.scrollTo({\n            // $FlowFixMe\n            top: node.getBoundingClientRect().top + (mobileChatElem ? 0 : elem.scrollY) - ROUGH_HEADER_HEIGHT,\n            left: 0,\n            behavior: 'smooth',\n          });\n        }\n      }\n    },\n    [ROUGH_HEADER_HEIGHT, isMobile]\n  );\n\n  if (isCommenterChannelDeleted) {\n    if (updateUiFilteredComments) {\n      const fetchedReplyIds = fetchedReplies.map((r) => r.comment_id);\n      updateUiFilteredComments([...fetchedReplyIds, commentId]);\n    }\n    return null;\n  }\n\n  return (\n    <li\n      className={classnames('comment', {\n        'comment--top-level': isTopLevel,\n        'comment--reply': !isTopLevel,\n      })}\n      id={commentId}\n    >\n      <div className=\"comment__thumbnail-wrapper\">\n        {authorUri ? (\n          <ChannelThumbnail uri={authorUri} xsmall className=\"comment__author-thumbnail\" checkMembership={false} />\n        ) : (\n          <ChannelThumbnail xsmall className=\"comment__author-thumbnail\" checkMembership={false} />\n        )}\n\n        {numDirectReplies > 0 && showReplies && (\n          <Button className=\"comment__threadline\" aria-label=\"Hide Replies\" onClick={() => setShowReplies(false)} />\n        )}\n      </div>\n\n      <div className=\"comment__content\" ref={isLinkedComment || isThreadComment ? linkedCommentRef : commentElemRef}>\n        <div\n          className={classnames('comment__body-container', {\n            [COMMENT_HIGHLIGHTED]: isLinkedComment || (isThreadComment && !linkedCommentId),\n            'comment--slimed': slimedToDeath && !displayDeadComment,\n          })}\n        >\n          <div className=\"comment__meta\">\n            <div className=\"comment__meta-information\">\n              {!author ? (\n                <span className=\"comment__author\">{__('Anonymous')}</span>\n              ) : (\n                <Menu>\n                  <MenuButton\n                    className={classnames('button--uri-indicator comment__author', {\n                      'comment__author--creator': commentByOwnerOfContent,\n                    })}\n                    onClick={(e) => e.stopPropagation()}\n                  >\n                    {claimName}\n                  </MenuButton>\n\n                  <CommentMenuList\n                    uri={uri}\n                    commentId={commentId}\n                    authorUri={authorUri}\n                    commentIsMine={commentIsMine}\n                    isPinned={isPinned}\n                    isTopLevel={isTopLevel}\n                    isUserLabel\n                    handleEditComment={() => handleEditComment(true)}\n                    setQuickReply={setQuickReply}\n                    className={classnames('comment__author', {\n                      'comment__author--creator': commentByOwnerOfContent,\n                    })}\n                  />\n                </Menu>\n              )}\n              {isSprout && <CommentBadge label={__('Sprout')} icon={ICONS.BADGE_SPROUT} size={14} />}\n              {isGlobalMod && <CommentBadge label={__('Admin')} icon={ICONS.BADGE_ADMIN} />}\n              {isModerator && <CommentBadge label={__('Moderator')} icon={ICONS.BADGE_MOD} />}\n              {odyseeMembership && <MembershipBadge membershipName={odyseeMembership} linkPage />}\n              {creatorMembership && <MembershipBadge membershipName={creatorMembership} linkPage uri={uri} />}\n              <Button\n                className=\"comment__time\"\n                onClick={handleTimeClick}\n                label={\n                  <>\n                    <DateTime date={timePosted} timeAgo />\n                    {commentIsEdited && <span className=\"comment__edited\">{__('(edited)')}</span>}\n                  </>\n                }\n              />\n\n              {supportAmount > 0 && <CreditAmount isFiat={isFiat} amount={supportAmount} superChatLight size={12} />}\n\n              {isPinned && (\n                <span className=\"comment__pin\">\n                  <Icon icon={ICONS.PIN} size={14} />\n                  {channelOwnerOfContent\n                    ? __('Pinned by @%channel%', { channel: channelOwnerOfContent })\n                    : __('Pinned by creator')}\n                </span>\n              )}\n            </div>\n            {!hideContextMenu && (\n              <div className=\"comment__menu\">\n                <Menu>\n                  <MenuButton className=\"menu__button\">\n                    <Icon size={18} icon={ICONS.MORE_VERTICAL} />\n                  </MenuButton>\n                  <CommentMenuList\n                    uri={uri}\n                    isTopLevel={isTopLevel}\n                    isPinned={isPinned}\n                    commentId={commentId}\n                    authorUri={authorUri}\n                    commentIsMine={commentIsMine}\n                    handleEditComment={() => handleEditComment(true)}\n                    supportAmount={supportAmount}\n                    setQuickReply={setQuickReply}\n                  />\n                </Menu>\n              </div>\n            )}\n          </div>\n          <div>\n            {isEditing ? (\n              <Form onSubmit={handleSubmit}>\n                <FormField\n                  className=\"comment__edit-input\"\n                  type={!SIMPLE_SITE && advancedEditor ? 'markdown' : 'textarea'}\n                  name=\"editing_comment\"\n                  value={editedMessage}\n                  charCount={charCount}\n                  onChange={handleEditMessageChanged}\n                  textAreaMaxLength={FF_MAX_CHARS_IN_COMMENT}\n                  handleSubmit={handleSubmit}\n                />\n                <div className=\"section__actions section__actions--no-margin\">\n                  <Button\n                    button=\"primary\"\n                    type=\"submit\"\n                    label={__('Done')}\n                    requiresAuth={IS_WEB}\n                    disabled={message === editedMessage}\n                  />\n                  <Button button=\"link\" label={__('Cancel')} onClick={() => handleEditComment(false)} />\n                </div>\n              </Form>\n            ) : (\n              <>\n                <div className=\"comment__message\">\n                  {slimedToDeath && !displayDeadComment ? (\n                    <div onClick={() => setDisplayDeadComment(true)} className=\"comment__dead\">\n                      {__('This comment was slimed to death. (Click to view)')} <Icon icon={ICONS.SLIME_ACTIVE} />\n                    </div>\n                  ) : stickerFromMessage ? (\n                    <div className=\"sticker__comment\">\n                      <OptimizedImage src={stickerFromMessage.url} waitLoad loading=\"lazy\" />\n                    </div>\n                  ) : (\n                    <Expandable>\n                      <MarkdownPreview\n                        content={message}\n                        promptLinks\n                        parentCommentId={commentId}\n                        stakedLevel={stakedLevel}\n                        hasMembership={Boolean(odyseeMembership)}\n                      />\n                    </Expandable>\n                  )}\n                </div>\n\n                {!hideActions && (\n                  <div className={classnames('comment__actions', { 'comment__actions--disabled': disabled })}>\n                    <Button\n                      requiresAuth={IS_WEB}\n                      label={commentingEnabled ? __('Reply') : __('Log in to reply')}\n                      className=\"comment__action\"\n                      onClick={handleCommentReply}\n                      icon={ICONS.REPLY}\n                      iconSize={isMobile && 12}\n                    />\n                    {ENABLE_COMMENT_REACTIONS && <CommentReactions uri={uri} commentId={commentId} />}\n                  </div>\n                )}\n\n                {numDirectReplies > 0 && !hideActions && (\n                  <div className={classnames('comment__actions', { 'comment__actions--disabled': disabled })}>\n                    {!showReplies ? (\n                      openNewThread ? (\n                        <Button\n                          label={__('Continue Thread')}\n                          button=\"link\"\n                          onClick={handleOpenNewThread}\n                          iconRight={ICONS.ARROW_RIGHT}\n                        />\n                      ) : (\n                        <Button\n                          label={\n                            numDirectReplies < 2\n                              ? __('Show reply')\n                              : __('Show %count% replies', { count: numDirectReplies })\n                          }\n                          button=\"link\"\n                          onClick={() => {\n                            setShowReplies(true);\n                            if (page === 0) {\n                              setPage(1);\n                            }\n                          }}\n                          iconRight={ICONS.DOWN}\n                        />\n                      )\n                    ) : (\n                      <Button\n                        label={__('Hide replies')}\n                        button=\"link\"\n                        onClick={() => setShowReplies(false)}\n                        iconRight={ICONS.UP}\n                      />\n                    )}\n                  </div>\n                )}\n\n                {isReplying && (\n                  <CommentCreate\n                    isReply\n                    uri={uri}\n                    parentId={commentId}\n                    onDoneReplying={() => {\n                      if (openNewThread) {\n                        handleOpenNewThread();\n                      } else {\n                        setShowReplies(true);\n                      }\n                      setReplying(false);\n                    }}\n                    onCancelReplying={() => {\n                      setReplying(false);\n                    }}\n                    supportDisabled={supportDisabled}\n                  />\n                )}\n              </>\n            )}\n          </div>\n        </div>\n\n        {showReplies &&\n          (repliesFetching && (!fetchedReplies || fetchedReplies.length === 0) ? (\n            <div className=\"empty empty--centered-tight\">\n              <Spinner type=\"small\" />\n            </div>\n          ) : (\n            <CommentsReplies\n              threadLevel={threadLevel}\n              uri={uri}\n              parentId={commentId}\n              linkedCommentId={linkedCommentId}\n              threadCommentId={threadCommentId}\n              numDirectReplies={numDirectReplies}\n              onShowMore={handleShowMore}\n              hasMore={page < totalReplyPages}\n              threadDepthLevel={threadDepthLevel}\n              updateUiFilteredComments={updateUiFilteredComments}\n            />\n          ))}\n      </div>\n    </li>\n  );\n}\n\nexport default CommentView;\n","// @flow\nimport type { Props } from './view';\nimport CommentView from './view';\nimport { connect } from 'react-redux';\nimport {\n  selectStakedLevelForChannelUri,\n  selectClaimForUri,\n  selectHasChannels,\n  selectMyClaimIdsRaw,\n  selectTitleForUri,\n  selectDateForUri,\n} from 'redux/selectors/claims';\nimport { doCommentUpdate, doCommentList } from 'redux/actions/comments';\nimport { doToast } from 'redux/actions/notifications';\nimport { doClearPlayingUri, doClearPlayingSource } from 'redux/actions/content';\nimport {\n  selectFetchedCommentAncestors,\n  selectOthersReactsForComment,\n  makeSelectTotalReplyPagesForParentId,\n  selectIsFetchingCommentsForParentId,\n  selectRepliesForParentId,\n} from 'redux/selectors/comments';\nimport { selectMembershipForCreatorOnlyIdAndChannelId, selectUserOdyseeMembership } from 'redux/selectors/memberships';\nimport { selectActiveChannelClaim } from 'redux/selectors/app';\nimport { selectPlayingUri } from 'redux/selectors/content';\nimport { selectUserVerifiedEmail } from 'redux/selectors/user';\nimport { getChannelIdFromClaim } from 'util/claim';\n\nconst select = (state, props) => {\n  const { comment, uri } = props;\n  const { comment_id, channel_url, channel_id } = comment || {};\n\n  const activeChannelClaim = selectActiveChannelClaim(state);\n  const activeChannelId = activeChannelClaim && activeChannelClaim.claim_id;\n  const reactionKey = activeChannelId ? `${comment_id}:${activeChannelId}` : comment_id;\n\n  const claim = selectClaimForUri(state, uri);\n  const creatorId = getChannelIdFromClaim(claim);\n  const channelAge = selectDateForUri(state, channel_url);\n\n  return {\n    myChannelIds: selectMyClaimIdsRaw(state),\n    claim,\n    commentingEnabled: Boolean(selectUserVerifiedEmail(state)),\n    othersReacts: selectOthersReactsForComment(state, reactionKey),\n    hasChannels: selectHasChannels(state),\n    playingUri: selectPlayingUri(state),\n    stakedLevel: selectStakedLevelForChannelUri(state, channel_url),\n    isCommenterChannelDeleted: selectClaimForUri(state, channel_url) === null,\n    linkedCommentAncestors: selectFetchedCommentAncestors(state),\n    totalReplyPages: makeSelectTotalReplyPagesForParentId(comment_id)(state),\n    odyseeMembership: selectUserOdyseeMembership(state, channel_id) || '',\n    creatorMembership: selectMembershipForCreatorOnlyIdAndChannelId(state, creatorId || '', channel_id) || '',\n    repliesFetching: selectIsFetchingCommentsForParentId(state, comment_id),\n    fetchedReplies: selectRepliesForParentId(state, comment_id),\n    authorTitle: channel_url ? selectTitleForUri(state, channel_url) : null,\n    channelAge,\n  };\n};\n\nconst perform = {\n  doClearPlayingUri,\n  doClearPlayingSource,\n  updateComment: doCommentUpdate,\n  fetchReplies: doCommentList,\n  doToast,\n};\n\nexport default connect<_, Props, _, _, _, _>(select, perform)(CommentView);\n","import { connect } from 'react-redux';\nimport CommentReactions from './view';\nimport { selectClaimIsMine, selectClaimForUri, makeSelectTagInClaimOrChannelForUri } from 'redux/selectors/claims';\nimport { doResolveUri } from 'redux/actions/claims';\nimport { doToast } from 'redux/actions/notifications';\nimport { selectMyReactsForComment, selectOthersReactsForComment } from 'redux/selectors/comments';\nimport { doCommentReact } from 'redux/actions/comments';\nimport { selectActiveChannelClaim } from 'redux/selectors/app';\nimport {\n  DISABLE_REACTIONS_ALL_TAG,\n  DISABLE_SLIMES_ALL_TAG,\n  DISABLE_SLIMES_COMMENTS_TAG,\n  DISABLE_REACTIONS_COMMENTS_TAG,\n} from 'constants/tags';\n\nconst select = (state, props) => {\n  const activeChannelClaim = selectActiveChannelClaim(state);\n  const activeChannelId = activeChannelClaim && activeChannelClaim.claim_id;\n  const reactionKey = activeChannelId ? `${props.commentId}:${activeChannelId}` : props.commentId;\n  const claim = selectClaimForUri(state, props.uri);\n\n  return {\n    claim,\n    disableReactions:\n      makeSelectTagInClaimOrChannelForUri(props.uri, DISABLE_REACTIONS_ALL_TAG)(state) ||\n      makeSelectTagInClaimOrChannelForUri(props.uri, DISABLE_REACTIONS_COMMENTS_TAG)(state),\n    disableSlimes:\n      makeSelectTagInClaimOrChannelForUri(props.uri, DISABLE_SLIMES_ALL_TAG)(state) ||\n      makeSelectTagInClaimOrChannelForUri(props.uri, DISABLE_SLIMES_COMMENTS_TAG)(state),\n    claimIsMine: selectClaimIsMine(state, claim),\n    myReacts: selectMyReactsForComment(state, reactionKey),\n    othersReacts: selectOthersReactsForComment(state, reactionKey),\n    activeChannelId,\n  };\n};\n\nconst perform = (dispatch) => ({\n  resolve: (uri) => dispatch(doResolveUri(uri)),\n  react: (commentId, type) => dispatch(doCommentReact(commentId, type)),\n  doToast: (params) => dispatch(doToast(params)),\n});\n\nexport default connect(select, perform)(CommentReactions);\n","// @flow\nimport { ENABLE_CREATOR_REACTIONS, SIMPLE_SITE } from 'config';\nimport * as ICONS from 'constants/icons';\nimport * as PAGES from 'constants/pages';\nimport * as REACTION_TYPES from 'constants/reactions';\nimport React from 'react';\nimport classnames from 'classnames';\nimport Button from 'component/button';\nimport ChannelThumbnail from 'component/channelThumbnail';\nimport { useHistory } from 'react-router';\nimport { useIsMobile } from 'effects/use-screensize';\n\ntype Props = {\n  myReacts: Array<string>,\n  disableReactions: boolean,\n  disableSlimes: boolean,\n  othersReacts: any,\n  react: (string, string) => void,\n  commentId: string,\n  pendingCommentReacts: Array<string>,\n  claimIsMine: boolean,\n  activeChannelId: ?string,\n  uri: string,\n  claim: ?ChannelClaim,\n  doToast: ({ message: string }) => void,\n  hideCreatorLike: boolean,\n  resolve: (string) => void,\n};\n\nexport default function CommentReactions(props: Props) {\n  const {\n    myReacts,\n    disableReactions,\n    disableSlimes,\n    othersReacts,\n    commentId,\n    react,\n    claimIsMine,\n    uri,\n    claim,\n    activeChannelId,\n    doToast,\n    hideCreatorLike,\n    resolve,\n  } = props;\n  const {\n    push,\n    location: { pathname },\n  } = useHistory();\n\n  const isMobile = useIsMobile();\n\n  React.useEffect(() => {\n    if (!claim) {\n      resolve(uri);\n    }\n  }, [claim, resolve, uri]);\n\n  const canCreatorReact =\n    claim &&\n    claimIsMine &&\n    (claim.value_type === 'channel'\n      ? claim.claim_id === activeChannelId\n      : claim.signing_channel && claim.signing_channel.claim_id === activeChannelId);\n  const authorUri =\n    claim && claim.value_type === 'channel'\n      ? claim.canonical_url\n      : claim && claim.signing_channel && claim.signing_channel.canonical_url;\n\n  const getCountForReact = (type) => {\n    let count = 0;\n    if (othersReacts && othersReacts[type]) {\n      count += othersReacts[type];\n    }\n    if (myReacts && myReacts.includes(type)) {\n      count += 1;\n    }\n    return count;\n  };\n  const shouldHide = !canCreatorReact && hideCreatorLike;\n  const creatorLiked = getCountForReact(REACTION_TYPES.CREATOR_LIKE) > 0;\n  const likeIcon = SIMPLE_SITE\n    ? myReacts && myReacts.includes(REACTION_TYPES.LIKE)\n      ? ICONS.FIRE_ACTIVE\n      : ICONS.FIRE\n    : ICONS.UPVOTE;\n  const dislikeIcon = SIMPLE_SITE\n    ? myReacts && myReacts.includes(REACTION_TYPES.DISLIKE)\n      ? ICONS.SLIME_ACTIVE\n      : ICONS.SLIME\n    : ICONS.DOWNVOTE;\n\n  function handleCommentLike() {\n    if (activeChannelId) {\n      react(commentId, REACTION_TYPES.LIKE);\n    } else {\n      promptForChannel();\n    }\n  }\n\n  function handleCommentDislike() {\n    if (activeChannelId) {\n      react(commentId, REACTION_TYPES.DISLIKE);\n    } else {\n      promptForChannel();\n    }\n  }\n\n  function promptForChannel() {\n    push(`/$/${PAGES.CHANNEL_NEW}?redirect=${pathname}&lc=${commentId}`);\n    doToast({ message: __('A channel is required to throw fire and slime') });\n  }\n\n  return (\n    <>\n      {!disableReactions && (\n        <>\n          <Button\n            requiresAuth={IS_WEB}\n            title={__('Upvote')}\n            icon={likeIcon}\n            iconSize={isMobile && 12}\n            className={classnames('comment__action button-like', {\n              'comment__action--active': myReacts && myReacts.includes(REACTION_TYPES.LIKE),\n            })}\n            onClick={handleCommentLike}\n            label={<span className=\"comment__reaction-count\">{getCountForReact(REACTION_TYPES.LIKE)}</span>}\n          />\n          {!disableSlimes && (\n            <Button\n              requiresAuth={IS_WEB}\n              title={__('Downvote')}\n              icon={dislikeIcon}\n              iconSize={isMobile && 12}\n              className={classnames('comment__action button-dislike', {\n                'comment__action--active': myReacts && myReacts.includes(REACTION_TYPES.DISLIKE),\n              })}\n              onClick={handleCommentDislike}\n              label={<span className=\"comment__reaction-count\">{getCountForReact(REACTION_TYPES.DISLIKE)}</span>}\n            />\n          )}\n        </>\n      )}\n\n      {!shouldHide && ENABLE_CREATOR_REACTIONS && (canCreatorReact || creatorLiked) && (\n        <Button\n          disabled={!canCreatorReact || !claimIsMine}\n          requiresAuth={IS_WEB}\n          title={claimIsMine ? __('You loved this') : __('Creator loved this')}\n          icon={creatorLiked ? ICONS.CREATOR_LIKE : ICONS.SUBSCRIBE}\n          className={classnames('comment__action comment__action--creator-like')}\n          onClick={() => react(commentId, REACTION_TYPES.CREATOR_LIKE)}\n        >\n          {creatorLiked && (\n            <ChannelThumbnail xsmall uri={authorUri} hideStakedIndicator className=\"comment__creator-like\" allowGifs />\n          )}\n        </Button>\n      )}\n    </>\n  );\n}\n","// @flow\nimport type { Props } from './view';\nimport CommentsReplies from './view';\nimport { connect } from 'react-redux';\nimport { selectIsFetchingCommentsForParentId, selectRepliesForParentId } from 'redux/selectors/comments';\n\nconst select = (state, props) => {\n  const { parentId } = props;\n\n  return {\n    fetchedReplies: selectRepliesForParentId(state, parentId),\n    isFetching: selectIsFetchingCommentsForParentId(state, parentId),\n  };\n};\n\nexport default connect<_, Props, _, _, _, _>(select, {})(CommentsReplies);\n","// @flow\nimport Button from 'component/button';\nimport CommentView from 'component/comment';\nimport React from 'react';\nimport Spinner from 'component/spinner';\n\n// ****************************************************************************\n// ****************************************************************************\n\nexport type Props = {|\n  uri?: string,\n  parentId: CommentId,\n  linkedCommentId?: string,\n  threadCommentId?: ?string,\n  numDirectReplies: number, // Total replies for parentId as reported by 'comment[replies]'. Includes blocked items.\n  hasMore: boolean,\n  supportDisabled?: boolean,\n  threadDepthLevel?: number,\n  onShowMore?: () => void,\n  threadLevel: number,\n  updateUiFilteredComments?: (commentIds: Array<string>) => void,\n|};\n\ntype StateProps = {|\n  fetchedReplies: Array<Comment>,\n  isFetching: boolean,\n|};\n\ntype DispatchProps = {||};\n\n// ****************************************************************************\n// CommentsReplies\n// ****************************************************************************\n\nexport default function CommentsReplies(props: Props & StateProps & DispatchProps) {\n  const {\n    uri,\n    fetchedReplies,\n    linkedCommentId,\n    threadCommentId,\n    numDirectReplies,\n    hasMore,\n    supportDisabled,\n    threadDepthLevel,\n    onShowMore,\n    threadLevel,\n    isFetching,\n    updateUiFilteredComments,\n  } = props;\n\n  return !numDirectReplies ? null : (\n    <div className=\"comment__replies-container\">\n      <ul className=\"comment__replies\">\n        {fetchedReplies.map((comment) => (\n          <CommentView\n            key={comment.comment_id}\n            uri={uri}\n            comment={comment}\n            linkedCommentId={linkedCommentId}\n            threadCommentId={threadCommentId}\n            supportDisabled={supportDisabled}\n            threadLevel={threadLevel + 1}\n            threadDepthLevel={threadDepthLevel}\n            updateUiFilteredComments={updateUiFilteredComments}\n          />\n        ))}\n      </ul>\n\n      {fetchedReplies.length > 0 &&\n        hasMore &&\n        (isFetching ? (\n          <span className=\"comment__actions--nested comment__replies-loading--more\">\n            <Spinner text={__('Loading')} type=\"small\" />\n          </span>\n        ) : (\n          <div className=\"comment__actions--nested\">\n            <Button\n              button=\"link\"\n              label={__('Show more')}\n              onClick={() => onShowMore && onShowMore()}\n              className=\"button--uri-indicator\"\n            />\n          </div>\n        ))}\n    </div>\n  );\n}\n"],"names":["COLLAPSED_HEIGHT","Expandable","props","children","childProps","containsImage","content","includes","ref","React","_React$useState2","_slicedToArray","expanded","setExpanded","_React$useState4","disabled","disableExpanded","_React$useState6","childRect","setRect","childOverflows","height","current","childElem","getBoundingClientRect","expandableRef","node","handleResize","useOnResize","ExpandableContext","value","className","classnames","Button","button","label","__","onClick","CommentCreate","lazyImport","_classnames","channelOwnerOfContent","comment","myChannelIds","_props$forceDisplayDe","forceDisplayDeadComment","doClearPlayingUri","claim","uri","updateComment","fetchReplies","totalReplyPages","linkedCommentId","threadCommentId","linkedCommentAncestors","commentingEnabled","hasChannels","doToast","isTopLevel","hideActions","hideContextMenu","othersReacts","playingUri","stakedLevel","isCommenterChannelDeleted","supportDisabled","setQuickReply","quickReply","odyseeMembership","creatorMembership","fetchedReplies","repliesFetching","_props$threadLevel","threadLevel","_props$threadDepthLev","threadDepthLevel","doClearPlayingSource","authorTitle","channelAge","updateUiFilteredComments","commentElemRef","authorUri","channel_url","author","channel_name","channelId","channel_id","commentId","comment_id","message","isFiat","is_fiat","isGlobalMod","is_global_mod","isModerator","is_moderator","isPinned","is_pinned","supportAmount","support_amount","numDirectReplies","replies","claimName","timePosted","timestamp","commentIsEdited","parseInt","signing_ts","THRESHOLD_MS","commentIsMine","isMobile","useIsMobile","ROUGH_HEADER_HEIGHT","openNewThread","_useHistory","useHistory","push","replace","_useHistory$location","location","pathname","search","urlParams","URLSearchParams","isLinkedComment","isThreadComment","isInLinkedCommentChain","showRepliesOnMount","isReplying","setReplying","_useState2","useState","isEditing","setEditing","_useState4","editedMessage","setCommentValue","_useState6","length","charCount","setCharCount","_useState8","showReplies","setShowReplies","_useState10","page","setPage","advancedEditor","usePersistedState","displayDeadComment","setDisplayDeadComment","likesCount","like","dislikesCount","dislike","totalLikesAndDislikes","contentChannelClaim","getChannelFromClaim","commentByOwnerOfContent","permanent_url","slimedToDeath","stickerFromMessage","parseSticker","isSprout","Math","round","Date","channelName","parseURI","e","_handleEditComment","source","claimLink","querySelector","concat","INLINE_PLAYER_WRAPPER_CLASS","sourceId","id","handleSubmit","_objectSpread","handleOpenNewThread","set","LINKED_COMMENT_QUERY_PARAM","THREAD_COMMENT_QUERY_PARAM","console","log","toString","window","cordova","odysee","functions","history","useEffect","handleEscape","event","keyCode","KEYCODES","addEventListener","removeEventListener","COMMENT_PAGE_SIZE_REPLIES","SORT_BY","handleShowMore","prev","linkedCommentRef","pendingLinkedCommentScroll","mobileChatElem","document","elem","scrollTo","top","scrollY","left","behavior","fetchedReplyIds","map","r","_toConsumableArray","ChannelThumbnail","xsmall","checkMembership","_defineProperty","COMMENT_HIGHLIGHTED","Menu","MenuButton","stopPropagation","CommentMenuList","isUserLabel","handleEditComment","CommentBadge","icon","ICONS","size","MembershipBadge","membershipName","linkPage","DateTime","date","timeAgo","CreditAmount","amount","superChatLight","Icon","channel","Form","onSubmit","FormField","type","SIMPLE_SITE","name","onChange","target","textAreaMaxLength","FF_MAX_CHARS_IN_COMMENT","requiresAuth","IS_WEB","OptimizedImage","src","url","waitLoad","loading","MarkdownPreview","promptLinks","parentCommentId","hasMembership","Boolean","PAGES","SITE_NAME","iconSize","ENABLE_COMMENT_REACTIONS","CommentReactions","iconRight","count","isReply","parentId","onDoneReplying","onCancelReplying","CommentsReplies","onShowMore","hasMore","Spinner","perform","doCommentUpdate","doCommentList","connect","state","_ref","activeChannelClaim","selectActiveChannelClaim","activeChannelId","claim_id","reactionKey","selectClaimForUri","creatorId","getChannelIdFromClaim","selectDateForUri","selectMyClaimIdsRaw","selectUserVerifiedEmail","selectOthersReactsForComment","selectHasChannels","selectPlayingUri","selectStakedLevelForChannelUri","selectFetchedCommentAncestors","makeSelectTotalReplyPagesForParentId","selectUserOdyseeMembership","selectMembershipForCreatorOnlyIdAndChannelId","selectIsFetchingCommentsForParentId","selectRepliesForParentId","selectTitleForUri","CommentView","disableReactions","makeSelectTagInClaimOrChannelForUri","DISABLE_REACTIONS_ALL_TAG","DISABLE_REACTIONS_COMMENTS_TAG","disableSlimes","DISABLE_SLIMES_ALL_TAG","DISABLE_SLIMES_COMMENTS_TAG","claimIsMine","selectClaimIsMine","myReacts","selectMyReactsForComment","dispatch","resolve","doResolveUri","react","doCommentReact","params","_doToast","hideCreatorLike","canCreatorReact","value_type","signing_channel","canonical_url","getCountForReact","shouldHide","creatorLiked","REACTION_TYPES","likeIcon","dislikeIcon","promptForChannel","title","ENABLE_CREATOR_REACTIONS","hideStakedIndicator","allowGifs","isFetching","key","text"],"sourceRoot":""}