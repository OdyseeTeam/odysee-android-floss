"use strict";(self.webpackChunkodysee_com=self.webpackChunkodysee_com||[]).push([[1909],{57430:(t,e,n)=>{n.r(e),n.d(e,{default:()=>U});var i=n(24582),r=n(43181),a=n(17185),o=n(88374),c=n(33441),l=n(96284),s=n(77369),u=n(88441),f=n(4440),m=n(91616),A=n(94720),d=n(55718),b=n(44908),p=n(29679),g=n(16062),v=n(28398),y=n(19771),C=n(42769),_=n(1892),E=n.n(_),h=n(95760),w=n.n(h),N=n(38311),x=n.n(N),k=n(58192),I=n.n(k),O=n(38060),B=n.n(O),T=n(54865),F=n.n(T),S=n(10051),j={};j.styleTagTransform=F(),j.setAttributes=I(),j.insert=x().bind(null,"head"),j.domAPI=w(),j.insertStyleElement=B();E()(S.Z,j);S.Z&&S.Z.locals&&S.Z.locals;var Z=n(71036).__;function M(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,a,o,c=[],l=!0,s=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(c.push(i.value),c.length!==e);l=!0);}catch(t){s=!0,r=t}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}const D=function(){var t=(0,C.Z)(),e=t.pushInitialized,n=t.pushSupported,i=t.pushEnabled,r=t.pushPermission,a=t.pushToggle,o=t.pushErrorModal,c=M((0,p.Z)("push-nag",!1),2),f=c[0],m=c[1];if(!e||!n||i||"denied"===r||f||window.cordova)return null;return u.createElement(u.Fragment,null,u.createElement("div",{className:"browser-notifications__banner notice-message"},u.createElement("div",{className:"browser-notifications__overview"},u.createElement(l.default,{className:"browser-notifications__icon",icon:s.NOTIFICATION,size:32}),u.createElement("p",null,u.createElement("strong",null,Z("Realtime push notifications straight to your browser.")),u.createElement("br",null),u.createElement("span",{className:"notifications-blocked__subText"},Z("Don't miss another notification again.")))),u.createElement("div",{className:"browser-notifications__actions"},u.createElement(b.default,{className:"browser-notifications__button",button:"primary",title:Z("Enable Push Notifications"),label:Z("Enable Push Notifications"),onClick:a}),u.createElement(b.default,{button:"close",title:Z("Dismiss"),icon:s.REMOVE,onClick:function(){return m(!0)}}))),o())},Y=(0,i.$j)()(D);var P=n(71036).__;function G(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,a,o,c=[],l=!0,s=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(c.push(i.value),c.length!==e);l=!0);}catch(t){s=!0,r=t}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return J(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}const U=(0,i.$j)((function(t){return{notifications:(0,r._6)(t),notificationsFiltered:(0,r.UP)(t),notificationCategories:(0,r.b9)(t),fetching:(0,r.ar)(t),unreadCount:(0,r.aY)(t),unseenCount:(0,r.sU)(t),activeChannel:(0,o.YG)(t)}}),{doReadNotifications:c.lH,doNotificationList:c.z_,doNotificationCategories:c.jA,doSeeAllNotifications:c.BR,doCommentReactList:a.wk})((function(t){var e=t.notifications,n=t.notificationsFiltered,i=t.fetching,r=t.unreadCount,a=t.unseenCount,o=t.doSeeAllNotifications,c=t.doReadNotifications,C=t.doNotificationList,_=t.doNotificationCategories,E=t.notificationCategories,h=t.activeChannel,w=t.doCommentReactList,N=G((0,p.Z)("notifications--rule",v.Wc),2),x=N[0],k=N[1],I=x!==v.Wc,O=I?n:e,B=(0,y.Z)(i),T=E&&(!I||B);u.useEffect((function(){if(T&&!i&&h){var t=[];O.map((function(e){var n=e.notification_rule,i=e.notification_parameters,r=(n===v.gv.COMMENT||n===v.gv.COMMENT_REPLY||n===v.gv.CREATOR_COMMENT)&&i&&i.dynamic&&i.dynamic.hash;r&&t.push(r)})),0!==t.length&&w(t)}}),[T,w,O,h,i]),u.useEffect((function(){a>0&&o()}),[a,o]);var F=E?JSON.stringify(E):"";return u.useEffect((function(){if(F){var t=JSON.parse(F);if(x!==v.Wc)try{var e=t.find((function(t){return t.name===x}));e&&C(e.types,!1)}catch(t){console.error(t)}}}),[x,F,C]),u.useEffect((function(){E||_()}),[]),u.createElement(f.Z,{className:"notification-page"},u.createElement(Y,null),T&&u.createElement("div",{className:"claim-list__header"},u.createElement("h1",{className:"page__title"},u.createElement(l.default,{icon:s.NOTIFICATION}),u.createElement("label",null,P("Notifications"))),u.createElement("div",{className:"claim-list__alt-controls--wrap"},i&&u.createElement(m.Z,{type:"small",delayed:!0}),r>0&&u.createElement(b.default,{icon:s.EYE,onClick:c,button:"secondary",label:P("Mark all as read")}),E&&u.createElement(A.Wi,{type:"select",name:"filter",value:x,onChange:function(t){return k(t.target.value)}},E.map((function(t){return u.createElement("option",{key:t.name,value:t.name},P(t.name))}))))),T?!(O&&O.length>0)||I&&i?u.createElement("div",{className:"main--empty"},!i&&u.createElement(g.Z,{title:P("No notifications"),subtitle:P(I?"Try selecting another filter.":"You don't have any notifications yet, but they will be here when you do!"),actions:u.createElement("div",{className:"section__actions"},u.createElement(b.default,{button:"primary",icon:s.HOME,label:P("Go Home"),navigate:"/"}))})):u.createElement("div",{className:"card"},u.createElement("div",{className:"notification_list"},O.map((function(t){return u.createElement(d.Z,{key:t.id,notification:t})})))):u.createElement("div",{className:"main--empty"},u.createElement(m.Z,null)))}))},10051:(t,e,n)=>{n.d(e,{Z:()=>c});var i=n(26612),r=n.n(i),a=n(40805),o=n.n(a)()(r());o.push([t.id,".browser-notifications__banner{align-items:center;display:flex;justify-content:space-between;width:100%}[dir] .browser-notifications__banner{background-color:rgba(var(--color-primary-static),.1);border:2px solid var(--color-primary);margin-bottom:var(--spacing-xl)}@media(max-width:900px){.browser-notifications__banner{flex-direction:column}[dir] .browser-notifications__banner{margin-bottom:var(--spacing-m)}}.browser-notifications__actions{align-items:center;display:flex}@media(max-width:900px){[dir] .browser-notifications__actions{margin-top:var(--spacing-l)}}.browser-notifications__overview{align-items:center;display:flex}.browser-notifications__icon{flex-shrink:0}[dir=ltr] .browser-notifications__icon{margin-right:var(--spacing-m)}[dir=rtl] .browser-notifications__icon{margin-left:var(--spacing-m)}[dir=ltr] .browser-notifications__button{margin-right:var(--spacing-m)}[dir=rtl] .browser-notifications__button{margin-left:var(--spacing-m)}.notifications-blocked__subText{color:var(--color-text-subtitle);font-size:var(--font-small)}","",{version:3,sources:["webpack://./../ui/scss/component/notifications-banner.scss"],names:[],mappings:"AAEA,+BAEE,kBAAA,CADA,YAAA,CAGA,6BAAA,CAGA,UAAA,CAPF,qCAME,qDAAA,CADA,qCAAA,CAFA,+BAIA,CAEA,wBATF,+BAUI,qBACA,CAXJ,qCAWI,8BAAA,CAAA,CAIJ,gCAEE,kBAAA,CADA,YACA,CAEA,wBAJF,sCAKI,2BAAA,CAAA,CAIJ,iCAEE,kBAAA,CADA,YACA,CAGF,6BAEE,aAAA,CAFF,uCACE,6BACA,CAFF,uCACE,4BACA,CAEF,yCACE,6BAAA,CADF,yCACE,4BAAA,CAGF,gCACE,gCAAA,CACA,2BAAA",sourcesContent:["@import '../init/breakpoints';\n\n.browser-notifications__banner {\n  display: flex;\n  align-items: center;\n  margin-bottom: var(--spacing-xl);\n  justify-content: space-between;\n  border: 2px solid var(--color-primary);\n  background-color: rgba(var(--color-primary-static), 0.1);\n  width: 100%;\n\n  @media (max-width: $breakpoint-small) {\n    flex-direction: column;\n    margin-bottom: var(--spacing-m);\n  }\n}\n\n.browser-notifications__actions {\n  display: flex;\n  align-items: center;\n\n  @media (max-width: $breakpoint-small) {\n    margin-top: var(--spacing-l);\n  }\n}\n\n.browser-notifications__overview {\n  display: flex;\n  align-items: center;\n}\n\n.browser-notifications__icon {\n  margin-right: var(--spacing-m);\n  flex-shrink: 0;\n}\n.browser-notifications__button {\n  margin-right: var(--spacing-m);\n}\n\n.notifications-blocked__subText {\n  color: var(--color-text-subtitle);\n  font-size: var(--font-small);\n}\n"],sourceRoot:""}]);const c=o}}]);
//# sourceMappingURL=notifications-5cf1c0ffe2c515c90360-1009.js.map