"use strict";(self.webpackChunkodysee_com=self.webpackChunkodysee_com||[]).push([[1174],{72498:(e,n,t)=>{t.r(n),t.d(n,{default:()=>y});var a=t(24582),l=t(88374),r=t(81352),c=t(52705),i=t(88441),s=t(22768),u=t.n(s),m=t(53389),o=t(15184),h=t(16062),d=t(44908),b=t(85442),_=t(91960),p=t(71036).__;const E=function(e){var n=e.channelsToList,t=e.switchToTiersTab,a=e.supportersList,l=e.channelMembershipTiers,r=e.doResolveClaimIds,c=e.paymentsBySubscriber,s=i.useMemo((function(){return Boolean(n&&n.some((function(e){return a&&a.some((function(n){return e.name===n.supported_channel_name}))})))}),[n,a]),E=n&&1===n.length;return i.useEffect((function(){if(a){var e=a.map((function(e){return e.subscriber_channel_claim_id}));r(e)}}),[a,r]),E&&!l?i.createElement(b.Z,{title:p("This channel doesn't have any Tiers"),subtitle:p("To be able to begin receiving payments you have to add at least 1 Tier to your channel."),action:i.createElement(d.default,{button:"primary",label:p("Add a Tier"),onClick:t})}):s?i.createElement(i.Fragment,null,i.createElement("div",{className:"membership-table__wrapper"},n&&n.map((function(e){var n=a?a.filter((function(n){return e.name===n.supported_channel_name})).sort((function(e,n){return new Date(n.joined_at).getTime()-new Date(e.joined_at).getTime()})):[],t=n?n.filter((function(e){return"anonymous"!==e.subscriber_channel_name})):[],r=n?n.filter((function(e){return"anonymous"===e.subscriber_channel_name})):[],s=r.reduce((function(e,n){return e+n.price}),0);return t&&t.length>0&&i.createElement(i.Fragment,{key:e.claim_id},i.createElement("div",{className:"table-channel-header"},(!E||!l)&&i.createElement(o.Z,{xsmall:!0,uri:e.canonical_url}),(!E||!l)&&(e.value.title||e.name)),i.createElement("div",null,r.length?"".concat(r.length," anonymous supporters contributed $").concat((s/100).toFixed(2),"!"):null),i.createElement("div",{className:"membership-table__wrapper"},i.createElement("table",{className:"table"},i.createElement("thead",null,i.createElement("tr",null,i.createElement("th",{className:"channelName-header",colSpan:"2"},p("Channel Name")),i.createElement("th",null,p("Tier")),i.createElement("th",null,p("Amount")),i.createElement("th",null,p("Joined On")),i.createElement("th",null,p("Latest Payment")),i.createElement("th",null,p("Months Supporting")))),i.createElement("tbody",null,t.map((function(e,n){var t,a,l=""===e.subscriber_channel_name?void 0:(0,m.buildURI)({channelName:e.subscriber_channel_name,channelClaimId:e.subscriber_channel_claim_id});return i.createElement("tr",{key:n},i.createElement("td",{className:"channelThumbnail"},l?i.createElement(_.Z,{focusable:!1,uri:l,link:!0},i.createElement(o.Z,{xsmall:!0,link:!0,uri:l})):p("Anonymous")),i.createElement("td",null,i.createElement("span",{dir:"auto",className:"button__label"},""===e.subscriber_channel_name?p("Anonymous"):i.createElement(_.Z,{link:!0,uri:l}))),i.createElement("td",null,e.membership_name),i.createElement("td",null,"$",e.price/100," USD / Month"),i.createElement("td",null,u()(new Date(e.joined_at)).format("LL")),i.createElement("td",null,c[e.subscriber_channel_claim_id]?u()(new Date((t=c[e.subscriber_channel_claim_id],a=t.reverse().find((function(e){return"submitted"===e.status||"paid"===e.status}))||{},"submitted"===a.status?a.initiated_at:a.completed_at))).format("LL"):""),i.createElement("td",null,c[e.subscriber_channel_claim_id]&&c[e.subscriber_channel_claim_id].filter((function(e){return"paid"===e.status||"submitted"===e.status})).length))}))))))})))):i.createElement(h.Z,{title:p(E?"This channel has no supporters yet":"No supporters yet"),subtitle:p("Once you have supporters, they will appear here.")})};var f={doResolveClaimIds:c.Bf};const y=(0,a.$j)((function(e){var n=(0,l.YG)(e);return{channelMembershipTiers:n&&(0,r.RM)(e,n.claim_id),supportersList:(0,r.Sv)(e),paymentsBySubscriber:(0,r.lE)(e)}}),f)(E)}}]);
//# sourceMappingURL=supportersTab-12e7e8fbe67f4dc7bdd6-1009.js.map