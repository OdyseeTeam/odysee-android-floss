(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["comments"],{

/***/ "../ui/component/commentsList/index.js":
/*!*********************************************!*\
  !*** ../ui/component/commentsList/index.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ \"../node_modules/react-redux/es/index.js\");\n/* harmony import */ var redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! redux/selectors/claims */ \"../ui/redux/selectors/claims.js\");\n/* harmony import */ var redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! redux/selectors/comments */ \"../ui/redux/selectors/comments.js\");\n/* harmony import */ var redux_actions_comments__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! redux/actions/comments */ \"../ui/redux/actions/comments.js\");\n/* harmony import */ var redux_actions_content__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! redux/actions/content */ \"../ui/redux/actions/content.js\");\n/* harmony import */ var redux_selectors_app__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! redux/selectors/app */ \"../ui/redux/selectors/app.js\");\n/* harmony import */ var util_claim__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! util/claim */ \"../ui/util/claim.js\");\n/* harmony import */ var redux_actions_user__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! redux/actions/user */ \"../ui/redux/actions/user.js\");\n/* harmony import */ var _view__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./view */ \"../ui/component/commentsList/view.jsx\");\n\n\n\n\n\n\n\n\n\n\nvar select = function select(state, props) {\n  var uri = props.uri,\n      threadCommentId = props.threadCommentId,\n      linkedCommentId = props.linkedCommentId;\n  var claim = Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__[\"selectClaimForUri\"])(state, uri);\n  var channelId = Object(util_claim__WEBPACK_IMPORTED_MODULE_6__[\"getChannelIdFromClaim\"])(claim);\n  var activeChannelClaim = Object(redux_selectors_app__WEBPACK_IMPORTED_MODULE_5__[\"selectActiveChannelClaim\"])(state);\n  var threadComment = Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"selectCommentForCommentId\"])(state, threadCommentId);\n  return {\n    topLevelComments: threadComment ? [threadComment] : Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"selectTopLevelCommentsForUri\"])(state, uri),\n    threadComment: threadComment,\n    allCommentIds: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"selectCommentIdsForUri\"])(state, uri),\n    pinnedComments: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"selectPinnedCommentsForUri\"])(state, uri),\n    topLevelTotalPages: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"makeSelectTopLevelTotalPagesForUri\"])(uri)(state),\n    totalComments: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"selectTotalCommentsCountForUri\"])(state, uri),\n    claimId: claim && claim.claim_id,\n    claimIsMine: Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__[\"selectClaimIsMine\"])(state, claim),\n    isFetchingComments: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"selectIsFetchingComments\"])(state),\n    isFetchingTopLevelComments: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"selectIsFetchingTopLevelComments\"])(state),\n    isFetchingReacts: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"selectIsFetchingReacts\"])(state),\n    fetchingChannels: Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__[\"selectFetchingMyChannels\"])(state),\n    commentsEnabledSetting: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"selectCommentsEnabledSettingForChannelId\"])(state, channelId),\n    myReactsByCommentId: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"selectMyReacts\"])(state),\n    othersReactsById: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"selectOthersReacts\"])(state),\n    activeChannelId: activeChannelClaim && activeChannelClaim.claim_id,\n    claimsByUri: Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__[\"selectClaimsByUri\"])(state),\n    threadCommentAncestors: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"selectCommentAncestorsForId\"])(state, threadCommentId),\n    linkedCommentAncestors: Object(redux_selectors_comments__WEBPACK_IMPORTED_MODULE_2__[\"selectCommentAncestorsForId\"])(state, linkedCommentId)\n  };\n};\n\nvar perform = {\n  fetchTopLevelComments: redux_actions_comments__WEBPACK_IMPORTED_MODULE_3__[\"doCommentList\"],\n  fetchComment: redux_actions_comments__WEBPACK_IMPORTED_MODULE_3__[\"doCommentById\"],\n  fetchReacts: redux_actions_comments__WEBPACK_IMPORTED_MODULE_3__[\"doCommentReactList\"],\n  resetComments: redux_actions_comments__WEBPACK_IMPORTED_MODULE_3__[\"doCommentReset\"],\n  doFetchUserMemberships: redux_actions_user__WEBPACK_IMPORTED_MODULE_7__[\"doFetchUserMemberships\"],\n  doPopOutInlinePlayer: redux_actions_content__WEBPACK_IMPORTED_MODULE_4__[\"doPopOutInlinePlayer\"]\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_0__[\"connect\"])(select, perform)(_view__WEBPACK_IMPORTED_MODULE_8__[\"default\"]));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L2NvbW1lbnRzTGlzdC9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi91aS9jb21wb25lbnQvY29tbWVudHNMaXN0L2luZGV4LmpzPzRkN2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7XG4gIHNlbGVjdENsYWltRm9yVXJpLFxuICBzZWxlY3RDbGFpbUlzTWluZSxcbiAgc2VsZWN0RmV0Y2hpbmdNeUNoYW5uZWxzLFxuICBzZWxlY3RDbGFpbXNCeVVyaSxcbn0gZnJvbSAncmVkdXgvc2VsZWN0b3JzL2NsYWltcyc7XG5pbXBvcnQge1xuICBzZWxlY3RUb3BMZXZlbENvbW1lbnRzRm9yVXJpLFxuICBtYWtlU2VsZWN0VG9wTGV2ZWxUb3RhbFBhZ2VzRm9yVXJpLFxuICBzZWxlY3RJc0ZldGNoaW5nQ29tbWVudHMsXG4gIHNlbGVjdElzRmV0Y2hpbmdUb3BMZXZlbENvbW1lbnRzLFxuICBzZWxlY3RJc0ZldGNoaW5nUmVhY3RzLFxuICBzZWxlY3RUb3RhbENvbW1lbnRzQ291bnRGb3JVcmksXG4gIHNlbGVjdE90aGVyc1JlYWN0cyxcbiAgc2VsZWN0TXlSZWFjdHMsXG4gIHNlbGVjdENvbW1lbnRJZHNGb3JVcmksXG4gIHNlbGVjdENvbW1lbnRzRW5hYmxlZFNldHRpbmdGb3JDaGFubmVsSWQsXG4gIHNlbGVjdFBpbm5lZENvbW1lbnRzRm9yVXJpLFxuICBzZWxlY3RDb21tZW50Rm9yQ29tbWVudElkLFxuICBzZWxlY3RDb21tZW50QW5jZXN0b3JzRm9ySWQsXG59IGZyb20gJ3JlZHV4L3NlbGVjdG9ycy9jb21tZW50cyc7XG5pbXBvcnQgeyBkb0NvbW1lbnRSZXNldCwgZG9Db21tZW50TGlzdCwgZG9Db21tZW50QnlJZCwgZG9Db21tZW50UmVhY3RMaXN0IH0gZnJvbSAncmVkdXgvYWN0aW9ucy9jb21tZW50cyc7XG5pbXBvcnQgeyBkb1BvcE91dElubGluZVBsYXllciB9IGZyb20gJ3JlZHV4L2FjdGlvbnMvY29udGVudCc7XG5pbXBvcnQgeyBzZWxlY3RBY3RpdmVDaGFubmVsQ2xhaW0gfSBmcm9tICdyZWR1eC9zZWxlY3RvcnMvYXBwJztcbmltcG9ydCB7IGdldENoYW5uZWxJZEZyb21DbGFpbSB9IGZyb20gJ3V0aWwvY2xhaW0nO1xuaW1wb3J0IHsgZG9GZXRjaFVzZXJNZW1iZXJzaGlwcyB9IGZyb20gJ3JlZHV4L2FjdGlvbnMvdXNlcic7XG5pbXBvcnQgQ29tbWVudHNMaXN0IGZyb20gJy4vdmlldyc7XG5cbmNvbnN0IHNlbGVjdCA9IChzdGF0ZSwgcHJvcHMpID0+IHtcbiAgY29uc3QgeyB1cmksIHRocmVhZENvbW1lbnRJZCwgbGlua2VkQ29tbWVudElkIH0gPSBwcm9wcztcblxuICBjb25zdCBjbGFpbSA9IHNlbGVjdENsYWltRm9yVXJpKHN0YXRlLCB1cmkpO1xuICBjb25zdCBjaGFubmVsSWQgPSBnZXRDaGFubmVsSWRGcm9tQ2xhaW0oY2xhaW0pO1xuICBjb25zdCBhY3RpdmVDaGFubmVsQ2xhaW0gPSBzZWxlY3RBY3RpdmVDaGFubmVsQ2xhaW0oc3RhdGUpO1xuICBjb25zdCB0aHJlYWRDb21tZW50ID0gc2VsZWN0Q29tbWVudEZvckNvbW1lbnRJZChzdGF0ZSwgdGhyZWFkQ29tbWVudElkKTtcblxuICByZXR1cm4ge1xuICAgIHRvcExldmVsQ29tbWVudHM6IHRocmVhZENvbW1lbnQgPyBbdGhyZWFkQ29tbWVudF0gOiBzZWxlY3RUb3BMZXZlbENvbW1lbnRzRm9yVXJpKHN0YXRlLCB1cmkpLFxuICAgIHRocmVhZENvbW1lbnQsXG4gICAgYWxsQ29tbWVudElkczogc2VsZWN0Q29tbWVudElkc0ZvclVyaShzdGF0ZSwgdXJpKSxcbiAgICBwaW5uZWRDb21tZW50czogc2VsZWN0UGlubmVkQ29tbWVudHNGb3JVcmkoc3RhdGUsIHVyaSksXG4gICAgdG9wTGV2ZWxUb3RhbFBhZ2VzOiBtYWtlU2VsZWN0VG9wTGV2ZWxUb3RhbFBhZ2VzRm9yVXJpKHVyaSkoc3RhdGUpLFxuICAgIHRvdGFsQ29tbWVudHM6IHNlbGVjdFRvdGFsQ29tbWVudHNDb3VudEZvclVyaShzdGF0ZSwgdXJpKSxcbiAgICBjbGFpbUlkOiBjbGFpbSAmJiBjbGFpbS5jbGFpbV9pZCxcbiAgICBjbGFpbUlzTWluZTogc2VsZWN0Q2xhaW1Jc01pbmUoc3RhdGUsIGNsYWltKSxcbiAgICBpc0ZldGNoaW5nQ29tbWVudHM6IHNlbGVjdElzRmV0Y2hpbmdDb21tZW50cyhzdGF0ZSksXG4gICAgaXNGZXRjaGluZ1RvcExldmVsQ29tbWVudHM6IHNlbGVjdElzRmV0Y2hpbmdUb3BMZXZlbENvbW1lbnRzKHN0YXRlKSxcbiAgICBpc0ZldGNoaW5nUmVhY3RzOiBzZWxlY3RJc0ZldGNoaW5nUmVhY3RzKHN0YXRlKSxcbiAgICBmZXRjaGluZ0NoYW5uZWxzOiBzZWxlY3RGZXRjaGluZ015Q2hhbm5lbHMoc3RhdGUpLFxuICAgIGNvbW1lbnRzRW5hYmxlZFNldHRpbmc6IHNlbGVjdENvbW1lbnRzRW5hYmxlZFNldHRpbmdGb3JDaGFubmVsSWQoc3RhdGUsIGNoYW5uZWxJZCksXG4gICAgbXlSZWFjdHNCeUNvbW1lbnRJZDogc2VsZWN0TXlSZWFjdHMoc3RhdGUpLFxuICAgIG90aGVyc1JlYWN0c0J5SWQ6IHNlbGVjdE90aGVyc1JlYWN0cyhzdGF0ZSksXG4gICAgYWN0aXZlQ2hhbm5lbElkOiBhY3RpdmVDaGFubmVsQ2xhaW0gJiYgYWN0aXZlQ2hhbm5lbENsYWltLmNsYWltX2lkLFxuICAgIGNsYWltc0J5VXJpOiBzZWxlY3RDbGFpbXNCeVVyaShzdGF0ZSksXG4gICAgdGhyZWFkQ29tbWVudEFuY2VzdG9yczogc2VsZWN0Q29tbWVudEFuY2VzdG9yc0ZvcklkKHN0YXRlLCB0aHJlYWRDb21tZW50SWQpLFxuICAgIGxpbmtlZENvbW1lbnRBbmNlc3RvcnM6IHNlbGVjdENvbW1lbnRBbmNlc3RvcnNGb3JJZChzdGF0ZSwgbGlua2VkQ29tbWVudElkKSxcbiAgfTtcbn07XG5cbmNvbnN0IHBlcmZvcm0gPSB7XG4gIGZldGNoVG9wTGV2ZWxDb21tZW50czogZG9Db21tZW50TGlzdCxcbiAgZmV0Y2hDb21tZW50OiBkb0NvbW1lbnRCeUlkLFxuICBmZXRjaFJlYWN0czogZG9Db21tZW50UmVhY3RMaXN0LFxuICByZXNldENvbW1lbnRzOiBkb0NvbW1lbnRSZXNldCxcbiAgZG9GZXRjaFVzZXJNZW1iZXJzaGlwcyxcbiAgZG9Qb3BPdXRJbmxpbmVQbGF5ZXIsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KHNlbGVjdCwgcGVyZm9ybSkoQ29tbWVudHNMaXN0KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBTUE7QUFlQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbkJBO0FBUkE7QUFDQTtBQThCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBU0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../ui/component/commentsList/index.js\n");

/***/ }),

/***/ "../ui/component/commentsList/view.jsx":
/*!*********************************************!*\
  !*** ../ui/component/commentsList/view.jsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CommentList; });\n/* harmony import */ var constants_comment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! constants/comment */ \"../ui/constants/comment.js\");\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! config */ \"../config.js\");\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(config__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var effects_use_screensize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! effects/use-screensize */ \"../ui/effects/use-screensize.js\");\n/* harmony import */ var util_comments__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! util/comments */ \"../ui/util/comments.js\");\n/* harmony import */ var constants_icons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! constants/icons */ \"../ui/constants/icons.js\");\n/* harmony import */ var constants_reactions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! constants/reactions */ \"../ui/constants/reactions.js\");\n/* harmony import */ var component_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! component/button */ \"../ui/component/button/index.js\");\n/* harmony import */ var component_common_card__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! component/common/card */ \"../ui/component/common/card.jsx\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! classnames */ \"../node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var component_commentCreate__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! component/commentCreate */ \"../ui/component/commentCreate/index.js\");\n/* harmony import */ var component_comment__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! component/comment */ \"../ui/component/comment/index.js\");\n/* harmony import */ var util_debounce__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! util/debounce */ \"../ui/util/debounce.js\");\n/* harmony import */ var component_common_empty__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! component/common/empty */ \"../ui/component/common/empty.jsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var component_spinner__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! component/spinner */ \"../ui/component/spinner/index.js\");\n/* harmony import */ var effects_use_persisted_state__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! effects/use-persisted-state */ \"../ui/effects/use-persisted-state.js\");\n/* harmony import */ var effects_use_get_user_memberships__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! effects/use-get-user-memberships */ \"../ui/effects/use-get-user-memberships.js\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! react-router-dom */ \"../node_modules/react-router-dom/esm/react-router-dom.js\");\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar DEBOUNCE_SCROLL_HANDLER_MS = 200;\n\nfunction scaleToDevicePixelRatio(value) {\n  var devicePixelRatio = window.devicePixelRatio || 1.0;\n\n  if (devicePixelRatio < 1.0) {\n    return Math.ceil(value / devicePixelRatio);\n  }\n\n  return Math.ceil(value * devicePixelRatio);\n}\n\nfunction CommentList(props) {\n  var allCommentIds = props.allCommentIds,\n      uri = props.uri,\n      pinnedComments = props.pinnedComments,\n      topLevelComments = props.topLevelComments,\n      topLevelTotalPages = props.topLevelTotalPages,\n      claimId = props.claimId,\n      claimIsMine = props.claimIsMine,\n      isFetchingComments = props.isFetchingComments,\n      isFetchingTopLevelComments = props.isFetchingTopLevelComments,\n      isFetchingReacts = props.isFetchingReacts,\n      linkedCommentId = props.linkedCommentId,\n      totalComments = props.totalComments,\n      fetchingChannels = props.fetchingChannels,\n      myReactsByCommentId = props.myReactsByCommentId,\n      othersReactsById = props.othersReactsById,\n      activeChannelId = props.activeChannelId,\n      commentsEnabledSetting = props.commentsEnabledSetting,\n      commentsAreExpanded = props.commentsAreExpanded,\n      threadCommentId = props.threadCommentId,\n      threadComment = props.threadComment,\n      notInDrawer = props.notInDrawer,\n      threadCommentAncestors = props.threadCommentAncestors,\n      linkedCommentAncestors = props.linkedCommentAncestors,\n      fetchTopLevelComments = props.fetchTopLevelComments,\n      fetchComment = props.fetchComment,\n      fetchReacts = props.fetchReacts,\n      resetComments = props.resetComments,\n      claimsByUri = props.claimsByUri,\n      doFetchUserMemberships = props.doFetchUserMemberships,\n      doPopOutInlinePlayer = props.doPopOutInlinePlayer;\n  var threadRedirect = react__WEBPACK_IMPORTED_MODULE_13___default.a.useRef(false);\n\n  var _useHistory = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_17__[\"useHistory\"])(),\n      push = _useHistory.push,\n      _useHistory$location = _useHistory.location,\n      pathname = _useHistory$location.pathname,\n      search = _useHistory$location.search;\n\n  var isMobile = Object(effects_use_screensize__WEBPACK_IMPORTED_MODULE_2__[\"useIsMobile\"])();\n  var isMediumScreen = Object(effects_use_screensize__WEBPACK_IMPORTED_MODULE_2__[\"useIsMediumScreen\"])();\n  var currentFetchedPage = Math.ceil(topLevelComments.length / constants_comment__WEBPACK_IMPORTED_MODULE_0__[\"COMMENT_PAGE_SIZE_TOP_LEVEL\"]);\n  var spinnerRef = react__WEBPACK_IMPORTED_MODULE_13___default.a.useRef();\n  var commentListRef = react__WEBPACK_IMPORTED_MODULE_13___default.a.useRef();\n  var DEFAULT_SORT = config__WEBPACK_IMPORTED_MODULE_1__[\"ENABLE_COMMENT_REACTIONS\"] ? constants_comment__WEBPACK_IMPORTED_MODULE_0__[\"SORT_BY\"].POPULARITY : constants_comment__WEBPACK_IMPORTED_MODULE_0__[\"SORT_BY\"].NEWEST;\n\n  var _usePersistedState = Object(effects_use_persisted_state__WEBPACK_IMPORTED_MODULE_15__[\"default\"])('comment-sort-by', DEFAULT_SORT),\n      _usePersistedState2 = _slicedToArray(_usePersistedState, 2),\n      sort = _usePersistedState2[0],\n      setSort = _usePersistedState2[1];\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_13___default.a.useState(currentFetchedPage > 0 ? currentFetchedPage : 1),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      page = _React$useState2[0],\n      setPage = _React$useState2[1];\n\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_13___default.a.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      didInitialPageFetch = _React$useState4[0],\n      setInitialPageFetch = _React$useState4[1];\n\n  var hasDefaultExpansion = commentsAreExpanded || !isMediumScreen || isMobile;\n\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_13___default.a.useState(hasDefaultExpansion),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      expandedComments = _React$useState6[0],\n      setExpandedComments = _React$useState6[1];\n\n  var _React$useState7 = react__WEBPACK_IMPORTED_MODULE_13___default.a.useState(),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      debouncedUri = _React$useState8[0],\n      setDebouncedUri = _React$useState8[1];\n\n  var totalFetchedComments = allCommentIds ? allCommentIds.length : 0;\n  var moreBelow = page < topLevelTotalPages;\n  var title = Object(util_comments__WEBPACK_IMPORTED_MODULE_3__[\"getCommentsListTitle\"])(totalComments);\n  var threadDepthLevel = isMobile ? 3 : 10;\n  var threadCommentParent;\n\n  if (threadCommentAncestors) {\n    threadCommentAncestors.some(function (ancestor, index) {\n      if (index >= threadDepthLevel - 1) return true;\n      threadCommentParent = ancestor;\n    });\n  }\n\n  var threadTopLevelComment = threadCommentAncestors && threadCommentAncestors[threadCommentAncestors.length - 1]; // Display comments immediately if not fetching reactions\n  // If not, wait to show comments until reactions are fetched\n\n  var _React$useState9 = react__WEBPACK_IMPORTED_MODULE_13___default.a.useState(Boolean(othersReactsById) || !config__WEBPACK_IMPORTED_MODULE_1__[\"ENABLE_COMMENT_REACTIONS\"]),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      readyToDisplayComments = _React$useState10[0],\n      setReadyToDisplayComments = _React$useState10[1]; // get commenter claim ids for checking premium status\n\n\n  var commenterClaimIds = topLevelComments.map(function (comment) {\n    return comment.channel_id;\n  }); // update premium status\n\n  var shouldFetchUserMemberships = true;\n  Object(effects_use_get_user_memberships__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(shouldFetchUserMemberships, commenterClaimIds, claimsByUri, doFetchUserMemberships, [topLevelComments], true);\n  var handleReset = react__WEBPACK_IMPORTED_MODULE_13___default.a.useCallback(function () {\n    if (claimId) resetComments(claimId);\n    setPage(1);\n  }, [claimId, resetComments]);\n\n  function refreshComments() {\n    // Invalidate existing comments\n    setPage(0);\n    doPopOutInlinePlayer({\n      source: 'comment'\n    });\n  }\n\n  function changeSort(newSort) {\n    if (sort !== newSort) {\n      setSort(newSort);\n      refreshComments();\n      doPopOutInlinePlayer({\n        source: 'comment'\n      });\n    }\n  } // If a linked comment is deep within a thread, redirect to it's own thread page\n  // based on the set depthLevel (mobile/desktop)\n\n\n  react__WEBPACK_IMPORTED_MODULE_13___default.a.useEffect(function () {\n    if (!threadCommentId && linkedCommentId && linkedCommentAncestors && linkedCommentAncestors.length > threadDepthLevel - 1 && !threadRedirect.current) {\n      var urlParams = new URLSearchParams(search);\n      urlParams.set(constants_comment__WEBPACK_IMPORTED_MODULE_0__[\"THREAD_COMMENT_QUERY_PARAM\"], linkedCommentId);\n      push({\n        pathname: pathname,\n        search: urlParams.toString()\n      }); // to do it only once\n\n      threadRedirect.current = true;\n    }\n  }, [linkedCommentAncestors, linkedCommentId, pathname, push, search, threadCommentId, threadDepthLevel]); // set new page on scroll debounce and avoid setting the page after navigated uris\n\n  Object(react__WEBPACK_IMPORTED_MODULE_13__[\"useEffect\"])(function () {\n    if (debouncedUri && debouncedUri === uri) {\n      setPage(page + 1);\n      setDebouncedUri(undefined);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps -- Only for comparing uri with debounced uri\n\n  }, [debouncedUri, uri]); // Force comments reset\n\n  Object(react__WEBPACK_IMPORTED_MODULE_13__[\"useEffect\"])(function () {\n    if (page === 0) {\n      handleReset();\n    }\n  }, [handleReset, page]); // Set page back to 1 on every claim switch\n\n  Object(react__WEBPACK_IMPORTED_MODULE_13__[\"useEffect\"])(function () {\n    return function () {\n      return setPage(1);\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [uri]); // When navigating to a new claim, the page will be 1 due to the above\n  // and if there was already fetched top level comments, the fetched page will be higher\n  // so set the current page as the fetched page to start fetching new pages from there\n\n  Object(react__WEBPACK_IMPORTED_MODULE_13__[\"useEffect\"])(function () {\n    if (page < currentFetchedPage) setPage(currentFetchedPage > 0 ? currentFetchedPage : 1); // eslint-disable-next-line react-hooks/exhaustive-deps -- Only on uri change\n  }, [uri]); // Fetch top-level comments\n\n  Object(react__WEBPACK_IMPORTED_MODULE_13__[\"useEffect\"])(function () {\n    var isInitialFetch = currentFetchedPage === 0;\n    var isNewPage = page !== 1 && page !== currentFetchedPage; // only one or the other should be true, if both are true it means\n    // it will fetch the wrong page initially. needs Number so it's 0 or 1\n\n    var hasRightFetchPage = Number(isInitialFetch) ^ Number(isNewPage);\n\n    if (page !== 0 && hasRightFetchPage) {\n      if (page === 1) {\n        if (threadCommentId) {\n          fetchComment(threadCommentId);\n        }\n\n        if (linkedCommentId) {\n          fetchComment(linkedCommentId);\n        }\n      }\n\n      fetchTopLevelComments(uri, undefined, page, constants_comment__WEBPACK_IMPORTED_MODULE_0__[\"COMMENT_PAGE_SIZE_TOP_LEVEL\"], sort);\n    }\n  }, [currentFetchedPage, fetchComment, fetchTopLevelComments, linkedCommentId, page, sort, threadCommentId, uri]);\n  react__WEBPACK_IMPORTED_MODULE_13___default.a.useEffect(function () {\n    if (threadCommentId) {\n      refreshComments();\n    }\n  }, [threadCommentId]); // Fetch reacts\n\n  Object(react__WEBPACK_IMPORTED_MODULE_13__[\"useEffect\"])(function () {\n    if (totalFetchedComments > 0 && config__WEBPACK_IMPORTED_MODULE_1__[\"ENABLE_COMMENT_REACTIONS\"] && !fetchingChannels && !isFetchingReacts) {\n      var idsForReactionFetch;\n\n      if (!othersReactsById || !myReactsByCommentId) {\n        idsForReactionFetch = allCommentIds;\n      } else {\n        idsForReactionFetch = allCommentIds.filter(function (commentId) {\n          var key = activeChannelId ? \"\".concat(commentId, \":\").concat(activeChannelId) : commentId;\n          return !othersReactsById[key] || activeChannelId && !myReactsByCommentId[key];\n        });\n      }\n\n      if (idsForReactionFetch.length !== 0) {\n        fetchReacts(idsForReactionFetch).then(function () {\n          setReadyToDisplayComments(true);\n        })[\"catch\"](function () {\n          return setReadyToDisplayComments(true);\n        });\n      }\n    }\n  }, [activeChannelId, allCommentIds, fetchReacts, fetchingChannels, isFetchingReacts, myReactsByCommentId, othersReactsById, totalFetchedComments]); // Scroll to linked-comment\n\n  Object(react__WEBPACK_IMPORTED_MODULE_13__[\"useEffect\"])(function () {\n    if (linkedCommentId || threadCommentId) {\n      window.pendingLinkedCommentScroll = true;\n    } else {\n      delete window.pendingLinkedCommentScroll;\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []); // Infinite scroll\n\n  Object(react__WEBPACK_IMPORTED_MODULE_13__[\"useEffect\"])(function () {\n    if (topLevelComments.length === 0) return;\n\n    function shouldFetchNextPage(page, topLevelTotalPages) {\n      var yPrefetchPx = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1000;\n      if (!spinnerRef || !spinnerRef.current) return false;\n      var rect = spinnerRef.current.getBoundingClientRect(); // $FlowFixMe\n\n      var windowH = window.innerHeight || document.documentElement.clientHeight; // $FlowFixMe\n\n      var windowW = window.innerWidth || document.documentElement.clientWidth; // $FlowFixMe\n\n      var isApproachingViewport = yPrefetchPx !== 0 && rect.top < windowH + scaleToDevicePixelRatio(yPrefetchPx);\n      var isInViewport = rect.width > 0 && rect.height > 0 && rect.bottom >= 0 && rect.right >= 0 && // $FlowFixMe\n      rect.top <= windowH && // $FlowFixMe\n      rect.left <= windowW;\n      return (isInViewport || isApproachingViewport) && page < topLevelTotalPages;\n    }\n\n    var handleCommentScroll = Object(util_debounce__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(function () {\n      if (shouldFetchNextPage(page, topLevelTotalPages)) {\n        setDebouncedUri(uri);\n        setInitialPageFetch(true);\n      }\n    }, DEBOUNCE_SCROLL_HANDLER_MS);\n\n    if (!didInitialPageFetch) {\n      handleCommentScroll();\n      setInitialPageFetch(true);\n    }\n\n    if (hasDefaultExpansion && !isFetchingComments && readyToDisplayComments && moreBelow) {\n      var commentsInDrawer = Boolean(document.querySelector('.MuiDrawer-root .card--enable-overflow'));\n      var scrollingElement = commentsInDrawer ? document.querySelector('.card--enable-overflow') : window;\n\n      if (scrollingElement) {\n        scrollingElement.addEventListener('scroll', handleCommentScroll);\n        return function () {\n          return scrollingElement.removeEventListener('scroll', handleCommentScroll);\n        };\n      }\n    }\n  }, [topLevelComments, hasDefaultExpansion, didInitialPageFetch, isFetchingComments, isMobile, moreBelow, page, readyToDisplayComments, topLevelTotalPages, uri]);\n  var commentProps = {\n    isTopLevel: true,\n    uri: uri,\n    claimIsMine: claimIsMine,\n    linkedCommentId: linkedCommentId,\n    threadCommentId: threadCommentId,\n    threadDepthLevel: threadDepthLevel\n  };\n  var actionButtonsProps = {\n    totalComments: totalComments,\n    sort: sort,\n    changeSort: changeSort,\n    handleRefresh: refreshComments\n  };\n  return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(component_common_card__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    className: \"card--enable-overflow comment__list\",\n    title: (!isMobile || notInDrawer) && title,\n    titleActions: react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(CommentActionButtons, actionButtonsProps),\n    actions: react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_13___default.a.Fragment, null, isMobile && !notInDrawer && react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(CommentActionButtons, actionButtonsProps), react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(component_commentCreate__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n      uri: uri\n    }), threadCommentId && threadComment && react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(\"span\", {\n      className: \"comment__actions comment__thread-links\"\n    }, react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(ThreadLinkButton, {\n      label: __('View all comments'),\n      threadCommentParent: threadTopLevelComment || threadCommentId,\n      threadCommentId: threadCommentId,\n      isViewAll: true\n    }), threadCommentParent && react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(ThreadLinkButton, {\n      label: __('Show parent comments'),\n      threadCommentParent: threadCommentParent,\n      threadCommentId: threadCommentId\n    })), commentsEnabledSetting && !isFetchingComments && !totalComments && !threadCommentId && react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(component_common_empty__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n      padded: true,\n      text: __('That was pretty deep. What do you think?')\n    }), react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(\"ul\", {\n      ref: commentListRef,\n      className: classnames__WEBPACK_IMPORTED_MODULE_8___default()('comments', {\n        'comments--contracted': isMediumScreen && !expandedComments && totalComments > 1\n      })\n    }, readyToDisplayComments && react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_13___default.a.Fragment, null, pinnedComments && !threadCommentId && react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(CommentElements, _extends({\n      comments: pinnedComments\n    }, commentProps)), react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(CommentElements, _extends({\n      comments: topLevelComments\n    }, commentProps)))), !hasDefaultExpansion && react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(\"div\", {\n      className: \"card__bottom-actions card__bottom-actions--comments\"\n    }, (!expandedComments || moreBelow) && totalComments > 1 && react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      button: \"link\",\n      title: !expandedComments ? __('Expand') : __('More'),\n      label: !expandedComments ? __('Expand') : __('More'),\n      onClick: function onClick() {\n        return !expandedComments ? setExpandedComments(true) : setPage(page + 1);\n      }\n    }), expandedComments && totalComments > 1 && react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      button: \"link\",\n      title: __('Collapse'),\n      label: __('Collapse'),\n      onClick: function onClick() {\n        setExpandedComments(false);\n\n        if (commentListRef.current) {\n          var ADDITIONAL_OFFSET = 200;\n          var refTop = commentListRef.current.getBoundingClientRect().top;\n          window.scrollTo({\n            top: refTop + window.pageYOffset - ADDITIONAL_OFFSET,\n            behavior: 'smooth'\n          });\n        }\n      }\n    })), (threadCommentId ? !readyToDisplayComments : isFetchingTopLevelComments || hasDefaultExpansion && moreBelow) && react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(\"div\", {\n      className: \"main--empty\",\n      ref: spinnerRef\n    }, react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(component_spinner__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n      type: \"small\"\n    })))\n  });\n}\n\nvar CommentElements = function CommentElements(commentProps) {\n  var comments = commentProps.comments,\n      commentsProps = _objectWithoutProperties(commentProps, [\"comments\"]);\n\n  return comments.map(function (comment) {\n    return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(component_comment__WEBPACK_IMPORTED_MODULE_10__[\"default\"], _extends({\n      key: comment.comment_id,\n      comment: comment\n    }, commentsProps));\n  });\n};\n\nvar CommentActionButtons = function CommentActionButtons(actionButtonsProps) {\n  var totalComments = actionButtonsProps.totalComments,\n      sort = actionButtonsProps.sort,\n      changeSort = actionButtonsProps.changeSort,\n      handleRefresh = actionButtonsProps.handleRefresh;\n  var sortButtonProps = {\n    activeSort: sort,\n    changeSort: changeSort\n  };\n  return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_13___default.a.Fragment, null, totalComments > 1 && config__WEBPACK_IMPORTED_MODULE_1__[\"ENABLE_COMMENT_REACTIONS\"] && react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(\"span\", {\n    className: \"comment__sort\"\n  }, react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(SortButton, _extends({}, sortButtonProps, {\n    label: __('Best'),\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_4__[\"BEST\"],\n    sortOption: constants_comment__WEBPACK_IMPORTED_MODULE_0__[\"SORT_BY\"].POPULARITY\n  })), react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(SortButton, _extends({}, sortButtonProps, {\n    label: __('Controversial'),\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_4__[\"CONTROVERSIAL\"],\n    sortOption: constants_comment__WEBPACK_IMPORTED_MODULE_0__[\"SORT_BY\"].CONTROVERSY\n  })), react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(SortButton, _extends({}, sortButtonProps, {\n    label: __('New'),\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_4__[\"NEW\"],\n    sortOption: constants_comment__WEBPACK_IMPORTED_MODULE_0__[\"SORT_BY\"].NEWEST\n  }))), react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    button: \"alt\",\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_4__[\"REFRESH\"],\n    title: __('Refresh'),\n    onClick: handleRefresh\n  }));\n};\n\nvar SortButton = function SortButton(sortButtonProps) {\n  var activeSort = sortButtonProps.activeSort,\n      sortOption = sortButtonProps.sortOption,\n      changeSort = sortButtonProps.changeSort,\n      buttonProps = _objectWithoutProperties(sortButtonProps, [\"activeSort\", \"sortOption\", \"changeSort\"]);\n\n  return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_6__[\"default\"], _extends({}, buttonProps, {\n    className: classnames__WEBPACK_IMPORTED_MODULE_8___default()(\"button-toggle\", {\n      'button-toggle--active': activeSort === sortOption\n    }),\n    button: \"alt\",\n    iconSize: 18,\n    onClick: function onClick() {\n      return changeSort(sortOption);\n    }\n  }));\n};\n\nvar ThreadLinkButton = function ThreadLinkButton(props) {\n  var label = props.label,\n      isViewAll = props.isViewAll,\n      threadCommentParent = props.threadCommentParent,\n      threadCommentId = props.threadCommentId;\n\n  var _useHistory2 = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_17__[\"useHistory\"])(),\n      push = _useHistory2.push,\n      _useHistory2$location = _useHistory2.location,\n      pathname = _useHistory2$location.pathname,\n      search = _useHistory2$location.search;\n\n  return react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    button: \"link\",\n    label: label,\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_4__[\"ARROW_LEFT\"],\n    iconSize: 12,\n    onClick: function onClick() {\n      var urlParams = new URLSearchParams(search);\n\n      if (!isViewAll) {\n        urlParams.set(constants_comment__WEBPACK_IMPORTED_MODULE_0__[\"THREAD_COMMENT_QUERY_PARAM\"], threadCommentParent); // on moving back, link the current thread comment so that it auto-expands into the correct conversation\n\n        urlParams.set(constants_comment__WEBPACK_IMPORTED_MODULE_0__[\"LINKED_COMMENT_QUERY_PARAM\"], threadCommentId);\n      } else {\n        urlParams[\"delete\"](constants_comment__WEBPACK_IMPORTED_MODULE_0__[\"THREAD_COMMENT_QUERY_PARAM\"]); // links the top-level comment when going back to all comments, for easy locating\n        // in the middle of big comment sections\n\n        urlParams.set(constants_comment__WEBPACK_IMPORTED_MODULE_0__[\"LINKED_COMMENT_QUERY_PARAM\"], threadCommentParent);\n      }\n\n      window.pendingLinkedCommentScroll = true;\n      push({\n        pathname: pathname,\n        search: urlParams.toString()\n      });\n    }\n  });\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! i18n.js */ \"../ui/i18n.js\")[\"__\"]))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L2NvbW1lbnRzTGlzdC92aWV3LmpzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi91aS9jb21wb25lbnQvY29tbWVudHNMaXN0L3ZpZXcuanN4PzdmNTEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQGZsb3dcbmltcG9ydCB7XG4gIENPTU1FTlRfUEFHRV9TSVpFX1RPUF9MRVZFTCxcbiAgU09SVF9CWSxcbiAgTElOS0VEX0NPTU1FTlRfUVVFUllfUEFSQU0sXG4gIFRIUkVBRF9DT01NRU5UX1FVRVJZX1BBUkFNLFxufSBmcm9tICdjb25zdGFudHMvY29tbWVudCc7XG5pbXBvcnQgeyBFTkFCTEVfQ09NTUVOVF9SRUFDVElPTlMgfSBmcm9tICdjb25maWcnO1xuaW1wb3J0IHsgdXNlSXNNb2JpbGUsIHVzZUlzTWVkaXVtU2NyZWVuIH0gZnJvbSAnZWZmZWN0cy91c2Utc2NyZWVuc2l6ZSc7XG5pbXBvcnQgeyBnZXRDb21tZW50c0xpc3RUaXRsZSB9IGZyb20gJ3V0aWwvY29tbWVudHMnO1xuaW1wb3J0ICogYXMgSUNPTlMgZnJvbSAnY29uc3RhbnRzL2ljb25zJztcbmltcG9ydCAqIGFzIFJFQUNUSU9OX1RZUEVTIGZyb20gJ2NvbnN0YW50cy9yZWFjdGlvbnMnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdjb21wb25lbnQvYnV0dG9uJztcbmltcG9ydCBDYXJkIGZyb20gJ2NvbXBvbmVudC9jb21tb24vY2FyZCc7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBDb21tZW50Q3JlYXRlIGZyb20gJ2NvbXBvbmVudC9jb21tZW50Q3JlYXRlJztcbmltcG9ydCBDb21tZW50VmlldyBmcm9tICdjb21wb25lbnQvY29tbWVudCc7XG5pbXBvcnQgZGVib3VuY2UgZnJvbSAndXRpbC9kZWJvdW5jZSc7XG5pbXBvcnQgRW1wdHkgZnJvbSAnY29tcG9uZW50L2NvbW1vbi9lbXB0eSc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFNwaW5uZXIgZnJvbSAnY29tcG9uZW50L3NwaW5uZXInO1xuaW1wb3J0IHVzZVBlcnNpc3RlZFN0YXRlIGZyb20gJ2VmZmVjdHMvdXNlLXBlcnNpc3RlZC1zdGF0ZSc7XG5pbXBvcnQgdXNlR2V0VXNlck1lbWJlcnNoaXBzIGZyb20gJ2VmZmVjdHMvdXNlLWdldC11c2VyLW1lbWJlcnNoaXBzJztcbmltcG9ydCB7IHVzZUhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcblxuY29uc3QgREVCT1VOQ0VfU0NST0xMX0hBTkRMRVJfTVMgPSAyMDA7XG5cbmZ1bmN0aW9uIHNjYWxlVG9EZXZpY2VQaXhlbFJhdGlvKHZhbHVlKSB7XG4gIGNvbnN0IGRldmljZVBpeGVsUmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxLjA7XG4gIGlmIChkZXZpY2VQaXhlbFJhdGlvIDwgMS4wKSB7XG4gICAgcmV0dXJuIE1hdGguY2VpbCh2YWx1ZSAvIGRldmljZVBpeGVsUmF0aW8pO1xuICB9XG4gIHJldHVybiBNYXRoLmNlaWwodmFsdWUgKiBkZXZpY2VQaXhlbFJhdGlvKTtcbn1cblxudHlwZSBQcm9wcyA9IHtcbiAgYWxsQ29tbWVudElkczogYW55LFxuICBwaW5uZWRDb21tZW50czogQXJyYXk8Q29tbWVudD4sXG4gIHRvcExldmVsQ29tbWVudHM6IEFycmF5PENvbW1lbnQ+LFxuICB0b3BMZXZlbFRvdGFsUGFnZXM6IG51bWJlcixcbiAgdXJpOiBzdHJpbmcsXG4gIGNsYWltSWQ/OiBzdHJpbmcsXG4gIGNsYWltSXNNaW5lOiBib29sZWFuLFxuICBpc0ZldGNoaW5nQ29tbWVudHM6IGJvb2xlYW4sXG4gIGlzRmV0Y2hpbmdUb3BMZXZlbENvbW1lbnRzOiBib29sZWFuLFxuICBpc0ZldGNoaW5nUmVhY3RzOiBib29sZWFuLFxuICBsaW5rZWRDb21tZW50SWQ/OiBzdHJpbmcsXG4gIHRvdGFsQ29tbWVudHM6IG51bWJlcixcbiAgZmV0Y2hpbmdDaGFubmVsczogYm9vbGVhbixcbiAgbXlSZWFjdHNCeUNvbW1lbnRJZDogP3sgW3N0cmluZ106IEFycmF5PHN0cmluZz4gfSwgLy8gXCJDb21tZW50SWQ6TXlDaGFubmVsSWRcIiAtPiByZWFjdGlvbiBhcnJheSAobm90ZSB0aGUgSUQgY29uY2F0ZW5hdGlvbilcbiAgb3RoZXJzUmVhY3RzQnlJZDogP3sgW3N0cmluZ106IHsgW1JFQUNUSU9OX1RZUEVTLkxJS0UgfCBSRUFDVElPTl9UWVBFUy5ESVNMSUtFXTogbnVtYmVyIH0gfSxcbiAgYWN0aXZlQ2hhbm5lbElkOiA/c3RyaW5nLFxuICBjb21tZW50c0VuYWJsZWRTZXR0aW5nOiA/Ym9vbGVhbixcbiAgY29tbWVudHNBcmVFeHBhbmRlZD86IGJvb2xlYW4sXG4gIHRocmVhZENvbW1lbnRJZDogP3N0cmluZyxcbiAgdGhyZWFkQ29tbWVudDogP0NvbW1lbnQsXG4gIG5vdEluRHJhd2VyPzogYm9vbGVhbixcbiAgdGhyZWFkQ29tbWVudEFuY2VzdG9yczogP0FycmF5PHN0cmluZz4sXG4gIGxpbmtlZENvbW1lbnRBbmNlc3RvcnM6ID9BcnJheTxzdHJpbmc+LFxuICBmZXRjaFRvcExldmVsQ29tbWVudHM6ICh1cmk6IHN0cmluZywgcGFyZW50SWQ6ID9zdHJpbmcsIHBhZ2U6IG51bWJlciwgcGFnZVNpemU6IG51bWJlciwgc29ydEJ5OiBudW1iZXIpID0+IHZvaWQsXG4gIGZldGNoQ29tbWVudDogKGNvbW1lbnRJZDogc3RyaW5nKSA9PiB2b2lkLFxuICBmZXRjaFJlYWN0czogKGNvbW1lbnRJZHM6IEFycmF5PHN0cmluZz4pID0+IFByb21pc2U8YW55PixcbiAgcmVzZXRDb21tZW50czogKGNsYWltSWQ6IHN0cmluZykgPT4gdm9pZCxcbiAgY2xhaW1zQnlVcmk6IHsgW3N0cmluZ106IGFueSB9LFxuICBkb0ZldGNoVXNlck1lbWJlcnNoaXBzOiAoY2xhaW1JZENzdjogc3RyaW5nKSA9PiB2b2lkLFxuICBkb1BvcE91dElubGluZVBsYXllcjogKHBhcmFtOiB7IHNvdXJjZTogc3RyaW5nIH0pID0+IHZvaWQsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb21tZW50TGlzdChwcm9wczogUHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGFsbENvbW1lbnRJZHMsXG4gICAgdXJpLFxuICAgIHBpbm5lZENvbW1lbnRzLFxuICAgIHRvcExldmVsQ29tbWVudHMsXG4gICAgdG9wTGV2ZWxUb3RhbFBhZ2VzLFxuICAgIGNsYWltSWQsXG4gICAgY2xhaW1Jc01pbmUsXG4gICAgaXNGZXRjaGluZ0NvbW1lbnRzLFxuICAgIGlzRmV0Y2hpbmdUb3BMZXZlbENvbW1lbnRzLFxuICAgIGlzRmV0Y2hpbmdSZWFjdHMsXG4gICAgbGlua2VkQ29tbWVudElkLFxuICAgIHRvdGFsQ29tbWVudHMsXG4gICAgZmV0Y2hpbmdDaGFubmVscyxcbiAgICBteVJlYWN0c0J5Q29tbWVudElkLFxuICAgIG90aGVyc1JlYWN0c0J5SWQsXG4gICAgYWN0aXZlQ2hhbm5lbElkLFxuICAgIGNvbW1lbnRzRW5hYmxlZFNldHRpbmcsXG4gICAgY29tbWVudHNBcmVFeHBhbmRlZCxcbiAgICB0aHJlYWRDb21tZW50SWQsXG4gICAgdGhyZWFkQ29tbWVudCxcbiAgICBub3RJbkRyYXdlcixcbiAgICB0aHJlYWRDb21tZW50QW5jZXN0b3JzLFxuICAgIGxpbmtlZENvbW1lbnRBbmNlc3RvcnMsXG4gICAgZmV0Y2hUb3BMZXZlbENvbW1lbnRzLFxuICAgIGZldGNoQ29tbWVudCxcbiAgICBmZXRjaFJlYWN0cyxcbiAgICByZXNldENvbW1lbnRzLFxuICAgIGNsYWltc0J5VXJpLFxuICAgIGRvRmV0Y2hVc2VyTWVtYmVyc2hpcHMsXG4gICAgZG9Qb3BPdXRJbmxpbmVQbGF5ZXIsXG4gIH0gPSBwcm9wcztcblxuICBjb25zdCB0aHJlYWRSZWRpcmVjdCA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG5cbiAgY29uc3Qge1xuICAgIHB1c2gsXG4gICAgbG9jYXRpb246IHsgcGF0aG5hbWUsIHNlYXJjaCB9LFxuICB9ID0gdXNlSGlzdG9yeSgpO1xuXG4gIGNvbnN0IGlzTW9iaWxlID0gdXNlSXNNb2JpbGUoKTtcbiAgY29uc3QgaXNNZWRpdW1TY3JlZW4gPSB1c2VJc01lZGl1bVNjcmVlbigpO1xuXG4gIGNvbnN0IGN1cnJlbnRGZXRjaGVkUGFnZSA9IE1hdGguY2VpbCh0b3BMZXZlbENvbW1lbnRzLmxlbmd0aCAvIENPTU1FTlRfUEFHRV9TSVpFX1RPUF9MRVZFTCk7XG4gIGNvbnN0IHNwaW5uZXJSZWYgPSBSZWFjdC51c2VSZWYoKTtcbiAgY29uc3QgY29tbWVudExpc3RSZWYgPSBSZWFjdC51c2VSZWYoKTtcbiAgY29uc3QgREVGQVVMVF9TT1JUID0gRU5BQkxFX0NPTU1FTlRfUkVBQ1RJT05TID8gU09SVF9CWS5QT1BVTEFSSVRZIDogU09SVF9CWS5ORVdFU1Q7XG4gIGNvbnN0IFtzb3J0LCBzZXRTb3J0XSA9IHVzZVBlcnNpc3RlZFN0YXRlKCdjb21tZW50LXNvcnQtYnknLCBERUZBVUxUX1NPUlQpO1xuICBjb25zdCBbcGFnZSwgc2V0UGFnZV0gPSBSZWFjdC51c2VTdGF0ZShjdXJyZW50RmV0Y2hlZFBhZ2UgPiAwID8gY3VycmVudEZldGNoZWRQYWdlIDogMSk7XG4gIGNvbnN0IFtkaWRJbml0aWFsUGFnZUZldGNoLCBzZXRJbml0aWFsUGFnZUZldGNoXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgaGFzRGVmYXVsdEV4cGFuc2lvbiA9IGNvbW1lbnRzQXJlRXhwYW5kZWQgfHwgIWlzTWVkaXVtU2NyZWVuIHx8IGlzTW9iaWxlO1xuICBjb25zdCBbZXhwYW5kZWRDb21tZW50cywgc2V0RXhwYW5kZWRDb21tZW50c10gPSBSZWFjdC51c2VTdGF0ZShoYXNEZWZhdWx0RXhwYW5zaW9uKTtcbiAgY29uc3QgW2RlYm91bmNlZFVyaSwgc2V0RGVib3VuY2VkVXJpXSA9IFJlYWN0LnVzZVN0YXRlKCk7XG5cbiAgY29uc3QgdG90YWxGZXRjaGVkQ29tbWVudHMgPSBhbGxDb21tZW50SWRzID8gYWxsQ29tbWVudElkcy5sZW5ndGggOiAwO1xuICBjb25zdCBtb3JlQmVsb3cgPSBwYWdlIDwgdG9wTGV2ZWxUb3RhbFBhZ2VzO1xuICBjb25zdCB0aXRsZSA9IGdldENvbW1lbnRzTGlzdFRpdGxlKHRvdGFsQ29tbWVudHMpO1xuICBjb25zdCB0aHJlYWREZXB0aExldmVsID0gaXNNb2JpbGUgPyAzIDogMTA7XG4gIGxldCB0aHJlYWRDb21tZW50UGFyZW50O1xuICBpZiAodGhyZWFkQ29tbWVudEFuY2VzdG9ycykge1xuICAgIHRocmVhZENvbW1lbnRBbmNlc3RvcnMuc29tZSgoYW5jZXN0b3IsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXggPj0gdGhyZWFkRGVwdGhMZXZlbCAtIDEpIHJldHVybiB0cnVlO1xuXG4gICAgICB0aHJlYWRDb21tZW50UGFyZW50ID0gYW5jZXN0b3I7XG4gICAgfSk7XG4gIH1cbiAgY29uc3QgdGhyZWFkVG9wTGV2ZWxDb21tZW50ID0gdGhyZWFkQ29tbWVudEFuY2VzdG9ycyAmJiB0aHJlYWRDb21tZW50QW5jZXN0b3JzW3RocmVhZENvbW1lbnRBbmNlc3RvcnMubGVuZ3RoIC0gMV07XG5cbiAgLy8gRGlzcGxheSBjb21tZW50cyBpbW1lZGlhdGVseSBpZiBub3QgZmV0Y2hpbmcgcmVhY3Rpb25zXG4gIC8vIElmIG5vdCwgd2FpdCB0byBzaG93IGNvbW1lbnRzIHVudGlsIHJlYWN0aW9ucyBhcmUgZmV0Y2hlZFxuICBjb25zdCBbcmVhZHlUb0Rpc3BsYXlDb21tZW50cywgc2V0UmVhZHlUb0Rpc3BsYXlDb21tZW50c10gPSBSZWFjdC51c2VTdGF0ZShcbiAgICBCb29sZWFuKG90aGVyc1JlYWN0c0J5SWQpIHx8ICFFTkFCTEVfQ09NTUVOVF9SRUFDVElPTlNcbiAgKTtcblxuICAvLyBnZXQgY29tbWVudGVyIGNsYWltIGlkcyBmb3IgY2hlY2tpbmcgcHJlbWl1bSBzdGF0dXNcbiAgY29uc3QgY29tbWVudGVyQ2xhaW1JZHMgPSB0b3BMZXZlbENvbW1lbnRzLm1hcCgoY29tbWVudCkgPT4gY29tbWVudC5jaGFubmVsX2lkKTtcblxuICAvLyB1cGRhdGUgcHJlbWl1bSBzdGF0dXNcbiAgY29uc3Qgc2hvdWxkRmV0Y2hVc2VyTWVtYmVyc2hpcHMgPSB0cnVlO1xuICB1c2VHZXRVc2VyTWVtYmVyc2hpcHMoXG4gICAgc2hvdWxkRmV0Y2hVc2VyTWVtYmVyc2hpcHMsXG4gICAgY29tbWVudGVyQ2xhaW1JZHMsXG4gICAgY2xhaW1zQnlVcmksXG4gICAgZG9GZXRjaFVzZXJNZW1iZXJzaGlwcyxcbiAgICBbdG9wTGV2ZWxDb21tZW50c10sXG4gICAgdHJ1ZVxuICApO1xuXG4gIGNvbnN0IGhhbmRsZVJlc2V0ID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChjbGFpbUlkKSByZXNldENvbW1lbnRzKGNsYWltSWQpO1xuICAgIHNldFBhZ2UoMSk7XG4gIH0sIFtjbGFpbUlkLCByZXNldENvbW1lbnRzXSk7XG5cbiAgZnVuY3Rpb24gcmVmcmVzaENvbW1lbnRzKCkge1xuICAgIC8vIEludmFsaWRhdGUgZXhpc3RpbmcgY29tbWVudHNcbiAgICBzZXRQYWdlKDApO1xuICAgIGRvUG9wT3V0SW5saW5lUGxheWVyKHsgc291cmNlOiAnY29tbWVudCcgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjaGFuZ2VTb3J0KG5ld1NvcnQpIHtcbiAgICBpZiAoc29ydCAhPT0gbmV3U29ydCkge1xuICAgICAgc2V0U29ydChuZXdTb3J0KTtcbiAgICAgIHJlZnJlc2hDb21tZW50cygpO1xuICAgICAgZG9Qb3BPdXRJbmxpbmVQbGF5ZXIoeyBzb3VyY2U6ICdjb21tZW50JyB9KTtcbiAgICB9XG4gIH1cblxuICAvLyBJZiBhIGxpbmtlZCBjb21tZW50IGlzIGRlZXAgd2l0aGluIGEgdGhyZWFkLCByZWRpcmVjdCB0byBpdCdzIG93biB0aHJlYWQgcGFnZVxuICAvLyBiYXNlZCBvbiB0aGUgc2V0IGRlcHRoTGV2ZWwgKG1vYmlsZS9kZXNrdG9wKVxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChcbiAgICAgICF0aHJlYWRDb21tZW50SWQgJiZcbiAgICAgIGxpbmtlZENvbW1lbnRJZCAmJlxuICAgICAgbGlua2VkQ29tbWVudEFuY2VzdG9ycyAmJlxuICAgICAgbGlua2VkQ29tbWVudEFuY2VzdG9ycy5sZW5ndGggPiB0aHJlYWREZXB0aExldmVsIC0gMSAmJlxuICAgICAgIXRocmVhZFJlZGlyZWN0LmN1cnJlbnRcbiAgICApIHtcbiAgICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoc2VhcmNoKTtcbiAgICAgIHVybFBhcmFtcy5zZXQoVEhSRUFEX0NPTU1FTlRfUVVFUllfUEFSQU0sIGxpbmtlZENvbW1lbnRJZCk7XG5cbiAgICAgIHB1c2goeyBwYXRobmFtZSwgc2VhcmNoOiB1cmxQYXJhbXMudG9TdHJpbmcoKSB9KTtcbiAgICAgIC8vIHRvIGRvIGl0IG9ubHkgb25jZVxuICAgICAgdGhyZWFkUmVkaXJlY3QuY3VycmVudCA9IHRydWU7XG4gICAgfVxuICB9LCBbbGlua2VkQ29tbWVudEFuY2VzdG9ycywgbGlua2VkQ29tbWVudElkLCBwYXRobmFtZSwgcHVzaCwgc2VhcmNoLCB0aHJlYWRDb21tZW50SWQsIHRocmVhZERlcHRoTGV2ZWxdKTtcblxuICAvLyBzZXQgbmV3IHBhZ2Ugb24gc2Nyb2xsIGRlYm91bmNlIGFuZCBhdm9pZCBzZXR0aW5nIHRoZSBwYWdlIGFmdGVyIG5hdmlnYXRlZCB1cmlzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGRlYm91bmNlZFVyaSAmJiBkZWJvdW5jZWRVcmkgPT09IHVyaSkge1xuICAgICAgc2V0UGFnZShwYWdlICsgMSk7XG4gICAgICBzZXREZWJvdW5jZWRVcmkodW5kZWZpbmVkKTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwcyAtLSBPbmx5IGZvciBjb21wYXJpbmcgdXJpIHdpdGggZGVib3VuY2VkIHVyaVxuICB9LCBbZGVib3VuY2VkVXJpLCB1cmldKTtcblxuICAvLyBGb3JjZSBjb21tZW50cyByZXNldFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwYWdlID09PSAwKSB7XG4gICAgICBoYW5kbGVSZXNldCgpO1xuICAgIH1cbiAgfSwgW2hhbmRsZVJlc2V0LCBwYWdlXSk7XG5cbiAgLy8gU2V0IHBhZ2UgYmFjayB0byAxIG9uIGV2ZXJ5IGNsYWltIHN3aXRjaFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiBzZXRQYWdlKDEpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW3VyaV0pO1xuXG4gIC8vIFdoZW4gbmF2aWdhdGluZyB0byBhIG5ldyBjbGFpbSwgdGhlIHBhZ2Ugd2lsbCBiZSAxIGR1ZSB0byB0aGUgYWJvdmVcbiAgLy8gYW5kIGlmIHRoZXJlIHdhcyBhbHJlYWR5IGZldGNoZWQgdG9wIGxldmVsIGNvbW1lbnRzLCB0aGUgZmV0Y2hlZCBwYWdlIHdpbGwgYmUgaGlnaGVyXG4gIC8vIHNvIHNldCB0aGUgY3VycmVudCBwYWdlIGFzIHRoZSBmZXRjaGVkIHBhZ2UgdG8gc3RhcnQgZmV0Y2hpbmcgbmV3IHBhZ2VzIGZyb20gdGhlcmVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocGFnZSA8IGN1cnJlbnRGZXRjaGVkUGFnZSkgc2V0UGFnZShjdXJyZW50RmV0Y2hlZFBhZ2UgPiAwID8gY3VycmVudEZldGNoZWRQYWdlIDogMSk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwcyAtLSBPbmx5IG9uIHVyaSBjaGFuZ2VcbiAgfSwgW3VyaV0pO1xuXG4gIC8vIEZldGNoIHRvcC1sZXZlbCBjb21tZW50c1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGlzSW5pdGlhbEZldGNoID0gY3VycmVudEZldGNoZWRQYWdlID09PSAwO1xuICAgIGNvbnN0IGlzTmV3UGFnZSA9IHBhZ2UgIT09IDEgJiYgcGFnZSAhPT0gY3VycmVudEZldGNoZWRQYWdlO1xuICAgIC8vIG9ubHkgb25lIG9yIHRoZSBvdGhlciBzaG91bGQgYmUgdHJ1ZSwgaWYgYm90aCBhcmUgdHJ1ZSBpdCBtZWFuc1xuICAgIC8vIGl0IHdpbGwgZmV0Y2ggdGhlIHdyb25nIHBhZ2UgaW5pdGlhbGx5LiBuZWVkcyBOdW1iZXIgc28gaXQncyAwIG9yIDFcbiAgICBjb25zdCBoYXNSaWdodEZldGNoUGFnZSA9IE51bWJlcihpc0luaXRpYWxGZXRjaCkgXiBOdW1iZXIoaXNOZXdQYWdlKTtcblxuICAgIGlmIChwYWdlICE9PSAwICYmIGhhc1JpZ2h0RmV0Y2hQYWdlKSB7XG4gICAgICBpZiAocGFnZSA9PT0gMSkge1xuICAgICAgICBpZiAodGhyZWFkQ29tbWVudElkKSB7XG4gICAgICAgICAgZmV0Y2hDb21tZW50KHRocmVhZENvbW1lbnRJZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxpbmtlZENvbW1lbnRJZCkge1xuICAgICAgICAgIGZldGNoQ29tbWVudChsaW5rZWRDb21tZW50SWQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZldGNoVG9wTGV2ZWxDb21tZW50cyh1cmksIHVuZGVmaW5lZCwgcGFnZSwgQ09NTUVOVF9QQUdFX1NJWkVfVE9QX0xFVkVMLCBzb3J0KTtcbiAgICB9XG4gIH0sIFtjdXJyZW50RmV0Y2hlZFBhZ2UsIGZldGNoQ29tbWVudCwgZmV0Y2hUb3BMZXZlbENvbW1lbnRzLCBsaW5rZWRDb21tZW50SWQsIHBhZ2UsIHNvcnQsIHRocmVhZENvbW1lbnRJZCwgdXJpXSk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodGhyZWFkQ29tbWVudElkKSB7XG4gICAgICByZWZyZXNoQ29tbWVudHMoKTtcbiAgICB9XG4gIH0sIFt0aHJlYWRDb21tZW50SWRdKTtcblxuICAvLyBGZXRjaCByZWFjdHNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodG90YWxGZXRjaGVkQ29tbWVudHMgPiAwICYmIEVOQUJMRV9DT01NRU5UX1JFQUNUSU9OUyAmJiAhZmV0Y2hpbmdDaGFubmVscyAmJiAhaXNGZXRjaGluZ1JlYWN0cykge1xuICAgICAgbGV0IGlkc0ZvclJlYWN0aW9uRmV0Y2g7XG5cbiAgICAgIGlmICghb3RoZXJzUmVhY3RzQnlJZCB8fCAhbXlSZWFjdHNCeUNvbW1lbnRJZCkge1xuICAgICAgICBpZHNGb3JSZWFjdGlvbkZldGNoID0gYWxsQ29tbWVudElkcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlkc0ZvclJlYWN0aW9uRmV0Y2ggPSBhbGxDb21tZW50SWRzLmZpbHRlcigoY29tbWVudElkKSA9PiB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gYWN0aXZlQ2hhbm5lbElkID8gYCR7Y29tbWVudElkfToke2FjdGl2ZUNoYW5uZWxJZH1gIDogY29tbWVudElkO1xuICAgICAgICAgIHJldHVybiAhb3RoZXJzUmVhY3RzQnlJZFtrZXldIHx8IChhY3RpdmVDaGFubmVsSWQgJiYgIW15UmVhY3RzQnlDb21tZW50SWRba2V5XSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoaWRzRm9yUmVhY3Rpb25GZXRjaC5sZW5ndGggIT09IDApIHtcbiAgICAgICAgZmV0Y2hSZWFjdHMoaWRzRm9yUmVhY3Rpb25GZXRjaClcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBzZXRSZWFkeVRvRGlzcGxheUNvbW1lbnRzKHRydWUpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKCgpID0+IHNldFJlYWR5VG9EaXNwbGF5Q29tbWVudHModHJ1ZSkpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW1xuICAgIGFjdGl2ZUNoYW5uZWxJZCxcbiAgICBhbGxDb21tZW50SWRzLFxuICAgIGZldGNoUmVhY3RzLFxuICAgIGZldGNoaW5nQ2hhbm5lbHMsXG4gICAgaXNGZXRjaGluZ1JlYWN0cyxcbiAgICBteVJlYWN0c0J5Q29tbWVudElkLFxuICAgIG90aGVyc1JlYWN0c0J5SWQsXG4gICAgdG90YWxGZXRjaGVkQ29tbWVudHMsXG4gIF0pO1xuXG4gIC8vIFNjcm9sbCB0byBsaW5rZWQtY29tbWVudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChsaW5rZWRDb21tZW50SWQgfHwgdGhyZWFkQ29tbWVudElkKSB7XG4gICAgICB3aW5kb3cucGVuZGluZ0xpbmtlZENvbW1lbnRTY3JvbGwgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgd2luZG93LnBlbmRpbmdMaW5rZWRDb21tZW50U2Nyb2xsO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtdKTtcblxuICAvLyBJbmZpbml0ZSBzY3JvbGxcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodG9wTGV2ZWxDb21tZW50cy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgIGZ1bmN0aW9uIHNob3VsZEZldGNoTmV4dFBhZ2UocGFnZSwgdG9wTGV2ZWxUb3RhbFBhZ2VzLCB5UHJlZmV0Y2hQeCA9IDEwMDApIHtcbiAgICAgIGlmICghc3Bpbm5lclJlZiB8fCAhc3Bpbm5lclJlZi5jdXJyZW50KSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIGNvbnN0IHJlY3QgPSBzcGlubmVyUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IC8vICRGbG93Rml4TWVcbiAgICAgIGNvbnN0IHdpbmRvd0ggPSB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDsgLy8gJEZsb3dGaXhNZVxuICAgICAgY29uc3Qgd2luZG93VyA9IHdpbmRvdy5pbm5lcldpZHRoIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDsgLy8gJEZsb3dGaXhNZVxuXG4gICAgICBjb25zdCBpc0FwcHJvYWNoaW5nVmlld3BvcnQgPSB5UHJlZmV0Y2hQeCAhPT0gMCAmJiByZWN0LnRvcCA8IHdpbmRvd0ggKyBzY2FsZVRvRGV2aWNlUGl4ZWxSYXRpbyh5UHJlZmV0Y2hQeCk7XG5cbiAgICAgIGNvbnN0IGlzSW5WaWV3cG9ydCA9XG4gICAgICAgIHJlY3Qud2lkdGggPiAwICYmXG4gICAgICAgIHJlY3QuaGVpZ2h0ID4gMCAmJlxuICAgICAgICByZWN0LmJvdHRvbSA+PSAwICYmXG4gICAgICAgIHJlY3QucmlnaHQgPj0gMCAmJlxuICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgIHJlY3QudG9wIDw9IHdpbmRvd0ggJiZcbiAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICByZWN0LmxlZnQgPD0gd2luZG93VztcblxuICAgICAgcmV0dXJuIChpc0luVmlld3BvcnQgfHwgaXNBcHByb2FjaGluZ1ZpZXdwb3J0KSAmJiBwYWdlIDwgdG9wTGV2ZWxUb3RhbFBhZ2VzO1xuICAgIH1cblxuICAgIGNvbnN0IGhhbmRsZUNvbW1lbnRTY3JvbGwgPSBkZWJvdW5jZSgoKSA9PiB7XG4gICAgICBpZiAoc2hvdWxkRmV0Y2hOZXh0UGFnZShwYWdlLCB0b3BMZXZlbFRvdGFsUGFnZXMpKSB7XG4gICAgICAgIHNldERlYm91bmNlZFVyaSh1cmkpO1xuICAgICAgICBzZXRJbml0aWFsUGFnZUZldGNoKHRydWUpO1xuICAgICAgfVxuICAgIH0sIERFQk9VTkNFX1NDUk9MTF9IQU5ETEVSX01TKTtcblxuICAgIGlmICghZGlkSW5pdGlhbFBhZ2VGZXRjaCkge1xuICAgICAgaGFuZGxlQ29tbWVudFNjcm9sbCgpO1xuICAgICAgc2V0SW5pdGlhbFBhZ2VGZXRjaCh0cnVlKTtcbiAgICB9XG5cbiAgICBpZiAoaGFzRGVmYXVsdEV4cGFuc2lvbiAmJiAhaXNGZXRjaGluZ0NvbW1lbnRzICYmIHJlYWR5VG9EaXNwbGF5Q29tbWVudHMgJiYgbW9yZUJlbG93KSB7XG4gICAgICBjb25zdCBjb21tZW50c0luRHJhd2VyID0gQm9vbGVhbihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuTXVpRHJhd2VyLXJvb3QgLmNhcmQtLWVuYWJsZS1vdmVyZmxvdycpKTtcbiAgICAgIGNvbnN0IHNjcm9sbGluZ0VsZW1lbnQgPSBjb21tZW50c0luRHJhd2VyID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmQtLWVuYWJsZS1vdmVyZmxvdycpIDogd2luZG93O1xuXG4gICAgICBpZiAoc2Nyb2xsaW5nRWxlbWVudCkge1xuICAgICAgICBzY3JvbGxpbmdFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZUNvbW1lbnRTY3JvbGwpO1xuXG4gICAgICAgIHJldHVybiAoKSA9PiBzY3JvbGxpbmdFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZUNvbW1lbnRTY3JvbGwpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW1xuICAgIHRvcExldmVsQ29tbWVudHMsXG4gICAgaGFzRGVmYXVsdEV4cGFuc2lvbixcbiAgICBkaWRJbml0aWFsUGFnZUZldGNoLFxuICAgIGlzRmV0Y2hpbmdDb21tZW50cyxcbiAgICBpc01vYmlsZSxcbiAgICBtb3JlQmVsb3csXG4gICAgcGFnZSxcbiAgICByZWFkeVRvRGlzcGxheUNvbW1lbnRzLFxuICAgIHRvcExldmVsVG90YWxQYWdlcyxcbiAgICB1cmksXG4gIF0pO1xuXG4gIGNvbnN0IGNvbW1lbnRQcm9wcyA9IHtcbiAgICBpc1RvcExldmVsOiB0cnVlLFxuICAgIHVyaSxcbiAgICBjbGFpbUlzTWluZSxcbiAgICBsaW5rZWRDb21tZW50SWQsXG4gICAgdGhyZWFkQ29tbWVudElkLFxuICAgIHRocmVhZERlcHRoTGV2ZWwsXG4gIH07XG4gIGNvbnN0IGFjdGlvbkJ1dHRvbnNQcm9wcyA9IHtcbiAgICB0b3RhbENvbW1lbnRzLFxuICAgIHNvcnQsXG4gICAgY2hhbmdlU29ydCxcbiAgICBoYW5kbGVSZWZyZXNoOiByZWZyZXNoQ29tbWVudHMsXG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8Q2FyZFxuICAgICAgY2xhc3NOYW1lPVwiY2FyZC0tZW5hYmxlLW92ZXJmbG93IGNvbW1lbnRfX2xpc3RcIlxuICAgICAgdGl0bGU9eyghaXNNb2JpbGUgfHwgbm90SW5EcmF3ZXIpICYmIHRpdGxlfVxuICAgICAgdGl0bGVBY3Rpb25zPXs8Q29tbWVudEFjdGlvbkJ1dHRvbnMgey4uLmFjdGlvbkJ1dHRvbnNQcm9wc30gLz59XG4gICAgICBhY3Rpb25zPXtcbiAgICAgICAgPD5cbiAgICAgICAgICB7aXNNb2JpbGUgJiYgIW5vdEluRHJhd2VyICYmIDxDb21tZW50QWN0aW9uQnV0dG9ucyB7Li4uYWN0aW9uQnV0dG9uc1Byb3BzfSAvPn1cblxuICAgICAgICAgIDxDb21tZW50Q3JlYXRlIHVyaT17dXJpfSAvPlxuXG4gICAgICAgICAge3RocmVhZENvbW1lbnRJZCAmJiB0aHJlYWRDb21tZW50ICYmIChcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNvbW1lbnRfX2FjdGlvbnMgY29tbWVudF9fdGhyZWFkLWxpbmtzXCI+XG4gICAgICAgICAgICAgIDxUaHJlYWRMaW5rQnV0dG9uXG4gICAgICAgICAgICAgICAgbGFiZWw9e19fKCdWaWV3IGFsbCBjb21tZW50cycpfVxuICAgICAgICAgICAgICAgIHRocmVhZENvbW1lbnRQYXJlbnQ9e3RocmVhZFRvcExldmVsQ29tbWVudCB8fCB0aHJlYWRDb21tZW50SWR9XG4gICAgICAgICAgICAgICAgdGhyZWFkQ29tbWVudElkPXt0aHJlYWRDb21tZW50SWR9XG4gICAgICAgICAgICAgICAgaXNWaWV3QWxsXG4gICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAge3RocmVhZENvbW1lbnRQYXJlbnQgJiYgKFxuICAgICAgICAgICAgICAgIDxUaHJlYWRMaW5rQnV0dG9uXG4gICAgICAgICAgICAgICAgICBsYWJlbD17X18oJ1Nob3cgcGFyZW50IGNvbW1lbnRzJyl9XG4gICAgICAgICAgICAgICAgICB0aHJlYWRDb21tZW50UGFyZW50PXt0aHJlYWRDb21tZW50UGFyZW50fVxuICAgICAgICAgICAgICAgICAgdGhyZWFkQ29tbWVudElkPXt0aHJlYWRDb21tZW50SWR9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAge2NvbW1lbnRzRW5hYmxlZFNldHRpbmcgJiYgIWlzRmV0Y2hpbmdDb21tZW50cyAmJiAhdG90YWxDb21tZW50cyAmJiAhdGhyZWFkQ29tbWVudElkICYmIChcbiAgICAgICAgICAgIDxFbXB0eSBwYWRkZWQgdGV4dD17X18oJ1RoYXQgd2FzIHByZXR0eSBkZWVwLiBXaGF0IGRvIHlvdSB0aGluaz8nKX0gLz5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgPHVsXG4gICAgICAgICAgICByZWY9e2NvbW1lbnRMaXN0UmVmfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc25hbWVzKCdjb21tZW50cycsIHtcbiAgICAgICAgICAgICAgJ2NvbW1lbnRzLS1jb250cmFjdGVkJzogaXNNZWRpdW1TY3JlZW4gJiYgIWV4cGFuZGVkQ29tbWVudHMgJiYgdG90YWxDb21tZW50cyA+IDEsXG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7cmVhZHlUb0Rpc3BsYXlDb21tZW50cyAmJiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAge3Bpbm5lZENvbW1lbnRzICYmICF0aHJlYWRDb21tZW50SWQgJiYgPENvbW1lbnRFbGVtZW50cyBjb21tZW50cz17cGlubmVkQ29tbWVudHN9IHsuLi5jb21tZW50UHJvcHN9IC8+fVxuICAgICAgICAgICAgICAgIDxDb21tZW50RWxlbWVudHMgY29tbWVudHM9e3RvcExldmVsQ29tbWVudHN9IHsuLi5jb21tZW50UHJvcHN9IC8+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L3VsPlxuXG4gICAgICAgICAgeyFoYXNEZWZhdWx0RXhwYW5zaW9uICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZF9fYm90dG9tLWFjdGlvbnMgY2FyZF9fYm90dG9tLWFjdGlvbnMtLWNvbW1lbnRzXCI+XG4gICAgICAgICAgICAgIHsoIWV4cGFuZGVkQ29tbWVudHMgfHwgbW9yZUJlbG93KSAmJiB0b3RhbENvbW1lbnRzID4gMSAmJiAoXG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgYnV0dG9uPVwibGlua1wiXG4gICAgICAgICAgICAgICAgICB0aXRsZT17IWV4cGFuZGVkQ29tbWVudHMgPyBfXygnRXhwYW5kJykgOiBfXygnTW9yZScpfVxuICAgICAgICAgICAgICAgICAgbGFiZWw9eyFleHBhbmRlZENvbW1lbnRzID8gX18oJ0V4cGFuZCcpIDogX18oJ01vcmUnKX1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+ICghZXhwYW5kZWRDb21tZW50cyA/IHNldEV4cGFuZGVkQ29tbWVudHModHJ1ZSkgOiBzZXRQYWdlKHBhZ2UgKyAxKSl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge2V4cGFuZGVkQ29tbWVudHMgJiYgdG90YWxDb21tZW50cyA+IDEgJiYgKFxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIGJ1dHRvbj1cImxpbmtcIlxuICAgICAgICAgICAgICAgICAgdGl0bGU9e19fKCdDb2xsYXBzZScpfVxuICAgICAgICAgICAgICAgICAgbGFiZWw9e19fKCdDb2xsYXBzZScpfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRFeHBhbmRlZENvbW1lbnRzKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1lbnRMaXN0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBBRERJVElPTkFMX09GRlNFVCA9IDIwMDtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWZUb3AgPSBjb21tZW50TGlzdFJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oe1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiByZWZUb3AgKyB3aW5kb3cucGFnZVlPZmZzZXQgLSBBRERJVElPTkFMX09GRlNFVCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJyxcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHsodGhyZWFkQ29tbWVudElkXG4gICAgICAgICAgICA/ICFyZWFkeVRvRGlzcGxheUNvbW1lbnRzXG4gICAgICAgICAgICA6IGlzRmV0Y2hpbmdUb3BMZXZlbENvbW1lbnRzIHx8IChoYXNEZWZhdWx0RXhwYW5zaW9uICYmIG1vcmVCZWxvdykpICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFpbi0tZW1wdHlcIiByZWY9e3NwaW5uZXJSZWZ9PlxuICAgICAgICAgICAgICA8U3Bpbm5lciB0eXBlPVwic21hbGxcIiAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC8+XG4gICAgICB9XG4gICAgLz5cbiAgKTtcbn1cblxudHlwZSBDb21tZW50UHJvcHMgPSB7XG4gIGNvbW1lbnRzOiBBcnJheTxDb21tZW50Pixcbn07XG5cbmNvbnN0IENvbW1lbnRFbGVtZW50cyA9IChjb21tZW50UHJvcHM6IENvbW1lbnRQcm9wcykgPT4ge1xuICBjb25zdCB7IGNvbW1lbnRzLCAuLi5jb21tZW50c1Byb3BzIH0gPSBjb21tZW50UHJvcHM7XG4gIHJldHVybiBjb21tZW50cy5tYXAoKGNvbW1lbnQpID0+IDxDb21tZW50VmlldyBrZXk9e2NvbW1lbnQuY29tbWVudF9pZH0gY29tbWVudD17Y29tbWVudH0gey4uLmNvbW1lbnRzUHJvcHN9IC8+KTtcbn07XG5cbnR5cGUgQWN0aW9uQnV0dG9uc1Byb3BzID0ge1xuICB0b3RhbENvbW1lbnRzOiBudW1iZXIsXG4gIHNvcnQ6IHN0cmluZyxcbiAgY2hhbmdlU29ydDogKHN0cmluZykgPT4gdm9pZCxcbiAgaGFuZGxlUmVmcmVzaDogKCkgPT4gdm9pZCxcbn07XG5cbmNvbnN0IENvbW1lbnRBY3Rpb25CdXR0b25zID0gKGFjdGlvbkJ1dHRvbnNQcm9wczogQWN0aW9uQnV0dG9uc1Byb3BzKSA9PiB7XG4gIGNvbnN0IHsgdG90YWxDb21tZW50cywgc29ydCwgY2hhbmdlU29ydCwgaGFuZGxlUmVmcmVzaCB9ID0gYWN0aW9uQnV0dG9uc1Byb3BzO1xuXG4gIGNvbnN0IHNvcnRCdXR0b25Qcm9wcyA9IHsgYWN0aXZlU29ydDogc29ydCwgY2hhbmdlU29ydCB9O1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIHt0b3RhbENvbW1lbnRzID4gMSAmJiBFTkFCTEVfQ09NTUVOVF9SRUFDVElPTlMgJiYgKFxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjb21tZW50X19zb3J0XCI+XG4gICAgICAgICAgPFNvcnRCdXR0b24gey4uLnNvcnRCdXR0b25Qcm9wc30gbGFiZWw9e19fKCdCZXN0Jyl9IGljb249e0lDT05TLkJFU1R9IHNvcnRPcHRpb249e1NPUlRfQlkuUE9QVUxBUklUWX0gLz5cbiAgICAgICAgICA8U29ydEJ1dHRvblxuICAgICAgICAgICAgey4uLnNvcnRCdXR0b25Qcm9wc31cbiAgICAgICAgICAgIGxhYmVsPXtfXygnQ29udHJvdmVyc2lhbCcpfVxuICAgICAgICAgICAgaWNvbj17SUNPTlMuQ09OVFJPVkVSU0lBTH1cbiAgICAgICAgICAgIHNvcnRPcHRpb249e1NPUlRfQlkuQ09OVFJPVkVSU1l9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8U29ydEJ1dHRvbiB7Li4uc29ydEJ1dHRvblByb3BzfSBsYWJlbD17X18oJ05ldycpfSBpY29uPXtJQ09OUy5ORVd9IHNvcnRPcHRpb249e1NPUlRfQlkuTkVXRVNUfSAvPlxuICAgICAgICA8L3NwYW4+XG4gICAgICApfVxuXG4gICAgICA8QnV0dG9uIGJ1dHRvbj1cImFsdFwiIGljb249e0lDT05TLlJFRlJFU0h9IHRpdGxlPXtfXygnUmVmcmVzaCcpfSBvbkNsaWNrPXtoYW5kbGVSZWZyZXNofSAvPlxuICAgIDwvPlxuICApO1xufTtcblxudHlwZSBTb3J0QnV0dG9uUHJvcHMgPSB7XG4gIGFjdGl2ZVNvcnQ6IHN0cmluZyxcbiAgc29ydE9wdGlvbjogc3RyaW5nLFxuICBjaGFuZ2VTb3J0OiAoc3RyaW5nKSA9PiB2b2lkLFxufTtcblxuY29uc3QgU29ydEJ1dHRvbiA9IChzb3J0QnV0dG9uUHJvcHM6IFNvcnRCdXR0b25Qcm9wcykgPT4ge1xuICBjb25zdCB7IGFjdGl2ZVNvcnQsIHNvcnRPcHRpb24sIGNoYW5nZVNvcnQsIC4uLmJ1dHRvblByb3BzIH0gPSBzb3J0QnV0dG9uUHJvcHM7XG5cbiAgcmV0dXJuIChcbiAgICA8QnV0dG9uXG4gICAgICB7Li4uYnV0dG9uUHJvcHN9XG4gICAgICBjbGFzc05hbWU9e2NsYXNzbmFtZXMoYGJ1dHRvbi10b2dnbGVgLCB7ICdidXR0b24tdG9nZ2xlLS1hY3RpdmUnOiBhY3RpdmVTb3J0ID09PSBzb3J0T3B0aW9uIH0pfVxuICAgICAgYnV0dG9uPVwiYWx0XCJcbiAgICAgIGljb25TaXplPXsxOH1cbiAgICAgIG9uQ2xpY2s9eygpID0+IGNoYW5nZVNvcnQoc29ydE9wdGlvbil9XG4gICAgLz5cbiAgKTtcbn07XG5cbnR5cGUgVGhyZWFkTGlua1Byb3BzID0ge1xuICBsYWJlbDogc3RyaW5nLFxuICBpc1ZpZXdBbGw/OiBib29sZWFuLFxuICB0aHJlYWRDb21tZW50UGFyZW50OiBzdHJpbmcsXG4gIHRocmVhZENvbW1lbnRJZDogc3RyaW5nLFxufTtcblxuY29uc3QgVGhyZWFkTGlua0J1dHRvbiA9IChwcm9wczogVGhyZWFkTGlua1Byb3BzKSA9PiB7XG4gIGNvbnN0IHsgbGFiZWwsIGlzVmlld0FsbCwgdGhyZWFkQ29tbWVudFBhcmVudCwgdGhyZWFkQ29tbWVudElkIH0gPSBwcm9wcztcblxuICBjb25zdCB7XG4gICAgcHVzaCxcbiAgICBsb2NhdGlvbjogeyBwYXRobmFtZSwgc2VhcmNoIH0sXG4gIH0gPSB1c2VIaXN0b3J5KCk7XG5cbiAgcmV0dXJuIChcbiAgICA8QnV0dG9uXG4gICAgICBidXR0b249XCJsaW5rXCJcbiAgICAgIGxhYmVsPXtsYWJlbH1cbiAgICAgIGljb249e0lDT05TLkFSUk9XX0xFRlR9XG4gICAgICBpY29uU2l6ZT17MTJ9XG4gICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoc2VhcmNoKTtcblxuICAgICAgICBpZiAoIWlzVmlld0FsbCkge1xuICAgICAgICAgIHVybFBhcmFtcy5zZXQoVEhSRUFEX0NPTU1FTlRfUVVFUllfUEFSQU0sIHRocmVhZENvbW1lbnRQYXJlbnQpO1xuICAgICAgICAgIC8vIG9uIG1vdmluZyBiYWNrLCBsaW5rIHRoZSBjdXJyZW50IHRocmVhZCBjb21tZW50IHNvIHRoYXQgaXQgYXV0by1leHBhbmRzIGludG8gdGhlIGNvcnJlY3QgY29udmVyc2F0aW9uXG4gICAgICAgICAgdXJsUGFyYW1zLnNldChMSU5LRURfQ09NTUVOVF9RVUVSWV9QQVJBTSwgdGhyZWFkQ29tbWVudElkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cmxQYXJhbXMuZGVsZXRlKFRIUkVBRF9DT01NRU5UX1FVRVJZX1BBUkFNKTtcbiAgICAgICAgICAvLyBsaW5rcyB0aGUgdG9wLWxldmVsIGNvbW1lbnQgd2hlbiBnb2luZyBiYWNrIHRvIGFsbCBjb21tZW50cywgZm9yIGVhc3kgbG9jYXRpbmdcbiAgICAgICAgICAvLyBpbiB0aGUgbWlkZGxlIG9mIGJpZyBjb21tZW50IHNlY3Rpb25zXG4gICAgICAgICAgdXJsUGFyYW1zLnNldChMSU5LRURfQ09NTUVOVF9RVUVSWV9QQVJBTSwgdGhyZWFkQ29tbWVudFBhcmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgd2luZG93LnBlbmRpbmdMaW5rZWRDb21tZW50U2Nyb2xsID0gdHJ1ZTtcblxuICAgICAgICBwdXNoKHsgcGF0aG5hbWUsIHNlYXJjaDogdXJsUGFyYW1zLnRvU3RyaW5nKCkgfSk7XG4gICAgICB9fVxuICAgIC8+XG4gICk7XG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFrQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFrQ0E7QUFDQTtBQW5DQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUF3Q0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFoREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBa0RBO0FBQ0E7QUFwREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFzREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFIQTtBQUtBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUF2RUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBMEVBO0FBQUE7QUE1RUE7QUFDQTtBQThFQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBekdBO0FBNkdBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFPQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFkQTtBQUNBO0FBaUJBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQURBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFNQTtBQUNBO0FBQUE7QUFEQTtBQUFBO0FBTUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbEJBO0FBcUJBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRkE7QUFJQTtBQUpBO0FBS0E7QUFDQTtBQXBCQTtBQUNBO0FBZ0NBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFKQTtBQUNBO0FBREE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQTlDQTtBQTREQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBT0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQVNBO0FBQ0E7QUFDQTtBQUhBO0FBVUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBREE7QUFGQTtBQVFBO0FBQUE7QUFDQTtBQUFBO0FBTUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUpBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBZEE7QUF1QkE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQWxGQTtBQXlGQTtBQUNBO0FBS0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFGQTtBQUNBO0FBV0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFHQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXBCQTtBQUNBO0FBOEJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUxBO0FBSkE7QUFDQTtBQW9CQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFPQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQXJCQTtBQVRBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../ui/component/commentsList/view.jsx\n");

/***/ })

}]);