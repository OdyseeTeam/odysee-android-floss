"use strict";(self.webpackChunkodysee_com=self.webpackChunkodysee_com||[]).push([[1721],{22446:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(3658),a=n(7920),o=n(17185),l=n(29454),i=n(2927),c=n(88441),u=n(44908),s=n(71036).__;const m=function(e){var t=e.uri,n=e.blockLevel,r=e.creatorUri,a=e.doCommentModUnBlock,o=e.doCommentModBlock,l=e.doCommentModUnBlockAsAdmin,m=e.doCommentModBlockAsAdmin,d=e.doCommentModUnBlockAsModerator,f=e.doCommentModBlockAsModerator,h=e.isBlocked,g=e.isBlockingOrUnBlocking,b=e.isToggling;return c.createElement(u.default,{button:"alt",label:function(e){switch(e){default:case i.Sx.SELF:case i.Sx.ADMIN:return s(h?g?"Unblocking...":"Unblock":g?"Blocking...":"Block");case i.Sx.MODERATOR:return s(b?h?"Unblocking...":"Blocking...":h?"Unblock":"Block")}}(n),onClick:function(){switch(n){default:case i.Sx.SELF:h?a(t,!1):o(t,void 0,void 0,!1);break;case i.Sx.MODERATOR:r&&(h?d(t,r,""):f(t,void 0,r,void 0));break;case i.Sx.ADMIN:h?l(t,""):m(t,void 0,void 0)}}})};const d=(0,r.$j)((function(e,t){var n,r;switch(t.blockLevel){default:case i.Sx.SELF:n=(0,l.Qw)(t.uri)(e);break;case i.Sx.MODERATOR:n=(0,l.SO)(t.uri,t.creatorUri)(e),r=(0,l.e2)(t.uri,t.creatorUri)(e);break;case i.Sx.ADMIN:n=(0,l.cG)(t.uri)(e)}return{isBlocked:n,isToggling:r,isBlockingOrUnBlocking:(0,l.q7)(t.uri)(e),creatorId:(0,a.Hw)(e,t.creatorUri)}}),{doCommentModUnBlock:o.Am,doCommentModBlock:o.oQ,doCommentModUnBlockAsAdmin:o.aC,doCommentModBlockAsAdmin:o.Sh,doCommentModUnBlockAsModerator:o.ZK,doCommentModBlockAsModerator:o.mQ})(m)},25669:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(3658),a=n(84122),o=n(72408),l=n(88441),i=n(44908),c=n(71036).__;const u=function(e){var t=e.uri,n=e.doChannelMute,r=e.doChannelUnmute,a=e.isMuted;return l.createElement(i.default,{button:"alt",label:c(a?"Unmute":"Mute"),onClick:function(){a?r(t,!1):n(t,!1)}})};const s=(0,r.$j)((function(e,t){return{isMuted:(0,o.zp)(t.uri)(e)}}),{doChannelMute:a.cJ,doChannelUnmute:a.br})(u)},41938:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(88441),a=n(16643),o=n(94720),l=n(50189),i=n(95810),c=n(71036).__;function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,i=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m="page";const d=(0,a.EN)((function(e){var t=e.totalPages,n=void 0===t?1:t,a=e.shouldResetPageNumber,s=e.location,d=e.history,f=e.onPageChange,h=e.disableHistory,g=s.search,b=u(r.useState(""),2),y=b[0],p=b[1],E=new URLSearchParams(g),v=Number(E.get(m)),k=h?1:v||1,M=u(r.useState(k),2),A=M[0],O=M[1],S=(0,i.dD)();function C(e){if(f&&f(e),A!==e&&(O(e),!h)){var t=new URLSearchParams(g);t.set(m,e.toString()),d.push("?"+t.toString())}}return a&&1!==A&&C(1),r.useEffect((function(){v&&O(v)}),[v,O]),r.createElement(o.l0,{style:n<=1?{display:"none"}:null,onSubmit:function(){var e=Number(y);e&&e>0&&e<=n&&C(e),p("")}},r.createElement("fieldset-group",{class:"fieldset-group--smushed fieldgroup--paginate"},r.createElement("fieldset-section",null,r.createElement(l.Z,{pageCount:n,pageRangeDisplayed:2,previousLabel:"‹",nextLabel:"›",activeClassName:"pagination__item--selected",pageClassName:"pagination__item",previousClassName:"pagination__item pagination__item--previous",nextClassName:"pagination__item pagination__item--next",breakClassName:"pagination__item pagination__item--break",marginPagesDisplayed:2,onPageChange:function(e){return C(e.selected+1)},forcePage:A-1,initialPage:A-1,containerClassName:"pagination"})),!S&&r.createElement(o.Wi,{value:y,onChange:function(e){return p(e.target.value)},className:"paginate-channel",label:c("Go to page:"),type:"text",name:"paginate-file"})))}))},23021:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(88441);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,i=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=function(e){r.useEffect(e,[])};function i(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=a(r.useState(e),2),c=i[0],u=i[1],s=r.useRef(),m=r.useRef(null),d=r.useRef(0);return r.useEffect((function(){if(s.current)m.current=e,d.current=!0;else{u(e);s.current=setTimeout((function e(){d.current?(d.current=!1,u(m.current),s.current=setTimeout(e,o)):s.current=void 0}),o)}}),[o,e]),t=function(){s.current&&clearTimeout(s.current)},(n=r.useRef(t)).current=t,l((function(){return function(){return n.current()}})),c}},43764:(e,t,n)=>{n.r(t),n.d(t,{default:()=>H});var r=n(3658),a=n(17185),o=n(72408),l=n(29454),i=n(7920),c=n(52705),u=n(77369),s=n(2927),m=n(88441),d=n(66598),f=n.n(d),h=n(22768),g=n.n(h),b=n(71703),y=n.n(b),p=n(54971),E=n(85164),v=n(44908),k=n(42074),M=n(96284),A=n(41938),O=n(16062),S=n(23021),C=n(71036).__;function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,i=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=10;function w(e){try{return e.substring(e.indexOf("@")+1,e.indexOf("#"))}catch(t){return e}}function L(e){var t=e.list,n=e.placeholder,r=e.formatter,a=e.onResultsUpdated,o=B(m.useState(""),2),l=o[0],i=o[1],c=function(e,t){var n=(0,S.Z)(e,200);return m.useMemo((function(){return n&&""!==n.trim()?(0,E.Lu)(t,n,{keys:[function(e){return w(e)}],threshold:E.Lu.rankings.CONTAINS}):null}),[n])}(l,t);return m.useEffect((function(){a&&a(c)}),[c]),m.createElement("div",{className:"wunderbar__wrapper"},m.createElement("label",null,C("Search blocked channel name")),m.createElement(p.hQ,{className:"wunderbar",onSelect:function(e){return i(e)}},m.createElement(M.default,{icon:u.SEARCH}),m.createElement(p.gA,{selectOnClick:!0,className:"wunderbar__input",onChange:function(e){return i(e.target.value)},placeholder:n}),c&&m.createElement(p.SF,{className:"wunderbar__suggestions",portal:!1},c.length>0?m.createElement(p.Gk,null,c.slice(0,10).map((function(e,t){return m.createElement(p.O2,{className:"wunderbar__more-results",key:t,value:r?r(e):e})}))):m.createElement("span",{style:{display:"block",margin:8}},C("No results")))))}const D=function(e){var t,n=e.uris,r=e.help,a=e.titleEmptyList,o=e.subtitleEmptyList,l=e.getActionButtons,i=e.className,c=B(m.useState(void 0),2),u=c[0],s=c[1],d=JSON.stringify(n),h=u&&u.length>0,g=n&&u&&u.length<n.length,b=B(m.useState(1),2),y=b[0],p=b[1],E=B(m.useState(null),2),M=E[0],S=E[1],N=null!==M,D=0;return u&&(t=u.slice((y-1)*_,y*_),D=Math.ceil(u.length/_)),m.useEffect((function(){var e=d&&JSON.parse(d);h||s(e&&e.length>0?e:[])}),[d,h]),m.useEffect((function(){g&&d&&s(JSON.parse(d))}),[d,g,s]),void 0===t?null:h?m.createElement(m.Fragment,null,m.createElement("div",{className:"help--notice"},r),m.createElement("div",{className:"section",style:{zIndex:"4"}},m.createElement(L,{list:u,placeholder:C("e.g. odysee"),formatter:function(e){return w(e)},onResultsUpdated:function(e){S(e)}})),m.createElement("div",{className:f()("section block-list",i)},m.createElement(k.Z,{uris:M||t,showUnresolvedClaims:!0,showHiddenByUser:!0,hideMenu:!0,hideJoin:!0,renderActions:function(){if(l)return function(e){return m.createElement("div",{className:"section__actions"},l(e.permanent_url))}}()})),!N&&m.createElement(A.Z,{totalPages:D,disableHistory:!0,onPageChange:function(e){return p(e)}})):m.createElement("div",{className:"main--empty"},m.createElement(O.Z,{title:a,subtitle:o,actions:m.createElement("div",{className:"section__actions"},m.createElement(v.default,{button:"primary",label:C("Go Home"),navigate:"/"}))}))};var R=n(64177),U=n(9319),T=n(60732),I=n(29679),j=n(22446),x=n(25669),Z=n(71036).__;function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,i=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var K={BLOCKED:"blocked",ADMIN:"admin",MODERATOR:"moderator",MUTED:"muted"};const J=function(e){var t=e.mutedUris,n=e.personalBlockList,r=e.adminBlockList,a=e.moderatorBlockList,o=e.personalTimeoutMap,l=e.adminTimeoutMap,i=e.moderatorTimeoutMap,c=e.moderatorBlockListDelegatorsMap,d=e.fetchingModerationBlockList,h=e.fetchModBlockedList,b=e.fetchModAmIList,p=e.delegatorsById,E=e.myChannelClaimIds,k=e.doResolveUris,M=F((0,I.Z)("blocked-muted:display",K.BLOCKED),2),A=M[0],O=M[1],S=F(m.useState(void 0),2),C=S[0],B=S[1],N=JSON.stringify(c),_=JSON.stringify(C),w=E&&E.some((function(e){return p[e]&&p[e].global})),L=E&&E.some((function(e){return p[e]&&Object.keys(p[e].delegators).length>0})),P=function(e){switch(e){case K.BLOCKED:return n;case K.ADMIN:return r;case K.MODERATOR:return a;case K.MUTED:return t}}(A);function J(e){switch(e){case K.BLOCKED:return Z("Blocked channels will be invisible to you in the app. They will not be able to comment on your content, nor reply to your comments left on other channels' content.");case K.ADMIN:return Z("This is the global block list.");case K.MODERATOR:return Z("List of channels that you have blocked as a moderator, along with the list of delegators.");case K.MUTED:return Z("Muted channels will be invisible to you in the app. They will not know they are muted and can still interact with you and your content.")}}function H(e,t,n){return m.createElement(v.default,{icon:n,button:"alt",label:Z(t),className:f()("button-toggle",{"button-toggle--active":A===e}),onClick:function(){return O(e)}})}return m.useEffect((function(){k(P||[])}),[P,k]),m.useEffect((function(){var e,t;N&&(t=_,(e=N)&&(!t||t.length<e.length))&&B(JSON.parse(N))}),[N,_]),m.createElement(U.Z,{noFooter:!0,noSideNavigation:!0,settingsPage:!0,backout:{title:Z("Blocked and muted channels"),backLabel:Z("Back")}},d&&m.createElement("div",{className:"main--empty"},m.createElement(T.Z,null)),!d&&m.createElement(m.Fragment,null,m.createElement("div",{className:"section__header--actions"},m.createElement("div",{className:"section__actions--inline"},H(K.BLOCKED,"Blocked",u.BLOCK),w&&H(K.ADMIN,"Global",u.BLOCK),L&&H(K.MODERATOR,"Moderator",u.BLOCK),H(K.MUTED,"Muted",u.MUTE)),m.createElement("div",{className:"section__actions--inline"},E&&m.createElement(v.default,{icon:u.REFRESH,button:"alt",label:Z("Refresh"),onClick:function(){h(),b()}}))),m.createElement(D,{key:A,uris:P,help:J(A),titleEmptyList:function(e){switch(e){case K.BLOCKED:return Z("You do not have any blocked channels");case K.MUTED:return Z("You do not have any muted channels");case K.ADMIN:return Z("You do not have any globally-blocked channels");case K.MODERATOR:return Z("You do not have any blocked channels as a moderator")}}(A),subtitle:function(e){switch(e){case K.BLOCKED:case K.MUTED:return J(e);case K.ADMIN:case K.MODERATOR:return null}}(A),getActionButtons:function(e){var t=function(e){return y()(e/1e6,{round:!0})},n=function(e){return m.createElement("div",null,m.createElement("div",{className:"help"},m.createElement("blockquote",null,g()(e.blockedAt).format("LLL"),m.createElement("br",null),t(e.bannedFor)," ",Z("(Remaining: %duration%) --[timeout ban duration]--",{duration:t(e.banRemaining)}))))};switch(A){case K.BLOCKED:return m.createElement(m.Fragment,null,m.createElement(j.Z,{uri:e}),m.createElement(x.Z,{uri:e}),o[e]&&n(o[e]));case K.ADMIN:return m.createElement(m.Fragment,null,m.createElement(j.Z,{uri:e,blockLevel:s.Sx.ADMIN}),l[e]&&n(l[e]));case K.MODERATOR:var r=C&&C[e];return r?m.createElement(m.Fragment,null,r.map((function(t){return m.createElement("div",{className:"block-list--delegator",key:t},m.createElement("label",null,Z("Blocked on behalf of:")),m.createElement("ul",{className:"section"},m.createElement("div",null,m.createElement(R.default,{uri:t,hideMenu:!0,hideActions:!0,hideJoin:!0,type:"inline",properties:!1}),i[e]&&n(i[e])),m.createElement(j.Z,{uri:e,blockLevel:s.Sx.MODERATOR,creatorUri:t})))}))):null;case K.MUTED:return m.createElement(m.Fragment,null,m.createElement(x.Z,{uri:e}),m.createElement(j.Z,{uri:e}))}},className:A===K.MODERATOR?"block-list--moderator":void 0})))};const H=(0,r.$j)((function(e){return{mutedUris:(0,o.bI)(e),personalBlockList:(0,l.cD)(e),adminBlockList:(0,l.QV)(e),moderatorBlockList:(0,l.lN)(e),personalTimeoutMap:(0,l.qI)(e),adminTimeoutMap:(0,l.V0)(e),moderatorTimeoutMap:(0,l.ro)(e),moderatorBlockListDelegatorsMap:(0,l.pS)(e),delegatorsById:(0,l.Nd)(e),myChannelClaimIds:(0,i.Pg)(e),fetchingModerationBlockList:(0,l.wM)(e)}}),(function(e){return{fetchModBlockedList:function(){return e((0,a.F3)())},fetchModAmIList:function(){return e((0,a.gc)())},doResolveClaimIds:function(){return e((0,c.Bf)())},doResolveUris:function(t){return e((0,c.ZE)(t))}}}))(J)}}]);
//# sourceMappingURL=listBlocked-58c4123ce58df0c8555c.js.map