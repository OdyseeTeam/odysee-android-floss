"use strict";(self.webpackChunkodysee_com=self.webpackChunkodysee_com||[]).push([[341],{80795:(e,t,n)=>{n.d(t,{Z:()=>L});var r=n(3658),o=n(88441),i=n(1892),a=n.n(i),l=n(95760),c=n.n(l),s=n(38311),u=n.n(s),f=n(58192),m=n.n(f),d=n(38060),p=n.n(d),y=n(54865),v=n.n(y),A=n(93331),g={};g.styleTagTransform=v(),g.setAttributes=m(),g.insert=u().bind(null,"head"),g.domAPI=c(),g.insertStyleElement=p();a()(A.Z,g);A.Z&&A.Z.locals&&A.Z.locals;var b=n(42074),h=n(96284),E=n(77369),_=n(60732),S=n(76333),w=n(71036).__,C=n(88065).h;function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===O(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const P=function(e){var t=e.csOptions,n=e.pagination,r=void 0===n?"infinite":n,i=e.header,a=e.layout,l=void 0===a?"tile":a,c=e.csResults,s=e.csResultsMiscInfo,u=e.isFetching,f=e.doClaimSearch,m=o.useRef(),d=o.useRef(null),p=D(o.useState(1),2),y=p[0],v=p[1],A=o.useMemo((function(){return!!(s&&s.page&&s.totalPages)&&s.page<s.totalPages}),[s]);function g(){if(m.current){var e=m.current,t=e.isFetching,n=e.csResults,r=e.hasMorePages;t||n&&r&&v((function(e){return e+1}))}}var O=function(){return i?"string"==typeof i?o.createElement("label",{className:"cs-view__header"},i):i:null},j=function(){return u?null:o.createElement("div",{className:"cs-view__no-results",onClick:g},null===c&&o.createElement("p",null,w("Sorry, your request timed out. Try refreshing in a bit.")),c&&0===c.length&&o.createElement("p",null,w("No results.")))},N=function(){return"infinite"===r?o.createElement("div",{className:"cs-view__has-more",onClick:g},u&&o.createElement(_.Z,{type:"small"}),!u&&A&&o.createElement(h.default,{icon:E.DOWN})):null};return o.useEffect((function(){if("infinite"===r)if(void 0===c)1!==y&&v(1),f(I(I({},t),{},{page:1}));else{C(s,"claimSearchView: previous search info missing",s);var e=s&&s.page?s.page:null;e&&y!==e&&A&&f(I(I({},t),{},{page:y}))}}),[t,c,s,f,A,y,r]),o.useEffect((function(){m.current={isFetching:u,csResults:c,hasMorePages:A}}),[u,c,A]),o.useEffect((function(){var e=(0,S.Z)((function(){var e=d.current;e&&(e.offsetTop+e.offsetHeight<=window.scrollY+window.innerHeight&&g())}),150);return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[]),C(t.page_size,"Please provide a page_size"),"paged"===r?(C(!1,"Paged pagination not supported at the moment"),null):o.createElement("div",{className:"cs-view",ref:d},o.createElement(O,null),o.createElement(b.Z,{uris:c,tileLayout:"tile"===l,showNoSourceClaims:t.has_no_source||void 0,noEmpty:!0}),o.createElement(j,null),o.createElement(N,null))};var B=n(52705),T=n(7920),Z=n(58210),U={doClaimSearch:B.Fl};const L=(0,r.$j)((function(e,t){var n=(0,T.oU)(e),r=(0,T.tS)(e).claimSearchByQueryMiscInfo,o=(0,T.Xj)(e),i=(0,Z.fE)(t.csOptions);return{csResults:n[i],csResultsMiscInfo:r[i],isFetching:o[i]}}),U)(P)},82722:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Z});var r=n(3658),o=n(88441),i=n(66598),a=n.n(i),l=n(1892),c=n.n(l),s=n(95760),u=n.n(s),f=n(38311),m=n.n(f),d=n(58192),p=n.n(d),y=n(38060),v=n.n(y),A=n(54865),g=n.n(A),b=n(60367),h={};h.styleTagTransform=g(),h.setAttributes=p(),h.insert=m().bind(null,"head"),h.domAPI=u(),h.insertStyleElement=v();c()(b.Z,h);b.Z&&b.Z.locals&&b.Z.locals;var E=n(44908),_=n(80795),S=n(9319),w=n(16062),C=n(22170),O=n(1987),j=n(71036).__;function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D={UNLISTED:0,SCHEDULED:1},k={page_size:20,any_tags:[O.Nt.UNLISTED],claim_type:["stream"],has_source:!0,order_by:["height"],remove_duplicates:!0},P={page_size:20,any_tags:[O.QA.SHOW,O.QA.HIDE],claim_type:["stream"],has_source:!0,order_by:["height"],remove_duplicates:!0,release_time:">".concat(3600*Math.floor(Date.now()/C.MS.HOUR))};const B=function(e){var t=e.user,n="MISSING_ENV_VAR".ENABLE_WIP_FEATURES||(null==t?void 0:t.global_mod),r=I(o.useState(D.UNLISTED),2),i=r[0],l=r[1],c=function(){return o.createElement("div",{className:"hidden-content__header"},o.createElement("div",{className:"hidden-content__filter"},o.createElement(E.default,{button:"alt",key:"unlisted",label:j("Unlisted"),onClick:function(){return l(D.UNLISTED)},className:a()("button-toggle",{"button-toggle--active":i===D.UNLISTED})}),o.createElement(E.default,{button:"alt",key:"scheduled",label:j("Scheduled"),onClick:function(){return l(D.SCHEDULED)},className:a()("button-toggle",{"button-toggle--active":i===D.SCHEDULED})})))},s=function(){return o.createElement(w.Z,{type:"sad",title:j("Sorry, no soup for you!"),actions:o.createElement("div",{className:"section__actions"},o.createElement(E.default,{button:"primary",navigate:"/",label:j("Go Home")}))})};return o.createElement(S.Z,null,n?o.createElement(o.Fragment,null,o.createElement(c,null),o.createElement(_.Z,{key:i===D.UNLISTED?"unlisted":"scheduled",csOptions:i===D.UNLISTED?k:P,layout:"list",pagination:"infinite"})):o.createElement(s,null))};var T=n(9767);const Z=(0,r.$j)((function(e){return{user:(0,T.dy)(e)}}),{})(B)},93331:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(26612),o=n.n(r),i=n(40805),a=n.n(i)()(o());a.push([e.id,".cs-view__has-more{display:block}[dir] .cs-view__has-more{border-radius:var(--border-radius);text-align:center}[dir] .cs-view__has-more:hover{background-color:var(--color-navigation-hover);cursor:pointer}.cs-view__has-more svg{display:inline-block}.cs-view__no-results{align-items:center;color:var(--color-text-empty);display:flex;flex-direction:column;font-style:italic}[dir] .cs-view__no-results{margin:var(--spacing-l) 0;padding:0 var(--spacing-m)}","",{version:3,sources:["webpack://./../ui/component/claimSearchView/style.scss"],names:[],mappings:"AAAA,mBACE,aAEA,CAHF,yBAGE,kCAAA,CADA,iBACA,CAEA,+BAEE,8CAAA,CADA,cACA,CAGF,uBACE,oBAAA,CAIJ,qBAEE,kBAAA,CAIA,6BAAA,CALA,YAAA,CAEA,qBAAA,CAIA,iBAAA,CAPF,2BAKE,yBAAA,CADA,0BAGA",sourcesContent:[".cs-view__has-more {\n  display: block;\n  text-align: center;\n  border-radius: var(--border-radius);\n\n  &:hover {\n    cursor: pointer;\n    background-color: var(--color-navigation-hover);\n  }\n\n  svg {\n    display: inline-block;\n  }\n}\n\n.cs-view__no-results {\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  padding: 0 var(--spacing-m);\n  margin: var(--spacing-l) 0;\n  color: var(--color-text-empty);\n  font-style: italic;\n}\n"],sourceRoot:""}]);const l=a},60367:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(26612),o=n.n(r),i=n(40805),a=n.n(i)()(o());a.push([e.id,".hidden-content__header{display:flex}[dir] .hidden-content__header{margin-bottom:var(--spacing-m)}","",{version:3,sources:["webpack://./../ui/page/hiddenContent/style.scss"],names:[],mappings:"AAAA,wBACE,YACA,CAFF,8BAEE,8BAAA",sourcesContent:[".hidden-content__header {\n  display: flex;\n  margin-bottom: var(--spacing-m);\n}\n"],sourceRoot:""}]);const l=a}}]);
//# sourceMappingURL=hiddenContent-f2d2c00747703891d95c.js.map