"use strict";(self.webpackChunkodysee_com=self.webpackChunkodysee_com||[]).push([[4706],{51635:(e,t,n)=>{n.d(t,{Z:()=>b});var r=n(88441),a=n(66598),i=n.n(a),o=n(96284),l=n(44908),c=n(77369),s=n(35080),u=n(71036).__;function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(e){var t=e.singlePane,n=e.children;return t?n:r.createElement("div",{className:"card__first-pane"},n)},p=function(e){var t=e.isPageTitle,n=e.smallTitle,a=e.children,l=e.accessStatus,m=function(e){return r.createElement(s.Z,{title:u("This is a members-only content")},r.createElement("div",{className:i()("content-access-indicator",{locked:"locked"===e.status,unlocked:"unlocked"===e.status,purchased:"purchased"===e.status})},r.createElement(o.default,{icon:"locked"===e.status?c.LOCK:c.UNLOCK})))};return t?r.createElement("h1",{className:"card__title"},l&&r.createElement(m,{status:l}),r.createElement("font",{dangerouslySetInnerHTML:{__html:function(e){for(var t in null==e||null===(n=e.props)||void 0===n?void 0:n.children){var n,r,a;if("string"==typeof(null==e||null===(r=e.props)||void 0===r?void 0:r.children[t]))return null==e||null===(a=e.props)||void 0===a?void 0:a.children[t]}return e}(a)}})):r.createElement("h2",{className:i()("card__title",{"card__title--small":n})},a)};const b=function(e){var t=e.title,n=e.subtitle,a=e.titleActions,s=e.id,d=e.body,b=e.actions,h=e.icon,y=e.className,v=e.isPageTitle,_=void 0!==v&&v,E=e.isBodyList,g=void 0!==E&&E,T=e.smallTitle,w=void 0!==T&&T,N=e.defaultExpand,S=e.nag,C=e.onClick,O=e.children,P=e.secondPane,k=e.slimHeader,A=e.background,B=e.backgroundImage,j=e.singlePane,I=e.headerActions,M=e.accessStatus,R=e.gridHeader,x=m((0,r.useState)(N),2),Z=x[0],L=x[1],F=void 0!==N;return r.createElement("section",{role:C?"button":void 0,className:i()(y,"card",{"card__multi-pane":Boolean(P),"card--background":A}),id:s,onClick:function(e){C&&(C(),e.stopPropagation())}},B&&r.createElement("div",{className:"background",style:{backgroundImage:"url(https://thumbnails.odycdn.com/optimize/s:390:0/quality:85/plain/"+B+")"}}),r.createElement(f,{singlePane:j},(t||n)&&r.createElement("div",{className:i()("card__header--between",{"card__header--slim":k,"card__header--grid":R})},r.createElement("div",{className:i()("card__title-section",{"card__title-section--body-list":g})},h&&r.createElement(o.default,{sectionIcon:!0,icon:h}),r.createElement("div",{className:"card__title-text"},r.createElement(p,{isPageTitle:_,smallTitle:w,accessStatus:M},t),n&&r.createElement("div",{className:i()("card__subtitle",{"card__subtitle--small":w})},n))),(a||F)&&r.createElement("div",{className:"card__title-actions-container"},a&&r.createElement("div",{className:i()("card__title-actions",{"card__title-actions--small":w})},a),F&&r.createElement("div",{className:"card__title-actions"},r.createElement(l.default,{button:"alt","aria-expanded":Z,"aria-label":u(Z?"Less":"More"),icon:Z?c.SUBTRACT:c.ADD,onClick:function(){return L(!Z)}}))),I),(!F||F&&Z)&&r.createElement(r.Fragment,null,d&&r.createElement("div",{className:i()("card__body",{"card__body--no-title":!t&&!n,"card__body--list":g})},d),b&&r.createElement("div",{className:"card__main-actions"},b),O&&r.createElement("div",{className:"card__main-actions"},O)),S),P&&r.createElement("div",{className:"card__second-pane"},P))}},16896:(e,t,n)=>{n.r(t),n.d(t,{default:()=>V});var r=n(3658),a=n(15927),i=n(88441),o=n(1017),l=n(7920),c=n(86102),s=n(20983),u=n(88374),m=n(35101),d=n(16643),f=n(19208),p=n(58210),b=n(94720),h=n(97358),y=n(15244),v=n(53389),_=n(77369),E=n(73249),g=n(90799),T=n(44908),w=n(51635),N=n(4476),S=n(66598),C=n.n(S),O=n(32158),P=n(74971),k=n(29679),A=n(19775),B=n(15693),j=n(10603),I=n(71036).__;function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M.apply(this,arguments)}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Z=(0,j.F8)(),L="TabBoost",F="TabFiat",D="TabLBC";var U=function(e){var t=e.icon,n=e.label,r=e.name,a=e.isOnConfirmationPage,o=e.activeTab,l=e.setActiveTab;return i.createElement(T.default,{key:r,icon:t,label:n,button:"alt",onClick:function(){var e=document.getElementById("tip-input");e&&e.focus(),a||l(r)},className:C()("button-toggle",{"button-toggle--active":o===r})})},H=(0,B.Z)((function(e){var t=e.isPending,n=e.handleSubmit;return i.createElement(T.default,{autoFocus:!0,disabled:t,onClick:n,button:"primary",label:I("Confirm")})})),$={doHideModal:a.gG,doSendTip:c.T0,doSendCashTip:c.Ai};const G=(0,d.EN)((0,r.$j)((function(e,t){var n=t.uri,r=(0,l.B0)(e,n,!1),a=r||{},i=a.claim_id,o=a.value_type,c=(0,p._I)(r),d=(0,p.BG)(r),b=(0,u.YG)(e)||{};return{activeChannelName:b.name,activeChannelId:b.claim_id,balance:(0,m.QM)(e),claimId:i,claimType:o,channelClaimId:c,tipChannelName:d,claimIsMine:(0,l.ZJ)(e,n),fetchingChannels:(0,l.Y7)(e),incognito:(0,u.IO)(e),instantTipEnabled:(0,s.wr)(e,f.gv),instantTipMax:(0,s.wr)(e,f.s6),isPending:(0,m.hL)(e),title:(0,l.$8)(e,n),preferredCurrency:(0,s.PJ)(e)}}),$)((function(e){var t,n=e.activeChannelId,r=e.activeChannelName,a=e.balance,o=e.claimId,l=e.claimType,c=e.channelClaimId,s=e.tipChannelName,u=e.claimIsMine,m=e.fetchingChannels,d=e.incognito,f=e.instantTipEnabled,p=e.instantTipMax,S=e.isPending,C=e.title,B=e.uri,j=e.isTipOnly,x=e.hasSelectedTab,$=e.customText,G=e.doHideModal,z=e.doSendCashTip,Y=e.doSendTip,W=e.setAmount,q=e.preferredCurrency,J=e.modalProps,K=u?L:F,Q=R((0,k.Z)("send-tip-modal",K),2),V=Q[0],X=Q[1],ee=R(i.useState(V),2),te=ee[0],ne=ee[1],re=R(i.useState(!1),2),ae=re[0],ie=re[1],oe=R((0,k.Z)("comment-support:customTip",1),2),le=oe[0],ce=oe[1],se=R(i.useState(!1),2),ue=se[0],me=se[1],de=R(i.useState(),2),fe=de[0],pe=de[1],be=R(i.useState(),2),he=be[0],ye=be[1],ve=function(){switch(l){case"stream":return I("Boost this content");case"channel":return I("Boost this channel");case"repost":return I("Boost this repost");case"collection":return I("Boost this playlist");default:return I("Boost this claim")}}(),_e=function(){switch(l){case"stream":return I("Boost your content");case"channel":return I("Boost your channel");case"repost":return I("Boost your repost");case"collection":return I("Boost your playlist");default:return I("Boost your claim")}}(),Ee=u||te===L,ge=g.wA[q],Te=ge.icon,we=ge.symbol,Ne=Ee?u?_e:ve:I("Leave a tip for the creator");try{t=(0,v.parseURI)(B).channelName}catch(e){}var Se="";switch(te){case L:Se=function(){switch(l){case"stream":return I("This refundable boost will improve the discoverability of this content while active.");case"channel":return I("This refundable boost will improve the discoverability of this channel while active.");case"repost":return I("This refundable boost will improve the discoverability of this repost while active.");case"collection":return I("This refundable boost will improve the discoverability of this playlist while active.");default:return I("This refundable boost will improve the discoverability of this claim while active.")}}();break;case F:case D:Se=I("Show this creator your appreciation by sending a donation.")}function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;ue||e&&f&&!(le>e)?(Y({amount:le,claim_id:o||"",channel_id:!d&&n||void 0},Ee),G()):me(!0)}function Oe(){if(le&&o){if(W)return W(le),void G();if(f&&te!==F)"LBC"===p.currency?Ce(p.amount):y.Lbryio.getExchangeRates().then((function(e){var t=e.LBC_USD;return Ce(p.amount/t)}));else if(te===F){if(ue)z({tipAmount:le,tipChannelName:s||"",channelClaimId:c||""},!n||d,{activeChannelName:r,activeChannelId:n},o,Z,q),G();else me(!0)}else Ce()}}i.useEffect((function(){!ae&&x&&te!==x&&(ne(u?L:x),ie(!0))}),[te,u,ae,x,ne]),i.useEffect((function(){x||te===x||X(u?L:te)}),[te,u,x,X]);var Pe={isOnConfirmationPage:ue,activeTab:te,setActiveTab:ne};return i.createElement(b.l0,{onSubmit:Oe},i.createElement(w.Z,{title:Ne,className:"modal--send-tip",subtitle:i.createElement(i.Fragment,null,!u&&i.createElement("div",{className:"section"},Z&&i.createElement(U,M({icon:Te,label:I("Tip"),name:F},Pe)),i.createElement(U,M({icon:_.LBC,label:I("Tip"),name:D},Pe)),!j&&i.createElement(U,M({icon:_.TRENDING,label:I("Boost"),name:L},Pe))),i.createElement("div",{className:"section__subtitle"},Se," ",i.createElement(T.default,{label:I("Learn more"),button:"link",href:"https://help.odysee.tv/category-monetization/"}))),actions:ue?i.createElement(i.Fragment,null,i.createElement("div",{className:"section card--inline confirm__wrapper"},i.createElement("div",{className:"section"},i.createElement("div",{className:"confirm__label"},I("To --[the tip recipient]--")),i.createElement("div",{className:"confirm__value"},t||C),i.createElement("div",{className:"confirm__label"},I("From --[the tip sender]--")),i.createElement("div",{className:"confirm__value"},!d&&r||I("Anonymous")),i.createElement("div",{className:"confirm__label"},I("Amount")),i.createElement("div",{className:"confirm__value"},te===F?i.createElement("p",null,"".concat(we," ").concat((Math.round(100*le)/100).toFixed(2))):i.createElement(P.Z,{postfix:le,size:22})))),i.createElement("div",{className:"section__actions"},te===F?i.createElement(H,{handleSubmit:Oe,isPending:S}):i.createElement(T.default,{autoFocus:!0,onClick:Oe,button:"primary",disabled:S,label:I("Confirm")}),i.createElement(T.default,{button:"link",label:I("Cancel"),onClick:function(){return me(!1)}}))):te!==D&&te!==L||0!==a?i.createElement(i.Fragment,null,i.createElement(N.Z,null),i.createElement(A.Z,{setTipError:pe,tipError:fe,uri:B,activeTab:te===L?D:te,amount:le,onChange:function(e){return ce(e)},setDisableSubmitButton:ye,modalProps:J}),i.createElement("div",{className:"section__actions"},i.createElement(T.default,{autoFocus:!0,icon:Ee?_.TRENDING:_.SUPPORT,button:"primary",type:"submit",disabled:m||S||fe||!le||he,label:i.createElement(h.Z,null,$||function(){var e,t=te===F?(e=le,(Math.round(100*e)/100).toFixed(2)):le,n=function(e){return e!=e||"NaN"===e}(le)?"":t;switch(te){case L:return Ne;case F:return I("Send a %amount% Tip",{amount:"".concat(we).concat(n)});case D:return I("Send a %amount% Tip",{amount:"".concat(n," LBC")});default:return Ne}}())}),m&&i.createElement("span",{className:"help"},I("Loading your channels...")))):i.createElement(w.Z,{title:i.createElement(O.Z,{tokens:{lbc:i.createElement(P.Z,{size:22})}},"Supporting content requires %lbc%"),subtitle:i.createElement(O.Z,{tokens:{lbc:i.createElement(P.Z,null)}},"With %lbc%, you can send tips to your favorite creators, or help boost their content for more people to see."),actions:i.createElement("div",{className:"section__actions"},i.createElement(T.default,{icon:_.REWARDS,button:"primary",label:I("Earn Rewards"),navigate:"/$/".concat(E.REWARDS)}),!window.odysee.build.googlePlay&&i.createElement(T.default,{icon:_.BUY,button:"secondary",label:I("Buy/Swap Credits"),navigate:"/$/".concat(E.BUY)}))})}))})));function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(a=r.key,i=void 0,i=function(e,t){if("object"!==z(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===z(i)?i:String(i)),r)}var a,i}function W(e,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=J(e);if(t){var a=J(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function J(e){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},J(e)}const K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}(l,e);var t,n,r,a=q(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){var e=this.props,t=e.uri,n=e.claimIsMine,r=e.isTipOnly,a=e.hasSelectedTab,l=e.customText,c=e.doHideModal,s=e.setAmount;return i.createElement(o.u_,{onAborted:c,isOpen:!0,type:"card"},i.createElement(G,{uri:t,claimIsMine:n,onCancel:c,isTipOnly:r,hasSelectedTab:a,customText:l,setAmount:s,modalProps:this.props}))}}])&&Y(t.prototype,n),r&&Y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(i.PureComponent);var Q={doHideModal:a.gG};const V=(0,r.$j)(null,Q)(K)}}]);
//# sourceMappingURL=modalSendTip-08584239752e1f5675b7.js.map