"use strict";(self.webpackChunkodysee_com=self.webpackChunkodysee_com||[]).push([[6898],{2355:(e,r,t)=>{t.r(r),t.d(r,{default:()=>ie});var n=t(24582),a=t(20983),l=t(33441),i=t(70897),c=t(16643),u=t(52705),o=t(17351),s=t(7920),f=t(49523),m=t(16395),d=t(73249),v=t(77369),b=t(88441),y=t(66598),p=t.n(y),h=t(96284),g=t(53389),E=t(54971),_=t(94936),w=t(94720),S=t(44908),O=t(18209),N=t(74971),A=t(81352),R=t(58210),j=t(98),U=t(15184),I=(t(79069),t(20206)),C=t(12788),k=t(46351);const L=(0,n.$j)((function(e,r){var t=(0,s.B0y)(e,r.uri);return{claim:t,isSubscribed:(0,o._4)(e,r.uri),claimIsMine:(0,s.pDP)(e,t)}}),null)((function(e){var r=e.uri,t=e.isSubscribed,n=e.small,a=void 0!==n&&n,l=e.claim,i=e.iconOnly,c=l&&"collection"===l.value_type,u=a?k.ICON_SIZE:void 0;return b.createElement("div",{className:p()("claim-preview__overlay-properties",{"claim-preview__overlay-properties--small":a})},b.createElement(b.Fragment,null,b.createElement(C.Z,{uri:r,small:!0}),c&&l&&l.value.claims&&!i&&b.createElement("div",null,l.value.claims.length),t&&b.createElement(h.default,{size:u,tooltip:!0,icon:v.SUBSCRIBE}),b.createElement(I.Z,{hideFree:!0,uri:r})))}));var P=t(42823),Z=t(71036).__;const M=(0,n.$j)((function(e,r){var t=r.uri,n=(0,s.B0y)(e,t);return{claim:n,odyseeMembership:(0,A.Yz)(e,(0,R._I)(n)),isResolvingUri:(0,s.kic)(e,t),geoRestriction:(0,s.onN)(e,r.uri)}}))((function(e){var r=e.claim,t=e.uri,n=e.isResolvingUri,a=e.geoRestriction,l=e.odyseeMembership;if(n)return b.createElement(E.O2,{value:t},b.createElement("div",{className:"wunderbar__suggestion"},b.createElement("div",{className:"media__thumb media__thumb--resolving"})));if(!r)return null;if(a)return null;var i="channel"===r.value_type,c="collection"===r.value_type;return b.createElement(E.O2,{value:t},b.createElement("div",{className:p()("wunderbar__suggestion",{"wunderbar__suggestion--channel":i})},i&&b.createElement(U.Z,{small:!0,uri:t}),!i&&b.createElement(j.Z,{uri:t},c&&b.createElement("div",{className:"claim-preview__claim-property-overlay"},b.createElement(L,{uri:t,small:!0,iconOnly:!0}))),b.createElement("span",{className:"wunderbar__suggestion-label"},b.createElement("div",{className:"wunderbar__suggestion-title"},r.value.title),b.createElement("div",{className:"wunderbar__suggestion-name"},i?r.name:r.signing_channel&&r.signing_channel.name||Z("Anonymous"),l&&b.createElement(P.Z,{membershipName:l})))))}));var T=t(71036).__;var $=t(1987);const B=(0,n.$j)((function(e,r){var t="lbry://".concat(r.query),n=[t];try{if(!(0,g.parseURI)(t).isChannel){var a="lbry://@".concat(r.query);n.push(a)}}catch(e){}var l=n.some((function(r){return(0,s.kic)(e,r)})),i=(0,O.jr)(r.query)(e);return{resolvingUris:l,winningUri:i,winningClaim:i?(0,s.pBb)(i)(e):void 0,uris:n,preferEmbed:(0,s.YU7)(i,$.K0)(e)}}),{doResolveUris:u.ZE})((function(e){var r=e.uris,t=e.resolvingUris,n=e.winningUri,a=e.doResolveUris,l=e.preferEmbed,i=JSON.stringify(r);return b.useEffect((function(){if(i){var e=JSON.parse(i);e.length>0&&a(e)}}),[a,i]),t?b.createElement("div",{className:"wunderbar__winning-claim"},b.createElement("div",{className:"wunderbar__label wunderbar__placeholder-label"}),b.createElement("div",{className:"wunderbar__suggestion wunderbar__placeholder-suggestion"},b.createElement("div",{className:"wunderbar__placeholder-thumbnail"}),b.createElement("div",{className:"wunderbar__placeholder-info"})),b.createElement("hr",{className:"wunderbar__top-separator"})):!n||l?null:b.createElement(b.Fragment,null,b.createElement("div",{className:"wunderbar__label"},b.createElement(N.Z,{prefix:T("Most Supported")})),b.createElement(M,{uri:n}),b.createElement("hr",{className:"wunderbar__top-separator"}))}));var V=t(6993),D=t(16062),q=t(31617),x=t(91616),J=t(71036).__;function K(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,l,i,c=[],u=!0,o=!1;try{if(l=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;u=!1}else for(;!(u=(n=l.call(t)).done)&&(c.push(n.value),c.length!==r);u=!0);}catch(e){o=!0,a=e}finally{try{if(!u&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(o)throw a}}return c}}(e,r)||F(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,r){if(e){if("string"==typeof e)return H(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?H(e,r):void 0}}function H(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var W="lbry://",G="".concat(m.URL_DEV,"/"),Y="".concat(m.URL_LOCAL,"/"),Q="".concat(m.URL,"/"),X="$/".concat(d.SEARCH,"q="),ee="Invalid LBRY URL entered. Only A-Z, a-z, 0-9, and '-' allowed.",re="tag:",te=75,ne=27,ae=1e3;var le=t(19208);const ie=(0,c.withRouter)((0,n.$j)((function(e,r){return{languageSetting:(0,a.VT)(e),searchInLanguage:(0,a.wr)(e,le.sm),showMature:(0,a.zf)(e),claimsByUri:(0,s.AsG)(e),subscriptionUris:(0,o.b6)(e)||[]}}),(function(e,r){return{doResolveUris:function(r){return e((0,u.ZE)(r))},navigateToSearchPage:function(e){var t=encodeURIComponent(e);r.history.push({pathname:"/$/search",search:"?q=".concat(t)}),f.Z.apiLog.search()},doShowSnackBar:function(r){return e((0,l.QJ)({isError:!0,message:r}))},doCloseMobileSearch:function(){return e((0,i.gG)())}}}))((function(e){var r,t=e.navigateToSearchPage,n=e.doShowSnackBar,a=e.showMature,l=e.claimsByUri,i=e.subscriptionUris,u=e.isMobile,o=e.doCloseMobileSearch,s=e.channelsOnly,f=e.noTopSuggestion,y=e.noBottomLinks,O=e.customSelectAction,N=e.searchInLanguage,A=e.languageSetting,R=e.doResolveUris,j=b.useRef(),U=b.useRef(),I=b.useRef(),C=function(e){return e&&e.current&&e.current===document.activeElement},k=C(j)||C(U)||C(I),L=(0,c.useHistory)(),P=L.push,Z=L.location.search,T=new URLSearchParams(Z).get("q")||"",$=z(b.useState(T),2),F=$[0],H=$[1],le=z(b.useState(""),2),ie=le[0],ce=le[1],ue=u?20:5,oe=function(e,r){var t={};e&&(t.isBackgroundSearch=!1,t[q.JV.CLAIM_TYPE]=q.JV.INCLUDE_CHANNELS);r&&(t[q.JV.LANGUAGE]=r);return t}(s,N?A:null),se=(0,_.Z)(ie,a,ue,oe,0),fe=se.results,me=se.loading,de=ie&&!me&&fe&&0===fe.length,ve=ie&&ie.trim().replace(/\s+/g,"").replace(/:/g,"#"),be="lbry://".concat(ve),ye=!1;try{var pe=(0,g.parseURI)(be).isChannel;ye=!0,pe||(r="lbry://@".concat(be))}catch(e){}r&&[be].push(be);var he=ie!==F||me;function ge(e){if(e){o();var r=m.KNOWN_APP_DOMAINS.map((function(e){return"https://".concat(e,"/")})),a=[Q].concat(K(r),[Y,G]),l=a.findIndex((function(r){return e.includes(r)})),i=-1!==l,c=e.startsWith("lbry://");if(j.current&&j.current.blur(),O)O(fe?fe.find((function(r){return r.startsWith(e)})):"");else{if(i){var u=a[l],s=e.slice(u.length).replace(/:/g,"#");if(s.includes(X))s=s.slice(X.length),t(s);else try{var f="lbry://".concat(s);(0,g.parseURI)(f);var v=(0,V.$U)(f);return void P(v)}catch(e){}}if(e.startsWith(re)){var b=e.slice(re.length);P("/$/".concat(d.DISCOVER,"?t=").concat(b))}else if(c){var y="lbry://"+e.slice(W.length).replace(/:/g,"#");try{if((0,g.isURIValid)(y)){var p=(0,g.normalizeURI)(y),h=(0,V.$U)(p);P(h)}else n(ee)}catch(r){t(e)}}else t(e)}}}b.useEffect((function(){var e=setTimeout((function(){ie!==F&&ce(F.length<q.tA?"":F)}),ae);return function(){return clearTimeout(e)}}),[F,ie]),b.useEffect((function(){function e(e){var r=e.ctrlKey,t=e.metaKey,n=e.shiftKey,a=e.key;r||t||"Home"!==a&&"End"!==a||function(e,r,t){if(e){var n,a,l,i=e.selectionStart?e.selectionStart:0,c="none";return t?(n=0,a=r?i:n,l=0,c="backward"):(a=e.value.length,n=r?i:a,l=e.scrollWidth-e.clientWidth),e.setSelectionRange(n,a,c),e.scrollLeft=l,!0}return!1}(j.current,n,"Home"===a)&&e.stopPropagation()}return j.current&&j.current.addEventListener("keydown",e),function(){j.current&&j.current.removeEventListener("keydown",e)}}),[j]),b.useEffect((function(){function e(e){var r=e.ctrlKey,t=(e.metaKey,e.keyCode);if(j.current)return t===te&&r?(j.current.focus(),void j.current.select()):void(j.current===document.activeElement&&t===ne&&(""===j.current.value?j.current.blur():(j.current.value="",j.current.focus())))}return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[j]),b.useEffect((function(){u&&j.current&&j.current.focus()}),[j,u]);var Ee=JSON.stringify(fe);b.useEffect((function(){if(Ee){var e=JSON.parse(Ee);e&&e.length>0&&R(e)}}),[R,Ee]);var _e=z(b.useState([]),2),we=_e[0],Se=_e[1];return b.useEffect((function(){if(i&&F&&F.length>1){var e=[];i.map((function(r){var t,n;l[r]&&-1===e.indexOf(l[r].permanent_url)&&(l[r].name.toLowerCase().includes(F.toLowerCase())||null!==(t=l[r].value)&&void 0!==t&&null!==(n=t.title)&&void 0!==n&&n.toLowerCase().includes(F.toLowerCase()))&&e.push(l[r].permanent_url)})),Se(e.slice(0,u?5:10))}}),[F]),b.useEffect((function(){fe&&we&&we.map((function(e){-1!==fe.indexOf(e)&&fe.splice(fe.indexOf(e),1)}))}),[we,fe]),b.createElement(b.Fragment,null,b.createElement(w.l0,{className:p()("wunderbar__wrapper",{"wunderbar__wrapper--mobile":u}),onSubmit:function(){return ge(F)}},b.createElement(E.hQ,{className:"wunderbar",onSelect:ge,openOnFocus:!0},b.createElement(h.default,{icon:v.SEARCH}),b.createElement(E.gA,{ref:j,className:"wunderbar__input",placeholder:J("Search"),onChange:function(e){return H(e.target.value)},value:F}),F&&b.createElement(S.default,{icon:v.REMOVE,"aria-label":J("Clear"),button:"alt",className:"wunderbar__clear",onClick:function(){H("")}}),k&&b.createElement(E.SF,{portal:!1,className:p()("wunderbar__suggestions",{"wunderbar__suggestions--mobile":u})},b.createElement(E.Gk,null,!y&&b.createElement("div",{className:"wunderbar__bottom-links"},b.createElement(E.O2,{value:F,className:"wunderbar__more-results"},b.createElement(S.default,{ref:U,button:"link",label:J("View All Results")})),b.createElement(E.O2,{value:"".concat(re).concat(F),className:"wunderbar__more-results"},b.createElement(S.default,{ref:I,className:"wunderbar__tag-search",button:"link"},J("Search tag"),b.createElement("div",{className:"tag"},F.split(" ").join(""))))),b.createElement("hr",{className:"wunderbar__top-separator"}),ye&&!f?b.createElement(B,{query:ve}):null,b.createElement("div",{className:"wunderbar__label"},J("Search Results")),we.length>0&&we.map((function(e){return b.createElement(M,{key:e,uri:e})})),he&&F.length>q.tA?b.createElement(x.Z,{type:"small"}):null,!he&&fe?fe.slice(0,u?20-we.length:10-we.length).map((function(e){return b.createElement(M,{key:e,uri:e})})):null)))),u&&!F&&b.createElement("div",{className:"main--empty"},b.createElement(D.Z,{subtitle:J("Search for something..."),alwaysShow:!0})),u&&de&&b.createElement("div",{className:"main--empty"},b.createElement(D.Z,{type:"sad",subtitle:J("No results"),alwaysShow:!0})))})))},94936:(e,r,t)=>{t.d(r,{Z:()=>d});var n=t(88441),a=t(18259),l=t(82104),i=t(53389),c=t(23021);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function s(e,r,t){return(r=function(e){var r=function(e,r){if("object"!==u(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"===u(r)?r:String(r)}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function f(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,l,i,c=[],u=!0,o=!1;try{if(l=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;u=!1}else for(;!(u=(n=l.call(t)).done)&&(c.push(n.value),c.length!==r);u=!0);}catch(e){o=!0,a=e}finally{try{if(!u&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(o)throw a}}return c}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return m(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function d(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},m=arguments.length>4&&void 0!==arguments[4]?arguments[4]:500,d=f(n.useState(),2),v=d[0],b=d[1],y=f(n.useState(),2),p=y[0],h=y[1],g=e?(0,l.$6)(e,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach((function(r){s(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({nsfw:r,size:t},u)):"",E=(0,c.Z)(g,m);return n.useEffect((function(){if(E){h(!0),b(null);var e=!0;return a.q_.search(E).then((function(r){var t=r.body;e&&(b(t.map((function(e){return"lbry://".concat(e.name,"#").concat(e.claimId)})).filter((function(e){return(0,i.isURIValid)(e)}))),h(!1))})).catch((function(){h(!1)})),function(){e=!1}}}),[E]),{results:v,loading:p}}},23021:(e,r,t)=>{t.d(r,{Z:()=>c});var n=t(88441);function a(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,l,i,c=[],u=!0,o=!1;try{if(l=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;u=!1}else for(;!(u=(n=l.call(t)).done)&&(c.push(n.value),c.length!==r);u=!0);}catch(e){o=!0,a=e}finally{try{if(!u&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(o)throw a}}return c}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return l(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var i=function(e){n.useEffect(e,[])};function c(e){var r,t,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,c=a(n.useState(e),2),u=c[0],o=c[1],s=n.useRef(),f=n.useRef(null),m=n.useRef(0);return n.useEffect((function(){if(s.current)f.current=e,m.current=!0;else{o(e);s.current=setTimeout((function e(){m.current?(m.current=!1,o(f.current),s.current=setTimeout(e,l)):s.current=void 0}),l)}}),[l,e]),r=function(){s.current&&clearTimeout(s.current)},(t=n.useRef(r)).current=r,i((function(){return function(){return t.current()}})),u}}}]);
//# sourceMappingURL=wb-d65fd37e0f3b175af3a9-1009.js.map