(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["odyseeMembership"],{

/***/ "../ui/page/odyseeMembership/index.js":
/*!********************************************!*\
  !*** ../ui/page/odyseeMembership/index.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ \"../node_modules/react-redux/es/index.js\");\n/* harmony import */ var redux_actions_app__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! redux/actions/app */ \"../ui/redux/actions/app.js\");\n/* harmony import */ var _view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./view */ \"../ui/page/odyseeMembership/view.jsx\");\n/* harmony import */ var redux_selectors_app__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! redux/selectors/app */ \"../ui/redux/selectors/app.js\");\n/* harmony import */ var redux_selectors_claims__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! redux/selectors/claims */ \"../ui/redux/selectors/claims.js\");\n/* harmony import */ var redux_actions_user__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! redux/actions/user */ \"../ui/redux/actions/user.js\");\n/* harmony import */ var redux_selectors_settings__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! redux/selectors/settings */ \"../ui/redux/selectors/settings.js\");\n/* harmony import */ var redux_selectors_user__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! redux/selectors/user */ \"../ui/redux/selectors/user.js\");\n/* harmony import */ var redux_selectors_stripe__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! redux/selectors/stripe */ \"../ui/redux/selectors/stripe.js\");\n/* harmony import */ var redux_actions_stripe__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! redux/actions/stripe */ \"../ui/redux/actions/stripe.js\");\n\n\n\n\n\n\n\n\n\n\n\nvar select = function select(state) {\n  var activeChannelClaim = Object(redux_selectors_app__WEBPACK_IMPORTED_MODULE_3__[\"selectActiveChannelClaim\"])(state);\n  return {\n    activeChannelClaim: activeChannelClaim,\n    channels: Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_4__[\"selectMyChannelClaims\"])(state),\n    claimsByUri: Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_4__[\"selectClaimsByUri\"])(state),\n    incognito: Object(redux_selectors_app__WEBPACK_IMPORTED_MODULE_3__[\"selectIncognito\"])(state),\n    user: Object(redux_selectors_user__WEBPACK_IMPORTED_MODULE_7__[\"selectUser\"])(state),\n    locale: Object(redux_selectors_user__WEBPACK_IMPORTED_MODULE_7__[\"selectUserLocale\"])(state),\n    preferredCurrency: Object(redux_selectors_settings__WEBPACK_IMPORTED_MODULE_6__[\"selectPreferredCurrency\"])(state),\n    hasSavedCard: Object(redux_selectors_stripe__WEBPACK_IMPORTED_MODULE_8__[\"selectHasSavedCard\"])(state)\n  };\n};\n\nvar perform = function perform(dispatch) {\n  return {\n    openModal: function openModal(modal, props) {\n      return dispatch(Object(redux_actions_app__WEBPACK_IMPORTED_MODULE_1__[\"doOpenModal\"])(modal, props));\n    },\n    fetchUserMemberships: function fetchUserMemberships(claimIds) {\n      return dispatch(Object(redux_actions_user__WEBPACK_IMPORTED_MODULE_5__[\"doFetchUserMemberships\"])(claimIds));\n    },\n    updateUserOdyseeMembershipStatus: function updateUserOdyseeMembershipStatus(user) {\n      return dispatch(Object(redux_actions_user__WEBPACK_IMPORTED_MODULE_5__[\"doCheckUserOdyseeMemberships\"])(user));\n    },\n    doGetCustomerStatus: function doGetCustomerStatus() {\n      return dispatch(Object(redux_actions_stripe__WEBPACK_IMPORTED_MODULE_9__[\"doGetCustomerStatus\"])());\n    }\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_0__[\"connect\"])(select, perform)(_view__WEBPACK_IMPORTED_MODULE_2__[\"default\"]));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvcGFnZS9vZHlzZWVNZW1iZXJzaGlwL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3VpL3BhZ2Uvb2R5c2VlTWVtYmVyc2hpcC9pbmRleC5qcz9kMThiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBkb09wZW5Nb2RhbCB9IGZyb20gJ3JlZHV4L2FjdGlvbnMvYXBwJztcbmltcG9ydCBPZHlzZWVNZW1iZXJzaGlwIGZyb20gJy4vdmlldyc7XG5pbXBvcnQgeyBzZWxlY3RBY3RpdmVDaGFubmVsQ2xhaW0sIHNlbGVjdEluY29nbml0byB9IGZyb20gJ3JlZHV4L3NlbGVjdG9ycy9hcHAnO1xuaW1wb3J0IHsgc2VsZWN0TXlDaGFubmVsQ2xhaW1zLCBzZWxlY3RDbGFpbXNCeVVyaSB9IGZyb20gJ3JlZHV4L3NlbGVjdG9ycy9jbGFpbXMnO1xuaW1wb3J0IHsgZG9GZXRjaFVzZXJNZW1iZXJzaGlwcywgZG9DaGVja1VzZXJPZHlzZWVNZW1iZXJzaGlwcyB9IGZyb20gJ3JlZHV4L2FjdGlvbnMvdXNlcic7XG5pbXBvcnQgeyBzZWxlY3RQcmVmZXJyZWRDdXJyZW5jeSB9IGZyb20gJ3JlZHV4L3NlbGVjdG9ycy9zZXR0aW5ncyc7XG5pbXBvcnQgeyBzZWxlY3RVc2VyLCBzZWxlY3RVc2VyTG9jYWxlIH0gZnJvbSAncmVkdXgvc2VsZWN0b3JzL3VzZXInO1xuaW1wb3J0IHsgc2VsZWN0SGFzU2F2ZWRDYXJkIH0gZnJvbSAncmVkdXgvc2VsZWN0b3JzL3N0cmlwZSc7XG5pbXBvcnQgeyBkb0dldEN1c3RvbWVyU3RhdHVzIH0gZnJvbSAncmVkdXgvYWN0aW9ucy9zdHJpcGUnO1xuXG5jb25zdCBzZWxlY3QgPSAoc3RhdGUpID0+IHtcbiAgY29uc3QgYWN0aXZlQ2hhbm5lbENsYWltID0gc2VsZWN0QWN0aXZlQ2hhbm5lbENsYWltKHN0YXRlKTtcblxuICByZXR1cm4ge1xuICAgIGFjdGl2ZUNoYW5uZWxDbGFpbSxcbiAgICBjaGFubmVsczogc2VsZWN0TXlDaGFubmVsQ2xhaW1zKHN0YXRlKSxcbiAgICBjbGFpbXNCeVVyaTogc2VsZWN0Q2xhaW1zQnlVcmkoc3RhdGUpLFxuICAgIGluY29nbml0bzogc2VsZWN0SW5jb2duaXRvKHN0YXRlKSxcbiAgICB1c2VyOiBzZWxlY3RVc2VyKHN0YXRlKSxcbiAgICBsb2NhbGU6IHNlbGVjdFVzZXJMb2NhbGUoc3RhdGUpLFxuICAgIHByZWZlcnJlZEN1cnJlbmN5OiBzZWxlY3RQcmVmZXJyZWRDdXJyZW5jeShzdGF0ZSksXG4gICAgaGFzU2F2ZWRDYXJkOiBzZWxlY3RIYXNTYXZlZENhcmQoc3RhdGUpLFxuICB9O1xufTtcblxuY29uc3QgcGVyZm9ybSA9IChkaXNwYXRjaCkgPT4gKHtcbiAgb3Blbk1vZGFsOiAobW9kYWwsIHByb3BzKSA9PiBkaXNwYXRjaChkb09wZW5Nb2RhbChtb2RhbCwgcHJvcHMpKSxcbiAgZmV0Y2hVc2VyTWVtYmVyc2hpcHM6IChjbGFpbUlkcykgPT4gZGlzcGF0Y2goZG9GZXRjaFVzZXJNZW1iZXJzaGlwcyhjbGFpbUlkcykpLFxuICB1cGRhdGVVc2VyT2R5c2VlTWVtYmVyc2hpcFN0YXR1czogKHVzZXIpID0+IGRpc3BhdGNoKGRvQ2hlY2tVc2VyT2R5c2VlTWVtYmVyc2hpcHModXNlcikpLFxuICBkb0dldEN1c3RvbWVyU3RhdHVzOiAoKSA9PiBkaXNwYXRjaChkb0dldEN1c3RvbWVyU3RhdHVzKCkpLFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3Qoc2VsZWN0LCBwZXJmb3JtKShPZHlzZWVNZW1iZXJzaGlwKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFIQTtBQUNBO0FBY0E7QUFBQTtBQUNBO0FBQUE7QUFEQTtBQUVBO0FBQUE7QUFGQTtBQUdBO0FBQUE7QUFIQTtBQUlBO0FBQUE7QUFBQTtBQUpBO0FBQUE7QUFDQTtBQU1BIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../ui/page/odyseeMembership/index.js\n");

/***/ }),

/***/ "../ui/page/odyseeMembership/view.jsx":
/*!********************************************!*\
  !*** ../ui/page/odyseeMembership/view.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ \"../node_modules/moment/moment.js\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var component_page__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! component/page */ \"../ui/component/page/index.js\");\n/* harmony import */ var component_spinner__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! component/spinner */ \"../ui/component/spinner/index.js\");\n/* harmony import */ var lbryinc__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lbryinc */ \"../extras/lbryinc/index.js\");\n/* harmony import */ var util_stripe__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! util/stripe */ \"../ui/util/stripe.js\");\n/* harmony import */ var constants_channels__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! constants/channels */ \"../ui/constants/channels.js\");\n/* harmony import */ var constants_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! constants/icons */ \"../ui/constants/icons.js\");\n/* harmony import */ var constants_modal_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! constants/modal_types */ \"../ui/constants/modal_types.js\");\n/* harmony import */ var component_common_card__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! component/common/card */ \"../ui/component/common/card.jsx\");\n/* harmony import */ var component_membershipSplash__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! component/membershipSplash */ \"../ui/component/membershipSplash/index.js\");\n/* harmony import */ var component_button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! component/button */ \"../ui/component/button/index.js\");\n/* harmony import */ var component_channelSelector__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! component/channelSelector */ \"../ui/component/channelSelector/index.js\");\n/* harmony import */ var component_premiumBadge__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! component/premiumBadge */ \"../ui/component/premiumBadge/index.js\");\n/* harmony import */ var component_i18nMessage__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! component/i18nMessage */ \"../ui/component/i18nMessage/index.js\");\n/* harmony import */ var effects_use_get_user_memberships__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! effects/use-get-user-memberships */ \"../ui/effects/use-get-user-memberships.js\");\n/* harmony import */ var effects_use_persisted_state__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! effects/use-persisted-state */ \"../ui/effects/use-persisted-state.js\");\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n/* eslint-disable no-console */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar stripeEnvironment = Object(util_stripe__WEBPACK_IMPORTED_MODULE_5__[\"getStripeEnvironment\"])();\nvar isDev = \"development\" !== 'production';\n\nfunction log() {}\n\nvar OdyseeMembershipPage = function OdyseeMembershipPage(props) {\n  var openModal = props.openModal,\n      activeChannelClaim = props.activeChannelClaim,\n      channels = props.channels,\n      claimsByUri = props.claimsByUri,\n      fetchUserMemberships = props.fetchUserMemberships,\n      updateUserOdyseeMembershipStatus = props.updateUserOdyseeMembershipStatus,\n      incognito = props.incognito,\n      user = props.user,\n      locale = props.locale,\n      preferredCurrency = props.preferredCurrency,\n      hasSavedCard = props.hasSavedCard,\n      doGetCustomerStatus = props.doGetCustomerStatus;\n  var initialCardState = react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef(hasSavedCard);\n  var userChannelName = activeChannelClaim ? activeChannelClaim.name : '';\n  var userChannelClaimId = activeChannelClaim && activeChannelClaim.claim_id;\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      membershipOptions = _React$useState2[0],\n      setMembershipOptions = _React$useState2[1];\n\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      userMemberships = _React$useState4[0],\n      setUserMemberships = _React$useState4[1];\n\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState('usd'),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      currencyToUse = _React$useState6[0],\n      setCurrencyToUse = _React$useState6[1];\n\n  var _React$useState7 = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      canceledMemberships = _React$useState8[0],\n      setCanceledMemberships = _React$useState8[1];\n\n  var _React$useState9 = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      activeMemberships = _React$useState10[0],\n      setActiveMemberships = _React$useState10[1];\n\n  var _React$useState11 = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState([]),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      purchasedMemberships = _React$useState12[0],\n      setPurchasedMemberships = _React$useState12[1];\n\n  var _React$useState13 = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(false),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      hasShownModal = _React$useState14[0],\n      setHasShownModal = _React$useState14[1];\n\n  var _React$useState15 = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(true),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      shouldFetchUserMemberships = _React$useState16[0],\n      setFetchUserMemberships = _React$useState16[1];\n\n  var _React$useState17 = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState(false),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      apiError = _React$useState18[0],\n      setApiError = _React$useState18[1];\n\n  var _usePersistedState = Object(effects_use_persisted_state__WEBPACK_IMPORTED_MODULE_16__[\"default\"])('premium-help-seen', true),\n      _usePersistedState2 = _slicedToArray(_usePersistedState, 2),\n      showHelp = _usePersistedState2[0],\n      setShowHelp = _usePersistedState2[1];\n\n  var hasMembership = activeMemberships && activeMemberships.length > 0;\n  var channelUrls = channels && channels.map(function (channel) {\n    return channel.permanent_url;\n  }); // check if membership data for user is already fetched, if it's needed then fetch it\n\n  Object(effects_use_get_user_memberships__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(shouldFetchUserMemberships, channelUrls, claimsByUri, function (value) {\n    fetchUserMemberships(value);\n    setFetchUserMemberships(false);\n  });\n\n  function populateMembershipData() {\n    var response, _activeMemberships, _canceledMemberships, _purchasedMemberships, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, membership, isActive;\n\n    return regeneratorRuntime.async(function populateMembershipData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return regeneratorRuntime.awrap(lbryinc__WEBPACK_IMPORTED_MODULE_4__[\"Lbryio\"].call('membership', 'mine', {\n              environment: stripeEnvironment\n            }, 'post'));\n\n          case 3:\n            response = _context.sent;\n            log('mine response');\n            log(response);\n            _activeMemberships = [];\n            _canceledMemberships = [];\n            _purchasedMemberships = [];\n            _iteratorNormalCompletion = true;\n            _didIteratorError = false;\n            _iteratorError = undefined;\n            _context.prev = 12;\n\n            for (_iterator = response[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              membership = _step.value; // if it's autorenewing it's considered 'active'\n\n              isActive = membership.Membership.auto_renew;\n\n              if (isActive) {\n                _activeMemberships.push(membership);\n              } else {\n                _canceledMemberships.push(membership);\n              }\n\n              _purchasedMemberships.push(membership.Membership.membership_id);\n            } // hide the other membership options if there's already a purchased membership\n\n\n            _context.next = 20;\n            break;\n\n          case 16:\n            _context.prev = 16;\n            _context.t0 = _context[\"catch\"](12);\n            _didIteratorError = true;\n            _iteratorError = _context.t0;\n\n          case 20:\n            _context.prev = 20;\n            _context.prev = 21;\n\n            if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n              _iterator[\"return\"]();\n            }\n\n          case 23:\n            _context.prev = 23;\n\n            if (!_didIteratorError) {\n              _context.next = 26;\n              break;\n            }\n\n            throw _iteratorError;\n\n          case 26:\n            return _context.finish(23);\n\n          case 27:\n            return _context.finish(20);\n\n          case 28:\n            if (_activeMemberships.length > 0) {\n              setMembershipOptions(false);\n            }\n\n            setActiveMemberships(_activeMemberships);\n            setCanceledMemberships(_canceledMemberships);\n            setPurchasedMemberships(_purchasedMemberships); // update the state to show the badge\n\n            fetchUserMemberships(userChannelClaimId || '');\n            setUserMemberships(response);\n            _context.next = 40;\n            break;\n\n          case 36:\n            _context.prev = 36;\n            _context.t1 = _context[\"catch\"](0);\n            setApiError(true);\n            console.log(_context.t1);\n\n          case 40:\n            setFetchUserMemberships(false);\n\n          case 41:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 36], [12, 16, 20, 28], [21,, 23, 27]]);\n  }\n\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect(function () {\n    if (!shouldFetchUserMemberships) setFetchUserMemberships(true);\n  }, [shouldFetchUserMemberships]);\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect(function () {\n    if (hasSavedCard === undefined) {\n      doGetCustomerStatus();\n    }\n  }, [doGetCustomerStatus, hasSavedCard]);\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect(function () {\n    // TODO: this should be refactored to make these calls in parallel\n    (function _callee() {\n      var response;\n      return regeneratorRuntime.async(function _callee$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return regeneratorRuntime.awrap(lbryinc__WEBPACK_IMPORTED_MODULE_4__[\"Lbryio\"].call('membership', 'list', {\n                environment: stripeEnvironment,\n                // Using @odysee's channel info as memberships are only for @odysee.\n                channel_id: constants_channels__WEBPACK_IMPORTED_MODULE_6__[\"ODYSEE_CHANNEL\"].ID,\n                channel_name: constants_channels__WEBPACK_IMPORTED_MODULE_6__[\"ODYSEE_CHANNEL\"].NAME\n              }, 'post'));\n\n            case 3:\n              response = _context2.sent;\n              log('membership/list response');\n              log(response); // hide other options if there's already a membership\n\n              if (activeMemberships && activeMemberships.length > 0) {\n                setMembershipOptions(false);\n              } else {\n                setMembershipOptions(response);\n              }\n\n              _context2.next = 13;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](0);\n              setApiError(true);\n              console.log(_context2.t0);\n\n            case 13:\n              // use currency if set on client, otherwise use USD by default or EUR if in Europe\n              if (preferredCurrency) {\n                setCurrencyToUse(preferredCurrency.toLowerCase());\n              } else {\n                if ((locale === null || locale === void 0 ? void 0 : locale.continent) === 'EU') {\n                  setCurrencyToUse('eur');\n                }\n              }\n\n              populateMembershipData();\n\n            case 15:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[0, 9]]);\n    })(); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []); // we are still waiting from the backend if any of these are undefined\n\n  var stillWaitingFromBackend = purchasedMemberships === undefined || membershipOptions === undefined || userMemberships === undefined || currencyToUse === undefined;\n\n  var formatDate = function formatDate(date) {\n    return moment__WEBPACK_IMPORTED_MODULE_1___default()(new Date(date)).format('MMMM DD YYYY');\n  }; // clear membership data\n\n\n  var deleteData = function deleteData() {\n    return regeneratorRuntime.async(function deleteData$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return regeneratorRuntime.awrap(lbryinc__WEBPACK_IMPORTED_MODULE_4__[\"Lbryio\"].call('membership', 'clear', {\n              environment: 'test'\n            }, 'post'));\n\n          case 2:\n            // $FlowFixMe\n            location.reload();\n\n          case 3:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    });\n  }; // dont pass channel name and id when calling purchase\n\n\n  var noChannelsOrIncognitoMode = incognito || !channels; // TODO: can clean this up, some repeating text\n\n  function buildPurchaseString(price, interval, plan) {\n    var featureString = ''; // generate different strings depending on other conditions\n\n    if (plan === 'Premium' && !noChannelsOrIncognitoMode) {\n      featureString = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(component_i18nMessage__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n        tokens: {\n          channel_name: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"b\", {\n            className: \"membership-bolded\"\n          }, userChannelName)\n        }\n      }, \"Your badge will be shown for your %channel_name% channel in all areas of the app, and can be added to two additional channels in the future for free.\");\n    } else if (plan === 'Premium+' && !noChannelsOrIncognitoMode) {\n      // user has channel selected\n      featureString = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(component_i18nMessage__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n        tokens: {\n          channel_name: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"b\", {\n            className: \"membership-bolded\"\n          }, userChannelName)\n        }\n      }, \"The no ads feature applies site-wide for all channels and your badge will be shown for your %channel_name% channel in all areas of the app, and can be added to two additional channels in the future for free.\");\n    } else if (plan === 'Premium' && !channels) {\n      // user has no channels\n      featureString = __('You currently have no channels. To show your badge on a channel, please create a channel first. If you register a channel later you will be able to show a badge for up to three channels.');\n    } else if (plan === 'Premium+' && !channels) {\n      // user has no channels\n      featureString = __('The no ads feature applies site-wide. You currently have no channels. To show your badge on a channel, please create a channel first. If you register a channel later you will be able to show a badge for up to three channels.');\n    } else if (plan === 'Premium' && incognito) {\n      // user has incognito selected\n      featureString = __('You currently have no channel selected and will not have a badge be visible, if you want to show a badge you can select a channel now, or you can show a badge for up to three channels in the future for free.');\n    } else if (plan === 'Premium+' && incognito) {\n      // user has incognito selected\n      featureString = __('The no ads feature applies site-wide. You currently have no channel selected and will not have a badge be visible, if you want to show a badge you can select a channel now, or you can show a badge for up to three channels in the future for free.');\n    }\n\n    var priceDisplayString = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(component_i18nMessage__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n      tokens: {\n        monthly_yearly_bolded: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"b\", {\n          className: \"membership-bolded\"\n        }, interval === 'month' ? __('monthly') : __('yearly')),\n        monthly_yearly: interval === 'month' ? __('monthly') : __('yearly'),\n        price: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"b\", {\n          className: \"membership-bolded\"\n        }, \"\".concat(currencyToUse.toUpperCase(), \" \").concat(currencyToUse === 'usd' ? '$' : '€').concat(price / 100))\n      }\n    }, \"You are purchasing a %monthly_yearly_bolded% %plan% membership that is active immediately and will renew %monthly_yearly% at a price of %price%.\");\n\n    var noRefund = __('You can cancel Premium at any time (no refunds) and you can also close this window and choose a different membership option.');\n\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, priceDisplayString, \" \", featureString, \" \", noRefund);\n  }\n\n  var purchaseMembership = function purchaseMembership(e, membershipOption, price) {\n    e.preventDefault();\n    e.stopPropagation();\n    var planName = membershipOption.Membership.name;\n    var membershipId = e.currentTarget.getAttribute('membership-id');\n    var priceId = e.currentTarget.getAttribute('price-id');\n    var purchaseString = buildPurchaseString(price.unit_amount, price.recurring.interval, planName);\n    openModal(constants_modal_types__WEBPACK_IMPORTED_MODULE_8__[\"CONFIRM_ODYSEE_MEMBERSHIP\"], {\n      membershipId: membershipId,\n      userChannelClaimId: noChannelsOrIncognitoMode ? undefined : userChannelClaimId,\n      userChannelName: noChannelsOrIncognitoMode ? undefined : userChannelName,\n      priceId: priceId,\n      purchaseString: purchaseString,\n      plan: planName,\n      populateMembershipData: populateMembershipData,\n      setMembershipOptions: setMembershipOptions,\n      updateUserOdyseeMembershipStatus: updateUserOdyseeMembershipStatus,\n      user: user\n    });\n  };\n\n  var cancelMembership = function cancelMembership(e, membership) {\n    var membershipId, cancellationString;\n    return regeneratorRuntime.async(function cancelMembership$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            membershipId = e.currentTarget.getAttribute('membership-id');\n            cancellationString = 'You are cancelling your Odysee Premium. You will still have access to all the paid ' + 'features until the point of the expiration of your current membership, at which point you will not be charged ' + 'again and your membership will no longer be active. At this time, there is no way to subscribe to another membership if you cancel and there are no refunds.';\n            openModal(constants_modal_types__WEBPACK_IMPORTED_MODULE_8__[\"CONFIRM_ODYSEE_MEMBERSHIP\"], {\n              membershipId: membershipId,\n              hasMembership: hasMembership,\n              purchaseString: __(cancellationString),\n              populateMembershipData: populateMembershipData\n            });\n\n          case 3:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    });\n  };\n\n  function convertIntervalVariableToString(price) {\n    var interval = price.recurring.interval;\n\n    if (interval === 'year') {\n      return __('Yearly');\n    } else if (interval === 'month') {\n      return __('Monthly');\n    }\n  }\n\n  function capitalizedInterval(planInterval) {\n    if (planInterval === 'year') {\n      return __('Year');\n    } else {\n      return __('Month');\n    }\n  }\n\n  function buildCurrencyDisplay(priceObject) {\n    var currencySymbol;\n\n    if (priceObject.currency === 'eur') {\n      currencySymbol = '€';\n    } else if (priceObject.currency === 'usd') {\n      currencySymbol = '$';\n    }\n\n    var currency = priceObject.currency.toUpperCase();\n    return currency + ' ' + currencySymbol;\n  }\n\n  var urlSearchParams = new URLSearchParams(window.location.search);\n  var params = Object.fromEntries(urlSearchParams.entries());\n  var interval = params.interval,\n      plan = params.plan;\n  var planValue = params.plan; // description to be shown under plan name\n\n  function getPlanDescription(plan, active) {\n    if (plan === 'Premium') {\n      return 'Badge on profile, automatic rewards confirmation, and early access to new features'; // if there's more plans added this needs to be expanded\n    } else if (active) {\n      return 'All Premium features, and no ads';\n    } else {\n      return 'Badge on profile, automatic rewards confirmation, early access to new features, and no ads';\n    }\n  } // add a bit of a delay otherwise it's a bit jarring\n\n\n  var timeoutValue = 300; // if user already selected plan, wait a bit (so it's not jarring) and open modal\n\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect(function () {\n    if (!stillWaitingFromBackend && planValue && initialCardState.current) {\n      var delayTimeout = setTimeout(function () {\n        // clear query params\n        window.history.replaceState(null, null, window.location.pathname);\n        setHasShownModal(true); // open confirm purchase\n        // $FlowFixMe\n\n        document.querySelector('[plan=\"' + plan + '\"][interval=\"' + interval + '\"]').click();\n      }, timeoutValue);\n      return function () {\n        return clearTimeout(delayTimeout);\n      };\n    }\n  }, [stillWaitingFromBackend, planValue]);\n  var helpText = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"section__subtitle\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, __('First of all, thank you for considering or purchasing a membership, it means a ton to us! A few important details to know:')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"ul\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", null, __('Exclusive and early access features include: recommended content, homepage customization, and the ability to post Odysee hyperlinks + images in comments. Account is also automatically eligible for Rewards. More to come later.')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", null, __('The yearly Premium+ membership has a discount compared to monthly, and Premium is only available yearly.')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", null, __('These are limited time rates, so get in early!')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", null, __('There may be higher tiers available in the future for creators and anyone else who wants to support us.')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", null, __('Badges will be displayed on a single channel to start, with an option to add on two more later on.')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", null, __('Cannot upgrade or downgrade a membership at this time. Refunds are not available. Choose wisely.')))));\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(component_page__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    className: \"premium-wrapper\"\n  }, !stillWaitingFromBackend && !apiError && purchasedMemberships.length === 0 && !planValue && !hasShownModal ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(component_membershipSplash__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    pageLocation: 'confirmPage',\n    currencyToUse: currencyToUse\n  }) :\n  /** odysee membership page **/\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: 'card-stack'\n  }, !stillWaitingFromBackend && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h1\", {\n    style: {\n      fontSize: '23px'\n    }\n  }, __('Odysee Premium')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    style: {\n      marginTop: '10px'\n    }\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(component_channelSelector__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n    uri: activeChannelClaim && activeChannelClaim.permanent_url\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(component_common_card__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n    titleActions: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n      button: \"close\",\n      icon: showHelp ? constants_icons__WEBPACK_IMPORTED_MODULE_7__[\"UP\"] : constants_icons__WEBPACK_IMPORTED_MODULE_7__[\"DOWN\"],\n      onClick: function onClick() {\n        return setShowHelp(!showHelp);\n      }\n    }),\n    title: __('Get More Information'),\n    subtitle: __('Expand to learn more about how Odysee Premium works'),\n    actions: showHelp && helpText,\n    className: 'premium-explanation-text'\n  }))), !stillWaitingFromBackend && !hasSavedCard && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h2\", {\n    className: 'getPaymentCard'\n  }, __('Please save a card as a payment method so you can join Odysee Premium')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n    requiresAuth: true,\n    button: \"primary\",\n    label: __('Add a Card'),\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_7__[\"SETTINGS\"],\n    onClick: function onClick() {\n      return openModal(constants_modal_types__WEBPACK_IMPORTED_MODULE_8__[\"ADD_CARD\"]);\n    },\n    className: \"membership_button\",\n    style: {\n      maxWidth: '151px'\n    }\n  })), !stillWaitingFromBackend && membershipOptions && purchasedMemberships.length < 1 && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"card__title-section\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h2\", {\n    className: \"card__title\"\n  }, __('Available Memberships'))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(component_common_card__WEBPACK_IMPORTED_MODULE_9__[\"default\"], null, membershipOptions.map(function (membershipOption, i) {\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      key: i\n    }, purchasedMemberships && !purchasedMemberships.includes(membershipOption.Membership.id) && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"premium-option\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h4\", {\n      className: \"membership_title\"\n    }, membershipOption.Membership.name, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(component_premiumBadge__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n      membership: membershipOption.Membership.name\n    })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h4\", {\n      className: \"membership_subtitle\"\n    }, __(getPlanDescription(membershipOption.Membership.name))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, membershipOption.Prices.map(function (price) {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, !(price.recurring.interval === 'month' && membershipOption.Membership.name === 'Premium') && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, price.currency === currencyToUse && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h4\", {\n        className: \"membership_info\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"b\", null, __('Interval'), \":\"), \" \", convertIntervalVariableToString(price)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h4\", {\n        className: \"membership_info\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"b\", null, __('Price'), \":\"), \" \", buildCurrencyDisplay(price), price.unit_amount / 100, \"/\", capitalizedInterval(price.recurring.interval)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n        button: \"primary\",\n        onClick: function onClick(e) {\n          return purchaseMembership(e, membershipOption, price);\n        },\n        \"membership-id\": membershipOption.Membership.id,\n        \"membership-subscription-period\": membershipOption.Membership.type,\n        \"price-id\": price.id,\n        className: \"membership_button\",\n        label: __('Join via %interval% membership', {\n          interval: price.recurring.interval\n        }),\n        icon: constants_icons__WEBPACK_IMPORTED_MODULE_7__[\"FINANCE\"],\n        interval: price.recurring.interval,\n        plan: membershipOption.Membership.name,\n        disabled: !hasSavedCard\n      }))));\n    }))))));\n  }))), !stillWaitingFromBackend && hasSavedCard === true && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"card__title-section\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h2\", {\n    className: \"card__title\"\n  }, __('Your Active Memberships'))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(component_common_card__WEBPACK_IMPORTED_MODULE_9__[\"default\"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, !stillWaitingFromBackend && activeMemberships && activeMemberships.length === 0 && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h4\", null, __('You currently have no active memberships')), !stillWaitingFromBackend && activeMemberships && activeMemberships.map(function (membership) {\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"premium-option\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h4\", {\n      className: \"membership_title\"\n    }, membership.MembershipDetails.name, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(component_premiumBadge__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n      membership: membership.MembershipDetails.name\n    })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h4\", {\n      className: \"membership_subtitle\"\n    }, __(getPlanDescription(membership.MembershipDetails.name, 'active'))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h4\", {\n      className: \"membership_info\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"b\", null, __('Registered On'), \":\"), \" \", formatDate(membership.Membership.created_at)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h4\", {\n      className: \"membership_info\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"b\", null, __('Auto-Renews On'), \":\"), ' ', formatDate(membership.Subscription.current_period_end * 1000)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n      button: \"alt\",\n      \"membership-id\": membership.Membership.membership_id,\n      onClick: function onClick(e) {\n        return cancelMembership(e, membership);\n      },\n      className: \"cancel-membership-button\",\n      label: __('Cancel membership'),\n      icon: constants_icons__WEBPACK_IMPORTED_MODULE_7__[\"FINANCE\"]\n    })));\n  }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"card__title-section\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h2\", {\n    className: \"card__title\"\n  }, __('Canceled Memberships'))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(component_common_card__WEBPACK_IMPORTED_MODULE_9__[\"default\"], null, canceledMemberships && canceledMemberships.length === 0 && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h4\", null, __('You currently have no canceled memberships')), canceledMemberships && canceledMemberships.map(function (membership) {\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h4\", {\n      className: \"membership_title\"\n    }, membership.MembershipDetails.name, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(component_premiumBadge__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n      membership: membership.MembershipDetails.name\n    })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"premium-option\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h4\", {\n      className: \"membership_info\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"b\", null, __('Registered On'), \":\"), \" \", formatDate(membership.Membership.created_at)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h4\", {\n      className: \"membership_info\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"b\", null, __('Canceled On'), \":\"), \" \", formatDate(membership.Subscription.canceled_at * 1000)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h4\", {\n      className: \"membership_info\"\n    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"b\", null, __('Still Valid Until'), \":\"), \" \", formatDate(membership.Membership.expires))));\n  })))), stillWaitingFromBackend && !apiError && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"main--empty\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(component_spinner__WEBPACK_IMPORTED_MODULE_3__[\"default\"], null)), stillWaitingFromBackend && apiError && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"main--empty\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h1\", {\n    style: {\n      fontSize: '19px'\n    }\n  }, __('Sorry, there was an error, please contact support or try again later'))), isDev && hasSavedCard && purchasedMemberships.length > 0 && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h1\", {\n    style: {\n      marginTop: '30px',\n      fontSize: '20px'\n    }\n  }, \"Clear Membership Data (Only Available On Dev)\"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n    button: \"primary\",\n    label: \"Clear Membership Data\",\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_7__[\"SETTINGS\"],\n    className: \"membership_button\",\n    onClick: deleteData\n  }))))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (OdyseeMembershipPage);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! i18n.js */ \"../ui/i18n.js\")[\"__\"]))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvcGFnZS9vZHlzZWVNZW1iZXJzaGlwL3ZpZXcuanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3VpL3BhZ2Uvb2R5c2VlTWVtYmVyc2hpcC92aWV3LmpzeD8xNzFlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbi8vIEBmbG93XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IFBhZ2UgZnJvbSAnY29tcG9uZW50L3BhZ2UnO1xuaW1wb3J0IFNwaW5uZXIgZnJvbSAnY29tcG9uZW50L3NwaW5uZXInO1xuaW1wb3J0IHsgTGJyeWlvIH0gZnJvbSAnbGJyeWluYyc7XG5pbXBvcnQgeyBnZXRTdHJpcGVFbnZpcm9ubWVudCB9IGZyb20gJ3V0aWwvc3RyaXBlJztcbmltcG9ydCB7IE9EWVNFRV9DSEFOTkVMIH0gZnJvbSAnY29uc3RhbnRzL2NoYW5uZWxzJztcbmltcG9ydCAqIGFzIElDT05TIGZyb20gJ2NvbnN0YW50cy9pY29ucyc7XG5pbXBvcnQgKiBhcyBNT0RBTFMgZnJvbSAnY29uc3RhbnRzL21vZGFsX3R5cGVzJztcbmltcG9ydCBDYXJkIGZyb20gJ2NvbXBvbmVudC9jb21tb24vY2FyZCc7XG5pbXBvcnQgTWVtYmVyc2hpcFNwbGFzaCBmcm9tICdjb21wb25lbnQvbWVtYmVyc2hpcFNwbGFzaCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ2NvbXBvbmVudC9idXR0b24nO1xuaW1wb3J0IENoYW5uZWxTZWxlY3RvciBmcm9tICdjb21wb25lbnQvY2hhbm5lbFNlbGVjdG9yJztcbmltcG9ydCBQcmVtaXVtQmFkZ2UgZnJvbSAnY29tcG9uZW50L3ByZW1pdW1CYWRnZSc7XG5pbXBvcnQgSTE4bk1lc3NhZ2UgZnJvbSAnY29tcG9uZW50L2kxOG5NZXNzYWdlJztcbmltcG9ydCB1c2VHZXRVc2VyTWVtYmVyc2hpcHMgZnJvbSAnZWZmZWN0cy91c2UtZ2V0LXVzZXItbWVtYmVyc2hpcHMnO1xuaW1wb3J0IHVzZVBlcnNpc3RlZFN0YXRlIGZyb20gJ2VmZmVjdHMvdXNlLXBlcnNpc3RlZC1zdGF0ZSc7XG5cbmNvbnN0IHN0cmlwZUVudmlyb25tZW50ID0gZ2V0U3RyaXBlRW52aXJvbm1lbnQoKTtcbmNvbnN0IGlzRGV2ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJztcblxuZnVuY3Rpb24gbG9nKC4uLmFyZ3MpIHtcbn1cblxudHlwZSBQcm9wcyA9IHtcbiAgaGlzdG9yeTogeyBhY3Rpb246IHN0cmluZywgcHVzaDogKHN0cmluZykgPT4gdm9pZCwgcmVwbGFjZTogKHN0cmluZykgPT4gdm9pZCB9LFxuICBsb2NhdGlvbjogeyBzZWFyY2g6IHN0cmluZywgcGF0aG5hbWU6IHN0cmluZyB9LFxuICB0b3RhbEJhbGFuY2U6ID9udW1iZXIsXG4gIG9wZW5Nb2RhbDogKHN0cmluZywgP3t9KSA9PiB2b2lkLFxuICBhY3RpdmVDaGFubmVsQ2xhaW06ID9DaGFubmVsQ2xhaW0sXG4gIGNoYW5uZWxzOiA/QXJyYXk8Q2hhbm5lbENsYWltPixcbiAgY2xhaW1zQnlVcmk6IHsgW3N0cmluZ106IGFueSB9LFxuICBmZXRjaFVzZXJNZW1iZXJzaGlwczogKGNsYWltSWRDc3Y6IHN0cmluZykgPT4gdm9pZCxcbiAgaW5jb2duaXRvOiBib29sZWFuLFxuICB1cGRhdGVVc2VyT2R5c2VlTWVtYmVyc2hpcFN0YXR1czogKCkgPT4gdm9pZCxcbiAgdXNlcjogP1VzZXIsXG4gIGxvY2FsZTogP0xvY2FsZUluZm8sXG4gIHByZWZlcnJlZEN1cnJlbmN5OiA/c3RyaW5nLFxuICBoYXNTYXZlZENhcmQ6IGJvb2xlYW4sXG4gIGRvR2V0Q3VzdG9tZXJTdGF0dXM6ICgpID0+IHZvaWQsXG59O1xuXG5jb25zdCBPZHlzZWVNZW1iZXJzaGlwUGFnZSA9IChwcm9wczogUHJvcHMpID0+IHtcbiAgY29uc3Qge1xuICAgIG9wZW5Nb2RhbCxcbiAgICBhY3RpdmVDaGFubmVsQ2xhaW0sXG4gICAgY2hhbm5lbHMsXG4gICAgY2xhaW1zQnlVcmksXG4gICAgZmV0Y2hVc2VyTWVtYmVyc2hpcHMsXG4gICAgdXBkYXRlVXNlck9keXNlZU1lbWJlcnNoaXBTdGF0dXMsXG4gICAgaW5jb2duaXRvLFxuICAgIHVzZXIsXG4gICAgbG9jYWxlLFxuICAgIHByZWZlcnJlZEN1cnJlbmN5LFxuICAgIGhhc1NhdmVkQ2FyZCxcbiAgICBkb0dldEN1c3RvbWVyU3RhdHVzLFxuICB9ID0gcHJvcHM7XG5cbiAgY29uc3QgaW5pdGlhbENhcmRTdGF0ZSA9IFJlYWN0LnVzZVJlZihoYXNTYXZlZENhcmQpO1xuXG4gIGNvbnN0IHVzZXJDaGFubmVsTmFtZSA9IGFjdGl2ZUNoYW5uZWxDbGFpbSA/IGFjdGl2ZUNoYW5uZWxDbGFpbS5uYW1lIDogJyc7XG4gIGNvbnN0IHVzZXJDaGFubmVsQ2xhaW1JZCA9IGFjdGl2ZUNoYW5uZWxDbGFpbSAmJiBhY3RpdmVDaGFubmVsQ2xhaW0uY2xhaW1faWQ7XG5cbiAgY29uc3QgW21lbWJlcnNoaXBPcHRpb25zLCBzZXRNZW1iZXJzaGlwT3B0aW9uc10gPSBSZWFjdC51c2VTdGF0ZSgpO1xuICBjb25zdCBbdXNlck1lbWJlcnNoaXBzLCBzZXRVc2VyTWVtYmVyc2hpcHNdID0gUmVhY3QudXNlU3RhdGUoKTtcbiAgY29uc3QgW2N1cnJlbmN5VG9Vc2UsIHNldEN1cnJlbmN5VG9Vc2VdID0gUmVhY3QudXNlU3RhdGUoJ3VzZCcpO1xuICBjb25zdCBbY2FuY2VsZWRNZW1iZXJzaGlwcywgc2V0Q2FuY2VsZWRNZW1iZXJzaGlwc10gPSBSZWFjdC51c2VTdGF0ZSgpO1xuICBjb25zdCBbYWN0aXZlTWVtYmVyc2hpcHMsIHNldEFjdGl2ZU1lbWJlcnNoaXBzXSA9IFJlYWN0LnVzZVN0YXRlKCk7XG4gIGNvbnN0IFtwdXJjaGFzZWRNZW1iZXJzaGlwcywgc2V0UHVyY2hhc2VkTWVtYmVyc2hpcHNdID0gUmVhY3QudXNlU3RhdGUoW10pO1xuICBjb25zdCBbaGFzU2hvd25Nb2RhbCwgc2V0SGFzU2hvd25Nb2RhbF0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG91bGRGZXRjaFVzZXJNZW1iZXJzaGlwcywgc2V0RmV0Y2hVc2VyTWVtYmVyc2hpcHNdID0gUmVhY3QudXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFthcGlFcnJvciwgc2V0QXBpRXJyb3JdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuXG4gIGNvbnN0IFtzaG93SGVscCwgc2V0U2hvd0hlbHBdID0gdXNlUGVyc2lzdGVkU3RhdGUoJ3ByZW1pdW0taGVscC1zZWVuJywgdHJ1ZSk7XG5cbiAgY29uc3QgaGFzTWVtYmVyc2hpcCA9IGFjdGl2ZU1lbWJlcnNoaXBzICYmIGFjdGl2ZU1lbWJlcnNoaXBzLmxlbmd0aCA+IDA7XG5cbiAgY29uc3QgY2hhbm5lbFVybHMgPSBjaGFubmVscyAmJiBjaGFubmVscy5tYXAoKGNoYW5uZWwpID0+IGNoYW5uZWwucGVybWFuZW50X3VybCk7XG5cbiAgLy8gY2hlY2sgaWYgbWVtYmVyc2hpcCBkYXRhIGZvciB1c2VyIGlzIGFscmVhZHkgZmV0Y2hlZCwgaWYgaXQncyBuZWVkZWQgdGhlbiBmZXRjaCBpdFxuICB1c2VHZXRVc2VyTWVtYmVyc2hpcHMoc2hvdWxkRmV0Y2hVc2VyTWVtYmVyc2hpcHMsIGNoYW5uZWxVcmxzLCBjbGFpbXNCeVVyaSwgKHZhbHVlKSA9PiB7XG4gICAgZmV0Y2hVc2VyTWVtYmVyc2hpcHModmFsdWUpO1xuICAgIHNldEZldGNoVXNlck1lbWJlcnNoaXBzKGZhbHNlKTtcbiAgfSk7XG5cbiAgYXN5bmMgZnVuY3Rpb24gcG9wdWxhdGVNZW1iZXJzaGlwRGF0YSgpIHtcbiAgICB0cnkge1xuICAgICAgLy8gc2hvdyB0aGUgbWVtYmVyc2hpcHMgdGhlIHVzZXIgaXMgc3Vic2NyaWJlZCB0b1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBMYnJ5aW8uY2FsbChcbiAgICAgICAgJ21lbWJlcnNoaXAnLFxuICAgICAgICAnbWluZScsXG4gICAgICAgIHtcbiAgICAgICAgICBlbnZpcm9ubWVudDogc3RyaXBlRW52aXJvbm1lbnQsXG4gICAgICAgIH0sXG4gICAgICAgICdwb3N0J1xuICAgICAgKTtcblxuICAgICAgbG9nKCdtaW5lIHJlc3BvbnNlJyk7XG4gICAgICBsb2cocmVzcG9uc2UpO1xuXG4gICAgICBsZXQgYWN0aXZlTWVtYmVyc2hpcHMgPSBbXTtcbiAgICAgIGxldCBjYW5jZWxlZE1lbWJlcnNoaXBzID0gW107XG4gICAgICBsZXQgcHVyY2hhc2VkTWVtYmVyc2hpcHMgPSBbXTtcblxuICAgICAgZm9yIChjb25zdCBtZW1iZXJzaGlwIG9mIHJlc3BvbnNlKSB7XG4gICAgICAgIC8vIGlmIGl0J3MgYXV0b3JlbmV3aW5nIGl0J3MgY29uc2lkZXJlZCAnYWN0aXZlJ1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IG1lbWJlcnNoaXAuTWVtYmVyc2hpcC5hdXRvX3JlbmV3O1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICBhY3RpdmVNZW1iZXJzaGlwcy5wdXNoKG1lbWJlcnNoaXApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbmNlbGVkTWVtYmVyc2hpcHMucHVzaChtZW1iZXJzaGlwKTtcbiAgICAgICAgfVxuICAgICAgICBwdXJjaGFzZWRNZW1iZXJzaGlwcy5wdXNoKG1lbWJlcnNoaXAuTWVtYmVyc2hpcC5tZW1iZXJzaGlwX2lkKTtcbiAgICAgIH1cblxuICAgICAgLy8gaGlkZSB0aGUgb3RoZXIgbWVtYmVyc2hpcCBvcHRpb25zIGlmIHRoZXJlJ3MgYWxyZWFkeSBhIHB1cmNoYXNlZCBtZW1iZXJzaGlwXG4gICAgICBpZiAoYWN0aXZlTWVtYmVyc2hpcHMubGVuZ3RoID4gMCkge1xuICAgICAgICBzZXRNZW1iZXJzaGlwT3B0aW9ucyhmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIHNldEFjdGl2ZU1lbWJlcnNoaXBzKGFjdGl2ZU1lbWJlcnNoaXBzKTtcbiAgICAgIHNldENhbmNlbGVkTWVtYmVyc2hpcHMoY2FuY2VsZWRNZW1iZXJzaGlwcyk7XG4gICAgICBzZXRQdXJjaGFzZWRNZW1iZXJzaGlwcyhwdXJjaGFzZWRNZW1iZXJzaGlwcyk7XG5cbiAgICAgIC8vIHVwZGF0ZSB0aGUgc3RhdGUgdG8gc2hvdyB0aGUgYmFkZ2VcbiAgICAgIGZldGNoVXNlck1lbWJlcnNoaXBzKHVzZXJDaGFubmVsQ2xhaW1JZCB8fCAnJyk7XG5cbiAgICAgIHNldFVzZXJNZW1iZXJzaGlwcyhyZXNwb25zZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBzZXRBcGlFcnJvcih0cnVlKTtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfVxuICAgIHNldEZldGNoVXNlck1lbWJlcnNoaXBzKGZhbHNlKTtcbiAgfVxuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFzaG91bGRGZXRjaFVzZXJNZW1iZXJzaGlwcykgc2V0RmV0Y2hVc2VyTWVtYmVyc2hpcHModHJ1ZSk7XG4gIH0sIFtzaG91bGRGZXRjaFVzZXJNZW1iZXJzaGlwc10pO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGhhc1NhdmVkQ2FyZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBkb0dldEN1c3RvbWVyU3RhdHVzKCk7XG4gICAgfVxuICB9LCBbZG9HZXRDdXN0b21lclN0YXR1cywgaGFzU2F2ZWRDYXJkXSk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBUT0RPOiB0aGlzIHNob3VsZCBiZSByZWZhY3RvcmVkIHRvIG1ha2UgdGhlc2UgY2FsbHMgaW4gcGFyYWxsZWxcbiAgICAoYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gY2hlY2sgdGhlIGF2YWlsYWJsZSBtZW1iZXJzaGlwIGZvciBvZHlzZWUuY29tXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgTGJyeWlvLmNhbGwoXG4gICAgICAgICAgJ21lbWJlcnNoaXAnLFxuICAgICAgICAgICdsaXN0JyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlbnZpcm9ubWVudDogc3RyaXBlRW52aXJvbm1lbnQsXG4gICAgICAgICAgICAvLyBVc2luZyBAb2R5c2VlJ3MgY2hhbm5lbCBpbmZvIGFzIG1lbWJlcnNoaXBzIGFyZSBvbmx5IGZvciBAb2R5c2VlLlxuICAgICAgICAgICAgY2hhbm5lbF9pZDogT0RZU0VFX0NIQU5ORUwuSUQsXG4gICAgICAgICAgICBjaGFubmVsX25hbWU6IE9EWVNFRV9DSEFOTkVMLk5BTUUsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAncG9zdCdcbiAgICAgICAgKTtcblxuICAgICAgICBsb2coJ21lbWJlcnNoaXAvbGlzdCByZXNwb25zZScpO1xuICAgICAgICBsb2cocmVzcG9uc2UpO1xuXG4gICAgICAgIC8vIGhpZGUgb3RoZXIgb3B0aW9ucyBpZiB0aGVyZSdzIGFscmVhZHkgYSBtZW1iZXJzaGlwXG4gICAgICAgIGlmIChhY3RpdmVNZW1iZXJzaGlwcyAmJiBhY3RpdmVNZW1iZXJzaGlwcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgc2V0TWVtYmVyc2hpcE9wdGlvbnMoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldE1lbWJlcnNoaXBPcHRpb25zKHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHNldEFwaUVycm9yKHRydWUpO1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfVxuXG4gICAgICAvLyB1c2UgY3VycmVuY3kgaWYgc2V0IG9uIGNsaWVudCwgb3RoZXJ3aXNlIHVzZSBVU0QgYnkgZGVmYXVsdCBvciBFVVIgaWYgaW4gRXVyb3BlXG4gICAgICBpZiAocHJlZmVycmVkQ3VycmVuY3kpIHtcbiAgICAgICAgc2V0Q3VycmVuY3lUb1VzZShwcmVmZXJyZWRDdXJyZW5jeS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChsb2NhbGU/LmNvbnRpbmVudCA9PT0gJ0VVJykge1xuICAgICAgICAgIHNldEN1cnJlbmN5VG9Vc2UoJ2V1cicpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHBvcHVsYXRlTWVtYmVyc2hpcERhdGEoKTtcbiAgICB9KSgpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW10pO1xuXG4gIC8vIHdlIGFyZSBzdGlsbCB3YWl0aW5nIGZyb20gdGhlIGJhY2tlbmQgaWYgYW55IG9mIHRoZXNlIGFyZSB1bmRlZmluZWRcbiAgY29uc3Qgc3RpbGxXYWl0aW5nRnJvbUJhY2tlbmQgPVxuICAgIHB1cmNoYXNlZE1lbWJlcnNoaXBzID09PSB1bmRlZmluZWQgfHxcbiAgICBtZW1iZXJzaGlwT3B0aW9ucyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgdXNlck1lbWJlcnNoaXBzID09PSB1bmRlZmluZWQgfHxcbiAgICBjdXJyZW5jeVRvVXNlID09PSB1bmRlZmluZWQ7XG5cbiAgY29uc3QgZm9ybWF0RGF0ZSA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgcmV0dXJuIG1vbWVudChuZXcgRGF0ZShkYXRlKSkuZm9ybWF0KCdNTU1NIEREIFlZWVknKTtcbiAgfTtcblxuICAvLyBjbGVhciBtZW1iZXJzaGlwIGRhdGFcbiAgY29uc3QgZGVsZXRlRGF0YSA9IGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICBhd2FpdCBMYnJ5aW8uY2FsbChcbiAgICAgICdtZW1iZXJzaGlwJyxcbiAgICAgICdjbGVhcicsXG4gICAgICB7XG4gICAgICAgIGVudmlyb25tZW50OiAndGVzdCcsXG4gICAgICB9LFxuICAgICAgJ3Bvc3QnXG4gICAgKTtcbiAgICAvLyAkRmxvd0ZpeE1lXG4gICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gIH07XG5cbiAgLy8gZG9udCBwYXNzIGNoYW5uZWwgbmFtZSBhbmQgaWQgd2hlbiBjYWxsaW5nIHB1cmNoYXNlXG4gIGNvbnN0IG5vQ2hhbm5lbHNPckluY29nbml0b01vZGUgPSBpbmNvZ25pdG8gfHwgIWNoYW5uZWxzO1xuXG4gIC8vIFRPRE86IGNhbiBjbGVhbiB0aGlzIHVwLCBzb21lIHJlcGVhdGluZyB0ZXh0XG4gIGZ1bmN0aW9uIGJ1aWxkUHVyY2hhc2VTdHJpbmcocHJpY2UsIGludGVydmFsLCBwbGFuKSB7XG4gICAgbGV0IGZlYXR1cmVTdHJpbmcgPSAnJztcblxuICAgIC8vIGdlbmVyYXRlIGRpZmZlcmVudCBzdHJpbmdzIGRlcGVuZGluZyBvbiBvdGhlciBjb25kaXRpb25zXG4gICAgaWYgKHBsYW4gPT09ICdQcmVtaXVtJyAmJiAhbm9DaGFubmVsc09ySW5jb2duaXRvTW9kZSkge1xuICAgICAgZmVhdHVyZVN0cmluZyA9IChcbiAgICAgICAgPEkxOG5NZXNzYWdlIHRva2Vucz17eyBjaGFubmVsX25hbWU6IDxiIGNsYXNzTmFtZT1cIm1lbWJlcnNoaXAtYm9sZGVkXCI+e3VzZXJDaGFubmVsTmFtZX08L2I+IH19PlxuICAgICAgICAgIFlvdXIgYmFkZ2Ugd2lsbCBiZSBzaG93biBmb3IgeW91ciAlY2hhbm5lbF9uYW1lJSBjaGFubmVsIGluIGFsbCBhcmVhcyBvZiB0aGUgYXBwLCBhbmQgY2FuIGJlIGFkZGVkIHRvIHR3b1xuICAgICAgICAgIGFkZGl0aW9uYWwgY2hhbm5lbHMgaW4gdGhlIGZ1dHVyZSBmb3IgZnJlZS5cbiAgICAgICAgPC9JMThuTWVzc2FnZT5cbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChwbGFuID09PSAnUHJlbWl1bSsnICYmICFub0NoYW5uZWxzT3JJbmNvZ25pdG9Nb2RlKSB7XG4gICAgICAvLyB1c2VyIGhhcyBjaGFubmVsIHNlbGVjdGVkXG4gICAgICBmZWF0dXJlU3RyaW5nID0gKFxuICAgICAgICA8STE4bk1lc3NhZ2UgdG9rZW5zPXt7IGNoYW5uZWxfbmFtZTogPGIgY2xhc3NOYW1lPVwibWVtYmVyc2hpcC1ib2xkZWRcIj57dXNlckNoYW5uZWxOYW1lfTwvYj4gfX0+XG4gICAgICAgICAgVGhlIG5vIGFkcyBmZWF0dXJlIGFwcGxpZXMgc2l0ZS13aWRlIGZvciBhbGwgY2hhbm5lbHMgYW5kIHlvdXIgYmFkZ2Ugd2lsbCBiZSBzaG93biBmb3IgeW91ciAlY2hhbm5lbF9uYW1lJVxuICAgICAgICAgIGNoYW5uZWwgaW4gYWxsIGFyZWFzIG9mIHRoZSBhcHAsIGFuZCBjYW4gYmUgYWRkZWQgdG8gdHdvIGFkZGl0aW9uYWwgY2hhbm5lbHMgaW4gdGhlIGZ1dHVyZSBmb3IgZnJlZS5cbiAgICAgICAgPC9JMThuTWVzc2FnZT5cbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChwbGFuID09PSAnUHJlbWl1bScgJiYgIWNoYW5uZWxzKSB7XG4gICAgICAvLyB1c2VyIGhhcyBubyBjaGFubmVsc1xuICAgICAgZmVhdHVyZVN0cmluZyA9IF9fKFxuICAgICAgICAnWW91IGN1cnJlbnRseSBoYXZlIG5vIGNoYW5uZWxzLiBUbyBzaG93IHlvdXIgYmFkZ2Ugb24gYSBjaGFubmVsLCBwbGVhc2UgY3JlYXRlIGEgY2hhbm5lbCBmaXJzdC4gSWYgeW91IHJlZ2lzdGVyIGEgY2hhbm5lbCBsYXRlciB5b3Ugd2lsbCBiZSBhYmxlIHRvIHNob3cgYSBiYWRnZSBmb3IgdXAgdG8gdGhyZWUgY2hhbm5lbHMuJ1xuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHBsYW4gPT09ICdQcmVtaXVtKycgJiYgIWNoYW5uZWxzKSB7XG4gICAgICAvLyB1c2VyIGhhcyBubyBjaGFubmVsc1xuICAgICAgZmVhdHVyZVN0cmluZyA9IF9fKFxuICAgICAgICAnVGhlIG5vIGFkcyBmZWF0dXJlIGFwcGxpZXMgc2l0ZS13aWRlLiBZb3UgY3VycmVudGx5IGhhdmUgbm8gY2hhbm5lbHMuIFRvIHNob3cgeW91ciBiYWRnZSBvbiBhIGNoYW5uZWwsIHBsZWFzZSBjcmVhdGUgYSBjaGFubmVsIGZpcnN0LiBJZiB5b3UgcmVnaXN0ZXIgYSBjaGFubmVsIGxhdGVyIHlvdSB3aWxsIGJlIGFibGUgdG8gc2hvdyBhIGJhZGdlIGZvciB1cCB0byB0aHJlZSBjaGFubmVscy4nXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAocGxhbiA9PT0gJ1ByZW1pdW0nICYmIGluY29nbml0bykge1xuICAgICAgLy8gdXNlciBoYXMgaW5jb2duaXRvIHNlbGVjdGVkXG4gICAgICBmZWF0dXJlU3RyaW5nID0gX18oXG4gICAgICAgICdZb3UgY3VycmVudGx5IGhhdmUgbm8gY2hhbm5lbCBzZWxlY3RlZCBhbmQgd2lsbCBub3QgaGF2ZSBhIGJhZGdlIGJlIHZpc2libGUsIGlmIHlvdSB3YW50IHRvIHNob3cgYSBiYWRnZSB5b3UgY2FuIHNlbGVjdCBhIGNoYW5uZWwgbm93LCBvciB5b3UgY2FuIHNob3cgYSBiYWRnZSBmb3IgdXAgdG8gdGhyZWUgY2hhbm5lbHMgaW4gdGhlIGZ1dHVyZSBmb3IgZnJlZS4nXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAocGxhbiA9PT0gJ1ByZW1pdW0rJyAmJiBpbmNvZ25pdG8pIHtcbiAgICAgIC8vIHVzZXIgaGFzIGluY29nbml0byBzZWxlY3RlZFxuICAgICAgZmVhdHVyZVN0cmluZyA9IF9fKFxuICAgICAgICAnVGhlIG5vIGFkcyBmZWF0dXJlIGFwcGxpZXMgc2l0ZS13aWRlLiBZb3UgY3VycmVudGx5IGhhdmUgbm8gY2hhbm5lbCBzZWxlY3RlZCBhbmQgd2lsbCBub3QgaGF2ZSBhIGJhZGdlIGJlIHZpc2libGUsIGlmIHlvdSB3YW50IHRvIHNob3cgYSBiYWRnZSB5b3UgY2FuIHNlbGVjdCBhIGNoYW5uZWwgbm93LCBvciB5b3UgY2FuIHNob3cgYSBiYWRnZSBmb3IgdXAgdG8gdGhyZWUgY2hhbm5lbHMgaW4gdGhlIGZ1dHVyZSBmb3IgZnJlZS4nXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHByaWNlRGlzcGxheVN0cmluZyA9IChcbiAgICAgIDxJMThuTWVzc2FnZVxuICAgICAgICB0b2tlbnM9e3tcbiAgICAgICAgICBtb250aGx5X3llYXJseV9ib2xkZWQ6IChcbiAgICAgICAgICAgIDxiIGNsYXNzTmFtZT1cIm1lbWJlcnNoaXAtYm9sZGVkXCI+e2ludGVydmFsID09PSAnbW9udGgnID8gX18oJ21vbnRobHknKSA6IF9fKCd5ZWFybHknKX08L2I+XG4gICAgICAgICAgKSxcbiAgICAgICAgICBtb250aGx5X3llYXJseTogaW50ZXJ2YWwgPT09ICdtb250aCcgPyBfXygnbW9udGhseScpIDogX18oJ3llYXJseScpLFxuICAgICAgICAgIHByaWNlOiAoXG4gICAgICAgICAgICA8YiBjbGFzc05hbWU9XCJtZW1iZXJzaGlwLWJvbGRlZFwiPntgJHtjdXJyZW5jeVRvVXNlLnRvVXBwZXJDYXNlKCl9ICR7Y3VycmVuY3lUb1VzZSA9PT0gJ3VzZCcgPyAnJCcgOiAn4oKsJ30ke1xuICAgICAgICAgICAgICBwcmljZSAvIDEwMFxuICAgICAgICAgICAgfWB9PC9iPlxuICAgICAgICAgICksXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIFlvdSBhcmUgcHVyY2hhc2luZyBhICVtb250aGx5X3llYXJseV9ib2xkZWQlICVwbGFuJSBtZW1iZXJzaGlwIHRoYXQgaXMgYWN0aXZlIGltbWVkaWF0ZWx5IGFuZCB3aWxsIHJlbmV3XG4gICAgICAgICVtb250aGx5X3llYXJseSUgYXQgYSBwcmljZSBvZiAlcHJpY2UlLlxuICAgICAgPC9JMThuTWVzc2FnZT5cbiAgICApO1xuXG4gICAgY29uc3Qgbm9SZWZ1bmQgPSBfXyhcbiAgICAgICdZb3UgY2FuIGNhbmNlbCBQcmVtaXVtIGF0IGFueSB0aW1lIChubyByZWZ1bmRzKSBhbmQgeW91IGNhbiBhbHNvIGNsb3NlIHRoaXMgd2luZG93IGFuZCBjaG9vc2UgYSBkaWZmZXJlbnQgbWVtYmVyc2hpcCBvcHRpb24uJ1xuICAgICk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAge3ByaWNlRGlzcGxheVN0cmluZ30ge2ZlYXR1cmVTdHJpbmd9IHtub1JlZnVuZH1cbiAgICAgIDwvPlxuICAgICk7XG4gIH1cblxuICBjb25zdCBwdXJjaGFzZU1lbWJlcnNoaXAgPSBmdW5jdGlvbiAoZSwgbWVtYmVyc2hpcE9wdGlvbiwgcHJpY2UpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIGNvbnN0IHBsYW5OYW1lID0gbWVtYmVyc2hpcE9wdGlvbi5NZW1iZXJzaGlwLm5hbWU7XG5cbiAgICBjb25zdCBtZW1iZXJzaGlwSWQgPSBlLmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKCdtZW1iZXJzaGlwLWlkJyk7XG4gICAgY29uc3QgcHJpY2VJZCA9IGUuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoJ3ByaWNlLWlkJyk7XG4gICAgY29uc3QgcHVyY2hhc2VTdHJpbmcgPSBidWlsZFB1cmNoYXNlU3RyaW5nKHByaWNlLnVuaXRfYW1vdW50LCBwcmljZS5yZWN1cnJpbmcuaW50ZXJ2YWwsIHBsYW5OYW1lKTtcblxuICAgIG9wZW5Nb2RhbChNT0RBTFMuQ09ORklSTV9PRFlTRUVfTUVNQkVSU0hJUCwge1xuICAgICAgbWVtYmVyc2hpcElkLFxuICAgICAgdXNlckNoYW5uZWxDbGFpbUlkOiBub0NoYW5uZWxzT3JJbmNvZ25pdG9Nb2RlID8gdW5kZWZpbmVkIDogdXNlckNoYW5uZWxDbGFpbUlkLFxuICAgICAgdXNlckNoYW5uZWxOYW1lOiBub0NoYW5uZWxzT3JJbmNvZ25pdG9Nb2RlID8gdW5kZWZpbmVkIDogdXNlckNoYW5uZWxOYW1lLFxuICAgICAgcHJpY2VJZCxcbiAgICAgIHB1cmNoYXNlU3RyaW5nLFxuICAgICAgcGxhbjogcGxhbk5hbWUsXG4gICAgICBwb3B1bGF0ZU1lbWJlcnNoaXBEYXRhLFxuICAgICAgc2V0TWVtYmVyc2hpcE9wdGlvbnMsXG4gICAgICB1cGRhdGVVc2VyT2R5c2VlTWVtYmVyc2hpcFN0YXR1cyxcbiAgICAgIHVzZXIsXG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgY2FuY2VsTWVtYmVyc2hpcCA9IGFzeW5jIGZ1bmN0aW9uIChlLCBtZW1iZXJzaGlwKSB7XG4gICAgY29uc3QgbWVtYmVyc2hpcElkID0gZS5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSgnbWVtYmVyc2hpcC1pZCcpO1xuXG4gICAgY29uc3QgY2FuY2VsbGF0aW9uU3RyaW5nID1cbiAgICAgICdZb3UgYXJlIGNhbmNlbGxpbmcgeW91ciBPZHlzZWUgUHJlbWl1bS4gWW91IHdpbGwgc3RpbGwgaGF2ZSBhY2Nlc3MgdG8gYWxsIHRoZSBwYWlkICcgK1xuICAgICAgJ2ZlYXR1cmVzIHVudGlsIHRoZSBwb2ludCBvZiB0aGUgZXhwaXJhdGlvbiBvZiB5b3VyIGN1cnJlbnQgbWVtYmVyc2hpcCwgYXQgd2hpY2ggcG9pbnQgeW91IHdpbGwgbm90IGJlIGNoYXJnZWQgJyArXG4gICAgICAnYWdhaW4gYW5kIHlvdXIgbWVtYmVyc2hpcCB3aWxsIG5vIGxvbmdlciBiZSBhY3RpdmUuIEF0IHRoaXMgdGltZSwgdGhlcmUgaXMgbm8gd2F5IHRvIHN1YnNjcmliZSB0byBhbm90aGVyIG1lbWJlcnNoaXAgaWYgeW91IGNhbmNlbCBhbmQgdGhlcmUgYXJlIG5vIHJlZnVuZHMuJztcblxuICAgIG9wZW5Nb2RhbChNT0RBTFMuQ09ORklSTV9PRFlTRUVfTUVNQkVSU0hJUCwge1xuICAgICAgbWVtYmVyc2hpcElkLFxuICAgICAgaGFzTWVtYmVyc2hpcCxcbiAgICAgIHB1cmNoYXNlU3RyaW5nOiBfXyhjYW5jZWxsYXRpb25TdHJpbmcpLFxuICAgICAgcG9wdWxhdGVNZW1iZXJzaGlwRGF0YSxcbiAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBjb252ZXJ0SW50ZXJ2YWxWYXJpYWJsZVRvU3RyaW5nKHByaWNlKSB7XG4gICAgY29uc3QgaW50ZXJ2YWwgPSBwcmljZS5yZWN1cnJpbmcuaW50ZXJ2YWw7XG5cbiAgICBpZiAoaW50ZXJ2YWwgPT09ICd5ZWFyJykge1xuICAgICAgcmV0dXJuIF9fKCdZZWFybHknKTtcbiAgICB9IGVsc2UgaWYgKGludGVydmFsID09PSAnbW9udGgnKSB7XG4gICAgICByZXR1cm4gX18oJ01vbnRobHknKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjYXBpdGFsaXplZEludGVydmFsKHBsYW5JbnRlcnZhbCkge1xuICAgIGlmIChwbGFuSW50ZXJ2YWwgPT09ICd5ZWFyJykge1xuICAgICAgcmV0dXJuIF9fKCdZZWFyJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBfXygnTW9udGgnKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBidWlsZEN1cnJlbmN5RGlzcGxheShwcmljZU9iamVjdCkge1xuICAgIGxldCBjdXJyZW5jeVN5bWJvbDtcbiAgICBpZiAocHJpY2VPYmplY3QuY3VycmVuY3kgPT09ICdldXInKSB7XG4gICAgICBjdXJyZW5jeVN5bWJvbCA9ICfigqwnO1xuICAgIH0gZWxzZSBpZiAocHJpY2VPYmplY3QuY3VycmVuY3kgPT09ICd1c2QnKSB7XG4gICAgICBjdXJyZW5jeVN5bWJvbCA9ICckJztcbiAgICB9XG5cbiAgICBjb25zdCBjdXJyZW5jeSA9IHByaWNlT2JqZWN0LmN1cnJlbmN5LnRvVXBwZXJDYXNlKCk7XG5cbiAgICByZXR1cm4gY3VycmVuY3kgKyAnICcgKyBjdXJyZW5jeVN5bWJvbDtcbiAgfVxuXG4gIGNvbnN0IHVybFNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gIGNvbnN0IHBhcmFtcyA9IE9iamVjdC5mcm9tRW50cmllcyh1cmxTZWFyY2hQYXJhbXMuZW50cmllcygpKTtcblxuICBjb25zdCB7IGludGVydmFsLCBwbGFuIH0gPSBwYXJhbXM7XG5cbiAgY29uc3QgcGxhblZhbHVlID0gcGFyYW1zLnBsYW47XG5cbiAgLy8gZGVzY3JpcHRpb24gdG8gYmUgc2hvd24gdW5kZXIgcGxhbiBuYW1lXG4gIGZ1bmN0aW9uIGdldFBsYW5EZXNjcmlwdGlvbihwbGFuLCBhY3RpdmU/KSB7XG4gICAgaWYgKHBsYW4gPT09ICdQcmVtaXVtJykge1xuICAgICAgcmV0dXJuICdCYWRnZSBvbiBwcm9maWxlLCBhdXRvbWF0aWMgcmV3YXJkcyBjb25maXJtYXRpb24sIGFuZCBlYXJseSBhY2Nlc3MgdG8gbmV3IGZlYXR1cmVzJztcblxuICAgICAgLy8gaWYgdGhlcmUncyBtb3JlIHBsYW5zIGFkZGVkIHRoaXMgbmVlZHMgdG8gYmUgZXhwYW5kZWRcbiAgICB9IGVsc2UgaWYgKGFjdGl2ZSkge1xuICAgICAgcmV0dXJuICdBbGwgUHJlbWl1bSBmZWF0dXJlcywgYW5kIG5vIGFkcyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnQmFkZ2Ugb24gcHJvZmlsZSwgYXV0b21hdGljIHJld2FyZHMgY29uZmlybWF0aW9uLCBlYXJseSBhY2Nlc3MgdG8gbmV3IGZlYXR1cmVzLCBhbmQgbm8gYWRzJztcbiAgICB9XG4gIH1cblxuICAvLyBhZGQgYSBiaXQgb2YgYSBkZWxheSBvdGhlcndpc2UgaXQncyBhIGJpdCBqYXJyaW5nXG4gIGNvbnN0IHRpbWVvdXRWYWx1ZSA9IDMwMDtcblxuICAvLyBpZiB1c2VyIGFscmVhZHkgc2VsZWN0ZWQgcGxhbiwgd2FpdCBhIGJpdCAoc28gaXQncyBub3QgamFycmluZykgYW5kIG9wZW4gbW9kYWxcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXN0aWxsV2FpdGluZ0Zyb21CYWNrZW5kICYmIHBsYW5WYWx1ZSAmJiBpbml0aWFsQ2FyZFN0YXRlLmN1cnJlbnQpIHtcbiAgICAgIGNvbnN0IGRlbGF5VGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBjbGVhciBxdWVyeSBwYXJhbXNcbiAgICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsIG51bGwsIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSk7XG5cbiAgICAgICAgc2V0SGFzU2hvd25Nb2RhbCh0cnVlKTtcblxuICAgICAgICAvLyBvcGVuIGNvbmZpcm0gcHVyY2hhc2VcbiAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbcGxhbj1cIicgKyBwbGFuICsgJ1wiXVtpbnRlcnZhbD1cIicgKyBpbnRlcnZhbCArICdcIl0nKS5jbGljaygpO1xuICAgICAgfSwgdGltZW91dFZhbHVlKTtcblxuICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dChkZWxheVRpbWVvdXQpO1xuICAgIH1cbiAgfSwgW3N0aWxsV2FpdGluZ0Zyb21CYWNrZW5kLCBwbGFuVmFsdWVdKTtcblxuICBjb25zdCBoZWxwVGV4dCA9IChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb25fX3N1YnRpdGxlXCI+XG4gICAgICA8cD5cbiAgICAgICAge19fKFxuICAgICAgICAgICdGaXJzdCBvZiBhbGwsIHRoYW5rIHlvdSBmb3IgY29uc2lkZXJpbmcgb3IgcHVyY2hhc2luZyBhIG1lbWJlcnNoaXAsIGl0IG1lYW5zIGEgdG9uIHRvIHVzISBBIGZldyBpbXBvcnRhbnQgZGV0YWlscyB0byBrbm93OidcbiAgICAgICAgKX1cbiAgICAgIDwvcD5cbiAgICAgIDxwPlxuICAgICAgICA8dWw+XG4gICAgICAgICAgPGxpPlxuICAgICAgICAgICAge19fKFxuICAgICAgICAgICAgICAnRXhjbHVzaXZlIGFuZCBlYXJseSBhY2Nlc3MgZmVhdHVyZXMgaW5jbHVkZTogcmVjb21tZW5kZWQgY29udGVudCwgaG9tZXBhZ2UgY3VzdG9taXphdGlvbiwgYW5kIHRoZSBhYmlsaXR5IHRvIHBvc3QgT2R5c2VlIGh5cGVybGlua3MgKyBpbWFnZXMgaW4gY29tbWVudHMuIEFjY291bnQgaXMgYWxzbyBhdXRvbWF0aWNhbGx5IGVsaWdpYmxlIGZvciBSZXdhcmRzLiBNb3JlIHRvIGNvbWUgbGF0ZXIuJ1xuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2xpPlxuICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgIHtfXyhcbiAgICAgICAgICAgICAgJ1RoZSB5ZWFybHkgUHJlbWl1bSsgbWVtYmVyc2hpcCBoYXMgYSBkaXNjb3VudCBjb21wYXJlZCB0byBtb250aGx5LCBhbmQgUHJlbWl1bSBpcyBvbmx5IGF2YWlsYWJsZSB5ZWFybHkuJ1xuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2xpPlxuICAgICAgICAgIDxsaT57X18oJ1RoZXNlIGFyZSBsaW1pdGVkIHRpbWUgcmF0ZXMsIHNvIGdldCBpbiBlYXJseSEnKX08L2xpPlxuICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgIHtfXyhcbiAgICAgICAgICAgICAgJ1RoZXJlIG1heSBiZSBoaWdoZXIgdGllcnMgYXZhaWxhYmxlIGluIHRoZSBmdXR1cmUgZm9yIGNyZWF0b3JzIGFuZCBhbnlvbmUgZWxzZSB3aG8gd2FudHMgdG8gc3VwcG9ydCB1cy4nXG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPGxpPlxuICAgICAgICAgICAge19fKCdCYWRnZXMgd2lsbCBiZSBkaXNwbGF5ZWQgb24gYSBzaW5nbGUgY2hhbm5lbCB0byBzdGFydCwgd2l0aCBhbiBvcHRpb24gdG8gYWRkIG9uIHR3byBtb3JlIGxhdGVyIG9uLicpfVxuICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPGxpPlxuICAgICAgICAgICAge19fKCdDYW5ub3QgdXBncmFkZSBvciBkb3duZ3JhZGUgYSBtZW1iZXJzaGlwIGF0IHRoaXMgdGltZS4gUmVmdW5kcyBhcmUgbm90IGF2YWlsYWJsZS4gQ2hvb3NlIHdpc2VseS4nKX1cbiAgICAgICAgICA8L2xpPlxuICAgICAgICA8L3VsPlxuICAgICAgPC9wPlxuICAgIDwvZGl2PlxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxQYWdlIGNsYXNzTmFtZT1cInByZW1pdW0td3JhcHBlclwiPlxuICAgICAgICB7LyoqIHNwbGFzaCBmcm9udGVuZCAqKi99XG4gICAgICAgIHshc3RpbGxXYWl0aW5nRnJvbUJhY2tlbmQgJiYgIWFwaUVycm9yICYmIHB1cmNoYXNlZE1lbWJlcnNoaXBzLmxlbmd0aCA9PT0gMCAmJiAhcGxhblZhbHVlICYmICFoYXNTaG93bk1vZGFsID8gKFxuICAgICAgICAgIDxNZW1iZXJzaGlwU3BsYXNoIHBhZ2VMb2NhdGlvbj17J2NvbmZpcm1QYWdlJ30gY3VycmVuY3lUb1VzZT17Y3VycmVuY3lUb1VzZX0gLz5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICAvKiogb2R5c2VlIG1lbWJlcnNoaXAgcGFnZSAqKi9cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17J2NhcmQtc3RhY2snfT5cbiAgICAgICAgICAgIHshc3RpbGxXYWl0aW5nRnJvbUJhY2tlbmQgJiYgKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxoMSBzdHlsZT17eyBmb250U2l6ZTogJzIzcHgnIH19PntfXygnT2R5c2VlIFByZW1pdW0nKX08L2gxPlxuICAgICAgICAgICAgICAgIHsvKiBsZXQgdXNlciBzd2l0Y2ggY2hhbm5lbCAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblRvcDogJzEwcHgnIH19PlxuICAgICAgICAgICAgICAgICAgPENoYW5uZWxTZWxlY3RvciB1cmk9e2FjdGl2ZUNoYW5uZWxDbGFpbSAmJiBhY3RpdmVDaGFubmVsQ2xhaW0ucGVybWFuZW50X3VybH0gLz5cblxuICAgICAgICAgICAgICAgICAgey8qIGV4cGxhaW5lciBoZWxwIHRleHQgKi99XG4gICAgICAgICAgICAgICAgICA8Q2FyZFxuICAgICAgICAgICAgICAgICAgICB0aXRsZUFjdGlvbnM9e1xuICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbj1cImNsb3NlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb249e3Nob3dIZWxwID8gSUNPTlMuVVAgOiBJQ09OUy5ET1dOfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0hlbHAoIXNob3dIZWxwKX1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPXtfXygnR2V0IE1vcmUgSW5mb3JtYXRpb24nKX1cbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU9e19fKCdFeHBhbmQgdG8gbGVhcm4gbW9yZSBhYm91dCBob3cgT2R5c2VlIFByZW1pdW0gd29ya3MnKX1cbiAgICAgICAgICAgICAgICAgICAgYWN0aW9ucz17c2hvd0hlbHAgJiYgaGVscFRleHR9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17J3ByZW1pdW0tZXhwbGFuYXRpb24tdGV4dCd9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHsvKiogc2VuZCB1c2VyIHRvIGFkZCBjYXJkIGlmIHRoZXkgZG9uJ3QgaGF2ZSBvbmUgeWV0ICovfVxuICAgICAgICAgICAgeyFzdGlsbFdhaXRpbmdGcm9tQmFja2VuZCAmJiAhaGFzU2F2ZWRDYXJkICYmIChcbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPXsnZ2V0UGF5bWVudENhcmQnfT5cbiAgICAgICAgICAgICAgICAgIHtfXygnUGxlYXNlIHNhdmUgYSBjYXJkIGFzIGEgcGF5bWVudCBtZXRob2Qgc28geW91IGNhbiBqb2luIE9keXNlZSBQcmVtaXVtJyl9XG4gICAgICAgICAgICAgICAgPC9oMj5cblxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIHJlcXVpcmVzQXV0aFxuICAgICAgICAgICAgICAgICAgYnV0dG9uPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICBsYWJlbD17X18oJ0FkZCBhIENhcmQnKX1cbiAgICAgICAgICAgICAgICAgIGljb249e0lDT05TLlNFVFRJTkdTfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb3Blbk1vZGFsKE1PREFMUy5BRERfQ0FSRCl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtZW1iZXJzaGlwX2J1dHRvblwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXhXaWR0aDogJzE1MXB4JyB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgey8qKiBhdmFpbGFibGUgbWVtYmVyc2hpcHMgKiovfVxuICAgICAgICAgICAgey8qIGlmIHRoZXkgaGF2ZSBhIGNhcmQgYW5kIGRvbid0IGhhdmUgYSBtZW1iZXJzaGlwIHlldCAqL31cbiAgICAgICAgICAgIHshc3RpbGxXYWl0aW5nRnJvbUJhY2tlbmQgJiYgbWVtYmVyc2hpcE9wdGlvbnMgJiYgcHVyY2hhc2VkTWVtYmVyc2hpcHMubGVuZ3RoIDwgMSAmJiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkX190aXRsZS1zZWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwiY2FyZF9fdGl0bGVcIj57X18oJ0F2YWlsYWJsZSBNZW1iZXJzaGlwcycpfTwvaDI+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8Q2FyZD5cbiAgICAgICAgICAgICAgICAgIHttZW1iZXJzaGlwT3B0aW9ucy5tYXAoKG1lbWJlcnNoaXBPcHRpb24sIGkpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aX0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7cHVyY2hhc2VkTWVtYmVyc2hpcHMgJiYgIXB1cmNoYXNlZE1lbWJlcnNoaXBzLmluY2x1ZGVzKG1lbWJlcnNoaXBPcHRpb24uTWVtYmVyc2hpcC5pZCkgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJlbWl1bS1vcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBwbGFuIHRpdGxlICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1lbWJlcnNoaXBfdGl0bGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge21lbWJlcnNoaXBPcHRpb24uTWVtYmVyc2hpcC5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UHJlbWl1bUJhZGdlIG1lbWJlcnNoaXA9e21lbWJlcnNoaXBPcHRpb24uTWVtYmVyc2hpcC5uYW1lfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oND5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIHBsYW4gZGVzY3JpcHRpb24gKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibWVtYmVyc2hpcF9zdWJ0aXRsZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7X18oZ2V0UGxhbkRlc2NyaXB0aW9uKG1lbWJlcnNoaXBPcHRpb24uTWVtYmVyc2hpcC5uYW1lKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIGRpc3BsYXkgZGlmZmVyZW50IHBsYW5zICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bWVtYmVyc2hpcE9wdGlvbi5QcmljZXMubWFwKChwcmljZSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogZG9udCBzaG93IGEgbW9udGhseSBQcmVtaXVtIG1lbWJlcnNoaXAgb3B0aW9uICh5ZWFybHkgb25seSkgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2UucmVjdXJyaW5nLmludGVydmFsID09PSAnbW9udGgnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbWJlcnNoaXBPcHRpb24uTWVtYmVyc2hpcC5uYW1lID09PSAnUHJlbWl1bSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwcmljZS5jdXJyZW5jeSA9PT0gY3VycmVuY3lUb1VzZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibWVtYmVyc2hpcF9pbmZvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+e19fKCdJbnRlcnZhbCcpfTo8L2I+IHtjb252ZXJ0SW50ZXJ2YWxWYXJpYWJsZVRvU3RyaW5nKHByaWNlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1lbWJlcnNoaXBfaW5mb1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPntfXygnUHJpY2UnKX06PC9iPiB7YnVpbGRDdXJyZW5jeURpc3BsYXkocHJpY2UpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwcmljZS51bml0X2Ftb3VudCAvIDEwMH0ve2NhcGl0YWxpemVkSW50ZXJ2YWwocHJpY2UucmVjdXJyaW5nLmludGVydmFsKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbj1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBwdXJjaGFzZU1lbWJlcnNoaXAoZSwgbWVtYmVyc2hpcE9wdGlvbiwgcHJpY2UpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbWJlcnNoaXAtaWQ9e21lbWJlcnNoaXBPcHRpb24uTWVtYmVyc2hpcC5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW1iZXJzaGlwLXN1YnNjcmlwdGlvbi1wZXJpb2Q9e21lbWJlcnNoaXBPcHRpb24uTWVtYmVyc2hpcC50eXBlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlLWlkPXtwcmljZS5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtZW1iZXJzaGlwX2J1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e19fKCdKb2luIHZpYSAlaW50ZXJ2YWwlIG1lbWJlcnNoaXAnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbDogcHJpY2UucmVjdXJyaW5nLmludGVydmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb249e0lDT05TLkZJTkFOQ0V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJ2YWw9e3ByaWNlLnJlY3VycmluZy5pbnRlcnZhbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFuPXttZW1iZXJzaGlwT3B0aW9uLk1lbWJlcnNoaXAubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWhhc1NhdmVkQ2FyZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgeyFzdGlsbFdhaXRpbmdGcm9tQmFja2VuZCAmJiBoYXNTYXZlZENhcmQgPT09IHRydWUgJiYgKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZF9fdGl0bGUtc2VjdGlvblwiPlxuICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cImNhcmRfX3RpdGxlXCI+e19fKCdZb3VyIEFjdGl2ZSBNZW1iZXJzaGlwcycpfTwvaDI+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8Q2FyZD5cbiAgICAgICAgICAgICAgICAgIHsvKiogKiBsaXN0IG9mIGFjdGl2ZSBtZW1iZXJzaGlwcyBmcm9tIHVzZXIgKioqL31cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIHsvKiA8aDEgc3R5bGU9e3sgZm9udFNpemU6ICcxOXB4JyB9fT5BY3RpdmUgTWVtYmVyc2hpcHM8L2gxPiAqL31cbiAgICAgICAgICAgICAgICAgICAgeyFzdGlsbFdhaXRpbmdGcm9tQmFja2VuZCAmJiBhY3RpdmVNZW1iZXJzaGlwcyAmJiBhY3RpdmVNZW1iZXJzaGlwcy5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxoND57X18oJ1lvdSBjdXJyZW50bHkgaGF2ZSBubyBhY3RpdmUgbWVtYmVyc2hpcHMnKX08L2g0PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICB7LyoqIGFjdGl2ZSBtZW1iZXJzaGlwcyAqKi99XG4gICAgICAgICAgICAgICAgICAgIHshc3RpbGxXYWl0aW5nRnJvbUJhY2tlbmQgJiZcbiAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVNZW1iZXJzaGlwcyAmJlxuICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZU1lbWJlcnNoaXBzLm1hcCgobWVtYmVyc2hpcCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcmVtaXVtLW9wdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBtZW1iZXJzaGlwIG5hbWUgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1lbWJlcnNoaXBfdGl0bGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttZW1iZXJzaGlwLk1lbWJlcnNoaXBEZXRhaWxzLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UHJlbWl1bUJhZGdlIG1lbWJlcnNoaXA9e21lbWJlcnNoaXAuTWVtYmVyc2hpcERldGFpbHMubmFtZX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2g0PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIGRlc2NyaXB0aW9uIHNlY3Rpb24gKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1lbWJlcnNoaXBfc3VidGl0bGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtfXyhnZXRQbGFuRGVzY3JpcHRpb24obWVtYmVyc2hpcC5NZW1iZXJzaGlwRGV0YWlscy5uYW1lLCAnYWN0aXZlJykpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDQ+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogcmVnaXN0ZXJlZCBvbiAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibWVtYmVyc2hpcF9pbmZvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj57X18oJ1JlZ2lzdGVyZWQgT24nKX06PC9iPiB7Zm9ybWF0RGF0ZShtZW1iZXJzaGlwLk1lbWJlcnNoaXAuY3JlYXRlZF9hdCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oND5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBhdXRvcmVuZXdzIGF0ICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtZW1iZXJzaGlwX2luZm9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiPntfXygnQXV0by1SZW5ld3MgT24nKX06PC9iPnsnICd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0RGF0ZShtZW1iZXJzaGlwLlN1YnNjcmlwdGlvbi5jdXJyZW50X3BlcmlvZF9lbmQgKiAxMDAwKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2g0PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIGNhbmNlbCBtZW1iZXJzaGlwIGJ1dHRvbiAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b249XCJhbHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVtYmVyc2hpcC1pZD17bWVtYmVyc2hpcC5NZW1iZXJzaGlwLm1lbWJlcnNoaXBfaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gY2FuY2VsTWVtYmVyc2hpcChlLCBtZW1iZXJzaGlwKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNhbmNlbC1tZW1iZXJzaGlwLWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17X18oJ0NhbmNlbCBtZW1iZXJzaGlwJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uPXtJQ09OUy5GSU5BTkNFfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgIHsvKiogY2FuY2VsZWQgbWVtYmVyc2hpcHMgKiovfVxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkX190aXRsZS1zZWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJjYXJkX190aXRsZVwiPntfXygnQ2FuY2VsZWQgTWVtYmVyc2hpcHMnKX08L2gyPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8Q2FyZD5cbiAgICAgICAgICAgICAgICAgICAge2NhbmNlbGVkTWVtYmVyc2hpcHMgJiYgY2FuY2VsZWRNZW1iZXJzaGlwcy5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxoND57X18oJ1lvdSBjdXJyZW50bHkgaGF2ZSBubyBjYW5jZWxlZCBtZW1iZXJzaGlwcycpfTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIHtjYW5jZWxlZE1lbWJlcnNoaXBzICYmXG4gICAgICAgICAgICAgICAgICAgICAgY2FuY2VsZWRNZW1iZXJzaGlwcy5tYXAoKG1lbWJlcnNoaXApID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtZW1iZXJzaGlwX3RpdGxlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge21lbWJlcnNoaXAuTWVtYmVyc2hpcERldGFpbHMubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UHJlbWl1bUJhZGdlIG1lbWJlcnNoaXA9e21lbWJlcnNoaXAuTWVtYmVyc2hpcERldGFpbHMubmFtZX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oND5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByZW1pdW0tb3B0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1lbWJlcnNoaXBfaW5mb1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+e19fKCdSZWdpc3RlcmVkIE9uJyl9OjwvYj4ge2Zvcm1hdERhdGUobWVtYmVyc2hpcC5NZW1iZXJzaGlwLmNyZWF0ZWRfYXQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1lbWJlcnNoaXBfaW5mb1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+e19fKCdDYW5jZWxlZCBPbicpfTo8L2I+IHtmb3JtYXREYXRlKG1lbWJlcnNoaXAuU3Vic2NyaXB0aW9uLmNhbmNlbGVkX2F0ICogMTAwMCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibWVtYmVyc2hpcF9pbmZvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj57X18oJ1N0aWxsIFZhbGlkIFVudGlsJyl9OjwvYj4ge2Zvcm1hdERhdGUobWVtYmVyc2hpcC5NZW1iZXJzaGlwLmV4cGlyZXMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgey8qKiBsb2FkaW5nIHNlY3Rpb24gKiovfVxuICAgICAgICAgICAge3N0aWxsV2FpdGluZ0Zyb21CYWNrZW5kICYmICFhcGlFcnJvciAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFpbi0tZW1wdHlcIj5cbiAgICAgICAgICAgICAgICA8U3Bpbm5lciAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHsvKiogbG9hZGluZyBzZWN0aW9uICoqL31cbiAgICAgICAgICAgIHtzdGlsbFdhaXRpbmdGcm9tQmFja2VuZCAmJiBhcGlFcnJvciAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFpbi0tZW1wdHlcIj5cbiAgICAgICAgICAgICAgICA8aDEgc3R5bGU9e3sgZm9udFNpemU6ICcxOXB4JyB9fT5cbiAgICAgICAgICAgICAgICAgIHtfXygnU29ycnksIHRoZXJlIHdhcyBhbiBlcnJvciwgcGxlYXNlIGNvbnRhY3Qgc3VwcG9ydCBvciB0cnkgYWdhaW4gbGF0ZXInKX1cbiAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHsvKiogY2xlYXIgbWVtYmVyc2hpcCBkYXRhIChvbmx5IGF2YWlsYWJsZSBvbiBkZXYpICoqL31cbiAgICAgICAgICAgIHtpc0RldiAmJiBoYXNTYXZlZENhcmQgJiYgcHVyY2hhc2VkTWVtYmVyc2hpcHMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPGgxIHN0eWxlPXt7IG1hcmdpblRvcDogJzMwcHgnLCBmb250U2l6ZTogJzIwcHgnIH19PkNsZWFyIE1lbWJlcnNoaXAgRGF0YSAoT25seSBBdmFpbGFibGUgT24gRGV2KTwvaDE+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPVwiQ2xlYXIgTWVtYmVyc2hpcCBEYXRhXCJcbiAgICAgICAgICAgICAgICAgICAgaWNvbj17SUNPTlMuU0VUVElOR1N9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1lbWJlcnNoaXBfYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17ZGVsZXRlRGF0YX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvUGFnZT5cbiAgICA8Lz5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE9keXNlZU1lbWJlcnNoaXBQYWdlO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBb0JBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBZ0JBO0FBRUE7QUFDQTtBQUNBO0FBcEJBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFnQ0E7QUFFQTtBQUFBO0FBbkNBO0FBQ0E7QUFxQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBT0E7QUFEQTtBQUNBO0FBUEE7QUFHQTtBQVNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFqQkE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQWtCQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUEzQkE7QUFDQTtBQUNBO0FBRkE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBREE7QUErQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUExQ0E7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBNENBO0FBQ0E7QUFDQTtBQTlDQTtBQStDQTtBQUNBO0FBaERBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFpREE7QUFDQTtBQURBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQ0E7QUFQQTtBQUdBO0FBWUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBeEJBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQXlCQTtBQUNBO0FBQ0E7QUEzQkE7QUE2QkE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXZDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFGQTtBQUNBO0FBREE7QUFDQTtBQTZDQTtBQUNBO0FBS0E7QUFDQTtBQTVKQTtBQUNBO0FBQ0E7QUE4SkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQURBO0FBQ0E7QUFMQTtBQVNBO0FBQ0E7QUFDQTtBQVhBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWhLQTtBQUNBO0FBQ0E7QUE0S0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFGQTtBQVFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFIQTtBQVNBO0FBQ0E7QUFGQTtBQU1BO0FBQ0E7QUFGQTtBQU1BO0FBQ0E7QUFGQTtBQU1BO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBTkE7QUFEQTtBQUNBO0FBaUJBO0FBQ0E7QUFHQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQVZBO0FBQ0E7QUF1QkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBVEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQWVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhVQTtBQUFBO0FBb1VBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUtBO0FBREE7QUFHQTtBQUNBO0FBaFZBO0FBQ0E7QUFDQTtBQWtWQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUFBO0FBUkE7QUFXQTtBQUFBO0FBQUE7QUFDQTtBQWRBO0FBaUJBO0FBQ0E7QUFBQTtBQW1DQTtBQUVBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQVhBO0FBcUJBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFMQTtBQU1BO0FBQ0E7QUFBQTtBQUFBO0FBUEE7QUFnQkE7QUFBQTtBQUNBO0FBQUE7QUFJQTtBQUVBO0FBQUE7QUFHQTtBQUFBO0FBRUE7QUFBQTtBQUVBO0FBQUE7QUFJQTtBQUFBO0FBS0E7QUFVQTtBQUFBO0FBR0E7QUFBQTtBQUtBO0FBQ0E7QUFBQTtBQUZBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQWJBO0FBbkNBO0FBdkRBO0FBMkhBO0FBQUE7QUFDQTtBQUFBO0FBYUE7QUFFQTtBQUFBO0FBRUE7QUFBQTtBQUVBO0FBQUE7QUFJQTtBQUFBO0FBS0E7QUFBQTtBQUtBO0FBQUE7QUFPQTtBQUNBO0FBQ0E7QUFBQTtBQUhBO0FBSUE7QUFDQTtBQUNBO0FBTkE7QUF6Q0E7QUF3REE7QUFBQTtBQUNBO0FBQUE7QUFPQTtBQUVBO0FBQUE7QUFFQTtBQUFBO0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBR0E7QUFBQTtBQXhNQTtBQXFOQTtBQUFBO0FBT0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBU0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQTVuQkE7QUFDQTtBQTRvQkE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../ui/page/odyseeMembership/view.jsx\n");

/***/ })

}]);