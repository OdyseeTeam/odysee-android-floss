{"version":3,"file":"9867-521c0f105c22c8114c4e.js","mappings":"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","sources":["webpack://odysee.com/../ui/component/swipeableDrawer/view.jsx","webpack://odysee.com/../ui/component/swipeableDrawer/index.js","webpack://odysee.com/../ui/component/swipeableDrawerExpand/view.jsx","webpack://odysee.com/../ui/component/swipeableDrawerExpand/index.js","webpack://odysee.com/../ui/constants/drawer_types.js","webpack://odysee.com/../ui/scss/component/_swipeable-drawer.scss","webpack://odysee.com/../ui/scss/component/_swipeable-drawer.scss?8b9e"],"sourcesContent":["// @flow\nimport 'scss/component/_swipeable-drawer.scss';\n\n// $FlowFixMe;\nimport { Global } from '@emotion/react';\n\nimport { PRIMARY_PLAYER_WRAPPER_CLASS, PRIMARY_IMAGE_WRAPPER_CLASS, HEADER_HEIGHT_MOBILE } from 'constants/player';\nimport { getMaxLandscapeHeight } from 'util/window';\nimport Drawer from '@mui/material/Drawer';\nimport * as ICONS from 'constants/icons';\nimport * as React from 'react';\nimport * as DRAWERS from 'constants/drawer_types';\nimport Button from 'component/button';\n\nconst TRANSITION_MS = 225;\nconst TRANSITION_STR = `${TRANSITION_MS}ms cubic-bezier(0, 0, 0.2, 1) 0ms`;\n\ntype Props = {\n  children: Node,\n  title: any,\n  hasSubtitle?: boolean,\n  actions?: any,\n  type: string,\n  startOpen?: boolean,\n  // -- redux --\n  open: boolean,\n  doToggleAppDrawer: (type: string) => void,\n};\n\nexport default function SwipeableDrawer(props: Props) {\n  const { title, hasSubtitle, children, type, startOpen, open, actions, doToggleAppDrawer } = props;\n\n  const pullerHeight = type === DRAWERS.PLAYLIST ? 120 : 62;\n\n  const drawerRoot = React.useRef();\n  const backdropRef = React.useRef();\n  const paperRef = React.useRef();\n\n  const pausedByDrawer = React.useRef(false);\n  const touchPos = React.useRef();\n  const openPrev = React.useRef(open);\n\n  const [playerHeight, setPlayerHeight] = React.useState(getMaxLandscapeHeight());\n\n  const landscapePlayerHeight = HEADER_HEIGHT_MOBILE + getMaxLandscapeHeight();\n  const contentHeight = HEADER_HEIGHT_MOBILE + playerHeight;\n\n  function toggleDrawer() {\n    doToggleAppDrawer(type);\n  }\n\n  function handleTouchMove(e) {\n    const touchPosY = e.touches[0].clientY;\n    touchPos.current = touchPosY;\n    const draggingBelowHeader = touchPosY > HEADER_HEIGHT_MOBILE;\n\n    if (draggingBelowHeader) {\n      const root = drawerRoot.current;\n      if (root) {\n        root.setAttribute('style', `transform: none !important`);\n      }\n\n      if (paperRef.current) {\n        paperRef.current.setAttribute('style', `transform: translateY(${touchPosY}px) !important`);\n      }\n\n      // makes the backdrop lighter/darker based on how high/low the drawer is\n      const backdrop = backdropRef.current;\n      if (backdrop) {\n        const isDraggingAboveVideo = touchPosY < playerHeight + HEADER_HEIGHT_MOBILE;\n        let backdropTop = contentHeight;\n        // $FlowFixMe\n        let backdropHeight = document.documentElement.getBoundingClientRect().height - backdropTop;\n        let opacity = ((touchPosY - HEADER_HEIGHT_MOBILE) / backdropHeight) * -1 + 1;\n\n        // increase the backdrop height so it also covers the video when pulling the drawer up\n        if (isDraggingAboveVideo) {\n          backdropTop = HEADER_HEIGHT_MOBILE;\n          backdropHeight = playerHeight;\n          opacity = ((touchPosY - HEADER_HEIGHT_MOBILE) / backdropHeight) * -1 + 1;\n        }\n\n        backdrop.setAttribute('style', `top: ${backdropTop}px; opacity: ${opacity}`);\n      }\n    }\n  }\n\n  function handleTouchEnd() {\n    // set by touchMove\n    if (!touchPos.current) return;\n\n    const root = drawerRoot.current;\n\n    if (root) {\n      const middleOfVideo = HEADER_HEIGHT_MOBILE + playerHeight / 2;\n      const drawerMovedFullscreen = touchPos.current < middleOfVideo;\n      // $FlowFixMe\n      const restOfPage = document.documentElement.clientHeight - playerHeight - HEADER_HEIGHT_MOBILE;\n      const draggedBeforeCloseLimit = touchPos.current - playerHeight - HEADER_HEIGHT_MOBILE < restOfPage * 0.2;\n      const backdrop = backdropRef.current;\n\n      if (draggedBeforeCloseLimit) {\n        const minDrawerHeight = contentHeight;\n        const positionToStop = drawerMovedFullscreen ? HEADER_HEIGHT_MOBILE : minDrawerHeight;\n        // $FlowFixMe\n        document.documentElement?.style?.setProperty('--content-height', String(positionToStop));\n\n        if (paperRef.current) {\n          paperRef.current.setAttribute('style', `transform: none !important; transition: transform ${TRANSITION_STR}`);\n        }\n        root.setAttribute(\n          'style',\n          `transform: translateY(${positionToStop}px) !important; transition: transform ${TRANSITION_STR}`\n        );\n\n        setTimeout(() => {\n          root.style.height = `calc(100% - ${positionToStop}px)`;\n        }, TRANSITION_MS);\n\n        if (backdrop) {\n          backdrop.setAttribute('style', 'opacity: 0');\n\n          setTimeout(() => {\n            backdrop.setAttribute('style', `transition: opacity ${TRANSITION_STR}; opacity: 1`);\n          }, TRANSITION_MS);\n        }\n\n        // Pause video if drawer made fullscreen (above the player)\n        const playerElement = document.querySelector('.content__viewer--inline');\n        const videoParent = playerElement && playerElement.querySelector('.video-js');\n        const isLivestream = videoParent && videoParent.classList.contains('livestreamPlayer');\n        const videoNode = videoParent && videoParent.querySelector('.vjs-tech');\n        // $FlowFixMe\n        const isPlaying = videoNode && !videoNode.paused;\n\n        if (videoNode && !isLivestream && isPlaying && drawerMovedFullscreen) {\n          // $FlowFixMe\n          videoNode.pause();\n          pausedByDrawer.current = true;\n        } else {\n          handleUnpausePlayer();\n        }\n      } else {\n        handleCloseDrawer();\n\n        if (backdrop) {\n          backdrop.setAttribute('style', 'opacity: 0');\n        }\n      }\n    }\n\n    // clear if not being touched anymore\n    touchPos.current = undefined;\n  }\n\n  function handleUnpausePlayer() {\n    // Unpause on close and was paused by the drawer\n    const videoParent = document.querySelector('.video-js');\n    const videoNode = videoParent && videoParent.querySelector('.vjs-tech');\n\n    if (videoNode && pausedByDrawer.current) {\n      // $FlowFixMe\n      videoNode.play();\n      pausedByDrawer.current = false;\n    }\n  }\n\n  function handleCloseDrawer() {\n    handleUnpausePlayer();\n    toggleDrawer();\n  }\n\n  const handleResize = React.useCallback(() => {\n    const element =\n      document.querySelector(`.${PRIMARY_IMAGE_WRAPPER_CLASS}`) ||\n      document.querySelector(`.${PRIMARY_PLAYER_WRAPPER_CLASS}`);\n\n    if (!element) return;\n\n    const rect = element.getBoundingClientRect();\n    setPlayerHeight(rect.height);\n  }, []);\n\n  React.useEffect(() => {\n    if (startOpen && !open) {\n      toggleDrawer();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps -- on mount only\n  }, []);\n\n  React.useEffect(() => {\n    // Drawer will follow the cover image on resize, so it's always visible\n    handleResize();\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, [handleResize]);\n\n  // Reset scroll position when opening: avoid broken position where\n  // the drawer is lower than the video\n  React.useEffect(() => {\n    if (open) {\n      const htmlEl = document.querySelector('html');\n      if (htmlEl) htmlEl.scrollTop = 0;\n    }\n  }, [open]);\n\n  React.useEffect(() => {\n    return () => {\n      if (openPrev.current) {\n        handleCloseDrawer();\n      }\n    };\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps -- close drawer on unmount\n  }, []);\n\n  const drawerElemRef = React.useCallback(\n    (node) => {\n      if (node) {\n        const isFullscreenDrawer = node.style.transform.includes(`translateY(${HEADER_HEIGHT_MOBILE}px)`);\n        const openStateChanged = openPrev.current !== open; // so didn't run because of window resize\n\n        if (!isFullscreenDrawer || openStateChanged) {\n          node.setAttribute(\n            'style',\n            `transform: translateY(${landscapePlayerHeight}px); height: calc(100% - ${landscapePlayerHeight}px);`\n          );\n          // $FlowFixMe\n          document.documentElement?.style?.setProperty('--content-height', String(landscapePlayerHeight));\n        }\n\n        drawerRoot.current = node;\n        openPrev.current = open;\n      }\n    },\n    [landscapePlayerHeight, open]\n  );\n\n  return (\n    <>\n      <DrawerGlobalStyles open={open} />\n\n      <Drawer\n        ref={drawerElemRef}\n        anchor=\"bottom\"\n        open={open}\n        disableEnforceFocus\n        ModalProps={{ keepMounted: true, sx: { zIndex: '2' } }}\n        BackdropProps={{ ref: backdropRef, open, sx: { backgroundColor: 'black' } }}\n        PaperProps={{ ref: paperRef, sx: { height: `calc(100% - ${pullerHeight}px)` } }}\n      >\n        {open && (\n          <div className=\"swipeable-drawer__header\" style={{ top: -pullerHeight, height: pullerHeight }}>\n            <span className=\"swipeable-drawer__puller\" />\n            <HeaderContents\n              title={title}\n              hasSubtitle={hasSubtitle}\n              actions={actions}\n              type={type}\n              handleClose={handleCloseDrawer}\n              onTouchMove={handleTouchMove}\n              onTouchEnd={handleTouchEnd}\n            />\n          </div>\n        )}\n\n        {children}\n      </Drawer>\n    </>\n  );\n}\n\ntype GlobalStylesProps = {\n  open: boolean,\n};\n\nconst DrawerGlobalStyles = (props: GlobalStylesProps) => {\n  const { open } = props;\n\n  return (\n    <Global\n      styles={{\n        '.main-wrapper__inner--filepage': {\n          overflow: open ? 'hidden' : 'unset',\n          maxHeight: open ? '100%' : 'unset',\n        },\n      }}\n    />\n  );\n};\n\ntype HeaderProps = {\n  title: any,\n  hasSubtitle?: boolean,\n  actions?: any,\n  type: string,\n  handleClose: () => void,\n};\n\nconst HeaderContents = (props: HeaderProps) => {\n  const { title, hasSubtitle, actions, handleClose, type, ...divProps } = props;\n\n  return (\n    <div className=\"swipeable-drawer__header-content\" {...divProps}>\n      {title}\n\n      <div className=\"swipeable-drawer__header-actions\">\n        {actions}\n\n        <Button\n          button={type === DRAWERS.PLAYLIST ? 'close' : undefined}\n          icon={ICONS.REMOVE}\n          iconSize={16}\n          onClick={handleClose}\n        />\n      </div>\n    </div>\n  );\n};\n","import { connect } from 'react-redux';\nimport SwipeableDrawer from './view';\nimport { selectIsDrawerOpenForType } from 'redux/selectors/app';\nimport { doToggleAppDrawer } from 'redux/actions/app';\n\nconst select = (state, props) => {\n  const { type } = props;\n\n  return {\n    open: selectIsDrawerOpenForType(state, type),\n  };\n};\n\nconst perform = {\n  doToggleAppDrawer,\n};\n\nexport default connect(select, perform)(SwipeableDrawer);\n","// @flow\nimport 'scss/component/_swipeable-drawer.scss';\n\n// $FlowFixMe\nimport { Global } from '@emotion/react';\n\nimport classnames from 'classnames';\nimport * as ICONS from 'constants/icons';\nimport * as React from 'react';\nimport Button from 'component/button';\nimport Portal from '@mui/base/Portal';\n\ntype Props = {\n  label: any,\n  icon: string,\n  type: string,\n  fixed?: boolean,\n  // -- redux --\n  doToggleAppDrawer: (type: string) => void,\n};\n\nfunction DrawerExpandButton(props: Props) {\n  const { fixed, icon, type, doToggleAppDrawer, ...buttonProps } = props;\n\n  return (\n    <Wrapper fixed={fixed}>\n      <Global\n        styles={{\n          '.main-wrapper__inner--filepage': {\n            paddingBottom: fixed ? 'var(--header-height-mobile) !important' : undefined,\n          },\n        }}\n      />\n\n      <Button\n        className={classnames('swipeable-drawer__expand-button', { fixed })}\n        button=\"primary\"\n        icon={icon || (fixed ? ICONS.UP : undefined)}\n        iconSize={fixed && icon ? 30 : undefined}\n        onClick={(e) => {\n          e.preventDefault();\n          e.stopPropagation();\n          doToggleAppDrawer(type);\n        }}\n        {...buttonProps}\n      />\n    </Wrapper>\n  );\n}\n\ntype WrapperProps = {\n  fixed?: boolean,\n  children: any,\n};\n\nconst Wrapper = (props: WrapperProps) => {\n  const { fixed, children } = props;\n\n  return fixed ? <Portal>{children}</Portal> : children;\n};\n\nexport default DrawerExpandButton;\n","import { connect } from 'react-redux';\nimport { doToggleAppDrawer } from 'redux/actions/app';\nimport DrawerExpandButton from './view';\n\nconst perform = {\n  doToggleAppDrawer,\n};\n\nexport default connect(null, perform)(DrawerExpandButton);\n","export const CHAT = 'CHAT';\nexport const PLAYLIST = 'PLAYLIST';\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".swipeable-drawer__header{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);height:120px;position:absolute;top:-120px;visibility:visible}[dir] .swipeable-drawer__header{background-color:var(--color-background);border-top:1px solid var(--color-border)}[dir=ltr] .swipeable-drawer__header,[dir=rtl] .swipeable-drawer__header{border-top-left-radius:12px;border-top-right-radius:12px;left:0;right:0}.swipeable-drawer__header .button--close{top:2px!important}[dir=ltr] .swipeable-drawer__header .button--close{right:2px!important}[dir=rtl] .swipeable-drawer__header .button--close{left:2px!important}.swipeable-drawer__header span,.swipeable-drawer__header svg{color:var(--color-text)}.swipeable-drawer__puller{height:6px;position:absolute;top:8px;width:30px}[dir] .swipeable-drawer__puller{background-color:var(--color-text);border-radius:3px}[dir=ltr] .swipeable-drawer__puller{left:calc(50% - 15px)}[dir=rtl] .swipeable-drawer__puller{right:calc(50% - 15px)}.MuiDrawer-root>.MuiPaper-root{color:var(--color-text);overflow:visible;position:absolute}.swipeable-drawer__header-content{align-items:center;display:flex;font-size:var(--font-small);justify-content:space-between}[dir] .swipeable-drawer__header-content h2:not(.card__title){margin-top:var(--spacing-s);padding:var(--spacing-s)}.swipeable-drawer__menu{align-items:flex-start;display:flex}[dir=ltr] .swipeable-drawer__menu svg{margin-left:var(--spacing-xxs)}[dir=rtl] .swipeable-drawer__menu svg{margin-right:var(--spacing-xxs)}.swipeable-drawer__title-menu{align-items:flex-start;display:flex;flex-direction:column}.swipeable-drawer__title-menu .swipeable-drawer__title{font-size:var(--font-xsmall)}.swipeable-drawer__title-menu .swipeable-drawer__subtitle{color:var(--color-text-subtitle);font-size:var(--font-xxsmall)}.swipeable-drawer__header-actions{display:flex}[dir] .swipeable-drawer__header-actions button{padding:.3rem}[dir=ltr] .swipeable-drawer__header-actions button:not(:last-child){margin-right:var(--spacing-xxs)}[dir=rtl] .swipeable-drawer__header-actions button:not(:last-child){margin-left:var(--spacing-xxs)}.swipeable-drawer__header-actions .menu__button{opacity:1}.swipeable-drawer__expand-button{width:100%}[dir] .swipeable-drawer__expand-button{border-radius:0!important;margin:var(--spacing-xxs) 0}[dir] .swipeable-drawer__expand-button.button--primary{background-color:var(--color-header-button)!important;border-radius:var(--border-radius)!important}[dir=ltr] .swipeable-drawer__expand-button.button--primary{padding-left:var(--spacing-xxs)}[dir=rtl] .swipeable-drawer__expand-button.button--primary{padding-right:var(--spacing-xxs)}.swipeable-drawer__expand-button.button--primary .button__content .icon{stroke:var(--color-text)}.swipeable-drawer__expand-button.button--primary .button__content .button__label{color:var(--color-text)}.swipeable-drawer__expand-button.fixed{bottom:0;position:fixed;top:unset;z-index:9999}[dir] .swipeable-drawer__expand-button.fixed{border-top:1px solid var(--color-header-button);margin:0}.chat-card--drawer-header{display:flex;flex-direction:row;width:100%}[dir] .chat-card--drawer-header .chat-card--drawer-header-mode{margin-top:var(--spacing-m);padding:var(--spacing-s)}.chat-card--drawer-header .chat-card--drawer-header-mode .button-toggle{height:var(--height-button-mobile)}[dir] .chat-card--drawer-header .chat-card--drawer-header-mode .button-toggle{padding:0 var(--spacing-s)}.chat-card--drawer-header .menu__button{opacity:1}[dir=ltr] .chat-card--drawer-header .menu__button{margin-right:var(--spacing-xs)}[dir=rtl] .chat-card--drawer-header .menu__button{margin-left:var(--spacing-xs)}[dir=ltr] .chat-card--drawer-header button:last-of-type{margin-left:auto}[dir=rtl] .chat-card--drawer-header button:last-of-type{margin-right:auto}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../ui/scss/component/_swipeable-drawer.scss\"],\"names\":[],\"mappings\":\"AAAA,0BAKE,iCAAA,CACA,yBAAA,CAMA,YAAA,CAXA,iBAAA,CAUA,UAAA,CATA,kBAUA,CAZF,gCAOE,wCAAA,CACA,wCAIA,CAZF,wEASE,2BAAA,CACA,4BAAA,CANA,MAAA,CADA,OASA,CAEA,yCACE,iBACA,CAFF,mDAEE,mBAAA,CAFF,mDAEE,kBAAA,CAGF,6DAEE,uBAAA,CAIJ,0BAEE,UAAA,CAEA,iBAAA,CACA,OAAA,CAJA,UAMA,CAPF,gCAOE,kCAAA,CAJA,iBAIA,CAPF,oCAME,qBACA,CAPF,oCAME,sBACA,CAGF,+BAEE,uBAAA,CADA,gBAAA,CAEA,iBAAA,CAGF,kCAEE,kBAAA,CADA,YAAA,CAGA,2BAAA,CADA,6BACA,CAEA,6DAEE,2BAAA,CADA,wBACA,CAIJ,wBAEE,sBAAA,CADA,YACA,CAEA,sCACE,8BAAA,CADF,sCACE,+BAAA,CAIJ,8BAGE,sBAAA,CAFA,YAAA,CACA,qBACA,CAEA,uDACE,4BAAA,CAGF,0DAEE,gCAAA,CADA,6BACA,CAIJ,kCACE,YAAA,CAEA,+CACE,aAAA,CAGF,oEACE,+BAAA,CADF,oEACE,8BAAA,CAGF,gDACE,SAAA,CAIJ,iCACE,UAEA,CAHF,uCAGE,yBAAA,CADA,2BACA,CACA,uDAEE,qDAAA,CACA,4CAAA,CAHF,2DACE,+BAEA,CAHF,2DACE,gCAEA,CAEE,wEACE,wBAAA,CAEF,iFACE,uBAAA,CAKN,uCAEE,QAAA,CADA,cAAA,CAEA,SAAA,CAGA,YAAA,CANF,6CAKE,+CAAA,CADA,QAEA,CAIJ,0BACE,YAAA,CACA,kBAAA,CACA,UAAA,CAEA,+DAEE,2BAAA,CADA,wBACA,CAEA,wEAEE,kCAAA,CAFF,8EACE,0BACA,CAGJ,wCACE,SACA,CAFF,kDAEE,8BAAA,CAFF,kDAEE,6BAAA,CAGF,wDACE,gBAAA,CADF,wDACE,iBAAA\",\"sourcesContent\":[\".swipeable-drawer__header {\\n  position: absolute;\\n  visibility: visible;\\n  right: 0;\\n  left: 0;\\n  -webkit-backdrop-filter: blur(4px);\\n  backdrop-filter: blur(4px);\\n  background-color: var(--color-background);\\n  border-top: 1px solid var(--color-border);\\n  border-top-left-radius: 12px;\\n  border-top-right-radius: 12px;\\n  top: -120px;\\n  height: 120px;\\n\\n  .button--close {\\n    top: 2px !important;\\n    right: 2px !important;\\n  }\\n\\n  span,\\n  svg {\\n    color: var(--color-text);\\n  }\\n}\\n\\n.swipeable-drawer__puller {\\n  width: 30px;\\n  height: 6px;\\n  border-radius: 3px;\\n  position: absolute;\\n  top: 8px;\\n  left: calc(50% - 15px);\\n  background-color: var(--color-text);\\n}\\n\\n.MuiDrawer-root > .MuiPaper-root {\\n  overflow: visible;\\n  color: var(--color-text);\\n  position: absolute;\\n}\\n\\n.swipeable-drawer__header-content {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  font-size: var(--font-small);\\n\\n  h2:not(.card__title) {\\n    padding: var(--spacing-s);\\n    margin-top: var(--spacing-s);\\n  }\\n}\\n\\n.swipeable-drawer__menu {\\n  display: flex;\\n  align-items: flex-start;\\n\\n  svg {\\n    margin-left: var(--spacing-xxs);\\n  }\\n}\\n\\n.swipeable-drawer__title-menu {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: flex-start;\\n\\n  .swipeable-drawer__title {\\n    font-size: var(--font-xsmall);\\n  }\\n\\n  .swipeable-drawer__subtitle {\\n    font-size: var(--font-xxsmall);\\n    color: var(--color-text-subtitle);\\n  }\\n}\\n\\n.swipeable-drawer__header-actions {\\n  display: flex;\\n\\n  button {\\n    padding: 0.3rem;\\n  }\\n\\n  button:not(:last-child) {\\n    margin-right: var(--spacing-xxs);\\n  }\\n\\n  .menu__button {\\n    opacity: 1;\\n  }\\n}\\n\\n.swipeable-drawer__expand-button {\\n  width: 100%;\\n  margin: var(--spacing-xxs) 0;\\n  border-radius: 0 !important;\\n  &.button--primary {\\n    padding-left: var(--spacing-xxs);\\n    background-color: var(--color-header-button) !important;\\n    border-radius: var(--border-radius) !important;\\n    .button__content {\\n      .icon {\\n        stroke: var(--color-text);\\n      }\\n      .button__label {\\n        color: var(--color-text);\\n      }\\n    }\\n  }\\n\\n  &.fixed {\\n    position: fixed;\\n    bottom: 0;\\n    top: unset;\\n    margin: 0px;\\n    border-top: 1px solid var(--color-header-button);\\n    z-index: 9999;\\n  }\\n}\\n\\n.chat-card--drawer-header {\\n  display: flex;\\n  flex-direction: row;\\n  width: 100%;\\n\\n  .chat-card--drawer-header-mode {\\n    padding: var(--spacing-s);\\n    margin-top: var(--spacing-m);\\n\\n    .button-toggle {\\n      padding: 0 var(--spacing-s);\\n      height: var(--height-button-mobile);\\n    }\\n  }\\n  .menu__button {\\n    opacity: 1;\\n    margin-right: var(--spacing-xs);\\n  }\\n\\n  button:last-of-type {\\n    margin-left: auto;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./_swipeable-drawer.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./_swipeable-drawer.scss\";\n       export default content && content.locals ? content.locals : undefined;\n"],"names":["TRANSITION_MS","TRANSITION_STR","concat","DrawerGlobalStyles","props","open","React","Global","styles","overflow","maxHeight","HeaderContents","title","actions","hasSubtitle","handleClose","type","divProps","_objectWithoutProperties","_excluded","_extends","className","Button","button","DRAWERS","undefined","icon","ICONS","iconSize","onClick","perform","doToggleAppDrawer","connect","state","selectIsDrawerOpenForType","children","startOpen","pullerHeight","drawerRoot","backdropRef","paperRef","pausedByDrawer","touchPos","openPrev","_React$useState2","_slicedToArray","getMaxLandscapeHeight","playerHeight","setPlayerHeight","landscapePlayerHeight","HEADER_HEIGHT_MOBILE","contentHeight","toggleDrawer","handleUnpausePlayer","videoParent","document","querySelector","videoNode","current","play","handleCloseDrawer","handleResize","element","PRIMARY_IMAGE_WRAPPER_CLASS","PRIMARY_PLAYER_WRAPPER_CLASS","rect","getBoundingClientRect","height","window","addEventListener","removeEventListener","htmlEl","scrollTop","drawerElemRef","node","_document$documentEle3","_document$documentEle4","isFullscreenDrawer","style","transform","includes","openStateChanged","setAttribute","documentElement","setProperty","String","Drawer","ref","anchor","disableEnforceFocus","ModalProps","keepMounted","sx","zIndex","BackdropProps","backgroundColor","PaperProps","top","onTouchMove","e","touchPosY","touches","clientY","root","backdrop","isDraggingAboveVideo","backdropTop","backdropHeight","opacity","onTouchEnd","middleOfVideo","drawerMovedFullscreen","restOfPage","clientHeight","draggedBeforeCloseLimit","_document$documentEle","_document$documentEle2","minDrawerHeight","positionToStop","setTimeout","playerElement","isLivestream","classList","contains","isPlaying","paused","pause","Wrapper","fixed","Portal","buttonProps","paddingBottom","classnames","preventDefault","stopPropagation","DrawerExpandButton","CHAT","PLAYLIST","___CSS_LOADER_EXPORT___","push","module","id","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement"],"sourceRoot":""}