webpackHotUpdate("ui-202210030750",{

/***/ "../config.js":
/*!********************!*\
  !*** ../config.js ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(process) {// On Web, this will find .env.defaults and optional .env in web/\n// On Desktop App, this will find .env.defaults and optional .env in root dir\n__webpack_require__(/*! dotenv-defaults */ \"../node_modules/dotenv-defaults/src/index.js\").config({\n  silent: false\n});\n\nvar config = {\n  MINIMUM_VERSION: \"20220825001\",\n  IGNORE_MINIMUM_VERSION: \"true\",\n  WEBPACK_WEB_PORT: \"9090\",\n  WEBPACK_ELECTRON_PORT: \"9091\",\n  WEB_SERVER_PORT: \"1337\",\n  LBRY_WEB_API: \"https://api.na-backend.odysee.com\",\n  // api.na-backend.odysee.com',\n  LBRY_WEB_PUBLISH_API: \"https://publish.na-backend.odysee.com/v1\",\n  LBRY_WEB_PUBLISH_API_V2: \"https://publish.na-backend.odysee.com/api/v2/publish/\",\n  LBRY_API_URL: \"https://api.odysee.com\",\n  // api.odysee.com',\n  LBRY_WEB_BUFFER_API: \"https://collector-service.api.lbry.tv/api/v1/events/video\",\n  SEARCH_SERVER_API: \"https://lighthouse.odysee.tv/search\",\n  SEARCH_SERVER_API_ALT: \"https://recsys.odysee.tv/search\",\n  COMMENT_SERVER_API: \"https://comments.odysee.tv/api/v2\",\n  SOCKETY_SERVER_API: \"wss://sockety.odysee.tv/ws\",\n  LOCALE_API: \"https://api.odysee.com/legal/requirements\",\n  WELCOME_VERSION: \"1.0\",\n  DOMAIN: \"odysee.com\",\n  SHARE_DOMAIN_URL: process.env.SHARE_DOMAIN_URL,\n  URL: \"https://odysee.com\",\n  RECSYS_ENDPOINT: \"https://recsys.odysee.tv/v1/lvv\",\n  RECSYS_FYP_ENDPOINT: \"https://recsys.odysee.tv/v1/u\",\n  IMAGE_PROXY_URL: process.env.IMAGE_PROXY_URL,\n  THUMBNAIL_CDN_URL: \"https://thumbnails.odycdn.com/optimize/\",\n  THUMBNAIL_CARDS_CDN_URL: \"https://thumbnails.odycdn.com/card/s:1280:720/quality:85/plain/\",\n  THUMBNAIL_HEIGHT: \"220\",\n  THUMBNAIL_HEIGHT_POSTER: \"720\",\n  THUMBNAIL_WIDTH: \"390\",\n  THUMBNAIL_WIDTH_POSTER: \"1280\",\n  THUMBNAIL_QUALITY: \"85\",\n  THUMBNAIL_CDN_SIZE_LIMIT_BYTES: \"5242880\",\n  PLAYER_SERVER: \"https://player.odycdn.com\",\n  SITE_TITLE: \"Odysee\",\n  SITE_NAME: \"Odysee\",\n  SITE_DESCRIPTION: \"Explore a whole universe of videos on Odysee from regular people just like you!\",\n  SITE_HELP_EMAIL: \"help@odysee.com\",\n  // SOCIAL MEDIA\n  TWITTER_ACCOUNT: \"OdyseeTeam\",\n  // LOGO\n  LOGO_TITLE: \"odysee\",\n  LOGO: \"https://thumbnails.odycdn.com/optimize/s:100:100/quality:85/plain/https://spee.ch/odysee-logo-png:3.png\",\n  LOGO_WHITE_TEXT: \"https://thumbnails.odycdn.com/optimize/s:1000:300/quality:85/plain/https://spee.ch/odysee-white-png:f.png\",\n  LOGO_DARK_TEXT: \"https://thumbnails.odycdn.com/optimize/s:1000:300/quality:85/plain/https://spee.ch/odysee-png:2.png\",\n  AVATAR_DEFAULT: \"https://thumbnails.odycdn.com/optimize/s:160:160/quality:85/plain/https://spee.ch/spaceman-png:2.png\",\n  MISSING_THUMB_DEFAULT: \"https://thumbnails.odycdn.com/optimize/s:390:220/quality:85/plain/https://spee.ch/missing-thumb-png\",\n  // OG\n  OG_TITLE_SUFFIX: \"| odysee.com\",\n  OG_HOMEPAGE_TITLE: \"Odysee\",\n  OG_IMAGE_URL: \"https://thumbnails.odycdn.com/optimize/s:1200:630/quality:85/plain/https://spee.ch/odysee-og:e.png\",\n  // MASCOT\n  YRBL_HAPPY_IMG_URL: \"https://thumbnails.odycdn.com/optimize/s:300:300/quality:85/plain/https://spee.ch/spaceman-happy:a.png\",\n  YRBL_SAD_IMG_URL: \"https://thumbnails.odycdn.com/optimize/s:300:300/quality:85/plain/https://spee.ch/spaceman-sad:d.png\",\n  LOGIN_IMG_URL: \"https://thumbnails.odycdn.com/optimize/s:400:507/quality:85/plain/https://player.odycdn.com/speech/odysee-sign-up:d.png\",\n  SITE_CANONICAL_URL: \"odysee.com\",\n  DEFAULT_LANGUAGE: \"en\",\n  AUTO_FOLLOW_CHANNELS: \"lbry://@Odysee#80d2590ad04e36fb1d077a9b9e3a8bba76defdf8 lbry://@OdyseeHelp#b58dfaeab6c70754d792cdd9b56ff59b90aea334\",\n  UNSYNCED_SETTINGS: process.env.UNSYNCED_SETTINGS,\n  // ENABLE FEATURES\n  ENABLE_COMMENT_REACTIONS: \"true\" === 'true',\n  ENABLE_FILE_REACTIONS: \"true\" === 'true',\n  ENABLE_CREATOR_REACTIONS: \"true\" === 'true',\n  ENABLE_NO_SOURCE_CLAIMS: \"true\" === 'true',\n  ENABLE_PREROLL_ADS: \"false\" === 'false',\n  CHANNEL_STAKED_LEVEL_VIDEO_COMMENTS: \"4\",\n  CHANNEL_CREATION_LIMIT: \"5\",\n  WEB_PUBLISH_SIZE_LIMIT_GB: \"10\",\n  LOADING_BAR_COLOR: \"#e50054\",\n  SIMPLE_SITE: \"true\" === 'true',\n  SHOW_ADS: \"false\" === 'false',\n  KNOWN_APP_DOMAINS:  true ? \"open.lbry.com,lbry.tv,lbry.lat,odysee.com\".split(',') : undefined,\n  STRIPE_PUBLIC_KEY: \"pk_test_NoL1JWL7i1ipfhVId5KfDZgo\",\n  ENABLE_UI_NOTIFICATIONS: \"true\" === 'true',\n  ENABLE_MATURE: \"false\" === 'true',\n  CUSTOM_HOMEPAGE: \"true\" === 'true',\n  SHOW_TAGS_INTRO: \"false\" === 'true',\n  LIGHTHOUSE_DEFAULT_TYPES: \"audio,video\",\n  BRANDED_SITE: \"odysee\",\n  AD_KEYWORD_BLOCKLIST: \"nigger,jew,faggot\",\n  AD_KEYWORD_BLOCKLIST_CHECK_DESCRIPTION: \"true\",\n  // FROM COMMAND LINE\n  COMMIT_ID: process.env.COMMIT_ID,\n  NODE_ENV: \"development\"\n};\nconfig.SDK_API_PATH = \"\".concat(config.LBRY_WEB_API, \"/api/v1\");\nconfig.PROXY_URL = \"\".concat(config.SDK_API_PATH, \"/proxy\");\nconfig.URL_DEV = \"http://localhost:\".concat(config.WEBPACK_WEB_PORT);\nconfig.URL_LOCAL = \"http://localhost:\".concat(config.WEB_SERVER_PORT);\nconfig.FAVICON = \"/public/favicon-spaceman.png\";\nmodule.exports = config;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./web/node_modules/process/browser.js */ \"./node_modules/process/browser.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY29uZmlnLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL2NvbmZpZy5qcz9iMDVjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIE9uIFdlYiwgdGhpcyB3aWxsIGZpbmQgLmVudi5kZWZhdWx0cyBhbmQgb3B0aW9uYWwgLmVudiBpbiB3ZWIvXG4vLyBPbiBEZXNrdG9wIEFwcCwgdGhpcyB3aWxsIGZpbmQgLmVudi5kZWZhdWx0cyBhbmQgb3B0aW9uYWwgLmVudiBpbiByb290IGRpclxucmVxdWlyZSgnZG90ZW52LWRlZmF1bHRzJykuY29uZmlnKHsgc2lsZW50OiBmYWxzZSB9KTtcblxuY29uc3QgY29uZmlnID0ge1xuICBNSU5JTVVNX1ZFUlNJT046IHByb2Nlc3MuZW52Lk1JTklNVU1fVkVSU0lPTixcbiAgSUdOT1JFX01JTklNVU1fVkVSU0lPTjogcHJvY2Vzcy5lbnYuSUdOT1JFX01JTklNVU1fVkVSU0lPTixcbiAgV0VCUEFDS19XRUJfUE9SVDogcHJvY2Vzcy5lbnYuV0VCUEFDS19XRUJfUE9SVCxcbiAgV0VCUEFDS19FTEVDVFJPTl9QT1JUOiBwcm9jZXNzLmVudi5XRUJQQUNLX0VMRUNUUk9OX1BPUlQsXG4gIFdFQl9TRVJWRVJfUE9SVDogcHJvY2Vzcy5lbnYuV0VCX1NFUlZFUl9QT1JULFxuICBMQlJZX1dFQl9BUEk6IHByb2Nlc3MuZW52LkxCUllfV0VCX0FQSSwgLy8gYXBpLm5hLWJhY2tlbmQub2R5c2VlLmNvbScsXG4gIExCUllfV0VCX1BVQkxJU0hfQVBJOiBwcm9jZXNzLmVudi5MQlJZX1dFQl9QVUJMSVNIX0FQSSxcbiAgTEJSWV9XRUJfUFVCTElTSF9BUElfVjI6IHByb2Nlc3MuZW52LkxCUllfV0VCX1BVQkxJU0hfQVBJX1YyLFxuICBMQlJZX0FQSV9VUkw6IHByb2Nlc3MuZW52LkxCUllfQVBJX1VSTCwgLy8gYXBpLm9keXNlZS5jb20nLFxuICBMQlJZX1dFQl9CVUZGRVJfQVBJOiBwcm9jZXNzLmVudi5MQlJZX1dFQl9CVUZGRVJfQVBJLFxuICBTRUFSQ0hfU0VSVkVSX0FQSTogcHJvY2Vzcy5lbnYuU0VBUkNIX1NFUlZFUl9BUEksXG4gIFNFQVJDSF9TRVJWRVJfQVBJX0FMVDogcHJvY2Vzcy5lbnYuU0VBUkNIX1NFUlZFUl9BUElfQUxULFxuICBDT01NRU5UX1NFUlZFUl9BUEk6IHByb2Nlc3MuZW52LkNPTU1FTlRfU0VSVkVSX0FQSSxcbiAgU09DS0VUWV9TRVJWRVJfQVBJOiBwcm9jZXNzLmVudi5TT0NLRVRZX1NFUlZFUl9BUEksXG4gIExPQ0FMRV9BUEk6IHByb2Nlc3MuZW52LkxPQ0FMRV9BUEksXG4gIFdFTENPTUVfVkVSU0lPTjogcHJvY2Vzcy5lbnYuV0VMQ09NRV9WRVJTSU9OLFxuICBET01BSU46IHByb2Nlc3MuZW52LkRPTUFJTixcbiAgU0hBUkVfRE9NQUlOX1VSTDogcHJvY2Vzcy5lbnYuU0hBUkVfRE9NQUlOX1VSTCxcbiAgVVJMOiBwcm9jZXNzLmVudi5VUkwsXG4gIFJFQ1NZU19FTkRQT0lOVDogcHJvY2Vzcy5lbnYuUkVDU1lTX0VORFBPSU5ULFxuICBSRUNTWVNfRllQX0VORFBPSU5UOiBwcm9jZXNzLmVudi5SRUNTWVNfRllQX0VORFBPSU5ULFxuICBJTUFHRV9QUk9YWV9VUkw6IHByb2Nlc3MuZW52LklNQUdFX1BST1hZX1VSTCxcbiAgVEhVTUJOQUlMX0NETl9VUkw6IHByb2Nlc3MuZW52LlRIVU1CTkFJTF9DRE5fVVJMLFxuICBUSFVNQk5BSUxfQ0FSRFNfQ0ROX1VSTDogcHJvY2Vzcy5lbnYuVEhVTUJOQUlMX0NBUkRTX0NETl9VUkwsXG4gIFRIVU1CTkFJTF9IRUlHSFQ6IHByb2Nlc3MuZW52LlRIVU1CTkFJTF9IRUlHSFQsXG4gIFRIVU1CTkFJTF9IRUlHSFRfUE9TVEVSOiBwcm9jZXNzLmVudi5USFVNQk5BSUxfSEVJR0hUX1BPU1RFUixcbiAgVEhVTUJOQUlMX1dJRFRIOiBwcm9jZXNzLmVudi5USFVNQk5BSUxfV0lEVEgsXG4gIFRIVU1CTkFJTF9XSURUSF9QT1NURVI6IHByb2Nlc3MuZW52LlRIVU1CTkFJTF9XSURUSF9QT1NURVIsXG4gIFRIVU1CTkFJTF9RVUFMSVRZOiBwcm9jZXNzLmVudi5USFVNQk5BSUxfUVVBTElUWSxcbiAgVEhVTUJOQUlMX0NETl9TSVpFX0xJTUlUX0JZVEVTOiBwcm9jZXNzLmVudi5USFVNQk5BSUxfQ0ROX1NJWkVfTElNSVRfQllURVMsXG4gIFBMQVlFUl9TRVJWRVI6IHByb2Nlc3MuZW52LlBMQVlFUl9TRVJWRVIsXG4gIFNJVEVfVElUTEU6IHByb2Nlc3MuZW52LlNJVEVfVElUTEUsXG4gIFNJVEVfTkFNRTogcHJvY2Vzcy5lbnYuU0lURV9OQU1FLFxuICBTSVRFX0RFU0NSSVBUSU9OOiBwcm9jZXNzLmVudi5TSVRFX0RFU0NSSVBUSU9OLFxuICBTSVRFX0hFTFBfRU1BSUw6IHByb2Nlc3MuZW52LlNJVEVfSEVMUF9FTUFJTCxcbiAgLy8gU09DSUFMIE1FRElBXG4gIFRXSVRURVJfQUNDT1VOVDogcHJvY2Vzcy5lbnYuVFdJVFRFUl9BQ0NPVU5ULFxuICAvLyBMT0dPXG4gIExPR09fVElUTEU6IHByb2Nlc3MuZW52LkxPR09fVElUTEUsXG4gIExPR086IHByb2Nlc3MuZW52LkxPR08sXG4gIExPR09fV0hJVEVfVEVYVDogcHJvY2Vzcy5lbnYuTE9HT19XSElURV9URVhULFxuICBMT0dPX0RBUktfVEVYVDogcHJvY2Vzcy5lbnYuTE9HT19EQVJLX1RFWFQsXG4gIEFWQVRBUl9ERUZBVUxUOiBwcm9jZXNzLmVudi5BVkFUQVJfREVGQVVMVCxcbiAgTUlTU0lOR19USFVNQl9ERUZBVUxUOiBwcm9jZXNzLmVudi5NSVNTSU5HX1RIVU1CX0RFRkFVTFQsXG4gIC8vIE9HXG4gIE9HX1RJVExFX1NVRkZJWDogcHJvY2Vzcy5lbnYuT0dfVElUTEVfU1VGRklYLFxuICBPR19IT01FUEFHRV9USVRMRTogcHJvY2Vzcy5lbnYuT0dfSE9NRVBBR0VfVElUTEUsXG4gIE9HX0lNQUdFX1VSTDogcHJvY2Vzcy5lbnYuT0dfSU1BR0VfVVJMLFxuICAvLyBNQVNDT1RcbiAgWVJCTF9IQVBQWV9JTUdfVVJMOiBwcm9jZXNzLmVudi5ZUkJMX0hBUFBZX0lNR19VUkwsXG4gIFlSQkxfU0FEX0lNR19VUkw6IHByb2Nlc3MuZW52LllSQkxfU0FEX0lNR19VUkwsXG4gIExPR0lOX0lNR19VUkw6IHByb2Nlc3MuZW52LkxPR0lOX0lNR19VUkwsXG4gIFNJVEVfQ0FOT05JQ0FMX1VSTDogcHJvY2Vzcy5lbnYuU0lURV9DQU5PTklDQUxfVVJMLFxuICBERUZBVUxUX0xBTkdVQUdFOiBwcm9jZXNzLmVudi5ERUZBVUxUX0xBTkdVQUdFLFxuICBBVVRPX0ZPTExPV19DSEFOTkVMUzogcHJvY2Vzcy5lbnYuQVVUT19GT0xMT1dfQ0hBTk5FTFMsXG4gIFVOU1lOQ0VEX1NFVFRJTkdTOiBwcm9jZXNzLmVudi5VTlNZTkNFRF9TRVRUSU5HUyxcblxuICAvLyBFTkFCTEUgRkVBVFVSRVNcbiAgRU5BQkxFX0NPTU1FTlRfUkVBQ1RJT05TOiBwcm9jZXNzLmVudi5FTkFCTEVfQ09NTUVOVF9SRUFDVElPTlMgPT09ICd0cnVlJyxcbiAgRU5BQkxFX0ZJTEVfUkVBQ1RJT05TOiBwcm9jZXNzLmVudi5FTkFCTEVfRklMRV9SRUFDVElPTlMgPT09ICd0cnVlJyxcbiAgRU5BQkxFX0NSRUFUT1JfUkVBQ1RJT05TOiBwcm9jZXNzLmVudi5FTkFCTEVfQ1JFQVRPUl9SRUFDVElPTlMgPT09ICd0cnVlJyxcbiAgRU5BQkxFX05PX1NPVVJDRV9DTEFJTVM6IHByb2Nlc3MuZW52LkVOQUJMRV9OT19TT1VSQ0VfQ0xBSU1TID09PSAndHJ1ZScsXG4gIEVOQUJMRV9QUkVST0xMX0FEUzogcHJvY2Vzcy5lbnYuRU5BQkxFX1BSRVJPTExfQURTID09PSAnZmFsc2UnLFxuICBDSEFOTkVMX1NUQUtFRF9MRVZFTF9WSURFT19DT01NRU5UUzogcHJvY2Vzcy5lbnYuQ0hBTk5FTF9TVEFLRURfTEVWRUxfVklERU9fQ09NTUVOVFMsXG4gIENIQU5ORUxfQ1JFQVRJT05fTElNSVQ6IHByb2Nlc3MuZW52LkNIQU5ORUxfQ1JFQVRJT05fTElNSVQsXG4gIFdFQl9QVUJMSVNIX1NJWkVfTElNSVRfR0I6IHByb2Nlc3MuZW52LldFQl9QVUJMSVNIX1NJWkVfTElNSVRfR0IsXG4gIExPQURJTkdfQkFSX0NPTE9SOiBwcm9jZXNzLmVudi5MT0FESU5HX0JBUl9DT0xPUixcbiAgU0lNUExFX1NJVEU6IHByb2Nlc3MuZW52LlNJTVBMRV9TSVRFID09PSAndHJ1ZScsXG4gIFNIT1dfQURTOiBwcm9jZXNzLmVudi5TSE9XX0FEUyA9PT0gJ2ZhbHNlJyxcbiAgS05PV05fQVBQX0RPTUFJTlM6IHByb2Nlc3MuZW52LktOT1dOX0FQUF9ET01BSU5TID8gcHJvY2Vzcy5lbnYuS05PV05fQVBQX0RPTUFJTlMuc3BsaXQoJywnKSA6IFtdLFxuICBTVFJJUEVfUFVCTElDX0tFWTogcHJvY2Vzcy5lbnYuU1RSSVBFX1BVQkxJQ19LRVksXG4gIEVOQUJMRV9VSV9OT1RJRklDQVRJT05TOiBwcm9jZXNzLmVudi5FTkFCTEVfVUlfTk9USUZJQ0FUSU9OUyA9PT0gJ3RydWUnLFxuICBFTkFCTEVfTUFUVVJFOiBwcm9jZXNzLmVudi5FTkFCTEVfTUFUVVJFID09PSAndHJ1ZScsXG4gIENVU1RPTV9IT01FUEFHRTogcHJvY2Vzcy5lbnYuQ1VTVE9NX0hPTUVQQUdFID09PSAndHJ1ZScsXG4gIFNIT1dfVEFHU19JTlRSTzogcHJvY2Vzcy5lbnYuU0hPV19UQUdTX0lOVFJPID09PSAndHJ1ZScsXG4gIExJR0hUSE9VU0VfREVGQVVMVF9UWVBFUzogcHJvY2Vzcy5lbnYuTElHSFRIT1VTRV9ERUZBVUxUX1RZUEVTLFxuICBCUkFOREVEX1NJVEU6IHByb2Nlc3MuZW52LkJSQU5ERURfU0lURSxcblxuICBBRF9LRVlXT1JEX0JMT0NLTElTVDogcHJvY2Vzcy5lbnYuQURfS0VZV09SRF9CTE9DS0xJU1QsXG4gIEFEX0tFWVdPUkRfQkxPQ0tMSVNUX0NIRUNLX0RFU0NSSVBUSU9OOiBwcm9jZXNzLmVudi5BRF9LRVlXT1JEX0JMT0NLTElTVF9DSEVDS19ERVNDUklQVElPTixcblxuICAvLyBGUk9NIENPTU1BTkQgTElORVxuICBDT01NSVRfSUQ6IHByb2Nlc3MuZW52LkNPTU1JVF9JRCxcbiAgTk9ERV9FTlY6IHByb2Nlc3MuZW52Lk5PREVfRU5WLFxufTtcblxuY29uZmlnLlNES19BUElfUEFUSCA9IGAke2NvbmZpZy5MQlJZX1dFQl9BUEl9L2FwaS92MWA7XG5jb25maWcuUFJPWFlfVVJMID0gYCR7Y29uZmlnLlNES19BUElfUEFUSH0vcHJveHlgO1xuXG5jb25maWcuVVJMX0RFViA9IGBodHRwOi8vbG9jYWxob3N0OiR7Y29uZmlnLldFQlBBQ0tfV0VCX1BPUlR9YDtcbmNvbmZpZy5VUkxfTE9DQUwgPSBgaHR0cDovL2xvY2FsaG9zdDoke2NvbmZpZy5XRUJfU0VSVkVSX1BPUlR9YDtcbmNvbmZpZy5GQVZJQ09OID0gYC9wdWJsaWMvZmF2aWNvbi1zcGFjZW1hbi5wbmdgO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbmZpZztcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBcEZBO0FBdUZBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../config.js\n");

/***/ }),

/***/ "../extras/lbryinc/lbryio.js":
/*!***********************************!*\
  !*** ../extras/lbryinc/lbryio.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__) {/* harmony import */ var constants_action_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! constants/action_types */ \"../ui/constants/action_types.js\");\n/* harmony import */ var querystring__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! querystring */ \"./node_modules/querystring-es3/index.js\");\n/* harmony import */ var querystring__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(querystring__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var analytics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! analytics */ \"../ui/analytics.js\");\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\n\n\n\nvar Lbryio = {\n  enabled: true,\n  authenticationPromise: null,\n  exchangePromise: null,\n  exchangeLastFetched: null,\n  CONNECTION_STRING: 'https://api.lbry.com/'\n};\nvar EXCHANGE_RATE_TIMEOUT = 20 * 60 * 1000;\nvar INTERNAL_APIS_DOWN = 'internal_apis_down'; // We can't use env's because they aren't passed into node_modules\n\nLbryio.setLocalApi = function (endpoint) {\n  Lbryio.CONNECTION_STRING = endpoint.replace(/\\/*$/, '/'); // exactly one slash at the end;\n};\n\nLbryio.call = function (resource, action) {\n  var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var method = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'post';\n\n  if (!Lbryio.enabled) {\n    return Promise.reject(new Error(__('LBRY internal API is disabled')));\n  }\n\n  if (!(method === 'get' || method === 'post')) {\n    return Promise.reject(new Error(__('Invalid method')));\n  }\n\n  function checkAndParse(response) {\n    if (response.status >= 200 && response.status < 300) {\n      return response.json();\n    }\n\n    if (response.status === 500) {\n      return Promise.reject(INTERNAL_APIS_DOWN);\n    }\n\n    if (response) {\n      return response.json().then(function (json) {\n        var error;\n\n        if (json.error) {\n          error = new Error(json.error);\n        } else {\n          error = new Error('Unknown API error signature');\n        }\n\n        error.response = response; // This is primarily a hack used in actions/user.js\n\n        return Promise.reject(error);\n      });\n    }\n  }\n\n  function makeRequest(url, options) {\n    return fetch(url, options).then(checkAndParse);\n  }\n\n  return Lbryio.getAuthToken().then(function (token) {\n    var fullParams = _objectSpread({\n      auth_token: token\n    }, params);\n\n    Object.keys(fullParams).forEach(function (key) {\n      var value = fullParams[key];\n\n      if (_typeof(value) === 'object') {\n        fullParams[key] = JSON.stringify(value);\n      }\n    });\n    var qs = querystring__WEBPACK_IMPORTED_MODULE_1___default.a.stringify(fullParams);\n    var url = \"\".concat(Lbryio.CONNECTION_STRING).concat(resource, \"/\").concat(action, \"?\").concat(qs);\n    var options = {\n      method: 'GET'\n    };\n\n    if (method === 'post') {\n      options = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: qs\n      };\n      url = \"\".concat(Lbryio.CONNECTION_STRING).concat(resource, \"/\").concat(action);\n    }\n\n    return makeRequest(url, options).then(function (response) {\n      sendCallAnalytics(resource, action, params);\n      return response.data;\n    })[\"catch\"](function (error) {\n      sendFailedCallAnalytics(resource, action, params, error);\n      throw error;\n    });\n  });\n};\n\nLbryio.authToken = null;\n\nLbryio.getAuthToken = function () {\n  return new Promise(function (resolve) {\n    if (Lbryio.authToken) {\n      resolve(Lbryio.authToken);\n    } else if (Lbryio.overrides.getAuthToken) {\n      Lbryio.overrides.getAuthToken().then(function (token) {\n        resolve(token);\n      });\n    } else if (typeof window !== 'undefined') {\n      var _window = window,\n          store = _window.store;\n\n      if (store) {\n        var state = store.getState();\n        var token = state.auth ? state.auth.authToken : null;\n        Lbryio.authToken = token;\n        resolve(token);\n      }\n\n      resolve(null);\n    } else {\n      resolve(null);\n    }\n  });\n};\n\nLbryio.getCurrentUser = function () {\n  return Lbryio.call('user', 'me');\n};\n\nLbryio.authenticate = function (domain, language) {\n  if (!Lbryio.enabled) {\n    var params = {\n      id: 1,\n      primary_email: 'disabled@lbry.io',\n      has_verified_email: true,\n      is_identity_verified: true,\n      is_reward_approved: false,\n      language: language || 'en'\n    };\n    return new Promise(function (resolve) {\n      resolve(params);\n    });\n  }\n\n  if (Lbryio.authenticationPromise === null) {\n    Lbryio.authenticationPromise = new Promise(function (resolve, reject) {\n      Lbryio.getAuthToken().then(function (token) {\n        if (!token || token.length > 60) {\n          return false;\n        } // check that token works\n\n\n        return Lbryio.getCurrentUser().then(function (user) {\n          return user;\n        })[\"catch\"](function (error) {\n          if (error === INTERNAL_APIS_DOWN) {\n            throw new Error('Internal APIS down');\n          }\n\n          return false;\n        });\n      }).then(function (user) {\n        if (user) {\n          return user;\n        }\n\n        return new Promise(function (res, rej) {\n          Lbryio.call('user', 'new', {\n            auth_token: '',\n            language: language || 'en',\n            app_id: 'odyseeandroidFDROIDDuAfQ6KHMXxFxt8tkhmt7sfprEMHWKjy5hf6PwZcHDV542V'\n          }, 'post').then(function (response) {\n            if (!response.auth_token) {\n              throw new Error('auth_token was not set in the response');\n            }\n\n            var _window2 = window,\n                store = _window2.store;\n\n            if (Lbryio.overrides.setAuthToken) {\n              Lbryio.overrides.setAuthToken(response.auth_token);\n            }\n\n            if (store) {\n              store.dispatch({\n                type: constants_action_types__WEBPACK_IMPORTED_MODULE_0__[\"GENERATE_AUTH_TOKEN_SUCCESS\"],\n                data: {\n                  authToken: response.auth_token\n                }\n              });\n            }\n\n            Lbryio.authToken = response.auth_token;\n            return res(response);\n          })[\"catch\"](function (error) {\n            return rej(error);\n          });\n        }).then(function (newUser) {\n          if (!newUser) {\n            return Lbryio.getCurrentUser();\n          }\n\n          return newUser;\n        });\n      }).then(resolve, reject);\n    });\n  }\n\n  return Lbryio.authenticationPromise;\n};\n\nLbryio.getStripeToken = function () {\n  return Lbryio.CONNECTION_STRING.startsWith('http://localhost:') ? 'pk_test_NoL1JWL7i1ipfhVId5KfDZgo' : 'pk_live_e8M4dRNnCCbmpZzduEUZBgJO';\n};\n\nLbryio.getExchangeRates = function () {\n  if (!Lbryio.exchangeLastFetched || Date.now() - Lbryio.exchangeLastFetched > EXCHANGE_RATE_TIMEOUT) {\n    Lbryio.exchangePromise = new Promise(function (resolve, reject) {\n      Lbryio.call('lbc', 'exchange_rate', {}, 'get', true).then(function (_ref) {\n        var LBC_USD = _ref.lbc_usd,\n            LBC_BTC = _ref.lbc_btc,\n            BTC_USD = _ref.btc_usd;\n        var rates = {\n          LBC_USD: LBC_USD,\n          LBC_BTC: LBC_BTC,\n          BTC_USD: BTC_USD\n        };\n        resolve(rates);\n      })[\"catch\"](reject);\n    });\n    Lbryio.exchangeLastFetched = Date.now();\n  }\n\n  return Lbryio.exchangePromise;\n}; // Allow overriding lbryio methods\n// The desktop app will need to use it for getAuthToken because we use electron's ipcRenderer\n\n\nLbryio.overrides = {};\n\nLbryio.setOverride = function (methodName, newMethod) {\n  Lbryio.overrides[methodName] = newMethod;\n};\n\nfunction sendCallAnalytics(resource, action, params) {\n  switch (resource) {\n    case 'customer':\n      if (action === 'tip') {\n        analytics__WEBPACK_IMPORTED_MODULE_2__[\"default\"].event.report('spend_virtual_currency', {\n          // https://developers.google.com/analytics/devguides/collection/ga4/reference/events#spend_virtual_currency\n          value: params.amount,\n          virtual_currency_name: params.currency.toLowerCase(),\n          item_name: 'tip'\n        });\n      }\n\n      break;\n\n    default:\n      // Do nothing\n      break;\n  }\n}\n\nfunction sendFailedCallAnalytics(resource, action, params, error) {\n  if (resource === 'customer' && action === 'status' || resource === 'user' && action === 'referral') {\n    // Ignore commands that we use the error as a value, or don't care if it fails.\n    return;\n  }\n\n  var options = {\n    fingerprint: 'internal-api-failures',\n    tags: {\n      analytics: true,\n      method: \"\".concat(resource, \"/\").concat(action)\n    },\n    extra: {\n      error: error,\n      params: params\n    }\n  };\n  analytics__WEBPACK_IMPORTED_MODULE_2__[\"default\"].log('Internal API failures', options, 'analytics');\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Lbryio);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! i18n.js */ \"../ui/i18n.js\")[\"__\"]))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZXh0cmFzL2xicnlpbmMvbGJyeWlvLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL2V4dHJhcy9sYnJ5aW5jL2xicnlpby5qcz82MzA4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIEFDVElPTlMgZnJvbSAnY29uc3RhbnRzL2FjdGlvbl90eXBlcyc7XG5pbXBvcnQgcXVlcnlzdHJpbmcgZnJvbSAncXVlcnlzdHJpbmcnO1xuaW1wb3J0IGFuYWx5dGljcyBmcm9tICdhbmFseXRpY3MnO1xuXG5jb25zdCBMYnJ5aW8gPSB7XG4gIGVuYWJsZWQ6IHRydWUsXG4gIGF1dGhlbnRpY2F0aW9uUHJvbWlzZTogbnVsbCxcbiAgZXhjaGFuZ2VQcm9taXNlOiBudWxsLFxuICBleGNoYW5nZUxhc3RGZXRjaGVkOiBudWxsLFxuICBDT05ORUNUSU9OX1NUUklORzogJ2h0dHBzOi8vYXBpLmxicnkuY29tLycsXG59O1xuXG5jb25zdCBFWENIQU5HRV9SQVRFX1RJTUVPVVQgPSAyMCAqIDYwICogMTAwMDtcbmNvbnN0IElOVEVSTkFMX0FQSVNfRE9XTiA9ICdpbnRlcm5hbF9hcGlzX2Rvd24nO1xuXG4vLyBXZSBjYW4ndCB1c2UgZW52J3MgYmVjYXVzZSB0aGV5IGFyZW4ndCBwYXNzZWQgaW50byBub2RlX21vZHVsZXNcbkxicnlpby5zZXRMb2NhbEFwaSA9IChlbmRwb2ludCkgPT4ge1xuICBMYnJ5aW8uQ09OTkVDVElPTl9TVFJJTkcgPSBlbmRwb2ludC5yZXBsYWNlKC9cXC8qJC8sICcvJyk7IC8vIGV4YWN0bHkgb25lIHNsYXNoIGF0IHRoZSBlbmQ7XG59O1xuXG5MYnJ5aW8uY2FsbCA9IChyZXNvdXJjZSwgYWN0aW9uLCBwYXJhbXMgPSB7fSwgbWV0aG9kID0gJ3Bvc3QnKSA9PiB7XG4gIGlmICghTGJyeWlvLmVuYWJsZWQpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKF9fKCdMQlJZIGludGVybmFsIEFQSSBpcyBkaXNhYmxlZCcpKSk7XG4gIH1cblxuICBpZiAoIShtZXRob2QgPT09ICdnZXQnIHx8IG1ldGhvZCA9PT0gJ3Bvc3QnKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoX18oJ0ludmFsaWQgbWV0aG9kJykpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrQW5kUGFyc2UocmVzcG9uc2UpIHtcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfVxuXG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNTAwKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoSU5URVJOQUxfQVBJU19ET1dOKTtcbiAgICB9XG5cbiAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkudGhlbigoanNvbikgPT4ge1xuICAgICAgICBsZXQgZXJyb3I7XG4gICAgICAgIGlmIChqc29uLmVycm9yKSB7XG4gICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoanNvbi5lcnJvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ1Vua25vd24gQVBJIGVycm9yIHNpZ25hdHVyZScpO1xuICAgICAgICB9XG4gICAgICAgIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2U7IC8vIFRoaXMgaXMgcHJpbWFyaWx5IGEgaGFjayB1c2VkIGluIGFjdGlvbnMvdXNlci5qc1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbWFrZVJlcXVlc3QodXJsLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGZldGNoKHVybCwgb3B0aW9ucykudGhlbihjaGVja0FuZFBhcnNlKTtcbiAgfVxuXG4gIHJldHVybiBMYnJ5aW8uZ2V0QXV0aFRva2VuKCkudGhlbigodG9rZW4pID0+IHtcbiAgICBjb25zdCBmdWxsUGFyYW1zID0geyBhdXRoX3Rva2VuOiB0b2tlbiwgLi4ucGFyYW1zIH07XG4gICAgT2JqZWN0LmtleXMoZnVsbFBhcmFtcykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGZ1bGxQYXJhbXNba2V5XTtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGZ1bGxQYXJhbXNba2V5XSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IHFzID0gcXVlcnlzdHJpbmcuc3RyaW5naWZ5KGZ1bGxQYXJhbXMpO1xuICAgIGxldCB1cmwgPSBgJHtMYnJ5aW8uQ09OTkVDVElPTl9TVFJJTkd9JHtyZXNvdXJjZX0vJHthY3Rpb259PyR7cXN9YDtcblxuICAgIGxldCBvcHRpb25zID0ge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICB9O1xuXG4gICAgaWYgKG1ldGhvZCA9PT0gJ3Bvc3QnKSB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogcXMsXG4gICAgICB9O1xuICAgICAgdXJsID0gYCR7TGJyeWlvLkNPTk5FQ1RJT05fU1RSSU5HfSR7cmVzb3VyY2V9LyR7YWN0aW9ufWA7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1ha2VSZXF1ZXN0KHVybCwgb3B0aW9ucylcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICBzZW5kQ2FsbEFuYWx5dGljcyhyZXNvdXJjZSwgYWN0aW9uLCBwYXJhbXMpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIHNlbmRGYWlsZWRDYWxsQW5hbHl0aWNzKHJlc291cmNlLCBhY3Rpb24sIHBhcmFtcywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH0pO1xuICB9KTtcbn07XG5cbkxicnlpby5hdXRoVG9rZW4gPSBudWxsO1xuXG5MYnJ5aW8uZ2V0QXV0aFRva2VuID0gKCkgPT5cbiAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBpZiAoTGJyeWlvLmF1dGhUb2tlbikge1xuICAgICAgcmVzb2x2ZShMYnJ5aW8uYXV0aFRva2VuKTtcbiAgICB9IGVsc2UgaWYgKExicnlpby5vdmVycmlkZXMuZ2V0QXV0aFRva2VuKSB7XG4gICAgICBMYnJ5aW8ub3ZlcnJpZGVzLmdldEF1dGhUb2tlbigpLnRoZW4oKHRva2VuKSA9PiB7XG4gICAgICAgIHJlc29sdmUodG9rZW4pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3QgeyBzdG9yZSB9ID0gd2luZG93O1xuICAgICAgaWYgKHN0b3JlKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBzdGF0ZS5hdXRoID8gc3RhdGUuYXV0aC5hdXRoVG9rZW4gOiBudWxsO1xuICAgICAgICBMYnJ5aW8uYXV0aFRva2VuID0gdG9rZW47XG4gICAgICAgIHJlc29sdmUodG9rZW4pO1xuICAgICAgfVxuXG4gICAgICByZXNvbHZlKG51bGwpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlKG51bGwpO1xuICAgIH1cbiAgfSk7XG5cbkxicnlpby5nZXRDdXJyZW50VXNlciA9ICgpID0+IExicnlpby5jYWxsKCd1c2VyJywgJ21lJyk7XG5cbkxicnlpby5hdXRoZW50aWNhdGUgPSAoZG9tYWluLCBsYW5ndWFnZSkgPT4ge1xuICBpZiAoIUxicnlpby5lbmFibGVkKSB7XG4gICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgaWQ6IDEsXG4gICAgICBwcmltYXJ5X2VtYWlsOiAnZGlzYWJsZWRAbGJyeS5pbycsXG4gICAgICBoYXNfdmVyaWZpZWRfZW1haWw6IHRydWUsXG4gICAgICBpc19pZGVudGl0eV92ZXJpZmllZDogdHJ1ZSxcbiAgICAgIGlzX3Jld2FyZF9hcHByb3ZlZDogZmFsc2UsXG4gICAgICBsYW5ndWFnZTogbGFuZ3VhZ2UgfHwgJ2VuJyxcbiAgICB9O1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICByZXNvbHZlKHBhcmFtcyk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoTGJyeWlvLmF1dGhlbnRpY2F0aW9uUHJvbWlzZSA9PT0gbnVsbCkge1xuICAgIExicnlpby5hdXRoZW50aWNhdGlvblByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBMYnJ5aW8uZ2V0QXV0aFRva2VuKClcbiAgICAgICAgLnRoZW4oKHRva2VuKSA9PiB7XG4gICAgICAgICAgaWYgKCF0b2tlbiB8fCB0b2tlbi5sZW5ndGggPiA2MCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGNoZWNrIHRoYXQgdG9rZW4gd29ya3NcbiAgICAgICAgICByZXR1cm4gTGJyeWlvLmdldEN1cnJlbnRVc2VyKClcbiAgICAgICAgICAgIC50aGVuKCh1c2VyKSA9PiB1c2VyKVxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICBpZiAoZXJyb3IgPT09IElOVEVSTkFMX0FQSVNfRE9XTikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW50ZXJuYWwgQVBJUyBkb3duJyk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHVzZXIpID0+IHtcbiAgICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgcmV0dXJuIHVzZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICAgICAgICAgIExicnlpby5jYWxsKFxuICAgICAgICAgICAgICAndXNlcicsXG4gICAgICAgICAgICAgICduZXcnLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXV0aF90b2tlbjogJycsXG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2U6IGxhbmd1YWdlIHx8ICdlbicsXG4gICAgICAgICAgICAgICAgYXBwX2lkOiAnb2R5c2VlYW5kcm9pZEZEUk9JRER1QWZRNktITVh4Rnh0OHRraG10N3NmcHJFTUhXS2p5NWhmNlB3WmNIRFY1NDJWJyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgJ3Bvc3QnXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UuYXV0aF90b2tlbikge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhdXRoX3Rva2VuIHdhcyBub3Qgc2V0IGluIHRoZSByZXNwb25zZScpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHsgc3RvcmUgfSA9IHdpbmRvdztcbiAgICAgICAgICAgICAgICBpZiAoTGJyeWlvLm92ZXJyaWRlcy5zZXRBdXRoVG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgIExicnlpby5vdmVycmlkZXMuc2V0QXV0aFRva2VuKHJlc3BvbnNlLmF1dGhfdG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzdG9yZSkge1xuICAgICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBBQ1RJT05TLkdFTkVSQVRFX0FVVEhfVE9LRU5fU1VDQ0VTUyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBhdXRoVG9rZW46IHJlc3BvbnNlLmF1dGhfdG9rZW4gfSxcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBMYnJ5aW8uYXV0aFRva2VuID0gcmVzcG9uc2UuYXV0aF90b2tlbjtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gcmVqKGVycm9yKSk7XG4gICAgICAgICAgfSkudGhlbigobmV3VXNlcikgPT4ge1xuICAgICAgICAgICAgaWYgKCFuZXdVc2VyKSB7XG4gICAgICAgICAgICAgIHJldHVybiBMYnJ5aW8uZ2V0Q3VycmVudFVzZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXdVc2VyO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIExicnlpby5hdXRoZW50aWNhdGlvblByb21pc2U7XG59O1xuXG5MYnJ5aW8uZ2V0U3RyaXBlVG9rZW4gPSAoKSA9PlxuICBMYnJ5aW8uQ09OTkVDVElPTl9TVFJJTkcuc3RhcnRzV2l0aCgnaHR0cDovL2xvY2FsaG9zdDonKVxuICAgID8gJ3BrX3Rlc3RfTm9MMUpXTDdpMWlwZmhWSWQ1S2ZEWmdvJ1xuICAgIDogJ3BrX2xpdmVfZThNNGRSTm5DQ2JtcFp6ZHVFVVpCZ0pPJztcblxuTGJyeWlvLmdldEV4Y2hhbmdlUmF0ZXMgPSAoKSA9PiB7XG4gIGlmICghTGJyeWlvLmV4Y2hhbmdlTGFzdEZldGNoZWQgfHwgRGF0ZS5ub3coKSAtIExicnlpby5leGNoYW5nZUxhc3RGZXRjaGVkID4gRVhDSEFOR0VfUkFURV9USU1FT1VUKSB7XG4gICAgTGJyeWlvLmV4Y2hhbmdlUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIExicnlpby5jYWxsKCdsYmMnLCAnZXhjaGFuZ2VfcmF0ZScsIHt9LCAnZ2V0JywgdHJ1ZSlcbiAgICAgICAgLnRoZW4oKHsgbGJjX3VzZDogTEJDX1VTRCwgbGJjX2J0YzogTEJDX0JUQywgYnRjX3VzZDogQlRDX1VTRCB9KSA9PiB7XG4gICAgICAgICAgY29uc3QgcmF0ZXMgPSB7IExCQ19VU0QsIExCQ19CVEMsIEJUQ19VU0QgfTtcbiAgICAgICAgICByZXNvbHZlKHJhdGVzKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgfSk7XG4gICAgTGJyeWlvLmV4Y2hhbmdlTGFzdEZldGNoZWQgPSBEYXRlLm5vdygpO1xuICB9XG4gIHJldHVybiBMYnJ5aW8uZXhjaGFuZ2VQcm9taXNlO1xufTtcblxuLy8gQWxsb3cgb3ZlcnJpZGluZyBsYnJ5aW8gbWV0aG9kc1xuLy8gVGhlIGRlc2t0b3AgYXBwIHdpbGwgbmVlZCB0byB1c2UgaXQgZm9yIGdldEF1dGhUb2tlbiBiZWNhdXNlIHdlIHVzZSBlbGVjdHJvbidzIGlwY1JlbmRlcmVyXG5MYnJ5aW8ub3ZlcnJpZGVzID0ge307XG5MYnJ5aW8uc2V0T3ZlcnJpZGUgPSAobWV0aG9kTmFtZSwgbmV3TWV0aG9kKSA9PiB7XG4gIExicnlpby5vdmVycmlkZXNbbWV0aG9kTmFtZV0gPSBuZXdNZXRob2Q7XG59O1xuXG5mdW5jdGlvbiBzZW5kQ2FsbEFuYWx5dGljcyhyZXNvdXJjZSwgYWN0aW9uLCBwYXJhbXMpIHtcbiAgc3dpdGNoIChyZXNvdXJjZSkge1xuICAgIGNhc2UgJ2N1c3RvbWVyJzpcbiAgICAgIGlmIChhY3Rpb24gPT09ICd0aXAnKSB7XG4gICAgICAgIGFuYWx5dGljcy5ldmVudC5yZXBvcnQoJ3NwZW5kX3ZpcnR1YWxfY3VycmVuY3knLCB7XG4gICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vYW5hbHl0aWNzL2Rldmd1aWRlcy9jb2xsZWN0aW9uL2dhNC9yZWZlcmVuY2UvZXZlbnRzI3NwZW5kX3ZpcnR1YWxfY3VycmVuY3lcbiAgICAgICAgICB2YWx1ZTogcGFyYW1zLmFtb3VudCxcbiAgICAgICAgICB2aXJ0dWFsX2N1cnJlbmN5X25hbWU6IHBhcmFtcy5jdXJyZW5jeS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgIGl0ZW1fbmFtZTogJ3RpcCcsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgLy8gRG8gbm90aGluZ1xuICAgICAgYnJlYWs7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2VuZEZhaWxlZENhbGxBbmFseXRpY3MocmVzb3VyY2UsIGFjdGlvbiwgcGFyYW1zLCBlcnJvcikge1xuICBpZiAoKHJlc291cmNlID09PSAnY3VzdG9tZXInICYmIGFjdGlvbiA9PT0gJ3N0YXR1cycpIHx8IChyZXNvdXJjZSA9PT0gJ3VzZXInICYmIGFjdGlvbiA9PT0gJ3JlZmVycmFsJykpIHtcbiAgICAvLyBJZ25vcmUgY29tbWFuZHMgdGhhdCB3ZSB1c2UgdGhlIGVycm9yIGFzIGEgdmFsdWUsIG9yIGRvbid0IGNhcmUgaWYgaXQgZmFpbHMuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICBmaW5nZXJwcmludDogJ2ludGVybmFsLWFwaS1mYWlsdXJlcycsXG4gICAgdGFnczogeyBhbmFseXRpY3M6IHRydWUsIG1ldGhvZDogYCR7cmVzb3VyY2V9LyR7YWN0aW9ufWAgfSxcbiAgICBleHRyYTogeyBlcnJvciwgcGFyYW1zIH0sXG4gIH07XG5cbiAgYW5hbHl0aWNzLmxvZygnSW50ZXJuYWwgQVBJIGZhaWx1cmVzJywgb3B0aW9ucywgJ2FuYWx5dGljcycpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBMYnJ5aW87XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQVFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFSQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUpBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQVBBO0FBM0JBO0FBcENBO0FBQ0E7QUEwRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBREE7QUFEQTtBQUlBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQVdBO0FBQ0E7QUFwQkE7QUFBQTtBQUNBO0FBc0JBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFTQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUZBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVBBO0FBa0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUhBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUFBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUZBO0FBSUE7QUFDQTtBQUFBO0FBQ0E7QUEzQkE7QUE2QkE7QUE3QkE7QUFEQTtBQWdDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBbkNBO0FBdEJBO0FBREE7QUErREE7QUFDQTtBQUNBO0FBbEZBO0FBQ0E7QUFvRkE7QUFBQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUhBO0FBREE7QUFRQTtBQUNBO0FBQ0E7QUFBQTtBQVpBO0FBZ0JBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFkQTtBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFIQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../extras/lbryinc/lbryio.js\n");

/***/ }),

/***/ "../node_modules/css-loader/dist/cjs.js!../node_modules/postcss-loader/src/index.js?!../node_modules/sass-loader/dist/cjs.js!../ui/scss/component/notifications-blocked.scss":
false,

/***/ "../package.json":
/*!***********************!*\
  !*** ../package.json ***!
  \***********************/
/*! exports provided: name, version, description, keywords, license, homepage, bugs, repository, author, main, scripts, dependencies, devDependencies, engines, husky, lbrySettings, default */
/***/ (function(module) {

eval("module.exports = JSON.parse(\"{\\\"name\\\":\\\"odysee.com\\\",\\\"version\\\":\\\"0.0.0\\\",\\\"description\\\":\\\"Explore a whole universe of videos on Odysee from regular people just like you!\\\",\\\"keywords\\\":[\\\"odysee\\\"],\\\"license\\\":\\\"MIT\\\",\\\"homepage\\\":\\\"https://odysee.com\\\",\\\"bugs\\\":{\\\"url\\\":\\\"https://github.com/OdyseeTeam/odysee-frontend/issues\\\"},\\\"repository\\\":{\\\"type\\\":\\\"git\\\",\\\"url\\\":\\\"https://github.com/OdyseeTeam/odysee-frontend\\\"},\\\"author\\\":{\\\"name\\\":\\\"Odysee Inc.\\\",\\\"email\\\":\\\"hello@odysee.com\\\"},\\\"main\\\":\\\"./dist/electron/main.js\\\",\\\"scripts\\\":{\\\"compile:electron\\\":\\\"node --max_old_space_size=4096 ./node_modules/webpack/bin/webpack.js --config webpack.electron.config.js\\\",\\\"compile:web\\\":\\\"yarn copyenv && cd web && node --max_old_space_size=4096 ./node_modules/webpack/bin/webpack.js --config webpack.config.js\\\",\\\"compile:cordova-floss\\\":\\\"yarn compile:web && rm ../cordova-floss/www/*.js*; rm -r ../cordova-floss/www/public; cp -r ./web/dist/* ../cordova-floss/www;\\\",\\\"compile\\\":\\\"cross-env NODE_ENV=production yarn compile:electron && cross-env NODE_ENV=production yarn compile:web\\\",\\\"copyenv\\\":\\\"copyfiles ./.env* web/\\\",\\\"dev\\\":\\\"yarn dev:electron\\\",\\\"dev:electron\\\":\\\"cross-env NODE_ENV=development node ./electron/devServer.js\\\",\\\"dev:web\\\":\\\"yarn copyenv && cd web && yarn dev\\\",\\\"dev:web-server\\\":\\\"cross-env NODE_ENV=development yarn compile:web && concurrently \\\\\\\"cross-env NODE_ENV=development yarn compile:web --watch\\\\\\\" \\\\\\\"cd web && yarn dev:server\\\\\\\"\\\",\\\"dev:internal-apis\\\":\\\"LBRY_API_URL='http://localhost:8080' yarn dev:electron\\\",\\\"dev:iatv\\\":\\\"LBRY_API_URL='http://localhost:15400' SDK_API_URL='http://localhost:15100' yarn dev:web\\\",\\\"run:web-server\\\":\\\"cross-env NODE_ENV=production yarn compile:web && cd web && yarn dev:server\\\",\\\"pack\\\":\\\"electron-builder --dir\\\",\\\"dist\\\":\\\"electron-builder\\\",\\\"build\\\":\\\"cross-env NODE_ENV=production yarn compile:electron && electron-builder build\\\",\\\"build:dir\\\":\\\"yarn build -- --dir -c.compression=store -c.mac.identity=null\\\",\\\"crossenv\\\":\\\"./node_modules/cross-env/dist/bin/cross-env\\\",\\\"flow\\\":\\\"flow\\\",\\\"lint\\\":\\\"eslint 'ui/**/*.{js,jsx}' && eslint 'extras/**/*.{js,jsx}' && eslint 'web/**/*.{js,jsx}' && eslint 'electron/**/*.js' && flow\\\",\\\"lint-fix\\\":\\\"eslint --fix --quiet 'ui/**/*.{js,jsx}' && eslint --fix --quiet 'extras/**/*.{js,jsx}' && eslint --fix --quiet 'web/**/*.{js,jsx}' && eslint --fix --quiet 'electron/**/*.js'\\\",\\\"format\\\":\\\"prettier 'src/**/*.{js,jsx,scss,json}' --write\\\",\\\"flow-defs\\\":\\\"flow-typed install\\\",\\\"preinstall\\\":\\\"\\\",\\\"postinstall\\\":\\\"cd web && yarn && cd .. && if-env NODE_ENV=production && yarn postinstall:warning || if-env APP_ENV=web && echo 'Done installing deps' || yarn postinstall:electron\\\",\\\"postinstall:electron\\\":\\\"electron-builder install-app-deps && node ./build/downloadDaemon.js && node ./build/downloadLBRYFirst.js\\\",\\\"postinstall:warning\\\":\\\"echo '\\\\n\\\\nWARNING\\\\n\\\\nNot all node modules were installed because NODE_ENV is set to \\\\\\\"production\\\\\\\".\\\\nThis should only be set after installing dependencies with \\\\\\\"yarn\\\\\\\". The app will not work.\\\\n\\\\n'\\\"},\\\"dependencies\\\":{\\\"@emotion/react\\\":\\\"^11.6.0\\\",\\\"@emotion/styled\\\":\\\"^11.6.0\\\",\\\"@mui/material\\\":\\\"^5.6.2\\\",\\\"@sentry/react\\\":\\\"^7.8.1\\\",\\\"@sentry/tracing\\\":\\\"^7.8.1\\\",\\\"@silvermine/videojs-airplay\\\":\\\"^1.1.0\\\",\\\"@silvermine/videojs-chromecast\\\":\\\"^1.3.3\\\",\\\"@stripe/react-stripe-js\\\":\\\"^1.10.0\\\",\\\"@stripe/stripe-js\\\":\\\"^1.35.0\\\",\\\"@ungap/from-entries\\\":\\\"^0.2.1\\\",\\\"auto-launch\\\":\\\"^5.0.5\\\",\\\"core-js-pure\\\":\\\"^3.19.3\\\",\\\"electron-dl\\\":\\\"^1.11.0\\\",\\\"electron-log\\\":\\\"^2.2.12\\\",\\\"electron-notarize\\\":\\\"^1.0.0\\\",\\\"electron-updater\\\":\\\"^4.2.4\\\",\\\"express\\\":\\\"^4.17.1\\\",\\\"humanize-duration\\\":\\\"^3.27.0\\\",\\\"if-env\\\":\\\"^1.0.4\\\",\\\"match-sorter\\\":\\\"^6.3.0\\\",\\\"parse-duration\\\":\\\"^1.0.0\\\",\\\"player.js\\\":\\\"^0.1.0\\\",\\\"proxy-polyfill\\\":\\\"0.1.6\\\",\\\"re-reselect\\\":\\\"^4.0.0\\\",\\\"react-beautiful-dnd\\\":\\\"^13.1.0\\\",\\\"react-color\\\":\\\"^2.19.3\\\",\\\"react-datetime-picker\\\":\\\"^3.4.3\\\",\\\"react-plastic\\\":\\\"^1.1.1\\\",\\\"react-top-loading-bar\\\":\\\"^2.0.1\\\",\\\"redux-state-sync\\\":\\\"^3.1.4\\\",\\\"remove-markdown\\\":\\\"^0.3.0\\\",\\\"rss\\\":\\\"^1.2.2\\\",\\\"source-map-explorer\\\":\\\"^2.5.2\\\",\\\"tempy\\\":\\\"^0.6.0\\\",\\\"tus-js-client\\\":\\\"^2.3.0\\\",\\\"twemoji\\\":\\\"^14.0.2\\\",\\\"videojs-contrib-ads\\\":\\\"^6.9.0\\\",\\\"videojs-ima\\\":\\\"^1.11.0\\\",\\\"videojs-ima-player\\\":\\\"^0.5.6\\\",\\\"videojs-logo\\\":\\\"^2.1.4\\\",\\\"videojs-vtt-thumbnails\\\":\\\"https://github.com/OdyseeTeam/videojs-vtt-thumbnails\\\"},\\\"devDependencies\\\":{\\\"@babel/core\\\":\\\"^7.0.0\\\",\\\"@babel/plugin-proposal-class-properties\\\":\\\"^7.0.0\\\",\\\"@babel/plugin-proposal-decorators\\\":\\\"^7.3.0\\\",\\\"@babel/plugin-proposal-object-rest-spread\\\":\\\"^7.6.2\\\",\\\"@babel/plugin-proposal-optional-chaining\\\":\\\"^7.14.5\\\",\\\"@babel/plugin-syntax-dynamic-import\\\":\\\"^7.2.0\\\",\\\"@babel/plugin-transform-flow-strip-types\\\":\\\"^7.2.3\\\",\\\"@babel/plugin-transform-runtime\\\":\\\"^7.4.3\\\",\\\"@babel/polyfill\\\":\\\"^7.2.5\\\",\\\"@babel/preset-env\\\":\\\"^7.12.11\\\",\\\"@babel/preset-flow\\\":\\\"^7.12.1\\\",\\\"@babel/preset-react\\\":\\\"^7.0.0\\\",\\\"@babel/register\\\":\\\"^7.0.0\\\",\\\"@exponent/electron-cookies\\\":\\\"^2.0.0\\\",\\\"@hot-loader/react-dom\\\":\\\"^16.13\\\",\\\"@reach/auto-id\\\":\\\"^0.13.0\\\",\\\"@reach/combobox\\\":\\\"^0.12.1\\\",\\\"@reach/menu-button\\\":\\\"0.8.6\\\",\\\"@reach/rect\\\":\\\"^0.16.0\\\",\\\"@reach/tabs\\\":\\\"^0.1.5\\\",\\\"@reach/tooltip\\\":\\\"^0.12.1\\\",\\\"@reach/utils\\\":\\\"^0.12.1\\\",\\\"@sentry/webpack-plugin\\\":\\\"^1.10.0\\\",\\\"@types/three\\\":\\\"^0.103.2\\\",\\\"adm-zip\\\":\\\"^0.4.13\\\",\\\"async-exit-hook\\\":\\\"^2.0.1\\\",\\\"babel-eslint\\\":\\\"^10.0.1\\\",\\\"babel-loader\\\":\\\"^8.0.5\\\",\\\"babel-plugin-add-module-exports\\\":\\\"^1.0.4\\\",\\\"babel-plugin-import-glob\\\":\\\"^2.0.0\\\",\\\"babel-plugin-transform-imports\\\":\\\"^1.5.1\\\",\\\"babel-plugin-transform-object-rest-spread\\\":\\\"^6.26.0\\\",\\\"bluebird\\\":\\\"^3.5.1\\\",\\\"chalk\\\":\\\"^4.1.0\\\",\\\"classnames\\\":\\\"^2.2.5\\\",\\\"codemirror\\\":\\\"^5.39.2\\\",\\\"concurrently\\\":\\\"^4.1.2\\\",\\\"connected-react-router\\\":\\\"^6.8.0\\\",\\\"copy-webpack-plugin\\\":\\\"^5.1.2\\\",\\\"copyfiles\\\":\\\"^2.4.1\\\",\\\"country-data\\\":\\\"^0.0.31\\\",\\\"cross-env\\\":\\\"^7.0.3\\\",\\\"crypto-js\\\":\\\"^4.0.0\\\",\\\"css-doodle\\\":\\\"^0.7.1\\\",\\\"css-loader\\\":\\\"^2.1.0\\\",\\\"cssnano\\\":\\\"^4.1.10\\\",\\\"dat.gui\\\":\\\"^0.7.2\\\",\\\"decompress\\\":\\\"^4.2.1\\\",\\\"del\\\":\\\"^3.0.0\\\",\\\"devtron\\\":\\\"^1.4.0\\\",\\\"dom-scroll-into-view\\\":\\\"^1.2.1\\\",\\\"dotenv-defaults\\\":\\\"^2.0.1\\\",\\\"dotenv-webpack\\\":\\\"^1.8.0\\\",\\\"electron\\\":\\\"9.4.0\\\",\\\"electron-builder\\\":\\\"^22.9.1\\\",\\\"electron-devtools-installer\\\":\\\"^3.1.1\\\",\\\"electron-is-dev\\\":\\\"^0.3.0\\\",\\\"electron-webpack\\\":\\\"^2.8.2\\\",\\\"electron-window-state\\\":\\\"^4.1.1\\\",\\\"emoji-dictionary\\\":\\\"^1.0.11\\\",\\\"eslint\\\":\\\"^7.5\\\",\\\"eslint-config-prettier\\\":\\\"^2.9.0\\\",\\\"eslint-config-standard\\\":\\\"^12.0.0\\\",\\\"eslint-config-standard-jsx\\\":\\\"^6.0.2\\\",\\\"eslint-import-resolver-webpack\\\":\\\"^0.11.0\\\",\\\"eslint-plugin-flowtype\\\":\\\"^2.46.1\\\",\\\"eslint-plugin-import\\\":\\\"^2.10.0\\\",\\\"eslint-plugin-jsx-a11y\\\":\\\"^6.0.3\\\",\\\"eslint-plugin-node\\\":\\\"^8.0.1\\\",\\\"eslint-plugin-prettier\\\":\\\"^2.6.0\\\",\\\"eslint-plugin-promise\\\":\\\"^4.0.1\\\",\\\"eslint-plugin-react\\\":\\\"^7.7.0\\\",\\\"eslint-plugin-react-hooks\\\":\\\"^1.6.0\\\",\\\"eslint-plugin-standard\\\":\\\"^4.0.1\\\",\\\"file-loader\\\":\\\"^4.2.0\\\",\\\"flow-bin\\\":\\\"^0.97.0\\\",\\\"flow-typed\\\":\\\"^2.3.0\\\",\\\"formik\\\":\\\"^0.10.4\\\",\\\"hast-util-sanitize\\\":\\\"^3.0.2\\\",\\\"history\\\":\\\"^4.9.0\\\",\\\"hook-shell-script-webpack-plugin\\\":\\\"^0.1.4\\\",\\\"husky\\\":\\\"^3.1.0\\\",\\\"imagesloaded\\\":\\\"^4.1.4\\\",\\\"json-loader\\\":\\\"^0.5.4\\\",\\\"lbry-format\\\":\\\"https://github.com/lbryio/lbry-format.git\\\",\\\"lint-staged\\\":\\\"^7.0.2\\\",\\\"localforage\\\":\\\"^1.7.1\\\",\\\"lodash-es\\\":\\\"^4.17.14\\\",\\\"mammoth\\\":\\\"^1.4.16\\\",\\\"moment\\\":\\\"^2.22.0\\\",\\\"node-abi\\\":\\\"^2.5.1\\\",\\\"node-fetch\\\":\\\"^2.6.1\\\",\\\"node-libs-browser\\\":\\\"^2.1.0\\\",\\\"node-loader\\\":\\\"^0.6.0\\\",\\\"node-wget\\\":\\\"^0.4.3\\\",\\\"nodemon\\\":\\\"^2.0.15\\\",\\\"postcss-import\\\":\\\"^12.0.1\\\",\\\"postcss-loader\\\":\\\"^3.0.0\\\",\\\"postcss-rtl\\\":\\\"^1.7.3\\\",\\\"preprocess-loader\\\":\\\"^0.3.0\\\",\\\"prettier\\\":\\\"^2.2.1\\\",\\\"prop-types\\\":\\\"^15.6.2\\\",\\\"qrcode.react\\\":\\\"^0.8.0\\\",\\\"raw-loader\\\":\\\"^2.0.0\\\",\\\"rc-progress\\\":\\\"^2.0.6\\\",\\\"react\\\":\\\"^16.8.2\\\",\\\"react-awesome-lightbox\\\":\\\"^1.7.3\\\",\\\"react-confetti\\\":\\\"^4.0.1\\\",\\\"react-dom\\\":\\\"^16.8.2\\\",\\\"react-draggable\\\":\\\"^4.4.4\\\",\\\"react-google-recaptcha\\\":\\\"^2.0.1\\\",\\\"react-hot-loader\\\":\\\"^4.11.1\\\",\\\"react-modal\\\":\\\"^3.1.7\\\",\\\"react-paginate\\\":\\\"^5.2.1\\\",\\\"react-redux\\\":\\\"^6.0.1\\\",\\\"react-router\\\":\\\"^5.1.0\\\",\\\"react-router-dom\\\":\\\"^5.1.0\\\",\\\"react-simplemde-editor\\\":\\\"^4.1.3\\\",\\\"react-spring\\\":\\\"^8.0.20\\\",\\\"reakit\\\":\\\"^1.0.0-beta.13\\\",\\\"redux\\\":\\\"^3.6.0\\\",\\\"redux-persist\\\":\\\"^5.10.0\\\",\\\"redux-persist-transform-compress\\\":\\\"^4.2.0\\\",\\\"redux-persist-transform-filter\\\":\\\"0.0.16\\\",\\\"redux-thunk\\\":\\\"^2.2.0\\\",\\\"remark\\\":\\\"^9.0.0\\\",\\\"remark-attr\\\":\\\"^0.8.3\\\",\\\"remark-breaks\\\":\\\"^1.0.5\\\",\\\"remark-emoji\\\":\\\"^2.0.1\\\",\\\"remark-frontmatter\\\":\\\"^2.0.0\\\",\\\"remark-react\\\":\\\"^8.0.0\\\",\\\"reselect\\\":\\\"^4.0.0\\\",\\\"sass\\\":\\\"^1.29.0\\\",\\\"sass-loader\\\":\\\"^7.1.0\\\",\\\"semver\\\":\\\"^5.3.0\\\",\\\"stream-to-blob-url\\\":\\\"^2.1.1\\\",\\\"strip-markdown\\\":\\\"^3.0.3\\\",\\\"style-loader\\\":\\\"^0.23.1\\\",\\\"terser-webpack-plugin\\\":\\\"^1.2.3\\\",\\\"three\\\":\\\"^0.125.0\\\",\\\"three-full\\\":\\\"^17.1.0\\\",\\\"tiny-relative-date\\\":\\\"^1.3.0\\\",\\\"tree-kill\\\":\\\"^1.1.0\\\",\\\"unist-util-visit\\\":\\\"^2.0.3\\\",\\\"uuid\\\":\\\"^8.3.2\\\",\\\"vast-client\\\":\\\"^3.1.1\\\",\\\"video.js\\\":\\\"^7.19.2\\\",\\\"videojs-contrib-quality-levels\\\":\\\"^2.0.9\\\",\\\"videojs-event-tracking\\\":\\\"^1.0.1\\\",\\\"villain-react\\\":\\\"^1.0.9\\\",\\\"wavesurfer.js\\\":\\\"^2.2.1\\\",\\\"webpack\\\":\\\"^4.28.4\\\",\\\"webpack-bundle-analyzer\\\":\\\"^3.1.0\\\",\\\"webpack-cli\\\":\\\"^3.3.10\\\",\\\"webpack-config-utils\\\":\\\"^2.3.1\\\",\\\"webpack-dev-middleware\\\":\\\"^3.6.0\\\",\\\"webpack-dev-server\\\":\\\"^3.9.0\\\",\\\"webpack-hot-middleware\\\":\\\"^2.24.3\\\",\\\"webpack-merge\\\":\\\"^4.2.1\\\",\\\"webpack-node-externals\\\":\\\"^1.7.2\\\",\\\"y18n\\\":\\\"^4.0.1\\\",\\\"yarnhook\\\":\\\"^0.2.0\\\"},\\\"engines\\\":{\\\"node\\\":\\\">=7\\\",\\\"yarn\\\":\\\"^1.3\\\"},\\\"husky\\\":{\\\"hooks\\\":{\\\"pre-commit\\\":\\\"lint-staged\\\"}},\\\"lbrySettings\\\":{\\\"lbrynetDaemonVersion\\\":\\\"0.99.0\\\",\\\"lbrynetDaemonUrlTemplate\\\":\\\"https://github.com/lbryio/lbry/releases/download/vDAEMONVER/lbrynet-OSNAME.zip\\\",\\\"lbrynetDaemonDir\\\":\\\"static/daemon\\\",\\\"lbrynetDaemonFileName\\\":\\\"lbrynet\\\",\\\"LBRYFirstVersion\\\":\\\"0.0.20\\\",\\\"LBRYFirstUrlTemplate\\\":\\\"https://github.com/lbryio/lbry-first/releases/download/vLBRYFIRSTVER/lbry-first_OSNAME_amd64.zip\\\",\\\"LBRYFirstDir\\\":\\\"static/lbry-first\\\",\\\"LBRYFirstFileName\\\":\\\"lbry-first\\\"}}\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vcGFja2FnZS5qc29uLmpzIiwic291cmNlcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../package.json\n");

/***/ }),

/***/ "../ui/component/app/view.jsx":
/*!************************************!*\
  !*** ../ui/component/app/view.jsx ***!
  \************************************/
/*! exports provided: MAIN_WRAPPER_CLASS, IS_MAC, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MAIN_WRAPPER_CLASS\", function() { return MAIN_WRAPPER_CLASS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IS_MAC\", function() { return IS_MAC; });\n/* harmony import */ var constants_pages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! constants/pages */ \"../ui/constants/pages.js\");\n/* harmony import */ var constants_pages__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(constants_pages__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var util_lazyImport__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! util/lazyImport */ \"../ui/util/lazyImport.js\");\n/* harmony import */ var util_tus__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! util/tus */ \"../ui/util/tus.js\");\n/* harmony import */ var analytics__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! analytics */ \"../ui/analytics.js\");\n/* harmony import */ var redux_actions_search__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! redux/actions/search */ \"../ui/redux/actions/search.js\");\n/* harmony import */ var util_lbryURI__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! util/lbryURI */ \"../ui/util/lbryURI.js\");\n/* harmony import */ var util_url__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! util/url */ \"../ui/util/url.js\");\n/* harmony import */ var component_router_index__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! component/router/index */ \"../ui/component/router/index.js\");\n/* harmony import */ var modal_modalRouter__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! modal/modalRouter */ \"../ui/modal/modalRouter/index.js\");\n/* harmony import */ var react_modal__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-modal */ \"../node_modules/react-modal/lib/index.js\");\n/* harmony import */ var react_modal__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_modal__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var util_enhanced_layout__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! util/enhanced-layout */ \"../ui/util/enhanced-layout.js\");\n/* harmony import */ var component_yrbl__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! component/yrbl */ \"../ui/component/yrbl/index.jsx\");\n/* harmony import */ var component_fileRenderFloating__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! component/fileRenderFloating */ \"../ui/component/fileRenderFloating/index.js\");\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react-router */ \"../node_modules/react-router/esm/react-router.js\");\n/* harmony import */ var effects_use_previous__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! effects/use-previous */ \"../ui/effects/use-previous.js\");\n/* harmony import */ var component_nag__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! component/nag */ \"../ui/component/nag/index.js\");\n/* harmony import */ var rewards__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! rewards */ \"../ui/rewards.js\");\n/* harmony import */ var effects_use_persisted_state__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! effects/use-persisted-state */ \"../ui/effects/use-persisted-state.js\");\n/* harmony import */ var effects_use_connection_status__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! effects/use-connection-status */ \"../ui/effects/use-connection-status.js\");\n/* harmony import */ var component_spinner__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! component/spinner */ \"../ui/component/spinner/index.js\");\n/* harmony import */ var constants_languages__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! constants/languages */ \"../ui/constants/languages.js\");\n/* harmony import */ var util_beforeUnload__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! util/beforeUnload */ \"../ui/util/beforeUnload.js\");\n/* harmony import */ var web_component_adBlockTester__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! web/component/adBlockTester */ \"./component/adBlockTester/index.js\");\n/* harmony import */ var web_component_adsSticky__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! web/component/adsSticky */ \"./component/adsSticky/index.js\");\n/* harmony import */ var web_component_youtubeReferralWelcome__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! web/component/youtubeReferralWelcome */ \"./component/youtubeReferralWelcome/index.js\");\n/* harmony import */ var web_effects_use_degraded_performance__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! web/effects/use-degraded-performance */ \"./effects/use-degraded-performance.js\");\n/* harmony import */ var constants_language_migrations__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! constants/language-migrations */ \"../ui/constants/language-migrations.js\");\n/* harmony import */ var effects_use_screensize__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! effects/use-screensize */ \"../ui/effects/use-screensize.js\");\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n // import useAdOutbrain from 'effects/use-ad-outbrain';\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar FileDrop = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_2__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | fileDrop */ \"fileDrop\").then(__webpack_require__.bind(null, /*! component/fileDrop */ \"../ui/component/fileDrop/index.js\"));\n});\nvar NagContinueFirstRun = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_2__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | nagCFR */ \"nagCFR\").then(__webpack_require__.bind(null, /*! component/nagContinueFirstRun */ \"../ui/component/nagContinueFirstRun/index.js\"));\n});\nvar NagDegradedPerformance = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_2__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | NagDegradedPerformance */ \"NagDegradedPerformance\").then(__webpack_require__.bind(null, /*! web/component/nag-degraded-performance */ \"./component/nag-degraded-performance.jsx\"));\n});\nvar NagNoUser = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_2__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | nag-no-user */ \"nag-no-user\").then(__webpack_require__.bind(null, /*! web/component/nag-no-user */ \"./component/nag-no-user.jsx\"));\n});\nvar NagSunset = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_2__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | nag-sunset */ \"nag-sunset\").then(__webpack_require__.bind(null, /*! web/component/nag-sunset */ \"./component/nag-sunset.jsx\"));\n});\nvar SyncFatalError = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_2__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | syncFatalError */ \"syncFatalError\").then(__webpack_require__.bind(null, /*! component/syncFatalError */ \"../ui/component/syncFatalError/index.js\"));\n}); // ****************************************************************************\n\nvar MAIN_WRAPPER_CLASS = 'main-wrapper';\nvar IS_MAC = navigator.userAgent.indexOf('Mac OS X') !== -1; // const imaLibraryPath = 'https://imasdk.googleapis.com/js/sdkloader/ima3.js';\n\nvar oneTrustScriptSrc = 'https://cdn.cookielaw.org/scripttemplates/otSDKStub.js';\nvar LATEST_PATH = \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_0__[\"LATEST\"], \"/\");\nvar LIVE_PATH = \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_0__[\"LIVE_NOW\"], \"/\");\nvar EMBED_PATH = \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_0__[\"EMBED\"], \"/\");\n\nfunction App(props) {\n  var theme = props.theme,\n      user = props.user,\n      locale = props.locale,\n      location = props.location,\n      fetchChannelListMine = props.fetchChannelListMine,\n      fetchCollectionListMine = props.fetchCollectionListMine,\n      signIn = props.signIn,\n      isReloadRequired = props.isReloadRequired,\n      uploadCount = props.uploadCount,\n      history = props.history,\n      syncError = props.syncError,\n      syncIsLocked = props.syncIsLocked,\n      prefsReady = props.prefsReady,\n      language = props.language,\n      languages = props.languages,\n      setLanguage = props.setLanguage,\n      fetchLanguage = props.fetchLanguage,\n      rewards = props.rewards,\n      doUserSetReferrer = props.doUserSetReferrer,\n      isAuthenticated = props.isAuthenticated,\n      syncLoop = props.syncLoop,\n      currentModal = props.currentModal,\n      syncFatalError = props.syncFatalError,\n      myChannelClaimIds = props.myChannelClaimIds,\n      activeChannelClaim = props.activeChannelClaim,\n      setIncognito = props.setIncognito,\n      fetchModBlockedList = props.fetchModBlockedList,\n      fetchModAmIList = props.fetchModAmIList,\n      defaultChannelClaim = props.defaultChannelClaim,\n      nagsShown = props.nagsShown,\n      announcement = props.announcement,\n      doOpenAnnouncements = props.doOpenAnnouncements,\n      doSetLastViewedAnnouncement = props.doSetLastViewedAnnouncement,\n      doSetDefaultChannel = props.doSetDefaultChannel,\n      doSetGdprConsentList = props.doSetGdprConsentList;\n  var isMobile = Object(effects_use_screensize__WEBPACK_IMPORTED_MODULE_28__[\"useIsMobile\"])();\n  var isEnhancedLayout = Object(util_enhanced_layout__WEBPACK_IMPORTED_MODULE_11__[\"default\"])();\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      hasSignedIn = _useState2[0],\n      setHasSignedIn = _useState2[1];\n\n  var hasVerifiedEmail = user && Boolean(user.has_verified_email);\n  var isRewardApproved = user && user.is_reward_approved;\n  var previousHasVerifiedEmail = Object(effects_use_previous__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(hasVerifiedEmail);\n  var previousRewardApproved = Object(effects_use_previous__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(isRewardApproved);\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(web_effects_use_degraded_performance__WEBPACK_IMPORTED_MODULE_26__[\"STATUS_OK\"]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      lbryTvApiStatus = _useState4[0],\n      setLbryTvApiStatus = _useState4[1]; // const [sidebarOpen] = usePersistedState('sidebar', false);\n\n\n  var pathname = location.pathname,\n      hash = location.hash,\n      search = location.search,\n      hostname = location.hostname;\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      retryingSync = _useState6[0],\n      setRetryingSync = _useState6[1];\n\n  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(0),\n      _useState8 = _slicedToArray(_useState7, 2),\n      langRenderKey = _useState8[0],\n      setLangRenderKey = _useState8[1];\n\n  var _usePersistedState = Object(effects_use_persisted_state__WEBPACK_IMPORTED_MODULE_18__[\"default\"])('lbrytv-sunset', false),\n      _usePersistedState2 = _slicedToArray(_usePersistedState, 2),\n      seenSunsestMessage = _usePersistedState2[0],\n      setSeenSunsetMessage = _usePersistedState2[1]; // referral claiming\n\n\n  var referredRewardAvailable = rewards && rewards.some(function (reward) {\n    return reward.reward_type === rewards__WEBPACK_IMPORTED_MODULE_17__[\"default\"].TYPE_REFEREE;\n  });\n  var urlParams = new URLSearchParams(search);\n  var rawReferrerParam = urlParams.get('r');\n  var fromLbrytvParam = urlParams.get('sunset');\n  var sanitizedReferrerParam = rawReferrerParam && rawReferrerParam.replace(':', '#');\n  var embedPath = pathname.startsWith(EMBED_PATH);\n  var shouldHideNag = embedPath || pathname.startsWith(\"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_0__[\"AUTH_VERIFY\"]));\n  var userId = user && user.id;\n  var hasMyChannels = myChannelClaimIds && myChannelClaimIds.length > 0;\n  var hasNoChannels = myChannelClaimIds && myChannelClaimIds.length === 0;\n  var shouldMigrateLanguage = constants_language_migrations__WEBPACK_IMPORTED_MODULE_27__[\"default\"][language];\n  var renderFiledrop = !isMobile && isAuthenticated;\n  var connectionStatus = Object(effects_use_connection_status__WEBPACK_IMPORTED_MODULE_19__[\"default\"])();\n  var urlPath = pathname + hash;\n  var latestContentPath = urlPath.startsWith(LATEST_PATH);\n  var liveContentPath = urlPath.startsWith(LIVE_PATH);\n  var featureParam = urlParams.get('feature');\n  var embedLatestPath = embedPath && (featureParam === constants_pages__WEBPACK_IMPORTED_MODULE_0__[\"LATEST\"] || featureParam === constants_pages__WEBPACK_IMPORTED_MODULE_0__[\"LIVE_NOW\"]);\n  var isNewestPath = latestContentPath || liveContentPath || embedLatestPath;\n  var path;\n\n  if (isNewestPath) {\n    path = urlPath.replace(embedLatestPath ? EMBED_PATH : latestContentPath ? LATEST_PATH : LIVE_PATH, '');\n  } else {\n    // Remove the leading \"/\" added by the browser\n    path = urlPath.slice(1);\n  }\n\n  path = path.replace(/:/g, '#');\n\n  if (isNewestPath && !path.startsWith('@')) {\n    path = \"@\".concat(path);\n  }\n\n  if (search && search.startsWith('?q=cache:')) {\n    Object(util_url__WEBPACK_IMPORTED_MODULE_7__[\"generateGoogleCacheUrl\"])(search, path);\n  }\n\n  var uri;\n\n  try {\n    // here queryString and startTime are \"removed\" from the buildURI process\n    // to build only the uri itself\n    var _parseURI = Object(util_lbryURI__WEBPACK_IMPORTED_MODULE_6__[\"parseURI\"])(path),\n        queryString = _parseURI.queryString,\n        startTime = _parseURI.startTime,\n        parsedUri = _objectWithoutProperties(_parseURI, [\"queryString\", \"startTime\"]);\n\n    uri = Object(util_lbryURI__WEBPACK_IMPORTED_MODULE_6__[\"buildURI\"])(_objectSpread({}, parsedUri));\n  } catch (e) {\n    var match = path.match(/[#/:]/);\n\n    if (!path.startsWith('$/') && match && match.index) {\n      uri = \"lbry://\".concat(path.slice(0, match.index));\n    }\n  }\n\n  function getStatusNag() {\n    // Handle \"offline\" first. Everything else is meaningless if it's offline.\n    if (!connectionStatus.online) {\n      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(component_nag__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n        type: \"helpful\",\n        message: __('You are offline. Check your internet connection.')\n      });\n    } // Only 1 nag is possible, so show the most important:\n\n\n    if (user === null) {\n      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(NagNoUser, null);\n    }\n\n    if (lbryTvApiStatus === web_effects_use_degraded_performance__WEBPACK_IMPORTED_MODULE_26__[\"STATUS_DEGRADED\"] || lbryTvApiStatus === web_effects_use_degraded_performance__WEBPACK_IMPORTED_MODULE_26__[\"STATUS_FAILING\"]) {\n      if (!shouldHideNag) {\n        return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(NagDegradedPerformance, {\n          onClose: function onClose() {\n            return setLbryTvApiStatus(web_effects_use_degraded_performance__WEBPACK_IMPORTED_MODULE_26__[\"STATUS_OK\"]);\n          }\n        });\n      }\n    }\n\n    if (syncFatalError) {\n      if (!retryingSync) {\n        return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(component_nag__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n          type: \"error\",\n          message: __('Failed to synchronize settings. Wait a while before retrying.'),\n          actionText: __('Retry'),\n          onClick: function onClick() {\n            syncLoop(true);\n            setRetryingSync(true);\n            setTimeout(function () {\n              return setRetryingSync(false);\n            }, 4000);\n          }\n        });\n      }\n    } else if (isReloadRequired) {\n      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(component_nag__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n        message: __('A new version of Odysee is available.'),\n        actionText: __('Refresh'),\n        onClick: function onClick() {\n          return window.location.reload();\n        }\n      });\n    }\n  }\n\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (userId) {\n      analytics__WEBPACK_IMPORTED_MODULE_4__[\"default\"].setUser(userId);\n      Object(redux_actions_search__WEBPACK_IMPORTED_MODULE_5__[\"setSearchUserId\"])(userId);\n    }\n  }, [userId]);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (syncIsLocked) {\n      var msg = 'There are unsaved settings. Exit the Settings Page to finalize them.';\n\n      var handleBeforeUnload = function handleBeforeUnload(event) {\n        event.preventDefault();\n        event.returnValue = msg;\n      };\n\n      util_beforeUnload__WEBPACK_IMPORTED_MODULE_22__[\"BeforeUnload\"].register(handleBeforeUnload, msg);\n      return function () {\n        return util_beforeUnload__WEBPACK_IMPORTED_MODULE_22__[\"BeforeUnload\"].unregister(handleBeforeUnload);\n      };\n    }\n  }, [syncIsLocked]);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (!uploadCount) return;\n    var msg = 'Unfinished uploads.';\n\n    var handleUnload = function handleUnload(event) {\n      return Object(util_tus__WEBPACK_IMPORTED_MODULE_3__[\"tusUnlockAndNotify\"])();\n    };\n\n    var handleBeforeUnload = function handleBeforeUnload(event) {\n      event.preventDefault();\n      event.returnValue = __(msg); // without setting this to something it doesn't work in some browsers.\n    };\n\n    util_beforeUnload__WEBPACK_IMPORTED_MODULE_22__[\"Unload\"].register(handleUnload);\n    util_beforeUnload__WEBPACK_IMPORTED_MODULE_22__[\"BeforeUnload\"].register(handleBeforeUnload, msg);\n    return function () {\n      util_beforeUnload__WEBPACK_IMPORTED_MODULE_22__[\"Unload\"].unregister(handleUnload);\n      util_beforeUnload__WEBPACK_IMPORTED_MODULE_22__[\"BeforeUnload\"].unregister(handleBeforeUnload);\n    };\n  }, [uploadCount]);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (!uploadCount) return;\n\n    var onStorageUpdate = function onStorageUpdate(e) {\n      return Object(util_tus__WEBPACK_IMPORTED_MODULE_3__[\"tusHandleTabUpdates\"])(e.key);\n    };\n\n    window.addEventListener('storage', onStorageUpdate);\n    return function () {\n      return window.removeEventListener('storage', onStorageUpdate);\n    };\n  }, [uploadCount]); // allows user to pause miniplayer using the spacebar without the page scrolling down\n\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    var handleKeyPress = function handleKeyPress(e) {\n      if (e.key === ' ' && e.target === document.body) {\n        e.preventDefault();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyPress);\n    return function () {\n      return window.removeEventListener('keydown', handleKeyPress);\n    };\n  }, []);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (referredRewardAvailable && sanitizedReferrerParam) {\n      doUserSetReferrer(sanitizedReferrerParam);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [sanitizedReferrerParam, referredRewardAvailable]);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {}, [fetchChannelListMine, fetchCollectionListMine]);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    // $FlowFixMe\n    document.documentElement.setAttribute('theme', theme);\n  }, [theme]);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    // $FlowFixMe\n    document.body.style.overflowY = currentModal ? 'hidden' : '';\n  }, [currentModal]);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (hasNoChannels) {\n      setIncognito(true);\n    }\n\n    if (hasMyChannels) {\n      fetchModBlockedList();\n      fetchModAmIList();\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [hasMyChannels, hasNoChannels, setIncognito]);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (hasMyChannels && activeChannelClaim && !defaultChannelClaim && prefsReady) {\n      doSetDefaultChannel(activeChannelClaim.claim_id);\n    }\n  }, [activeChannelClaim, defaultChannelClaim, doSetDefaultChannel, hasMyChannels, prefsReady]);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    // $FlowFixMe\n    document.documentElement.setAttribute('lang', language);\n  }, [language]);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (!languages.includes(language)) {\n      fetchLanguage(language);\n\n      if (document && document.documentElement && constants_languages__WEBPACK_IMPORTED_MODULE_21__[\"default\"][language].length >= 3) {\n        document.documentElement.dir = constants_languages__WEBPACK_IMPORTED_MODULE_21__[\"default\"][language][2];\n      }\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [language, languages]);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (shouldMigrateLanguage) {\n      setLanguage(shouldMigrateLanguage);\n    }\n  }, [shouldMigrateLanguage, setLanguage]);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    // Check that previousHasVerifiedEmail was not undefined instead of just not truthy\n    // This ensures we don't fire the emailVerified event on the initial user fetch\n    if (previousHasVerifiedEmail === false && hasVerifiedEmail) {\n      analytics__WEBPACK_IMPORTED_MODULE_4__[\"default\"].event.emailVerified();\n    }\n  }, [previousHasVerifiedEmail, hasVerifiedEmail, signIn]);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (previousRewardApproved === false && isRewardApproved) {\n      analytics__WEBPACK_IMPORTED_MODULE_4__[\"default\"].event.rewardEligible();\n    }\n  }, [previousRewardApproved, isRewardApproved]); // Load IMA3 SDK for aniview\n  // useEffect(() => {\n  //   if (!isAuthenticated && SHOW_ADS) {\n  //     const script = document.createElement('script');\n  //     script.src = imaLibraryPath;\n  //     script.async = true;\n  //     // $FlowFixMe\n  //     document.body.appendChild(script);\n  //     return () => {\n  //       // $FlowFixMe\n  //       document.body.removeChild(script);\n  //     };\n  //   }\n  // }, []);\n  // add OneTrust script\n\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    // don't add script for embedded content\n    function inIframe() {\n      try {\n        return window.self !== window.top;\n      } catch (e) {\n        return true;\n      }\n    }\n\n    if (inIframe() || !locale || !locale.gdpr_required || window.cordova) {\n      return;\n    } // $FlowFixMe\n\n\n    var useProductionOneTrust =  false && false;\n    var script = document.createElement('script');\n    script.src = oneTrustScriptSrc;\n    script.setAttribute('charset', 'UTF-8');\n\n    if (useProductionOneTrust) {\n      script.setAttribute('data-domain-script', '8a792d84-50a5-4b69-b080-6954ad4d4606');\n    } else {\n      script.setAttribute('data-domain-script', '8a792d84-50a5-4b69-b080-6954ad4d4606-test');\n    }\n\n    var secondScript = document.createElement('script'); // OneTrust asks to add this\n\n    secondScript.innerHTML = 'function OptanonWrapper() { window.gdprCallback() }';\n\n    window.gdprCallback = function () {\n      doSetGdprConsentList(window.OnetrustActiveGroups);\n\n      if (window.OnetrustActiveGroups.indexOf('C0002') !== -1) {\n        var ad = document.getElementsByClassName('OUTBRAIN')[0];\n        if (ad && !window.nagsShown) ad.classList.add('VISIBLE');\n      }\n    }; // $FlowFixMe\n\n\n    document.head.appendChild(script); // $FlowFixMe\n\n    document.head.appendChild(secondScript);\n    return function () {\n      try {\n        // $FlowFixMe\n        document.head.removeChild(script); // $FlowFixMe\n\n        document.head.removeChild(secondScript);\n      } catch (err) {// eslint-disable-next-line no-console\n        // console.log(err); <-- disabling this ... it's clogging up Sentry logs.\n      }\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps -- one time after locale is fetched\n  }, [locale]);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    window.nagsShown = nagsShown;\n\n    if (nagsShown) {\n      var ad = document.getElementsByClassName('VISIBLE')[0];\n      if (ad) ad.classList.remove('VISIBLE');\n    } else {\n      var _ad = document.getElementsByClassName('OUTBRAIN')[0];\n      if (_ad) _ad.classList.add('VISIBLE');\n    }\n  }, [nagsShown]); // ready for sync syncs, however after signin when hasVerifiedEmail, that syncs too.\n\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    // signInSyncPref is cleared after sharedState loop.\n    var syncLoopWithoutInterval = function syncLoopWithoutInterval() {\n      return syncLoop(true);\n    };\n\n    if (hasSignedIn && hasVerifiedEmail) {\n      // In case we are syncing.\n      syncLoop();\n      window.addEventListener('focus', syncLoopWithoutInterval);\n    }\n\n    return function () {\n      window.removeEventListener('focus', syncLoopWithoutInterval);\n    };\n  }, [hasSignedIn, hasVerifiedEmail, syncLoop]);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (syncError && isAuthenticated && !pathname.includes(constants_pages__WEBPACK_IMPORTED_MODULE_0__[\"AUTH_WALLET_PASSWORD\"]) && !currentModal) {\n      history.push(\"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_0__[\"AUTH_WALLET_PASSWORD\"], \"?redirect=\").concat(pathname));\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [syncError, pathname, isAuthenticated]);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (prefsReady && isAuthenticated && (pathname === '/' || pathname === \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_0__[\"HELP\"])) && announcement !== '') {\n      doOpenAnnouncements();\n    }\n  }, [announcement, isAuthenticated, pathname, prefsReady]);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    window.clearLastViewedAnnouncement = function () {\n      console.log('Clearing history. Please wait ...'); // eslint-disable-line no-console\n\n      doSetLastViewedAnnouncement('clear');\n    };\n  }, []); // Keep this at the end to ensure initial setup effects are run first\n\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (!hasSignedIn && hasVerifiedEmail) {\n      signIn();\n      setHasSignedIn(true);\n    }\n  }, [hasVerifiedEmail, signIn, hasSignedIn]);\n  Object(web_effects_use_degraded_performance__WEBPACK_IMPORTED_MODULE_26__[\"useDegradedPerformance\"])(setLbryTvApiStatus, user); // useAdOutbrain(Boolean(hasPremiumPlus), isAuthenticated, history?.location?.pathname);\n\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (!syncIsLocked) {\n      // When language is changed or translations are fetched, we render.\n      setLangRenderKey(Date.now());\n    } // eslint-disable-next-line react-hooks/exhaustive-deps -- don't respond to syncIsLocked, but skip action when locked.\n\n  }, [language, languages]);\n  var appRef = react__WEBPACK_IMPORTED_MODULE_1___default.a.useCallback(function (wrapperElement) {\n    if (wrapperElement) {\n      react_modal__WEBPACK_IMPORTED_MODULE_10___default.a.setAppElement(wrapperElement);\n    }\n  }, []); // Require an internal-api user on lbry.tv\n  // This also prevents the site from loading in the un-authed state while we wait for internal-apis to return for the first time\n  // It's not needed on desktop since there is no un-authed state\n\n  if (user === undefined) {\n    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"main--empty\"\n    }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(component_spinner__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n      delayed: true\n    }));\n  }\n\n  if (connectionStatus.online && lbryTvApiStatus === web_effects_use_degraded_performance__WEBPACK_IMPORTED_MODULE_26__[\"STATUS_DOWN\"]) {\n    // TODO: Rename `SyncFatalError` since it has nothing to do with syncing.\n    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Suspense, {\n      fallback: null\n    }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(SyncFatalError, {\n      lbryTvApiStatus: lbryTvApiStatus\n    }));\n  }\n\n  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: MAIN_WRAPPER_CLASS,\n    ref: appRef,\n    key: langRenderKey\n  }, lbryTvApiStatus === web_effects_use_degraded_performance__WEBPACK_IMPORTED_MODULE_26__[\"STATUS_DOWN\"] ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(component_yrbl__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n    className: \"main--empty\",\n    title: __('odysee.com is currently down'),\n    subtitle: __('My wheel broke, but the good news is that someone from LBRY is working on it.')\n  }) : react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(component_router_index__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n    uri: uri\n  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(modal_modalRouter__WEBPACK_IMPORTED_MODULE_9__[\"default\"], null), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Suspense, {\n    fallback: null\n  }, renderFiledrop && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(FileDrop, null)), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(component_fileRenderFloating__WEBPACK_IMPORTED_MODULE_13__[\"default\"], null), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Suspense, {\n    fallback: null\n  }, isEnhancedLayout && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(component_yrbl__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n    className: \"yrbl--enhanced\"\n  }), !shouldHideNag && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(NagContinueFirstRun, null), fromLbrytvParam && !seenSunsestMessage && !shouldHideNag && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(NagSunset, {\n    email: hasVerifiedEmail,\n    onClose: function onClose() {\n      return setSeenSunsetMessage(true);\n    }\n  }), getStatusNag())));\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_router__WEBPACK_IMPORTED_MODULE_14__[\"withRouter\"])(App));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! i18n.js */ \"../ui/i18n.js\")[\"__\"]))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L2FwcC92aWV3LmpzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi91aS9jb21wb25lbnQvYXBwL3ZpZXcuanN4P2JkNzgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQGZsb3dcbmltcG9ydCAqIGFzIFBBR0VTIGZyb20gJ2NvbnN0YW50cy9wYWdlcyc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGxhenlJbXBvcnQgfSBmcm9tICd1dGlsL2xhenlJbXBvcnQnO1xuaW1wb3J0IHsgdHVzVW5sb2NrQW5kTm90aWZ5LCB0dXNIYW5kbGVUYWJVcGRhdGVzIH0gZnJvbSAndXRpbC90dXMnO1xuaW1wb3J0IGFuYWx5dGljcyBmcm9tICdhbmFseXRpY3MnO1xuaW1wb3J0IHsgc2V0U2VhcmNoVXNlcklkIH0gZnJvbSAncmVkdXgvYWN0aW9ucy9zZWFyY2gnO1xuaW1wb3J0IHsgcGFyc2VVUkksIGJ1aWxkVVJJIH0gZnJvbSAndXRpbC9sYnJ5VVJJJztcbmltcG9ydCB7IGdlbmVyYXRlR29vZ2xlQ2FjaGVVcmwgfSBmcm9tICd1dGlsL3VybCc7XG5pbXBvcnQgUm91dGVyIGZyb20gJ2NvbXBvbmVudC9yb3V0ZXIvaW5kZXgnO1xuaW1wb3J0IE1vZGFsUm91dGVyIGZyb20gJ21vZGFsL21vZGFsUm91dGVyJztcbmltcG9ydCBSZWFjdE1vZGFsIGZyb20gJ3JlYWN0LW1vZGFsJztcbmltcG9ydCB1c2VLb25hbWlMaXN0ZW5lciBmcm9tICd1dGlsL2VuaGFuY2VkLWxheW91dCc7XG5pbXBvcnQgWXJibCBmcm9tICdjb21wb25lbnQveXJibCc7XG5pbXBvcnQgRmlsZVJlbmRlckZsb2F0aW5nIGZyb20gJ2NvbXBvbmVudC9maWxlUmVuZGVyRmxvYXRpbmcnO1xuaW1wb3J0IHsgd2l0aFJvdXRlciB9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG4vLyBpbXBvcnQgdXNlQWRPdXRicmFpbiBmcm9tICdlZmZlY3RzL3VzZS1hZC1vdXRicmFpbic7XG5pbXBvcnQgdXNlUHJldmlvdXMgZnJvbSAnZWZmZWN0cy91c2UtcHJldmlvdXMnO1xuaW1wb3J0IE5hZyBmcm9tICdjb21wb25lbnQvbmFnJztcbmltcG9ydCBSRVdBUkRTIGZyb20gJ3Jld2FyZHMnO1xuaW1wb3J0IHVzZVBlcnNpc3RlZFN0YXRlIGZyb20gJ2VmZmVjdHMvdXNlLXBlcnNpc3RlZC1zdGF0ZSc7XG5pbXBvcnQgdXNlQ29ubmVjdGlvblN0YXR1cyBmcm9tICdlZmZlY3RzL3VzZS1jb25uZWN0aW9uLXN0YXR1cyc7XG5pbXBvcnQgU3Bpbm5lciBmcm9tICdjb21wb25lbnQvc3Bpbm5lcic7XG5pbXBvcnQgTEFOR1VBR0VTIGZyb20gJ2NvbnN0YW50cy9sYW5ndWFnZXMnO1xuaW1wb3J0IHsgQmVmb3JlVW5sb2FkLCBVbmxvYWQgfSBmcm9tICd1dGlsL2JlZm9yZVVubG9hZCc7XG5pbXBvcnQgQWRCbG9ja1Rlc3RlciBmcm9tICd3ZWIvY29tcG9uZW50L2FkQmxvY2tUZXN0ZXInO1xuaW1wb3J0IEFkc1N0aWNreSBmcm9tICd3ZWIvY29tcG9uZW50L2Fkc1N0aWNreSc7XG5pbXBvcnQgWW91dHViZVdlbGNvbWUgZnJvbSAnd2ViL2NvbXBvbmVudC95b3V0dWJlUmVmZXJyYWxXZWxjb21lJztcbmltcG9ydCB7XG4gIHVzZURlZ3JhZGVkUGVyZm9ybWFuY2UsXG4gIFNUQVRVU19PSyxcbiAgU1RBVFVTX0RFR1JBREVELFxuICBTVEFUVVNfRkFJTElORyxcbiAgU1RBVFVTX0RPV04sXG59IGZyb20gJ3dlYi9lZmZlY3RzL3VzZS1kZWdyYWRlZC1wZXJmb3JtYW5jZSc7XG5pbXBvcnQgTEFOR1VBR0VfTUlHUkFUSU9OUyBmcm9tICdjb25zdGFudHMvbGFuZ3VhZ2UtbWlncmF0aW9ucyc7XG5pbXBvcnQgeyB1c2VJc01vYmlsZSB9IGZyb20gJ2VmZmVjdHMvdXNlLXNjcmVlbnNpemUnO1xuXG5jb25zdCBGaWxlRHJvcCA9IGxhenlJbXBvcnQoKCkgPT4gaW1wb3J0KCdjb21wb25lbnQvZmlsZURyb3AnIC8qIHdlYnBhY2tDaHVua05hbWU6IFwiZmlsZURyb3BcIiAqLykpO1xuY29uc3QgTmFnQ29udGludWVGaXJzdFJ1biA9IGxhenlJbXBvcnQoKCkgPT4gaW1wb3J0KCdjb21wb25lbnQvbmFnQ29udGludWVGaXJzdFJ1bicgLyogd2VicGFja0NodW5rTmFtZTogXCJuYWdDRlJcIiAqLykpO1xuY29uc3QgTmFnRGVncmFkZWRQZXJmb3JtYW5jZSA9IGxhenlJbXBvcnQoKCkgPT5cbiAgaW1wb3J0KCd3ZWIvY29tcG9uZW50L25hZy1kZWdyYWRlZC1wZXJmb3JtYW5jZScgLyogd2VicGFja0NodW5rTmFtZTogXCJOYWdEZWdyYWRlZFBlcmZvcm1hbmNlXCIgKi8pXG4pO1xuY29uc3QgTmFnTm9Vc2VyID0gbGF6eUltcG9ydCgoKSA9PiBpbXBvcnQoJ3dlYi9jb21wb25lbnQvbmFnLW5vLXVzZXInIC8qIHdlYnBhY2tDaHVua05hbWU6IFwibmFnLW5vLXVzZXJcIiAqLykpO1xuY29uc3QgTmFnU3Vuc2V0ID0gbGF6eUltcG9ydCgoKSA9PiBpbXBvcnQoJ3dlYi9jb21wb25lbnQvbmFnLXN1bnNldCcgLyogd2VicGFja0NodW5rTmFtZTogXCJuYWctc3Vuc2V0XCIgKi8pKTtcbmNvbnN0IFN5bmNGYXRhbEVycm9yID0gbGF6eUltcG9ydCgoKSA9PiBpbXBvcnQoJ2NvbXBvbmVudC9zeW5jRmF0YWxFcnJvcicgLyogd2VicGFja0NodW5rTmFtZTogXCJzeW5jRmF0YWxFcnJvclwiICovKSk7XG5cbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuZXhwb3J0IGNvbnN0IE1BSU5fV1JBUFBFUl9DTEFTUyA9ICdtYWluLXdyYXBwZXInO1xuZXhwb3J0IGNvbnN0IElTX01BQyA9IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignTWFjIE9TIFgnKSAhPT0gLTE7XG5cbi8vIGNvbnN0IGltYUxpYnJhcnlQYXRoID0gJ2h0dHBzOi8vaW1hc2RrLmdvb2dsZWFwaXMuY29tL2pzL3Nka2xvYWRlci9pbWEzLmpzJztcbmNvbnN0IG9uZVRydXN0U2NyaXB0U3JjID0gJ2h0dHBzOi8vY2RuLmNvb2tpZWxhdy5vcmcvc2NyaXB0dGVtcGxhdGVzL290U0RLU3R1Yi5qcyc7XG5cbmNvbnN0IExBVEVTVF9QQVRIID0gYC8kLyR7UEFHRVMuTEFURVNUfS9gO1xuY29uc3QgTElWRV9QQVRIID0gYC8kLyR7UEFHRVMuTElWRV9OT1d9L2A7XG5jb25zdCBFTUJFRF9QQVRIID0gYC8kLyR7UEFHRVMuRU1CRUR9L2A7XG5cbnR5cGUgUHJvcHMgPSB7XG4gIGxhbmd1YWdlOiBzdHJpbmcsXG4gIGxhbmd1YWdlczogQXJyYXk8c3RyaW5nPixcbiAgdGhlbWU6IHN0cmluZyxcbiAgdXNlcjogP3sgaWQ6IHN0cmluZywgaGFzX3ZlcmlmaWVkX2VtYWlsOiBib29sZWFuLCBpc19yZXdhcmRfYXBwcm92ZWQ6IGJvb2xlYW4gfSxcbiAgbG9jYWxlOiA/TG9jYWxlSW5mbyxcbiAgbG9jYXRpb246IHsgcGF0aG5hbWU6IHN0cmluZywgaGFzaDogc3RyaW5nLCBzZWFyY2g6IHN0cmluZywgaG9zdG5hbWU6IHN0cmluZywgcmVsb2FkOiAoKSA9PiB2b2lkIH0sXG4gIGhpc3Rvcnk6IHsgcHVzaDogKHN0cmluZykgPT4gdm9pZCwgbG9jYXRpb246IHsgcGF0aG5hbWU6IHN0cmluZyB9LCByZXBsYWNlOiAoc3RyaW5nKSA9PiB2b2lkIH0sXG4gIGZldGNoQ2hhbm5lbExpc3RNaW5lOiAoKSA9PiB2b2lkLFxuICBmZXRjaENvbGxlY3Rpb25MaXN0TWluZTogKCkgPT4gdm9pZCxcbiAgc2lnbkluOiAoKSA9PiB2b2lkLFxuICBzZXRMYW5ndWFnZTogKHN0cmluZykgPT4gdm9pZCxcbiAgZmV0Y2hMYW5ndWFnZTogKHN0cmluZykgPT4gdm9pZCxcbiAgaXNSZWxvYWRSZXF1aXJlZDogYm9vbGVhbixcbiAgdXBsb2FkQ291bnQ6IG51bWJlcixcbiAgYmFsYW5jZTogP251bWJlcixcbiAgc3luY0lzTG9ja2VkOiBib29sZWFuLFxuICBzeW5jRXJyb3I6ID9zdHJpbmcsXG4gIHByZWZzUmVhZHk6IGJvb2xlYW4sXG4gIHJld2FyZHM6IEFycmF5PFJld2FyZD4sXG4gIGRvVXNlclNldFJlZmVycmVyOiAocmVmZXJyZXJVcmk6IHN0cmluZykgPT4gdm9pZCxcbiAgaXNBdXRoZW50aWNhdGVkOiBib29sZWFuLFxuICBzeW5jTG9vcDogKD9ib29sZWFuKSA9PiB2b2lkLFxuICBjdXJyZW50TW9kYWw6IGFueSxcbiAgc3luY0ZhdGFsRXJyb3I6IGJvb2xlYW4sXG4gIGFjdGl2ZUNoYW5uZWxDbGFpbTogP0NoYW5uZWxDbGFpbSxcbiAgbXlDaGFubmVsQ2xhaW1JZHM6ID9BcnJheTxzdHJpbmc+LFxuICAvLyBoYXNQcmVtaXVtUGx1czogP2Jvb2xlYW4sXG4gIHNldEluY29nbml0bzogKGJvb2xlYW4pID0+IHZvaWQsXG4gIGZldGNoTW9kQmxvY2tlZExpc3Q6ICgpID0+IHZvaWQsXG4gIGZldGNoTW9kQW1JTGlzdDogKCkgPT4gdm9pZCxcbiAgaG9tZXBhZ2VGZXRjaGVkOiBib29sZWFuLFxuICBkZWZhdWx0Q2hhbm5lbENsYWltOiA/YW55LFxuICBuYWdzU2hvd246IGJvb2xlYW4sXG4gIGFubm91bmNlbWVudDogc3RyaW5nLFxuICBkb09wZW5Bbm5vdW5jZW1lbnRzOiAoKSA9PiB2b2lkLFxuICBkb1NldExhc3RWaWV3ZWRBbm5vdW5jZW1lbnQ6IChoYXNoOiBzdHJpbmcpID0+IHZvaWQsXG4gIGRvU2V0RGVmYXVsdENoYW5uZWw6IChjbGFpbUlkOiBzdHJpbmcpID0+IHZvaWQsXG4gIGRvU2V0R2RwckNvbnNlbnRMaXN0OiAoY3N2OiBzdHJpbmcpID0+IHZvaWQsXG59O1xuXG5mdW5jdGlvbiBBcHAocHJvcHM6IFByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICB0aGVtZSxcbiAgICB1c2VyLFxuICAgIGxvY2FsZSxcbiAgICBsb2NhdGlvbixcbiAgICBmZXRjaENoYW5uZWxMaXN0TWluZSxcbiAgICBmZXRjaENvbGxlY3Rpb25MaXN0TWluZSxcbiAgICBzaWduSW4sXG4gICAgaXNSZWxvYWRSZXF1aXJlZCxcbiAgICB1cGxvYWRDb3VudCxcbiAgICBoaXN0b3J5LFxuICAgIHN5bmNFcnJvcixcbiAgICBzeW5jSXNMb2NrZWQsXG4gICAgcHJlZnNSZWFkeSxcbiAgICBsYW5ndWFnZSxcbiAgICBsYW5ndWFnZXMsXG4gICAgc2V0TGFuZ3VhZ2UsXG4gICAgZmV0Y2hMYW5ndWFnZSxcbiAgICByZXdhcmRzLFxuICAgIGRvVXNlclNldFJlZmVycmVyLFxuICAgIGlzQXV0aGVudGljYXRlZCxcbiAgICBzeW5jTG9vcCxcbiAgICBjdXJyZW50TW9kYWwsXG4gICAgc3luY0ZhdGFsRXJyb3IsXG4gICAgbXlDaGFubmVsQ2xhaW1JZHMsXG4gICAgYWN0aXZlQ2hhbm5lbENsYWltLFxuICAgIHNldEluY29nbml0byxcbiAgICBmZXRjaE1vZEJsb2NrZWRMaXN0LFxuICAgIC8vIGhhc1ByZW1pdW1QbHVzLFxuICAgIGZldGNoTW9kQW1JTGlzdCxcbiAgICBkZWZhdWx0Q2hhbm5lbENsYWltLFxuICAgIG5hZ3NTaG93bixcbiAgICBhbm5vdW5jZW1lbnQsXG4gICAgZG9PcGVuQW5ub3VuY2VtZW50cyxcbiAgICBkb1NldExhc3RWaWV3ZWRBbm5vdW5jZW1lbnQsXG4gICAgZG9TZXREZWZhdWx0Q2hhbm5lbCxcbiAgICBkb1NldEdkcHJDb25zZW50TGlzdCxcbiAgfSA9IHByb3BzO1xuXG4gIGNvbnN0IGlzTW9iaWxlID0gdXNlSXNNb2JpbGUoKTtcbiAgY29uc3QgaXNFbmhhbmNlZExheW91dCA9IHVzZUtvbmFtaUxpc3RlbmVyKCk7XG4gIGNvbnN0IFtoYXNTaWduZWRJbiwgc2V0SGFzU2lnbmVkSW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBoYXNWZXJpZmllZEVtYWlsID0gdXNlciAmJiBCb29sZWFuKHVzZXIuaGFzX3ZlcmlmaWVkX2VtYWlsKTtcbiAgY29uc3QgaXNSZXdhcmRBcHByb3ZlZCA9IHVzZXIgJiYgdXNlci5pc19yZXdhcmRfYXBwcm92ZWQ7XG4gIGNvbnN0IHByZXZpb3VzSGFzVmVyaWZpZWRFbWFpbCA9IHVzZVByZXZpb3VzKGhhc1ZlcmlmaWVkRW1haWwpO1xuICBjb25zdCBwcmV2aW91c1Jld2FyZEFwcHJvdmVkID0gdXNlUHJldmlvdXMoaXNSZXdhcmRBcHByb3ZlZCk7XG5cbiAgY29uc3QgW2xicnlUdkFwaVN0YXR1cywgc2V0TGJyeVR2QXBpU3RhdHVzXSA9IHVzZVN0YXRlKFNUQVRVU19PSyk7XG4gIC8vIGNvbnN0IFtzaWRlYmFyT3Blbl0gPSB1c2VQZXJzaXN0ZWRTdGF0ZSgnc2lkZWJhcicsIGZhbHNlKTtcblxuICBjb25zdCB7IHBhdGhuYW1lLCBoYXNoLCBzZWFyY2gsIGhvc3RuYW1lIH0gPSBsb2NhdGlvbjtcbiAgY29uc3QgW3JldHJ5aW5nU3luYywgc2V0UmV0cnlpbmdTeW5jXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xhbmdSZW5kZXJLZXksIHNldExhbmdSZW5kZXJLZXldID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtzZWVuU3Vuc2VzdE1lc3NhZ2UsIHNldFNlZW5TdW5zZXRNZXNzYWdlXSA9IHVzZVBlcnNpc3RlZFN0YXRlKCdsYnJ5dHYtc3Vuc2V0JywgZmFsc2UpO1xuICAvLyByZWZlcnJhbCBjbGFpbWluZ1xuICBjb25zdCByZWZlcnJlZFJld2FyZEF2YWlsYWJsZSA9IHJld2FyZHMgJiYgcmV3YXJkcy5zb21lKChyZXdhcmQpID0+IHJld2FyZC5yZXdhcmRfdHlwZSA9PT0gUkVXQVJEUy5UWVBFX1JFRkVSRUUpO1xuICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHNlYXJjaCk7XG4gIGNvbnN0IHJhd1JlZmVycmVyUGFyYW0gPSB1cmxQYXJhbXMuZ2V0KCdyJyk7XG4gIGNvbnN0IGZyb21MYnJ5dHZQYXJhbSA9IHVybFBhcmFtcy5nZXQoJ3N1bnNldCcpO1xuICBjb25zdCBzYW5pdGl6ZWRSZWZlcnJlclBhcmFtID0gcmF3UmVmZXJyZXJQYXJhbSAmJiByYXdSZWZlcnJlclBhcmFtLnJlcGxhY2UoJzonLCAnIycpO1xuICBjb25zdCBlbWJlZFBhdGggPSBwYXRobmFtZS5zdGFydHNXaXRoKEVNQkVEX1BBVEgpO1xuICBjb25zdCBzaG91bGRIaWRlTmFnID0gZW1iZWRQYXRoIHx8IHBhdGhuYW1lLnN0YXJ0c1dpdGgoYC8kLyR7UEFHRVMuQVVUSF9WRVJJRll9YCk7XG4gIGNvbnN0IHVzZXJJZCA9IHVzZXIgJiYgdXNlci5pZDtcbiAgY29uc3QgaGFzTXlDaGFubmVscyA9IG15Q2hhbm5lbENsYWltSWRzICYmIG15Q2hhbm5lbENsYWltSWRzLmxlbmd0aCA+IDA7XG4gIGNvbnN0IGhhc05vQ2hhbm5lbHMgPSBteUNoYW5uZWxDbGFpbUlkcyAmJiBteUNoYW5uZWxDbGFpbUlkcy5sZW5ndGggPT09IDA7XG4gIGNvbnN0IHNob3VsZE1pZ3JhdGVMYW5ndWFnZSA9IExBTkdVQUdFX01JR1JBVElPTlNbbGFuZ3VhZ2VdO1xuICBjb25zdCByZW5kZXJGaWxlZHJvcCA9ICFpc01vYmlsZSAmJiBpc0F1dGhlbnRpY2F0ZWQ7XG4gIGNvbnN0IGNvbm5lY3Rpb25TdGF0dXMgPSB1c2VDb25uZWN0aW9uU3RhdHVzKCk7XG5cbiAgY29uc3QgdXJsUGF0aCA9IHBhdGhuYW1lICsgaGFzaDtcbiAgY29uc3QgbGF0ZXN0Q29udGVudFBhdGggPSB1cmxQYXRoLnN0YXJ0c1dpdGgoTEFURVNUX1BBVEgpO1xuICBjb25zdCBsaXZlQ29udGVudFBhdGggPSB1cmxQYXRoLnN0YXJ0c1dpdGgoTElWRV9QQVRIKTtcbiAgY29uc3QgZmVhdHVyZVBhcmFtID0gdXJsUGFyYW1zLmdldCgnZmVhdHVyZScpO1xuICBjb25zdCBlbWJlZExhdGVzdFBhdGggPSBlbWJlZFBhdGggJiYgKGZlYXR1cmVQYXJhbSA9PT0gUEFHRVMuTEFURVNUIHx8IGZlYXR1cmVQYXJhbSA9PT0gUEFHRVMuTElWRV9OT1cpO1xuICBjb25zdCBpc05ld2VzdFBhdGggPSBsYXRlc3RDb250ZW50UGF0aCB8fCBsaXZlQ29udGVudFBhdGggfHwgZW1iZWRMYXRlc3RQYXRoO1xuXG4gIGxldCBwYXRoO1xuICBpZiAoaXNOZXdlc3RQYXRoKSB7XG4gICAgcGF0aCA9IHVybFBhdGgucmVwbGFjZShlbWJlZExhdGVzdFBhdGggPyBFTUJFRF9QQVRIIDogbGF0ZXN0Q29udGVudFBhdGggPyBMQVRFU1RfUEFUSCA6IExJVkVfUEFUSCwgJycpO1xuICB9IGVsc2Uge1xuICAgIC8vIFJlbW92ZSB0aGUgbGVhZGluZyBcIi9cIiBhZGRlZCBieSB0aGUgYnJvd3NlclxuICAgIHBhdGggPSB1cmxQYXRoLnNsaWNlKDEpO1xuICB9XG4gIHBhdGggPSBwYXRoLnJlcGxhY2UoLzovZywgJyMnKTtcblxuICBpZiAoaXNOZXdlc3RQYXRoICYmICFwYXRoLnN0YXJ0c1dpdGgoJ0AnKSkge1xuICAgIHBhdGggPSBgQCR7cGF0aH1gO1xuICB9XG5cbiAgaWYgKHNlYXJjaCAmJiBzZWFyY2guc3RhcnRzV2l0aCgnP3E9Y2FjaGU6JykpIHtcbiAgICBnZW5lcmF0ZUdvb2dsZUNhY2hlVXJsKHNlYXJjaCwgcGF0aCk7XG4gIH1cblxuICBsZXQgdXJpO1xuICB0cnkge1xuICAgIC8vIGhlcmUgcXVlcnlTdHJpbmcgYW5kIHN0YXJ0VGltZSBhcmUgXCJyZW1vdmVkXCIgZnJvbSB0aGUgYnVpbGRVUkkgcHJvY2Vzc1xuICAgIC8vIHRvIGJ1aWxkIG9ubHkgdGhlIHVyaSBpdHNlbGZcbiAgICBjb25zdCB7IHF1ZXJ5U3RyaW5nLCBzdGFydFRpbWUsIC4uLnBhcnNlZFVyaSB9ID0gcGFyc2VVUkkocGF0aCk7XG4gICAgdXJpID0gYnVpbGRVUkkoeyAuLi5wYXJzZWRVcmkgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zdCBtYXRjaCA9IHBhdGgubWF0Y2goL1sjLzpdLyk7XG5cbiAgICBpZiAoIXBhdGguc3RhcnRzV2l0aCgnJC8nKSAmJiBtYXRjaCAmJiBtYXRjaC5pbmRleCkge1xuICAgICAgdXJpID0gYGxicnk6Ly8ke3BhdGguc2xpY2UoMCwgbWF0Y2guaW5kZXgpfWA7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U3RhdHVzTmFnKCkge1xuICAgIC8vIEhhbmRsZSBcIm9mZmxpbmVcIiBmaXJzdC4gRXZlcnl0aGluZyBlbHNlIGlzIG1lYW5pbmdsZXNzIGlmIGl0J3Mgb2ZmbGluZS5cbiAgICBpZiAoIWNvbm5lY3Rpb25TdGF0dXMub25saW5lKSB7XG4gICAgICByZXR1cm4gPE5hZyB0eXBlPVwiaGVscGZ1bFwiIG1lc3NhZ2U9e19fKCdZb3UgYXJlIG9mZmxpbmUuIENoZWNrIHlvdXIgaW50ZXJuZXQgY29ubmVjdGlvbi4nKX0gLz47XG4gICAgfVxuXG4gICAgLy8gT25seSAxIG5hZyBpcyBwb3NzaWJsZSwgc28gc2hvdyB0aGUgbW9zdCBpbXBvcnRhbnQ6XG5cbiAgICBpZiAodXNlciA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIDxOYWdOb1VzZXIgLz47XG4gICAgfVxuXG4gICAgaWYgKGxicnlUdkFwaVN0YXR1cyA9PT0gU1RBVFVTX0RFR1JBREVEIHx8IGxicnlUdkFwaVN0YXR1cyA9PT0gU1RBVFVTX0ZBSUxJTkcpIHtcbiAgICAgIGlmICghc2hvdWxkSGlkZU5hZykge1xuICAgICAgICByZXR1cm4gPE5hZ0RlZ3JhZGVkUGVyZm9ybWFuY2Ugb25DbG9zZT17KCkgPT4gc2V0TGJyeVR2QXBpU3RhdHVzKFNUQVRVU19PSyl9IC8+O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzeW5jRmF0YWxFcnJvcikge1xuICAgICAgaWYgKCFyZXRyeWluZ1N5bmMpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8TmFnXG4gICAgICAgICAgICB0eXBlPVwiZXJyb3JcIlxuICAgICAgICAgICAgbWVzc2FnZT17X18oJ0ZhaWxlZCB0byBzeW5jaHJvbml6ZSBzZXR0aW5ncy4gV2FpdCBhIHdoaWxlIGJlZm9yZSByZXRyeWluZy4nKX1cbiAgICAgICAgICAgIGFjdGlvblRleHQ9e19fKCdSZXRyeScpfVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICBzeW5jTG9vcCh0cnVlKTtcbiAgICAgICAgICAgICAgc2V0UmV0cnlpbmdTeW5jKHRydWUpO1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldFJldHJ5aW5nU3luYyhmYWxzZSksIDQwMDApO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNSZWxvYWRSZXF1aXJlZCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE5hZ1xuICAgICAgICAgIG1lc3NhZ2U9e19fKCdBIG5ldyB2ZXJzaW9uIG9mIE9keXNlZSBpcyBhdmFpbGFibGUuJyl9XG4gICAgICAgICAgYWN0aW9uVGV4dD17X18oJ1JlZnJlc2gnKX1cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCl9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHVzZXJJZCkge1xuICAgICAgYW5hbHl0aWNzLnNldFVzZXIodXNlcklkKTtcbiAgICAgIHNldFNlYXJjaFVzZXJJZCh1c2VySWQpO1xuICAgIH1cbiAgfSwgW3VzZXJJZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHN5bmNJc0xvY2tlZCkge1xuICAgICAgY29uc3QgbXNnID0gJ1RoZXJlIGFyZSB1bnNhdmVkIHNldHRpbmdzLiBFeGl0IHRoZSBTZXR0aW5ncyBQYWdlIHRvIGZpbmFsaXplIHRoZW0uJztcbiAgICAgIGNvbnN0IGhhbmRsZUJlZm9yZVVubG9hZCA9IChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IG1zZztcbiAgICAgIH07XG5cbiAgICAgIEJlZm9yZVVubG9hZC5yZWdpc3RlcihoYW5kbGVCZWZvcmVVbmxvYWQsIG1zZyk7XG4gICAgICByZXR1cm4gKCkgPT4gQmVmb3JlVW5sb2FkLnVucmVnaXN0ZXIoaGFuZGxlQmVmb3JlVW5sb2FkKTtcbiAgICB9XG4gIH0sIFtzeW5jSXNMb2NrZWRdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghdXBsb2FkQ291bnQpIHJldHVybjtcblxuICAgIGNvbnN0IG1zZyA9ICdVbmZpbmlzaGVkIHVwbG9hZHMuJztcbiAgICBjb25zdCBoYW5kbGVVbmxvYWQgPSAoZXZlbnQpID0+IHR1c1VubG9ja0FuZE5vdGlmeSgpO1xuICAgIGNvbnN0IGhhbmRsZUJlZm9yZVVubG9hZCA9IChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2ZW50LnJldHVyblZhbHVlID0gX18obXNnKTsgLy8gd2l0aG91dCBzZXR0aW5nIHRoaXMgdG8gc29tZXRoaW5nIGl0IGRvZXNuJ3Qgd29yayBpbiBzb21lIGJyb3dzZXJzLlxuICAgIH07XG5cbiAgICBVbmxvYWQucmVnaXN0ZXIoaGFuZGxlVW5sb2FkKTtcbiAgICBCZWZvcmVVbmxvYWQucmVnaXN0ZXIoaGFuZGxlQmVmb3JlVW5sb2FkLCBtc2cpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIFVubG9hZC51bnJlZ2lzdGVyKGhhbmRsZVVubG9hZCk7XG4gICAgICBCZWZvcmVVbmxvYWQudW5yZWdpc3RlcihoYW5kbGVCZWZvcmVVbmxvYWQpO1xuICAgIH07XG4gIH0sIFt1cGxvYWRDb3VudF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF1cGxvYWRDb3VudCkgcmV0dXJuO1xuXG4gICAgY29uc3Qgb25TdG9yYWdlVXBkYXRlID0gKGUpID0+IHR1c0hhbmRsZVRhYlVwZGF0ZXMoZS5rZXkpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzdG9yYWdlJywgb25TdG9yYWdlVXBkYXRlKTtcblxuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3RvcmFnZScsIG9uU3RvcmFnZVVwZGF0ZSk7XG4gIH0sIFt1cGxvYWRDb3VudF0pO1xuXG4gIC8vIGFsbG93cyB1c2VyIHRvIHBhdXNlIG1pbmlwbGF5ZXIgdXNpbmcgdGhlIHNwYWNlYmFyIHdpdGhvdXQgdGhlIHBhZ2Ugc2Nyb2xsaW5nIGRvd25cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVLZXlQcmVzcyA9IChlKSA9PiB7XG4gICAgICBpZiAoZS5rZXkgPT09ICcgJyAmJiBlLnRhcmdldCA9PT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleVByZXNzKTtcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlQcmVzcyk7XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChyZWZlcnJlZFJld2FyZEF2YWlsYWJsZSAmJiBzYW5pdGl6ZWRSZWZlcnJlclBhcmFtKSB7XG4gICAgICBkb1VzZXJTZXRSZWZlcnJlcihzYW5pdGl6ZWRSZWZlcnJlclBhcmFtKTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbc2FuaXRpemVkUmVmZXJyZXJQYXJhbSwgcmVmZXJyZWRSZXdhcmRBdmFpbGFibGVdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICB9LCBbZmV0Y2hDaGFubmVsTGlzdE1pbmUsIGZldGNoQ29sbGVjdGlvbkxpc3RNaW5lXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyAkRmxvd0ZpeE1lXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgndGhlbWUnLCB0aGVtZSk7XG4gIH0sIFt0aGVtZV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gJEZsb3dGaXhNZVxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3dZID0gY3VycmVudE1vZGFsID8gJ2hpZGRlbicgOiAnJztcbiAgfSwgW2N1cnJlbnRNb2RhbF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGhhc05vQ2hhbm5lbHMpIHtcbiAgICAgIHNldEluY29nbml0byh0cnVlKTtcbiAgICB9XG5cbiAgICBpZiAoaGFzTXlDaGFubmVscykge1xuICAgICAgZmV0Y2hNb2RCbG9ja2VkTGlzdCgpO1xuICAgICAgZmV0Y2hNb2RBbUlMaXN0KCk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW2hhc015Q2hhbm5lbHMsIGhhc05vQ2hhbm5lbHMsIHNldEluY29nbml0b10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGhhc015Q2hhbm5lbHMgJiYgYWN0aXZlQ2hhbm5lbENsYWltICYmICFkZWZhdWx0Q2hhbm5lbENsYWltICYmIHByZWZzUmVhZHkpIHtcbiAgICAgIGRvU2V0RGVmYXVsdENoYW5uZWwoYWN0aXZlQ2hhbm5lbENsYWltLmNsYWltX2lkKTtcbiAgICB9XG4gIH0sIFthY3RpdmVDaGFubmVsQ2xhaW0sIGRlZmF1bHRDaGFubmVsQ2xhaW0sIGRvU2V0RGVmYXVsdENoYW5uZWwsIGhhc015Q2hhbm5lbHMsIHByZWZzUmVhZHldKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vICRGbG93Rml4TWVcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKCdsYW5nJywgbGFuZ3VhZ2UpO1xuICB9LCBbbGFuZ3VhZ2VdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghbGFuZ3VhZ2VzLmluY2x1ZGVzKGxhbmd1YWdlKSkge1xuICAgICAgZmV0Y2hMYW5ndWFnZShsYW5ndWFnZSk7XG5cbiAgICAgIGlmIChkb2N1bWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgTEFOR1VBR0VTW2xhbmd1YWdlXS5sZW5ndGggPj0gMykge1xuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZGlyID0gTEFOR1VBR0VTW2xhbmd1YWdlXVsyXTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbbGFuZ3VhZ2UsIGxhbmd1YWdlc10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNob3VsZE1pZ3JhdGVMYW5ndWFnZSkge1xuICAgICAgc2V0TGFuZ3VhZ2Uoc2hvdWxkTWlncmF0ZUxhbmd1YWdlKTtcbiAgICB9XG4gIH0sIFtzaG91bGRNaWdyYXRlTGFuZ3VhZ2UsIHNldExhbmd1YWdlXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBDaGVjayB0aGF0IHByZXZpb3VzSGFzVmVyaWZpZWRFbWFpbCB3YXMgbm90IHVuZGVmaW5lZCBpbnN0ZWFkIG9mIGp1c3Qgbm90IHRydXRoeVxuICAgIC8vIFRoaXMgZW5zdXJlcyB3ZSBkb24ndCBmaXJlIHRoZSBlbWFpbFZlcmlmaWVkIGV2ZW50IG9uIHRoZSBpbml0aWFsIHVzZXIgZmV0Y2hcbiAgICBpZiAocHJldmlvdXNIYXNWZXJpZmllZEVtYWlsID09PSBmYWxzZSAmJiBoYXNWZXJpZmllZEVtYWlsKSB7XG4gICAgICBhbmFseXRpY3MuZXZlbnQuZW1haWxWZXJpZmllZCgpO1xuICAgIH1cbiAgfSwgW3ByZXZpb3VzSGFzVmVyaWZpZWRFbWFpbCwgaGFzVmVyaWZpZWRFbWFpbCwgc2lnbkluXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocHJldmlvdXNSZXdhcmRBcHByb3ZlZCA9PT0gZmFsc2UgJiYgaXNSZXdhcmRBcHByb3ZlZCkge1xuICAgICAgYW5hbHl0aWNzLmV2ZW50LnJld2FyZEVsaWdpYmxlKCk7XG4gICAgfVxuICB9LCBbcHJldmlvdXNSZXdhcmRBcHByb3ZlZCwgaXNSZXdhcmRBcHByb3ZlZF0pO1xuXG4gIC8vIExvYWQgSU1BMyBTREsgZm9yIGFuaXZpZXdcbiAgLy8gdXNlRWZmZWN0KCgpID0+IHtcbiAgLy8gICBpZiAoIWlzQXV0aGVudGljYXRlZCAmJiBTSE9XX0FEUykge1xuICAvLyAgICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gIC8vICAgICBzY3JpcHQuc3JjID0gaW1hTGlicmFyeVBhdGg7XG4gIC8vICAgICBzY3JpcHQuYXN5bmMgPSB0cnVlO1xuICAvLyAgICAgLy8gJEZsb3dGaXhNZVxuICAvLyAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAvLyAgICAgcmV0dXJuICgpID0+IHtcbiAgLy8gICAgICAgLy8gJEZsb3dGaXhNZVxuICAvLyAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gIC8vICAgICB9O1xuICAvLyAgIH1cbiAgLy8gfSwgW10pO1xuXG5cbiAgLy8gYWRkIE9uZVRydXN0IHNjcmlwdFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIGRvbid0IGFkZCBzY3JpcHQgZm9yIGVtYmVkZGVkIGNvbnRlbnRcbiAgICBmdW5jdGlvbiBpbklmcmFtZSgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuc2VsZiAhPT0gd2luZG93LnRvcDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGluSWZyYW1lKCkgfHwgIWxvY2FsZSB8fCAhbG9jYWxlLmdkcHJfcmVxdWlyZWQgfHwgd2luZG93LmNvcmRvdmEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyAkRmxvd0ZpeE1lXG4gICAgY29uc3QgdXNlUHJvZHVjdGlvbk9uZVRydXN0ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyAmJiBob3N0bmFtZSA9PT0gJ29keXNlZS5jb20nO1xuXG4gICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgc2NyaXB0LnNyYyA9IG9uZVRydXN0U2NyaXB0U3JjO1xuICAgIHNjcmlwdC5zZXRBdHRyaWJ1dGUoJ2NoYXJzZXQnLCAnVVRGLTgnKTtcbiAgICBpZiAodXNlUHJvZHVjdGlvbk9uZVRydXN0KSB7XG4gICAgICBzY3JpcHQuc2V0QXR0cmlidXRlKCdkYXRhLWRvbWFpbi1zY3JpcHQnLCAnOGE3OTJkODQtNTBhNS00YjY5LWIwODAtNjk1NGFkNGQ0NjA2Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjcmlwdC5zZXRBdHRyaWJ1dGUoJ2RhdGEtZG9tYWluLXNjcmlwdCcsICc4YTc5MmQ4NC01MGE1LTRiNjktYjA4MC02OTU0YWQ0ZDQ2MDYtdGVzdCcpO1xuICAgIH1cblxuICAgIGNvbnN0IHNlY29uZFNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIC8vIE9uZVRydXN0IGFza3MgdG8gYWRkIHRoaXNcbiAgICBzZWNvbmRTY3JpcHQuaW5uZXJIVE1MID0gJ2Z1bmN0aW9uIE9wdGFub25XcmFwcGVyKCkgeyB3aW5kb3cuZ2RwckNhbGxiYWNrKCkgfSc7XG5cbiAgICB3aW5kb3cuZ2RwckNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgZG9TZXRHZHByQ29uc2VudExpc3Qod2luZG93Lk9uZXRydXN0QWN0aXZlR3JvdXBzKTtcbiAgICAgIGlmICh3aW5kb3cuT25ldHJ1c3RBY3RpdmVHcm91cHMuaW5kZXhPZignQzAwMDInKSAhPT0gLTEpIHtcbiAgICAgICAgY29uc3QgYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdPVVRCUkFJTicpWzBdO1xuICAgICAgICBpZiAoYWQgJiYgIXdpbmRvdy5uYWdzU2hvd24pIGFkLmNsYXNzTGlzdC5hZGQoJ1ZJU0lCTEUnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gJEZsb3dGaXhNZVxuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICAvLyAkRmxvd0ZpeE1lXG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzZWNvbmRTY3JpcHQpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQoc2Vjb25kU2NyaXB0KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAvLyBjb25zb2xlLmxvZyhlcnIpOyA8LS0gZGlzYWJsaW5nIHRoaXMgLi4uIGl0J3MgY2xvZ2dpbmcgdXAgU2VudHJ5IGxvZ3MuXG4gICAgICB9XG4gICAgfTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzIC0tIG9uZSB0aW1lIGFmdGVyIGxvY2FsZSBpcyBmZXRjaGVkXG4gIH0sIFtsb2NhbGVdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHdpbmRvdy5uYWdzU2hvd24gPSBuYWdzU2hvd247XG4gICAgaWYgKG5hZ3NTaG93bikge1xuICAgICAgY29uc3QgYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdWSVNJQkxFJylbMF07XG4gICAgICBpZiAoYWQpIGFkLmNsYXNzTGlzdC5yZW1vdmUoJ1ZJU0lCTEUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdPVVRCUkFJTicpWzBdO1xuICAgICAgaWYgKGFkKSBhZC5jbGFzc0xpc3QuYWRkKCdWSVNJQkxFJyk7XG4gICAgfVxuICB9LCBbbmFnc1Nob3duXSk7XG5cbiAgLy8gcmVhZHkgZm9yIHN5bmMgc3luY3MsIGhvd2V2ZXIgYWZ0ZXIgc2lnbmluIHdoZW4gaGFzVmVyaWZpZWRFbWFpbCwgdGhhdCBzeW5jcyB0b28uXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gc2lnbkluU3luY1ByZWYgaXMgY2xlYXJlZCBhZnRlciBzaGFyZWRTdGF0ZSBsb29wLlxuICAgIGNvbnN0IHN5bmNMb29wV2l0aG91dEludGVydmFsID0gKCkgPT4gc3luY0xvb3AodHJ1ZSk7XG4gICAgaWYgKGhhc1NpZ25lZEluICYmIGhhc1ZlcmlmaWVkRW1haWwpIHtcbiAgICAgIC8vIEluIGNhc2Ugd2UgYXJlIHN5bmNpbmcuXG4gICAgICBzeW5jTG9vcCgpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgc3luY0xvb3BXaXRob3V0SW50ZXJ2YWwpO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgc3luY0xvb3BXaXRob3V0SW50ZXJ2YWwpO1xuICAgIH07XG4gIH0sIFtoYXNTaWduZWRJbiwgaGFzVmVyaWZpZWRFbWFpbCwgc3luY0xvb3BdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzeW5jRXJyb3IgJiYgaXNBdXRoZW50aWNhdGVkICYmICFwYXRobmFtZS5pbmNsdWRlcyhQQUdFUy5BVVRIX1dBTExFVF9QQVNTV09SRCkgJiYgIWN1cnJlbnRNb2RhbCkge1xuICAgICAgaGlzdG9yeS5wdXNoKGAvJC8ke1BBR0VTLkFVVEhfV0FMTEVUX1BBU1NXT1JEfT9yZWRpcmVjdD0ke3BhdGhuYW1lfWApO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtzeW5jRXJyb3IsIHBhdGhuYW1lLCBpc0F1dGhlbnRpY2F0ZWRdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwcmVmc1JlYWR5ICYmIGlzQXV0aGVudGljYXRlZCAmJiAocGF0aG5hbWUgPT09ICcvJyB8fCBwYXRobmFtZSA9PT0gYC8kLyR7UEFHRVMuSEVMUH1gKSAmJiBhbm5vdW5jZW1lbnQgIT09ICcnKSB7XG4gICAgICBkb09wZW5Bbm5vdW5jZW1lbnRzKCk7XG4gICAgfVxuICB9LCBbYW5ub3VuY2VtZW50LCBpc0F1dGhlbnRpY2F0ZWQsIHBhdGhuYW1lLCBwcmVmc1JlYWR5XSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB3aW5kb3cuY2xlYXJMYXN0Vmlld2VkQW5ub3VuY2VtZW50ID0gKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ0NsZWFyaW5nIGhpc3RvcnkuIFBsZWFzZSB3YWl0IC4uLicpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGRvU2V0TGFzdFZpZXdlZEFubm91bmNlbWVudCgnY2xlYXInKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgLy8gS2VlcCB0aGlzIGF0IHRoZSBlbmQgdG8gZW5zdXJlIGluaXRpYWwgc2V0dXAgZWZmZWN0cyBhcmUgcnVuIGZpcnN0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFoYXNTaWduZWRJbiAmJiBoYXNWZXJpZmllZEVtYWlsKSB7XG4gICAgICBzaWduSW4oKTtcbiAgICAgIHNldEhhc1NpZ25lZEluKHRydWUpO1xuICAgIH1cbiAgfSwgW2hhc1ZlcmlmaWVkRW1haWwsIHNpZ25JbiwgaGFzU2lnbmVkSW5dKTtcblxuICB1c2VEZWdyYWRlZFBlcmZvcm1hbmNlKHNldExicnlUdkFwaVN0YXR1cywgdXNlcik7XG5cbiAgLy8gdXNlQWRPdXRicmFpbihCb29sZWFuKGhhc1ByZW1pdW1QbHVzKSwgaXNBdXRoZW50aWNhdGVkLCBoaXN0b3J5Py5sb2NhdGlvbj8ucGF0aG5hbWUpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFzeW5jSXNMb2NrZWQpIHtcbiAgICAgIC8vIFdoZW4gbGFuZ3VhZ2UgaXMgY2hhbmdlZCBvciB0cmFuc2xhdGlvbnMgYXJlIGZldGNoZWQsIHdlIHJlbmRlci5cbiAgICAgIHNldExhbmdSZW5kZXJLZXkoRGF0ZS5ub3coKSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHMgLS0gZG9uJ3QgcmVzcG9uZCB0byBzeW5jSXNMb2NrZWQsIGJ1dCBza2lwIGFjdGlvbiB3aGVuIGxvY2tlZC5cbiAgfSwgW2xhbmd1YWdlLCBsYW5ndWFnZXNdKTtcblxuICBjb25zdCBhcHBSZWYgPSBSZWFjdC51c2VDYWxsYmFjaygod3JhcHBlckVsZW1lbnQpID0+IHtcbiAgICBpZiAod3JhcHBlckVsZW1lbnQpIHtcbiAgICAgIFJlYWN0TW9kYWwuc2V0QXBwRWxlbWVudCh3cmFwcGVyRWxlbWVudCk7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gUmVxdWlyZSBhbiBpbnRlcm5hbC1hcGkgdXNlciBvbiBsYnJ5LnR2XG4gIC8vIFRoaXMgYWxzbyBwcmV2ZW50cyB0aGUgc2l0ZSBmcm9tIGxvYWRpbmcgaW4gdGhlIHVuLWF1dGhlZCBzdGF0ZSB3aGlsZSB3ZSB3YWl0IGZvciBpbnRlcm5hbC1hcGlzIHRvIHJldHVybiBmb3IgdGhlIGZpcnN0IHRpbWVcbiAgLy8gSXQncyBub3QgbmVlZGVkIG9uIGRlc2t0b3Agc2luY2UgdGhlcmUgaXMgbm8gdW4tYXV0aGVkIHN0YXRlXG4gIGlmICh1c2VyID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYWluLS1lbXB0eVwiPlxuICAgICAgICA8U3Bpbm5lciBkZWxheWVkIC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKGNvbm5lY3Rpb25TdGF0dXMub25saW5lICYmIGxicnlUdkFwaVN0YXR1cyA9PT0gU1RBVFVTX0RPV04pIHtcbiAgICAvLyBUT0RPOiBSZW5hbWUgYFN5bmNGYXRhbEVycm9yYCBzaW5jZSBpdCBoYXMgbm90aGluZyB0byBkbyB3aXRoIHN5bmNpbmcuXG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5TdXNwZW5zZSBmYWxsYmFjaz17bnVsbH0+XG4gICAgICAgIDxTeW5jRmF0YWxFcnJvciBsYnJ5VHZBcGlTdGF0dXM9e2xicnlUdkFwaVN0YXR1c30gLz5cbiAgICAgIDwvUmVhY3QuU3VzcGVuc2U+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e01BSU5fV1JBUFBFUl9DTEFTU30gcmVmPXthcHBSZWZ9IGtleT17bGFuZ1JlbmRlcktleX0+XG4gICAgICB7bGJyeVR2QXBpU3RhdHVzID09PSBTVEFUVVNfRE9XTiA/IChcbiAgICAgICAgPFlyYmxcbiAgICAgICAgICBjbGFzc05hbWU9XCJtYWluLS1lbXB0eVwiXG4gICAgICAgICAgdGl0bGU9e19fKCdvZHlzZWUuY29tIGlzIGN1cnJlbnRseSBkb3duJyl9XG4gICAgICAgICAgc3VidGl0bGU9e19fKCdNeSB3aGVlbCBicm9rZSwgYnV0IHRoZSBnb29kIG5ld3MgaXMgdGhhdCBzb21lb25lIGZyb20gTEJSWSBpcyB3b3JraW5nIG9uIGl0LicpfVxuICAgICAgICAvPlxuICAgICAgKSA6IChcbiAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICAgIHsvKiA8QWRCbG9ja1Rlc3RlciAvPiAqL31cbiAgICAgICAgICB7LyogPEFkc1N0aWNreSB1cmk9e3VyaX0gLz4gKi99XG4gICAgICAgICAgPFJvdXRlciB1cmk9e3VyaX0gLz5cbiAgICAgICAgICA8TW9kYWxSb3V0ZXIgLz5cblxuICAgICAgICAgIDxSZWFjdC5TdXNwZW5zZSBmYWxsYmFjaz17bnVsbH0+e3JlbmRlckZpbGVkcm9wICYmIDxGaWxlRHJvcCAvPn08L1JlYWN0LlN1c3BlbnNlPlxuXG4gICAgICAgICAgPEZpbGVSZW5kZXJGbG9hdGluZyAvPlxuXG4gICAgICAgICAgPFJlYWN0LlN1c3BlbnNlIGZhbGxiYWNrPXtudWxsfT5cbiAgICAgICAgICAgIHtpc0VuaGFuY2VkTGF5b3V0ICYmIDxZcmJsIGNsYXNzTmFtZT1cInlyYmwtLWVuaGFuY2VkXCIgLz59XG5cbiAgICAgICAgICAgIHsvKiA8WW91dHViZVdlbGNvbWUgLz4gKi99XG4gICAgICAgICAgICB7IXNob3VsZEhpZGVOYWcgJiYgPE5hZ0NvbnRpbnVlRmlyc3RSdW4gLz59XG4gICAgICAgICAgICB7ZnJvbUxicnl0dlBhcmFtICYmICFzZWVuU3Vuc2VzdE1lc3NhZ2UgJiYgIXNob3VsZEhpZGVOYWcgJiYgKFxuICAgICAgICAgICAgICA8TmFnU3Vuc2V0IGVtYWlsPXtoYXNWZXJpZmllZEVtYWlsfSBvbkNsb3NlPXsoKSA9PiBzZXRTZWVuU3Vuc2V0TWVzc2FnZSh0cnVlKX0gLz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7Z2V0U3RhdHVzTmFnKCl9XG4gICAgICAgICAgPC9SZWFjdC5TdXNwZW5zZT5cbiAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHdpdGhSb3V0ZXIoQXBwKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUEsZ09BQ0E7QUFEQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQTBDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUF3Q0E7QUFDQTtBQUNBO0FBMUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUEwQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQS9DQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFGQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFzREE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRkE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSEE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBUkE7QUFXQTtBQWRBO0FBZ0JBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQVZBO0FBYUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRkE7QUFiQTtBQW1CQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBTkE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFQQTtBQVVBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFEQTtBQU9BO0FBR0E7QUFDQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBQ0E7QUFGQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQUNBO0FBREE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBQ0E7QUFEQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQUNBO0FBQ0E7QUFhQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQW5DQTtBQUNBO0FBQ0E7QUFxQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFPQTtBQUNBO0FBcERBO0FBQUE7QUF5REE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFSQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBUkE7QUFhQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBREE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUZBO0FBREE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU9BO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFEQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUhBO0FBU0E7QUFBQTtBQUdBO0FBQUE7QUFJQTtBQUFBO0FBQ0E7QUFBQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFRQTtBQUNBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../ui/component/app/view.jsx\n");

/***/ }),

/***/ "../ui/component/claimListDiscover/view.jsx":
/*!**************************************************!*\
  !*** ../ui/component/claimListDiscover/view.jsx ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__) {/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! config */ \"../config.js\");\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(config__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var constants_claim_search__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! constants/claim_search */ \"../ui/constants/claim_search.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router */ \"../node_modules/react-router/esm/react-router.js\");\n/* harmony import */ var constants_tags__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! constants/tags */ \"../ui/constants/tags.js\");\n/* harmony import */ var util_default_languages__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! util/default-languages */ \"../ui/util/default-languages.js\");\n/* harmony import */ var util_claim__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! util/claim */ \"../ui/util/claim.js\");\n/* harmony import */ var util_lbryURI__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! util/lbryURI */ \"../ui/util/lbryURI.js\");\n/* harmony import */ var component_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! component/button */ \"../ui/component/button/index.js\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! moment */ \"../node_modules/moment/moment.js\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var component_claimList__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! component/claimList */ \"../ui/component/claimList/index.js\");\n/* harmony import */ var component_claimPreview__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! component/claimPreview */ \"../ui/component/claimPreview/index.js\");\n/* harmony import */ var component_claimPreviewTile__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! component/claimPreviewTile */ \"../ui/component/claimPreviewTile/index.js\");\n/* harmony import */ var component_i18nMessage__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! component/i18nMessage */ \"../ui/component/i18nMessage/index.js\");\n/* harmony import */ var component_langFilterIndicator__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! component/langFilterIndicator */ \"../ui/component/langFilterIndicator/index.js\");\n/* harmony import */ var component_claimListHeader__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! component/claimListHeader */ \"../ui/component/claimListHeader/index.js\");\n/* harmony import */ var effects_use_fetch_view_count__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! effects/use-fetch-view-count */ \"../ui/effects/use-fetch-view-count.js\");\n/* harmony import */ var effects_use_resolve_pins__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! effects/use-resolve-pins */ \"../ui/effects/use-resolve-pins.js\");\n/* harmony import */ var effects_use_screensize__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! effects/use-screensize */ \"../ui/effects/use-screensize.js\");\n/* harmony import */ var effects_use_get_user_memberships__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! effects/use-get-user-memberships */ \"../ui/effects/use-get-user-memberships.js\");\n/* harmony import */ var effects_use_persistent_user_param__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! effects/use-persistent-user-param */ \"../ui/effects/use-persistent-user-param.js\");\n/* harmony import */ var effects_use_persisted_state__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! effects/use-persisted-state */ \"../ui/effects/use-persisted-state.js\");\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ClaimListDiscover(props) {\n  var doClaimSearch = props.doClaimSearch,\n      claimSearchByQuery = props.claimSearchByQuery,\n      _props$showHeader = props.showHeader,\n      showHeader = _props$showHeader === void 0 ? true : _props$showHeader,\n      type = props.type,\n      claimSearchByQueryLastPageReached = props.claimSearchByQueryLastPageReached,\n      tags = props.tags,\n      notTags = props.notTags,\n      defaultTags = props.defaultTags,\n      loading = props.loading,\n      meta = props.meta,\n      subSection = props.subSection,\n      channelIds = props.channelIds,\n      excludedChannelIds = props.excludedChannelIds,\n      showNsfw = props.showNsfw,\n      hideReposts = props.hideReposts,\n      fetchViewCount = props.fetchViewCount,\n      history = props.history,\n      location = props.location,\n      mutedUris = props.mutedUris,\n      blockedUris = props.blockedUris,\n      hiddenNsfwMessage = props.hiddenNsfwMessage,\n      defaultOrderBy = props.defaultOrderBy,\n      sortBy = props.sortBy,\n      orderBy = props.orderBy,\n      headerLabel = props.headerLabel,\n      header = props.header,\n      name = props.name,\n      claimType = props.claimType,\n      defaultClaimType = props.defaultClaimType,\n      streamType = props.streamType,\n      defaultStreamType = props.defaultStreamType,\n      freshness = props.freshness,\n      _props$defaultFreshne = props.defaultFreshness,\n      defaultFreshness = _props$defaultFreshne === void 0 ? constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FRESH_WEEK\"] : _props$defaultFreshne,\n      renderProperties = props.renderProperties,\n      includeSupportAction = props.includeSupportAction,\n      repostedClaimId = props.repostedClaimId,\n      hideAdvancedFilter = props.hideAdvancedFilter,\n      _props$infiniteScroll = props.infiniteScroll,\n      infiniteScroll = _props$infiniteScroll === void 0 ? true : _props$infiniteScroll,\n      followedTags = props.followedTags,\n      injectedItem = props.injectedItem,\n      feeAmount = props.feeAmount,\n      uris = props.uris,\n      prefixUris = props.prefixUris,\n      pins = props.pins,\n      tileLayout = props.tileLayout,\n      _props$hideFilters = props.hideFilters,\n      hideFilters = _props$hideFilters === void 0 ? false : _props$hideFilters,\n      claimIds = props.claimIds,\n      maxPages = props.maxPages,\n      hideRepostsOverride = props.hideRepostsOverride,\n      languageSetting = props.languageSetting,\n      searchLanguages = props.searchLanguages,\n      searchInLanguage = props.searchInLanguage,\n      ignoreSearchInLanguage = props.ignoreSearchInLanguage,\n      limitClaimsPerChannel = props.limitClaimsPerChannel,\n      releaseTime = props.releaseTime,\n      scrollAnchor = props.scrollAnchor,\n      _props$showHiddenByUs = props.showHiddenByUser,\n      showHiddenByUser = _props$showHiddenByUs === void 0 ? false : _props$showHiddenByUs,\n      hasSource = props.hasSource,\n      hasNoSource = props.hasNoSource,\n      _props$isChannel = props.isChannel,\n      isChannel = _props$isChannel === void 0 ? false : _props$isChannel,\n      showNoSourceClaims = props.showNoSourceClaims,\n      empty = props.empty,\n      claimsByUri = props.claimsByUri,\n      claimsById = props.claimsById,\n      doFetchViewCount = props.doFetchViewCount,\n      _props$hideLayoutButt = props.hideLayoutButton,\n      hideLayoutButton = _props$hideLayoutButt === void 0 ? false : _props$hideLayoutButt,\n      loadedCallback = props.loadedCallback,\n      maxClaimRender = props.maxClaimRender,\n      _props$useSkeletonScr = props.useSkeletonScreen,\n      useSkeletonScreen = _props$useSkeletonScr === void 0 ? true : _props$useSkeletonScr,\n      _props$excludeUris = props.excludeUris,\n      excludeUris = _props$excludeUris === void 0 ? [] : _props$excludeUris,\n      doFetchUserMemberships = props.doFetchUserMemberships,\n      _props$swipeLayout = props.swipeLayout,\n      swipeLayout = _props$swipeLayout === void 0 ? false : _props$swipeLayout,\n      doResolveUris = props.doResolveUris,\n      doResolveClaimIds = props.doResolveClaimIds;\n  var resolvedPinUris = Object(effects_use_resolve_pins__WEBPACK_IMPORTED_MODULE_17__[\"default\"])({\n    pins: pins,\n    claimsById: claimsById,\n    doResolveClaimIds: doResolveClaimIds,\n    doResolveUris: doResolveUris\n  });\n  var didNavigateForward = history.action === 'PUSH';\n  var search = location.search;\n  var prevUris = react__WEBPACK_IMPORTED_MODULE_2___default.a.useRef();\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_2___default.a.useState(1),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      page = _React$useState2[0],\n      setPage = _React$useState2[1];\n\n  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_2___default.a.useState(),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      forceRefresh = _React$useState4[0],\n      setForceRefresh = _React$useState4[1];\n\n  var isLargeScreen = Object(effects_use_screensize__WEBPACK_IMPORTED_MODULE_18__[\"useIsLargeScreen\"])();\n  var followed = followedTags && followedTags.map(function (t) {\n    return t.name;\n  }) || [];\n  var urlParams = new URLSearchParams(search);\n  var tagsParam = // can be 'x,y,z' or 'x' or ['x','y'] or CS.CONSTANT\n  tags && getParamFromTags(tags) || urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"TAGS_KEY\"]) !== null && urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"TAGS_KEY\"]) || defaultTags && getParamFromTags(defaultTags);\n  var freshnessParam = freshness || urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FRESH_KEY\"]) || defaultFreshness;\n  var sortByParam = sortBy || urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"SORT_BY_KEY\"]) || constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"SORT_BY\"].NEWEST.key;\n  var mutedAndBlockedChannelIds = Array.from(new Set(mutedUris.concat(blockedUris).map(function (uri) {\n    return Object(util_lbryURI__WEBPACK_IMPORTED_MODULE_7__[\"splitBySeparator\"])(uri)[1];\n  })));\n\n  var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_2___default.a.useState([]),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      hiddenBuffer = _React$useState6[0],\n      setHiddenBuffer = _React$useState6[1];\n\n  var hideRepostsEffective = resolveHideReposts(hideReposts, hideRepostsOverride);\n  var langParam = urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"LANGUAGE_KEY\"]) || null;\n  var searchInSelectedLang = searchInLanguage && !ignoreSearchInLanguage;\n  var languageParams = Object(util_default_languages__WEBPACK_IMPORTED_MODULE_5__[\"resolveLangForClaimSearch\"])(languageSetting, searchInSelectedLang, searchLanguages, langParam);\n  var claimTypeParam = claimType || defaultClaimType || null;\n  var streamTypeParam = streamType || defaultStreamType || null;\n  var contentTypeParam = urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CONTENT_KEY\"]);\n\n  if (contentTypeParam) {\n    switch (contentTypeParam) {\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CLAIM_COLLECTION\"]:\n        claimTypeParam = contentTypeParam;\n        streamTypeParam = undefined;\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CLAIM_REPOST\"]:\n        claimTypeParam = contentTypeParam;\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CLAIM_CHANNEL\"]:\n        claimTypeParam = constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CLAIM_CHANNEL\"];\n        streamTypeParam = undefined;\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FILE_VIDEO\"]:\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FILE_AUDIO\"]:\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FILE_IMAGE\"]:\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FILE_MODEL\"]:\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FILE_BINARY\"]:\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FILE_DOCUMENT\"]:\n        streamTypeParam = contentTypeParam;\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CONTENT_ALL\"]:\n        claimTypeParam = undefined;\n        streamTypeParam = undefined;\n        break;\n\n      default:\n        console.log('Invalid or unhandled CONTENT_KEY:', contentTypeParam); // eslint-disable-line no-console\n\n        break;\n    }\n  }\n\n  var durationParam = Object(effects_use_persistent_user_param__WEBPACK_IMPORTED_MODULE_20__[\"default\"])([urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"DURATION_KEY\"]) || constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"DURATION_ALL\"]], 'durUser', null);\n\n  var _usePersistedState = Object(effects_use_persisted_state__WEBPACK_IMPORTED_MODULE_21__[\"default\"])(\"durUserMinutes-\".concat(location.pathname), 5),\n      _usePersistedState2 = _slicedToArray(_usePersistedState, 1),\n      durationMinutes = _usePersistedState2[0];\n\n  var channelIdsInUrl = urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CHANNEL_IDS_KEY\"]);\n  var channelIdsParam = channelIdsInUrl ? channelIdsInUrl.split(',') : channelIds;\n  var excludedIdsParam = excludedChannelIds;\n  var feeAmountParam = urlParams.get('fee_amount') || feeAmount;\n  var originalPageSize = 12;\n  var dynamicPageSize = isLargeScreen ? Math.ceil(originalPageSize / 2 * 6) : Math.ceil(originalPageSize / 2 * 4);\n  var orderParam = Object(effects_use_persistent_user_param__WEBPACK_IMPORTED_MODULE_20__[\"default\"])([orderBy, urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_KEY\"]), defaultOrderBy], 'orderUser', constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_TRENDING\"]);\n  var options = {\n    page_size: dynamicPageSize,\n    page: page,\n    name: name,\n    claim_type: claimType || ['stream', 'repost', 'channel'],\n    // no_totals makes it so the sdk doesn't have to calculate total number pages for pagination\n    // it's faster, but we will need to remove it if we start using total_pages\n    no_totals: true,\n    not_channel_ids: isChannel ? undefined : mutedAndBlockedChannelIds,\n    not_tags: !showNsfw ? constants_tags__WEBPACK_IMPORTED_MODULE_4__[\"MATURE_TAGS\"] : [],\n    order_by: resolveOrderByOption(orderParam, sortByParam),\n    remove_duplicates: isChannel ? undefined : true\n  };\n\n  if (config__WEBPACK_IMPORTED_MODULE_0__[\"ENABLE_NO_SOURCE_CLAIMS\"] && hasNoSource) {\n    options.has_no_source = true;\n  } else if (hasSource || !config__WEBPACK_IMPORTED_MODULE_0__[\"ENABLE_NO_SOURCE_CLAIMS\"] && (!claimType || claimType === 'stream')) {\n    options.has_source = true;\n  }\n\n  if (limitClaimsPerChannel) {\n    options.limit_claims_per_channel = limitClaimsPerChannel;\n  }\n\n  if (feeAmountParam && claimType !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CLAIM_CHANNEL\"]) {\n    options.fee_amount = feeAmountParam;\n  }\n\n  if (claimIds) {\n    options.claim_ids = claimIds;\n  }\n\n  if (channelIdsParam) {\n    options.channel_ids = channelIdsParam;\n  }\n\n  if (excludedIdsParam) {\n    options.not_channel_ids = (options.not_channel_ids || []).concat(excludedIdsParam);\n  }\n\n  if (tagsParam) {\n    if (tagsParam !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"TAGS_ALL\"] && tagsParam !== '') {\n      if (tagsParam === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"TAGS_FOLLOWED\"]) {\n        options.any_tags = followed;\n      } else if (Array.isArray(tagsParam)) {\n        options.any_tags = tagsParam;\n      } else {\n        options.any_tags = tagsParam.split(',');\n      }\n    }\n  }\n\n  if (notTags) {\n    options.not_tags = options.not_tags.concat(notTags);\n  }\n\n  if (repostedClaimId) {\n    // SDK chokes on reposted_claim_id of null or false, needs to not be present if no value\n    options.reposted_claim_id = repostedClaimId;\n  } // IF release time, set it, else set fallback release times using the hack below.\n\n\n  if (releaseTime && claimTypeParam !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CLAIM_CHANNEL\"]) {\n    options.release_time = releaseTime;\n  } else if (claimTypeParam !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CLAIM_CHANNEL\"]) {\n    if (orderParam === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_TOP\"] && freshnessParam !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FRESH_ALL\"]) {\n      options.release_time = \">\".concat(Math.floor(moment__WEBPACK_IMPORTED_MODULE_9___default()().subtract(1, freshnessParam).startOf('hour').unix()));\n    } else if (orderParam === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_NEW\"] || orderParam === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_TRENDING\"]) {\n      // Warning - hack below\n      // If users are following more than 10 channels or tags, limit results to stuff less than a year old\n      // For more than 20, drop it down to 6 months\n      // This helps with timeout issues for users that are following a ton of stuff\n      // https://github.com/lbryio/lbry-sdk/issues/2420\n      if (options.channel_ids && options.channel_ids.length > 20 || options.any_tags && options.any_tags.length > 20) {\n        options.release_time = \">\".concat(Math.floor(moment__WEBPACK_IMPORTED_MODULE_9___default()().subtract(3, constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FRESH_MONTH\"]).startOf('week').unix()));\n      } else if (options.channel_ids && options.channel_ids.length > 10 || options.any_tags && options.any_tags.length > 10) {\n        options.release_time = \">\".concat(Math.floor(moment__WEBPACK_IMPORTED_MODULE_9___default()().subtract(1, constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"FRESH_YEAR\"]).startOf('week').unix()));\n      } else {\n        // Hack for at least the New page until https://github.com/lbryio/lbry-sdk/issues/2591 is fixed\n        options.release_time = \"<\".concat(Math.floor(moment__WEBPACK_IMPORTED_MODULE_9___default()().startOf('minute').unix()));\n      }\n    }\n  }\n\n  if (durationParam) {\n    switch (durationParam) {\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"DURATION_ALL\"]:\n        // Do nothing (no options needed)\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"DURATION_SHORT\"]:\n        options.duration = '<=240';\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"DURATION_LONG\"]:\n        options.duration = '>=1200';\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"DURATION_GT_EQ\"]:\n        options.duration = \">=\".concat((durationMinutes || 0) * 60);\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"DURATION_LT_EQ\"]:\n        options.duration = \"<=\".concat((durationMinutes || 0) * 60);\n        break;\n\n      default:\n        console.error('Unhandled duration: ' + durationParam);\n        break;\n    }\n  }\n\n  if (streamTypeParam && streamTypeParam !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CONTENT_ALL\"] && claimType !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CLAIM_CHANNEL\"]) {\n    options.stream_types = typeof streamTypeParam === 'string' ? [streamTypeParam] : streamTypeParam;\n  }\n\n  if (claimTypeParam) {\n    if (claimTypeParam !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"CONTENT_ALL\"]) {\n      if (Array.isArray(claimTypeParam)) {\n        options.claim_type = claimTypeParam;\n      } else {\n        options.claim_type = [claimTypeParam];\n      }\n    }\n  }\n\n  if (languageParams) {\n    if (languageParams !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"LANGUAGES_ALL\"]) {\n      options.any_languages = languageParams.split(',');\n    }\n  }\n\n  if (tagsParam) {\n    if (tagsParam !== constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"TAGS_ALL\"] && tagsParam !== '') {\n      if (tagsParam === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"TAGS_FOLLOWED\"]) {\n        options.any_tags = followed;\n      } else if (Array.isArray(tagsParam)) {\n        options.any_tags = tagsParam;\n      } else {\n        options.any_tags = tagsParam.split(',');\n      }\n    }\n  }\n\n  if (hideRepostsEffective && !options.reposted_claim_id) {\n    if (Array.isArray(options.claim_type)) {\n      if (options.claim_type.length > 1) {\n        options.claim_type = options.claim_type.filter(function (claimType) {\n          return claimType !== 'repost';\n        });\n      }\n    } else {\n      options.claim_type = ['stream', 'channel'];\n    }\n  }\n\n  var hasMatureTags = tagsParam && tagsParam.split(',').some(function (t) {\n    return constants_tags__WEBPACK_IMPORTED_MODULE_4__[\"MATURE_TAGS\"].includes(t);\n  });\n  var searchKey = Object(util_claim__WEBPACK_IMPORTED_MODULE_6__[\"createNormalizedClaimSearchKey\"])(options);\n  var claimSearchResult = claimSearchByQuery[searchKey];\n  var claimSearchResultLastPageReached = claimSearchByQueryLastPageReached[searchKey];\n  var isUnfetchedClaimSearch = claimSearchResult === undefined; // uncomment to fix an item on a page\n  //   const fixUri = 'lbry://@corbettreport#0/lbryodysee#5';\n  //   if (\n  //     orderParam === CS.ORDER_BY_NEW &&\n  //     claimSearchResult &&\n  //     claimSearchResult.length > 2 &&\n  //     window.location.pathname === '/$/rabbithole'\n  //   ) {\n  //     if (claimSearchResult.indexOf(fixUri) !== -1) {\n  //       claimSearchResult.splice(claimSearchResult.indexOf(fixUri), 1);\n  //     } else {\n  //       claimSearchResult.pop();\n  //     }\n  //     claimSearchResult.splice(2, 0, fixUri);\n  //   }\n\n  var _React$useState7 = react__WEBPACK_IMPORTED_MODULE_2___default.a.useState(null),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      prevOptions = _React$useState8[0],\n      setPrevOptions = _React$useState8[1];\n\n  if (!isJustScrollingToNewPage(prevOptions, options)) {\n    // --- New search, or search options changed.\n    setPrevOptions(options);\n\n    if (didNavigateForward) {\n      // --- Reset the page.\n      options.page = 1;\n      setPage(options.page);\n    } else if (claimSearchResult) {\n      // --- Update 'page' based on retrieved 'claimSearchResult'.\n      options.page = Math.ceil(claimSearchResult.length / dynamicPageSize);\n\n      if (options.page !== page) {\n        setPage(options.page);\n      }\n    }\n  }\n\n  var shouldPerformSearch = !uris && (claimSearchResult === undefined || didNavigateForward || !loading && !claimSearchResultLastPageReached && claimSearchResult && claimSearchResult.length && claimSearchResult.length < dynamicPageSize * options.page && claimSearchResult.length % dynamicPageSize === 0); // Don't use the query from createNormalizedClaimSearchKey for the effect since that doesn't include page & release_time\n\n  var optionsStringForEffect = JSON.stringify(options);\n  var timedOutMessage = react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"p\", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_i18nMessage__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n    tokens: {\n      again: react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n        button: \"link\",\n        label: __('try again in a few seconds.'),\n        onClick: function onClick() {\n          return setForceRefresh(Date.now());\n        }\n      })\n    }\n  }, \"Sorry, your request timed out. Modify your options or %again%\")), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"p\", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_i18nMessage__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n    tokens: {\n      contact_support: react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n        button: \"link\",\n        label: __('contact support'),\n        href: \"https://odysee.com/@OdyseeHelp:b?view=about\"\n      })\n    }\n  }, \"If you continue to have issues, please %contact_support%.\"))); // **************************************************************************\n  // **************************************************************************\n\n  var finalUris;\n\n  if (uris) {\n    // --- direct uris\n    finalUris = uris;\n    injectPinUrls(finalUris, orderParam, pins, resolvedPinUris);\n    finalUris = filterExcludedUris(finalUris, excludeUris);\n  } else {\n    // --- searched uris\n    if (isUnfetchedClaimSearch && prevUris.current) {\n      finalUris = prevUris.current;\n    } else {\n      finalUris = claimSearchResult;\n      injectPinUrls(finalUris, orderParam, pins, resolvedPinUris);\n      finalUris = filterExcludedUris(finalUris, excludeUris);\n      prevUris.current = finalUris;\n    }\n  } // **************************************************************************\n  // Helpers\n  // **************************************************************************\n  // Returns true if the change in 'options' indicate that we are simply scrolling\n  // down to a new page; false otherwise.\n\n\n  function isJustScrollingToNewPage(prevOptions, options) {\n    if (!prevOptions) {\n      // It's a new search, or we just popped back from a different view.\n      return false;\n    } // Compare every field except for 'page' and 'release_time'.\n    // There might be better ways to achieve this.\n\n\n    var tmpPrevOptions = _objectSpread({}, prevOptions);\n\n    tmpPrevOptions.page = -1;\n    tmpPrevOptions.release_time = '';\n\n    var tmpOptions = _objectSpread({}, options);\n\n    tmpOptions.page = -1;\n    tmpOptions.release_time = '';\n    return JSON.stringify(tmpOptions) === JSON.stringify(tmpPrevOptions);\n  }\n\n  function getParamFromTags(t) {\n    if (t === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"TAGS_ALL\"] || t === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"TAGS_FOLLOWED\"]) {\n      return t;\n    } else if (Array.isArray(t)) {\n      return t.join(',');\n    }\n  }\n\n  function handleScrollBottom() {\n    if (maxPages !== undefined && page === maxPages) {\n      return;\n    }\n\n    if (!loading && infiniteScroll) {\n      if (claimSearchResult && !claimSearchResultLastPageReached) {\n        setPage(page + 1);\n      }\n    }\n  }\n\n  function resolveHideReposts(hideRepostSetting, hideRepostOverride) {\n    if (hideRepostOverride === undefined || hideRepostOverride === null) {\n      return hideRepostSetting;\n    } else {\n      return hideRepostOverride;\n    }\n  }\n\n  function resolveOrderByOption(orderBy, sortBy) {\n    var order_by;\n\n    switch (orderBy) {\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_TRENDING\"]:\n        order_by = constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_TRENDING_VALUE\"];\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_NEW\"]:\n        order_by = constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_NEW_VALUE\"];\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_NEW_ASC\"]:\n        order_by = constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_NEW_ASC_VALUE\"];\n        break;\n\n      case constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_NAME_ASC\"]:\n        order_by = constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_NAME_ASC_VALUE\"];\n        break;\n\n      default:\n        order_by = constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_TOP_VALUE\"];\n    }\n\n    if (orderBy === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"ORDER_BY_NEW\"] && sortBy === constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"SORT_BY\"].OLDEST.key) {\n      return order_by.map(function (x) {\n        return \"\".concat(constants_claim_search__WEBPACK_IMPORTED_MODULE_1__[\"SORT_BY\"].OLDEST.opt).concat(x);\n      });\n    }\n\n    return order_by;\n  }\n\n  function injectPinUrls(uris, order, pins, resolvedPinUris) {\n    if (!pins || !uris || uris.length <= 2 || pins.onlyPinForOrder && pins.onlyPinForOrder !== order) {\n      return;\n    }\n\n    if (resolvedPinUris) {\n      resolvedPinUris.forEach(function (pin) {\n        if (uris.includes(pin)) {\n          uris.splice(uris.indexOf(pin), 1);\n        } else {\n          uris.pop();\n        }\n      });\n      uris.splice.apply(uris, [2, 0].concat(_toConsumableArray(resolvedPinUris)));\n    }\n  }\n\n  function filterExcludedUris(uris, excludeUris) {\n    if (uris && excludeUris && excludeUris.length) {\n      return uris.filter(function (uri) {\n        return !excludeUris.includes(uri);\n      });\n    }\n\n    return uris;\n  }\n\n  function onHidden(uri) {\n    if (hiddenBuffer.indexOf(uri) === -1) {\n      var newBuffer = hiddenBuffer;\n      newBuffer.push(uri);\n      setHiddenBuffer(newBuffer);\n    }\n  } // **************************************************************************\n  // **************************************************************************\n\n\n  Object(effects_use_fetch_view_count__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(fetchViewCount, finalUris, claimsByUri, doFetchViewCount);\n  Object(effects_use_get_user_memberships__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(true, finalUris, claimsByUri, doFetchUserMemberships);\n  react__WEBPACK_IMPORTED_MODULE_2___default.a.useEffect(function () {\n    if (shouldPerformSearch) {\n      var searchOptions = JSON.parse(optionsStringForEffect);\n      doClaimSearch(searchOptions);\n    }\n  }, [doClaimSearch, shouldPerformSearch, optionsStringForEffect, forceRefresh]);\n  var headerToUse = header || react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_claimListHeader__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n    channelIds: channelIds,\n    defaultTags: defaultTags,\n    tags: tags,\n    freshness: freshness,\n    defaultFreshness: defaultFreshness,\n    claimType: claimType,\n    streamType: streamType,\n    defaultStreamType: defaultStreamType,\n    feeAmount: feeAmount // ENABLE_PAID_CONTENT_DISCOVER or something\n    ,\n    orderBy: orderBy,\n    defaultOrderBy: defaultOrderBy,\n    hideAdvancedFilter: hideAdvancedFilter,\n    hasMatureTags: hasMatureTags,\n    hiddenNsfwMessage: hiddenNsfwMessage,\n    setPage: setPage,\n    tileLayout: tileLayout,\n    hideLayoutButton: hideLayoutButton,\n    hideFilters: hideFilters,\n    scrollAnchor: scrollAnchor\n  });\n  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, headerLabel && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"label\", {\n    className: \"claim-list__header-label\"\n  }, headerLabel), tileLayout ? react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", null, !repostedClaimId && showHeader && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"section__header--actions\"\n  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"section__actions\"\n  }, headerToUse, searchInSelectedLang && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_langFilterIndicator__WEBPACK_IMPORTED_MODULE_14__[\"default\"], null)), meta && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"section__actions--no-margin\"\n  }, meta)), subSection && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", null, subSection), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_claimList__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    tileLayout: true,\n    loading: loading,\n    uris: finalUris,\n    prefixUris: prefixUris,\n    onScrollBottom: handleScrollBottom,\n    page: page,\n    pageSize: dynamicPageSize,\n    timedOutMessage: timedOutMessage,\n    renderProperties: renderProperties,\n    includeSupportAction: includeSupportAction // injectedItem={injectedItem}\n    ,\n    showHiddenByUser: showHiddenByUser,\n    searchOptions: options,\n    showNoSourceClaims: showNoSourceClaims,\n    empty: empty,\n    maxClaimRender: maxClaimRender,\n    loadedCallback: loadedCallback,\n    swipeLayout: swipeLayout,\n    onHidden: onHidden\n  }), loading && useSkeletonScreen && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"claim-grid\"\n  }, new Array(dynamicPageSize).fill(1).map(function (x, i) {\n    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_claimPreviewTile__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n      key: i,\n      placeholder: \"loading\",\n      pulse: true\n    });\n  }))) : react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", null, showHeader && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"section__header--actions\"\n  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"section__actions\"\n  }, headerToUse, searchInSelectedLang && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_langFilterIndicator__WEBPACK_IMPORTED_MODULE_14__[\"default\"], null)), meta && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"section__actions--no-margin\"\n  }, meta)), subSection && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", null, subSection), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_claimList__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    type: type,\n    loading: loading,\n    uris: finalUris,\n    prefixUris: prefixUris,\n    onScrollBottom: handleScrollBottom,\n    page: page,\n    pageSize: dynamicPageSize,\n    timedOutMessage: timedOutMessage,\n    renderProperties: renderProperties,\n    includeSupportAction: includeSupportAction // injectedItem={injectedItem}\n    ,\n    showHiddenByUser: showHiddenByUser,\n    searchOptions: options,\n    showNoSourceClaims: hasNoSource || showNoSourceClaims,\n    empty: empty,\n    maxClaimRender: maxClaimRender,\n    loadedCallback: loadedCallback,\n    swipeLayout: swipeLayout,\n    onHidden: onHidden\n  }), loading && useSkeletonScreen && new Array(dynamicPageSize).fill(1).map(function (x, i) {\n    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(component_claimPreview__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n      showNoSourceClaims: hasNoSource || showNoSourceClaims,\n      key: i,\n      placeholder: \"loading\",\n      type: type\n    });\n  })));\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_router__WEBPACK_IMPORTED_MODULE_3__[\"withRouter\"])(ClaimListDiscover));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! i18n.js */ \"../ui/i18n.js\")[\"__\"]))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L2NsYWltTGlzdERpc2NvdmVyL3ZpZXcuanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3VpL2NvbXBvbmVudC9jbGFpbUxpc3REaXNjb3Zlci92aWV3LmpzeD8wN2Y4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEBmbG93XG5pbXBvcnQgeyBFTkFCTEVfTk9fU09VUkNFX0NMQUlNUyB9IGZyb20gJ2NvbmZpZyc7XG5pbXBvcnQgdHlwZSB7IE5vZGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBDUyBmcm9tICdjb25zdGFudHMvY2xhaW1fc2VhcmNoJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB3aXRoUm91dGVyIH0gZnJvbSAncmVhY3Qtcm91dGVyJztcbmltcG9ydCB7IE1BVFVSRV9UQUdTIH0gZnJvbSAnY29uc3RhbnRzL3RhZ3MnO1xuaW1wb3J0IHsgcmVzb2x2ZUxhbmdGb3JDbGFpbVNlYXJjaCB9IGZyb20gJ3V0aWwvZGVmYXVsdC1sYW5ndWFnZXMnO1xuaW1wb3J0IHsgY3JlYXRlTm9ybWFsaXplZENsYWltU2VhcmNoS2V5IH0gZnJvbSAndXRpbC9jbGFpbSc7XG5pbXBvcnQgeyBzcGxpdEJ5U2VwYXJhdG9yIH0gZnJvbSAndXRpbC9sYnJ5VVJJJztcbmltcG9ydCBCdXR0b24gZnJvbSAnY29tcG9uZW50L2J1dHRvbic7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgQ2xhaW1MaXN0IGZyb20gJ2NvbXBvbmVudC9jbGFpbUxpc3QnO1xuaW1wb3J0IENsYWltUHJldmlldyBmcm9tICdjb21wb25lbnQvY2xhaW1QcmV2aWV3JztcbmltcG9ydCBDbGFpbVByZXZpZXdUaWxlIGZyb20gJ2NvbXBvbmVudC9jbGFpbVByZXZpZXdUaWxlJztcbmltcG9ydCBJMThuTWVzc2FnZSBmcm9tICdjb21wb25lbnQvaTE4bk1lc3NhZ2UnO1xuaW1wb3J0IExhbmdGaWx0ZXJJbmRpY2F0b3IgZnJvbSAnY29tcG9uZW50L2xhbmdGaWx0ZXJJbmRpY2F0b3InO1xuaW1wb3J0IENsYWltTGlzdEhlYWRlciBmcm9tICdjb21wb25lbnQvY2xhaW1MaXN0SGVhZGVyJztcbmltcG9ydCB1c2VGZXRjaFZpZXdDb3VudCBmcm9tICdlZmZlY3RzL3VzZS1mZXRjaC12aWV3LWNvdW50JztcbmltcG9ydCB1c2VSZXNvbHZlUGlucyBmcm9tICdlZmZlY3RzL3VzZS1yZXNvbHZlLXBpbnMnO1xuaW1wb3J0IHsgdXNlSXNMYXJnZVNjcmVlbiB9IGZyb20gJ2VmZmVjdHMvdXNlLXNjcmVlbnNpemUnO1xuaW1wb3J0IHVzZUdldFVzZXJNZW1iZXJzaGlwcyBmcm9tICdlZmZlY3RzL3VzZS1nZXQtdXNlci1tZW1iZXJzaGlwcyc7XG5pbXBvcnQgdXNlUGVyc2lzdGVudFVzZXJQYXJhbSBmcm9tICdlZmZlY3RzL3VzZS1wZXJzaXN0ZW50LXVzZXItcGFyYW0nO1xuaW1wb3J0IHVzZVBlcnNpc3RlZFN0YXRlIGZyb20gJ2VmZmVjdHMvdXNlLXBlcnNpc3RlZC1zdGF0ZSc7XG5cbnR5cGUgUHJvcHMgPSB7XG4gIHVyaXM6IEFycmF5PHN0cmluZz4sXG4gIHByZWZpeFVyaXM/OiBBcnJheTxzdHJpbmc+LFxuICBwaW5zPzogeyB1cmxzPzogQXJyYXk8c3RyaW5nPiwgY2xhaW1JZHM/OiBBcnJheTxzdHJpbmc+LCBvbmx5UGluRm9yT3JkZXI/OiBzdHJpbmcgfSxcbiAgbmFtZT86IHN0cmluZyxcbiAgdHlwZTogc3RyaW5nLFxuICBwYWdlU2l6ZT86IG51bWJlcixcblxuICBmZXRjaFZpZXdDb3VudD86IGJvb2xlYW4sXG4gIGhpZGVSZXBvc3RzT3ZlcnJpZGU/OiBib29sZWFuLCAvLyB1bmRlZmluZWQgPSB1c2UgU0VUVElOR1MuSElERV9SRVBPU1RTOyB0cnVlL2ZhbHNlOiB1c2UgdGhpcy5cbiAgaGFzTm9Tb3VyY2U/OiBib29sZWFuLFxuICBoYXNTb3VyY2U/OiBib29sZWFuLFxuICBoaWRlQWR2YW5jZWRGaWx0ZXI/OiBib29sZWFuLFxuICBoaWRlRmlsdGVycz86IGJvb2xlYW4sXG4gIGluY2x1ZGVTdXBwb3J0QWN0aW9uPzogYm9vbGVhbixcbiAgaW5maW5pdGVTY3JvbGw/OiBCb29sZWFuLFxuICBpc0NoYW5uZWw/OiBib29sZWFuLFxuICBwZXJzb25hbFZpZXc6IGJvb2xlYW4sXG4gIHNob3dIZWFkZXI6IGJvb2xlYW4sXG4gIHNob3dIaWRkZW5CeVVzZXI/OiBib29sZWFuLFxuICBzaG93Tm9Tb3VyY2VDbGFpbXM/OiBib29sZWFuLFxuICB0aWxlTGF5b3V0OiBib29sZWFuLFxuICBzZWFyY2hMYW5ndWFnZXM/OiBBcnJheTxzdHJpbmc+LFxuICBpZ25vcmVTZWFyY2hJbkxhbmd1YWdlPzogYm9vbGVhbiwgLy8gTmVnYXRlIHRoZSByZWR1eCBzZXR0aW5nIHdoZXJlIGl0IGRvZXNuJ3QgbWFrZSBzZW5zZS5cblxuICBvcmRlckJ5PzogQXJyYXk8c3RyaW5nPiwgLy8gVHJlbmRpbmcsIE5ldywgVG9wXG4gIGRlZmF1bHRPcmRlckJ5Pzogc3RyaW5nLFxuICBzb3J0Qnk/OiBBcnJheTxzdHJpbmc+LCAvLyBOZXdlc3QgRmlyc3QsIE9sZGVzdCBGaXJzdFxuICBmcmVzaG5lc3M/OiBzdHJpbmcsXG4gIGRlZmF1bHRGcmVzaG5lc3M/OiBzdHJpbmcsXG5cbiAgdGFnczogc3RyaW5nLCAvLyB0aGVzZSBhcmUganVzdCBnb2luZyB0byBiZSBzdHJpbmcuIHBhc3MgYSBDU1YgaWYgeW91IHdhbnQgbXVsdGlcbiAgbm90VGFncz86IEFycmF5PHN0cmluZz4sXG4gIGRlZmF1bHRUYWdzOiBzdHJpbmcsXG5cbiAgY2xhaW1UeXBlPzogc3RyaW5nIHwgQXJyYXk8c3RyaW5nPixcbiAgZGVmYXVsdENsYWltVHlwZT86IEFycmF5PHN0cmluZz4sXG5cbiAgc3RyZWFtVHlwZT86IHN0cmluZyB8IEFycmF5PHN0cmluZz4sXG4gIGRlZmF1bHRTdHJlYW1UeXBlPzogc3RyaW5nIHwgQXJyYXk8c3RyaW5nPixcblxuICBlbXB0eT86IHN0cmluZyxcbiAgZmVlQW1vdW50Pzogc3RyaW5nLFxuICByZWxlYXNlVGltZT86IHN0cmluZyxcbiAgcmVwb3N0ZWRDbGFpbUlkPzogc3RyaW5nLFxuICBzY3JvbGxBbmNob3I/OiBzdHJpbmcsXG4gIG1heFBhZ2VzPzogbnVtYmVyLFxuICBsaW1pdENsYWltc1BlckNoYW5uZWw/OiBudW1iZXIsXG5cbiAgY2hhbm5lbElkcz86IEFycmF5PHN0cmluZz4sXG4gIGV4Y2x1ZGVkQ2hhbm5lbElkcz86IEFycmF5PHN0cmluZz4sXG4gIGNsYWltSWRzPzogQXJyYXk8c3RyaW5nPixcbiAgc3Vic2NyaWJlZENoYW5uZWxzOiBBcnJheTxTdWJzY3JpcHRpb24+LFxuXG4gIGhlYWRlcj86IE5vZGUsXG4gIGhlYWRlckxhYmVsPzogc3RyaW5nIHwgTm9kZSxcbiAgaGlkZGVuTnNmd01lc3NhZ2U/OiBOb2RlLFxuICBpbmplY3RlZEl0ZW0/OiBMaXN0SW5qZWN0ZWRJdGVtLFxuICBtZXRhPzogTm9kZSxcbiAgc3ViU2VjdGlvbj86IE5vZGUsIC8vIEFkZGl0aW9uYWwgc2VjdGlvbiBiZWxvdyBbSGVhZGVyfE1ldGFdXG4gIHJlbmRlclByb3BlcnRpZXM/OiAoQ2xhaW0pID0+IE5vZGUsXG5cbiAgaGlzdG9yeTogeyBhY3Rpb246IHN0cmluZywgcHVzaDogKHN0cmluZykgPT4gdm9pZCwgcmVwbGFjZTogKHN0cmluZykgPT4gdm9pZCB9LFxuICBsb2NhdGlvbjogeyBzZWFyY2g6IHN0cmluZywgcGF0aG5hbWU6IHN0cmluZyB9LFxuXG4gIC8vIC0tLSBzZWxlY3QgLS0tXG4gIGZvbGxvd2VkVGFncz86IEFycmF5PFRhZz4sXG4gIGNsYWltU2VhcmNoQnlRdWVyeTogeyBbc3RyaW5nXTogQXJyYXk8c3RyaW5nPiB9LFxuICBjbGFpbVNlYXJjaEJ5UXVlcnlMYXN0UGFnZVJlYWNoZWQ6IHsgW3N0cmluZ106IGJvb2xlYW4gfSxcbiAgY2xhaW1zQnlVcmk6IHsgW3N0cmluZ106IGFueSB9LFxuICBjbGFpbXNCeUlkOiB7IFtzdHJpbmddOiBhbnkgfSxcbiAgbG9hZGluZzogYm9vbGVhbixcbiAgc2hvd05zZnc6IGJvb2xlYW4sXG4gIGhpZGVSZXBvc3RzOiBib29sZWFuLFxuICBsYW5ndWFnZVNldHRpbmc6IHN0cmluZyxcbiAgbXV0ZWRVcmlzOiBBcnJheTxzdHJpbmc+LFxuICBibG9ja2VkVXJpczogQXJyYXk8c3RyaW5nPixcbiAgc2VhcmNoSW5MYW5ndWFnZTogYm9vbGVhbixcblxuICAvLyAtLS0gcGVyZm9ybSAtLS1cbiAgZG9DbGFpbVNlYXJjaDogKHt9KSA9PiB2b2lkLFxuICBkb0ZldGNoVmlld0NvdW50OiAoY2xhaW1JZENzdjogc3RyaW5nKSA9PiB2b2lkLFxuICBkb0ZldGNoVXNlck1lbWJlcnNoaXBzOiAoY2xhaW1JZENzdjogc3RyaW5nKSA9PiB2b2lkLFxuICBkb1Jlc29sdmVDbGFpbUlkczogKEFycmF5PHN0cmluZz4pID0+IFByb21pc2U8YW55PixcbiAgZG9SZXNvbHZlVXJpczogKEFycmF5PHN0cmluZz4sIGJvb2xlYW4pID0+IFByb21pc2U8YW55PixcblxuICBoaWRlTGF5b3V0QnV0dG9uPzogYm9vbGVhbixcbiAgbG9hZGVkQ2FsbGJhY2s/OiAobnVtYmVyKSA9PiB2b2lkLFxuICBtYXhDbGFpbVJlbmRlcj86IG51bWJlcixcbiAgdXNlU2tlbGV0b25TY3JlZW4/OiBib29sZWFuLFxuICBleGNsdWRlVXJpcz86IEFycmF5PHN0cmluZz4sXG5cbiAgc3dpcGVMYXlvdXQ6IGJvb2xlYW4sXG59O1xuXG5mdW5jdGlvbiBDbGFpbUxpc3REaXNjb3Zlcihwcm9wczogUHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGRvQ2xhaW1TZWFyY2gsXG4gICAgY2xhaW1TZWFyY2hCeVF1ZXJ5LFxuICAgIHNob3dIZWFkZXIgPSB0cnVlLFxuICAgIHR5cGUsXG4gICAgY2xhaW1TZWFyY2hCeVF1ZXJ5TGFzdFBhZ2VSZWFjaGVkLFxuICAgIHRhZ3MsXG4gICAgbm90VGFncyxcbiAgICBkZWZhdWx0VGFncyxcbiAgICBsb2FkaW5nLFxuICAgIG1ldGEsXG4gICAgc3ViU2VjdGlvbixcbiAgICBjaGFubmVsSWRzLFxuICAgIGV4Y2x1ZGVkQ2hhbm5lbElkcyxcbiAgICBzaG93TnNmdyxcbiAgICBoaWRlUmVwb3N0cyxcbiAgICBmZXRjaFZpZXdDb3VudCxcbiAgICBoaXN0b3J5LFxuICAgIGxvY2F0aW9uLFxuICAgIG11dGVkVXJpcyxcbiAgICBibG9ja2VkVXJpcyxcbiAgICBoaWRkZW5Oc2Z3TWVzc2FnZSxcbiAgICBkZWZhdWx0T3JkZXJCeSxcbiAgICBzb3J0QnksXG4gICAgb3JkZXJCeSxcbiAgICBoZWFkZXJMYWJlbCxcbiAgICBoZWFkZXIsXG4gICAgbmFtZSxcbiAgICBjbGFpbVR5cGUsXG4gICAgZGVmYXVsdENsYWltVHlwZSxcbiAgICBzdHJlYW1UeXBlLFxuICAgIGRlZmF1bHRTdHJlYW1UeXBlLFxuICAgIGZyZXNobmVzcyxcbiAgICBkZWZhdWx0RnJlc2huZXNzID0gQ1MuRlJFU0hfV0VFSyxcbiAgICByZW5kZXJQcm9wZXJ0aWVzLFxuICAgIGluY2x1ZGVTdXBwb3J0QWN0aW9uLFxuICAgIHJlcG9zdGVkQ2xhaW1JZCxcbiAgICBoaWRlQWR2YW5jZWRGaWx0ZXIsXG4gICAgaW5maW5pdGVTY3JvbGwgPSB0cnVlLFxuICAgIGZvbGxvd2VkVGFncyxcbiAgICBpbmplY3RlZEl0ZW0sXG4gICAgZmVlQW1vdW50LFxuICAgIHVyaXMsXG4gICAgcHJlZml4VXJpcyxcbiAgICBwaW5zLFxuICAgIHRpbGVMYXlvdXQsXG4gICAgaGlkZUZpbHRlcnMgPSBmYWxzZSxcbiAgICBjbGFpbUlkcyxcbiAgICBtYXhQYWdlcyxcbiAgICBoaWRlUmVwb3N0c092ZXJyaWRlLFxuICAgIGxhbmd1YWdlU2V0dGluZyxcbiAgICBzZWFyY2hMYW5ndWFnZXMsXG4gICAgc2VhcmNoSW5MYW5ndWFnZSxcbiAgICBpZ25vcmVTZWFyY2hJbkxhbmd1YWdlLFxuICAgIGxpbWl0Q2xhaW1zUGVyQ2hhbm5lbCxcbiAgICByZWxlYXNlVGltZSxcbiAgICBzY3JvbGxBbmNob3IsXG4gICAgc2hvd0hpZGRlbkJ5VXNlciA9IGZhbHNlLFxuICAgIGhhc1NvdXJjZSxcbiAgICBoYXNOb1NvdXJjZSxcbiAgICBpc0NoYW5uZWwgPSBmYWxzZSxcbiAgICBzaG93Tm9Tb3VyY2VDbGFpbXMsXG4gICAgZW1wdHksXG4gICAgY2xhaW1zQnlVcmksXG4gICAgY2xhaW1zQnlJZCxcbiAgICBkb0ZldGNoVmlld0NvdW50LFxuICAgIGhpZGVMYXlvdXRCdXR0b24gPSBmYWxzZSxcbiAgICBsb2FkZWRDYWxsYmFjayxcbiAgICBtYXhDbGFpbVJlbmRlcixcbiAgICB1c2VTa2VsZXRvblNjcmVlbiA9IHRydWUsXG4gICAgZXhjbHVkZVVyaXMgPSBbXSxcbiAgICBkb0ZldGNoVXNlck1lbWJlcnNoaXBzLFxuICAgIHN3aXBlTGF5b3V0ID0gZmFsc2UsXG4gICAgZG9SZXNvbHZlVXJpcyxcbiAgICBkb1Jlc29sdmVDbGFpbUlkcyxcbiAgfSA9IHByb3BzO1xuXG4gIGNvbnN0IHJlc29sdmVkUGluVXJpcyA9IHVzZVJlc29sdmVQaW5zKHsgcGlucywgY2xhaW1zQnlJZCwgZG9SZXNvbHZlQ2xhaW1JZHMsIGRvUmVzb2x2ZVVyaXMgfSk7XG4gIGNvbnN0IGRpZE5hdmlnYXRlRm9yd2FyZCA9IGhpc3RvcnkuYWN0aW9uID09PSAnUFVTSCc7XG4gIGNvbnN0IHsgc2VhcmNoIH0gPSBsb2NhdGlvbjtcbiAgY29uc3QgcHJldlVyaXMgPSBSZWFjdC51c2VSZWYoKTtcbiAgY29uc3QgW3BhZ2UsIHNldFBhZ2VdID0gUmVhY3QudXNlU3RhdGUoMSk7XG4gIGNvbnN0IFtmb3JjZVJlZnJlc2gsIHNldEZvcmNlUmVmcmVzaF0gPSBSZWFjdC51c2VTdGF0ZSgpO1xuICBjb25zdCBpc0xhcmdlU2NyZWVuID0gdXNlSXNMYXJnZVNjcmVlbigpO1xuICBjb25zdCBmb2xsb3dlZCA9IChmb2xsb3dlZFRhZ3MgJiYgZm9sbG93ZWRUYWdzLm1hcCgodCkgPT4gdC5uYW1lKSkgfHwgW107XG4gIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoc2VhcmNoKTtcbiAgY29uc3QgdGFnc1BhcmFtID0gLy8gY2FuIGJlICd4LHkseicgb3IgJ3gnIG9yIFsneCcsJ3knXSBvciBDUy5DT05TVEFOVFxuICAgICh0YWdzICYmIGdldFBhcmFtRnJvbVRhZ3ModGFncykpIHx8XG4gICAgKHVybFBhcmFtcy5nZXQoQ1MuVEFHU19LRVkpICE9PSBudWxsICYmIHVybFBhcmFtcy5nZXQoQ1MuVEFHU19LRVkpKSB8fFxuICAgIChkZWZhdWx0VGFncyAmJiBnZXRQYXJhbUZyb21UYWdzKGRlZmF1bHRUYWdzKSk7XG4gIGNvbnN0IGZyZXNobmVzc1BhcmFtID0gZnJlc2huZXNzIHx8IHVybFBhcmFtcy5nZXQoQ1MuRlJFU0hfS0VZKSB8fCBkZWZhdWx0RnJlc2huZXNzO1xuICBjb25zdCBzb3J0QnlQYXJhbSA9IHNvcnRCeSB8fCB1cmxQYXJhbXMuZ2V0KENTLlNPUlRfQllfS0VZKSB8fCBDUy5TT1JUX0JZLk5FV0VTVC5rZXk7XG4gIGNvbnN0IG11dGVkQW5kQmxvY2tlZENoYW5uZWxJZHMgPSBBcnJheS5mcm9tKFxuICAgIG5ldyBTZXQobXV0ZWRVcmlzLmNvbmNhdChibG9ja2VkVXJpcykubWFwKCh1cmkpID0+IHNwbGl0QnlTZXBhcmF0b3IodXJpKVsxXSkpXG4gICk7XG4gIGNvbnN0IFtoaWRkZW5CdWZmZXIsIHNldEhpZGRlbkJ1ZmZlcl0gPSBSZWFjdC51c2VTdGF0ZShbXSk7XG4gIGNvbnN0IGhpZGVSZXBvc3RzRWZmZWN0aXZlID0gcmVzb2x2ZUhpZGVSZXBvc3RzKGhpZGVSZXBvc3RzLCBoaWRlUmVwb3N0c092ZXJyaWRlKTtcblxuICBjb25zdCBsYW5nUGFyYW0gPSB1cmxQYXJhbXMuZ2V0KENTLkxBTkdVQUdFX0tFWSkgfHwgbnVsbDtcbiAgY29uc3Qgc2VhcmNoSW5TZWxlY3RlZExhbmcgPSBzZWFyY2hJbkxhbmd1YWdlICYmICFpZ25vcmVTZWFyY2hJbkxhbmd1YWdlO1xuICBjb25zdCBsYW5ndWFnZVBhcmFtcyA9IHJlc29sdmVMYW5nRm9yQ2xhaW1TZWFyY2gobGFuZ3VhZ2VTZXR0aW5nLCBzZWFyY2hJblNlbGVjdGVkTGFuZywgc2VhcmNoTGFuZ3VhZ2VzLCBsYW5nUGFyYW0pO1xuXG4gIGxldCBjbGFpbVR5cGVQYXJhbSA9IGNsYWltVHlwZSB8fCBkZWZhdWx0Q2xhaW1UeXBlIHx8IG51bGw7XG4gIGxldCBzdHJlYW1UeXBlUGFyYW0gPSBzdHJlYW1UeXBlIHx8IGRlZmF1bHRTdHJlYW1UeXBlIHx8IG51bGw7XG5cbiAgY29uc3QgY29udGVudFR5cGVQYXJhbSA9IHVybFBhcmFtcy5nZXQoQ1MuQ09OVEVOVF9LRVkpO1xuICBpZiAoY29udGVudFR5cGVQYXJhbSkge1xuICAgIHN3aXRjaCAoY29udGVudFR5cGVQYXJhbSkge1xuICAgICAgY2FzZSBDUy5DTEFJTV9DT0xMRUNUSU9OOlxuICAgICAgICBjbGFpbVR5cGVQYXJhbSA9IGNvbnRlbnRUeXBlUGFyYW07XG4gICAgICAgIHN0cmVhbVR5cGVQYXJhbSA9IHVuZGVmaW5lZDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENTLkNMQUlNX1JFUE9TVDpcbiAgICAgICAgY2xhaW1UeXBlUGFyYW0gPSBjb250ZW50VHlwZVBhcmFtO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBDUy5DTEFJTV9DSEFOTkVMOlxuICAgICAgICBjbGFpbVR5cGVQYXJhbSA9IENTLkNMQUlNX0NIQU5ORUw7XG4gICAgICAgIHN0cmVhbVR5cGVQYXJhbSA9IHVuZGVmaW5lZDtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgQ1MuRklMRV9WSURFTzpcbiAgICAgIGNhc2UgQ1MuRklMRV9BVURJTzpcbiAgICAgIGNhc2UgQ1MuRklMRV9JTUFHRTpcbiAgICAgIGNhc2UgQ1MuRklMRV9NT0RFTDpcbiAgICAgIGNhc2UgQ1MuRklMRV9CSU5BUlk6XG4gICAgICBjYXNlIENTLkZJTEVfRE9DVU1FTlQ6XG4gICAgICAgIHN0cmVhbVR5cGVQYXJhbSA9IGNvbnRlbnRUeXBlUGFyYW07XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIENTLkNPTlRFTlRfQUxMOlxuICAgICAgICBjbGFpbVR5cGVQYXJhbSA9IHVuZGVmaW5lZDtcbiAgICAgICAgc3RyZWFtVHlwZVBhcmFtID0gdW5kZWZpbmVkO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5sb2coJ0ludmFsaWQgb3IgdW5oYW5kbGVkIENPTlRFTlRfS0VZOicsIGNvbnRlbnRUeXBlUGFyYW0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZHVyYXRpb25QYXJhbSA9IHVzZVBlcnNpc3RlbnRVc2VyUGFyYW0oW3VybFBhcmFtcy5nZXQoQ1MuRFVSQVRJT05fS0VZKSB8fCBDUy5EVVJBVElPTl9BTExdLCAnZHVyVXNlcicsIG51bGwpO1xuICBjb25zdCBbZHVyYXRpb25NaW51dGVzXSA9IHVzZVBlcnNpc3RlZFN0YXRlKGBkdXJVc2VyTWludXRlcy0ke2xvY2F0aW9uLnBhdGhuYW1lfWAsIDUpO1xuICBjb25zdCBjaGFubmVsSWRzSW5VcmwgPSB1cmxQYXJhbXMuZ2V0KENTLkNIQU5ORUxfSURTX0tFWSk7XG4gIGNvbnN0IGNoYW5uZWxJZHNQYXJhbSA9IGNoYW5uZWxJZHNJblVybCA/IGNoYW5uZWxJZHNJblVybC5zcGxpdCgnLCcpIDogY2hhbm5lbElkcztcbiAgY29uc3QgZXhjbHVkZWRJZHNQYXJhbSA9IGV4Y2x1ZGVkQ2hhbm5lbElkcztcbiAgY29uc3QgZmVlQW1vdW50UGFyYW0gPSB1cmxQYXJhbXMuZ2V0KCdmZWVfYW1vdW50JykgfHwgZmVlQW1vdW50O1xuICBjb25zdCBvcmlnaW5hbFBhZ2VTaXplID0gMTI7XG4gIGNvbnN0IGR5bmFtaWNQYWdlU2l6ZSA9IGlzTGFyZ2VTY3JlZW4gPyBNYXRoLmNlaWwoKG9yaWdpbmFsUGFnZVNpemUgLyAyKSAqIDYpIDogTWF0aC5jZWlsKChvcmlnaW5hbFBhZ2VTaXplIC8gMikgKiA0KTtcbiAgY29uc3Qgb3JkZXJQYXJhbSA9IHVzZVBlcnNpc3RlbnRVc2VyUGFyYW0oXG4gICAgW29yZGVyQnksIHVybFBhcmFtcy5nZXQoQ1MuT1JERVJfQllfS0VZKSwgZGVmYXVsdE9yZGVyQnldLFxuICAgICdvcmRlclVzZXInLFxuICAgIENTLk9SREVSX0JZX1RSRU5ESU5HXG4gICk7XG5cbiAgbGV0IG9wdGlvbnM6IHtcbiAgICBwYWdlX3NpemU6IG51bWJlcixcbiAgICBwYWdlOiBudW1iZXIsXG4gICAgbm9fdG90YWxzOiBib29sZWFuLFxuICAgIGFueV90YWdzPzogQXJyYXk8c3RyaW5nPixcbiAgICBhbnlfbGFuZ3VhZ2VzPzogQXJyYXk8c3RyaW5nPixcbiAgICBub3RfdGFnczogQXJyYXk8c3RyaW5nPixcbiAgICBjaGFubmVsX2lkcz86IEFycmF5PHN0cmluZz4sXG4gICAgY2xhaW1faWRzPzogQXJyYXk8c3RyaW5nPixcbiAgICBub3RfY2hhbm5lbF9pZHM/OiBBcnJheTxzdHJpbmc+LFxuICAgIG9yZGVyX2J5OiBBcnJheTxzdHJpbmc+LFxuICAgIHJlbGVhc2VfdGltZT86IHN0cmluZyxcbiAgICBjbGFpbV90eXBlPzogc3RyaW5nIHwgQXJyYXk8c3RyaW5nPixcbiAgICBuYW1lPzogc3RyaW5nLFxuICAgIGR1cmF0aW9uPzogc3RyaW5nLFxuICAgIHJlcG9zdGVkX2NsYWltX2lkPzogc3RyaW5nLFxuICAgIHN0cmVhbV90eXBlcz86IGFueSxcbiAgICBmZWVfYW1vdW50Pzogc3RyaW5nLFxuICAgIGhhc19zb3VyY2U/OiBib29sZWFuLFxuICAgIGhhc19ub19zb3VyY2U/OiBib29sZWFuLFxuICAgIGxpbWl0X2NsYWltc19wZXJfY2hhbm5lbD86IG51bWJlcixcbiAgICByZW1vdmVfZHVwbGljYXRlcz86IGJvb2xlYW4sXG4gIH0gPSB7XG4gICAgcGFnZV9zaXplOiBkeW5hbWljUGFnZVNpemUsXG4gICAgcGFnZSxcbiAgICBuYW1lLFxuICAgIGNsYWltX3R5cGU6IGNsYWltVHlwZSB8fCBbJ3N0cmVhbScsICdyZXBvc3QnLCAnY2hhbm5lbCddLFxuICAgIC8vIG5vX3RvdGFscyBtYWtlcyBpdCBzbyB0aGUgc2RrIGRvZXNuJ3QgaGF2ZSB0byBjYWxjdWxhdGUgdG90YWwgbnVtYmVyIHBhZ2VzIGZvciBwYWdpbmF0aW9uXG4gICAgLy8gaXQncyBmYXN0ZXIsIGJ1dCB3ZSB3aWxsIG5lZWQgdG8gcmVtb3ZlIGl0IGlmIHdlIHN0YXJ0IHVzaW5nIHRvdGFsX3BhZ2VzXG4gICAgbm9fdG90YWxzOiB0cnVlLFxuICAgIG5vdF9jaGFubmVsX2lkczogaXNDaGFubmVsID8gdW5kZWZpbmVkIDogbXV0ZWRBbmRCbG9ja2VkQ2hhbm5lbElkcyxcbiAgICBub3RfdGFnczogIXNob3dOc2Z3ID8gTUFUVVJFX1RBR1MgOiBbXSxcbiAgICBvcmRlcl9ieTogcmVzb2x2ZU9yZGVyQnlPcHRpb24ob3JkZXJQYXJhbSwgc29ydEJ5UGFyYW0pLFxuICAgIHJlbW92ZV9kdXBsaWNhdGVzOiBpc0NoYW5uZWwgPyB1bmRlZmluZWQgOiB0cnVlLFxuICB9O1xuXG4gIGlmIChFTkFCTEVfTk9fU09VUkNFX0NMQUlNUyAmJiBoYXNOb1NvdXJjZSkge1xuICAgIG9wdGlvbnMuaGFzX25vX3NvdXJjZSA9IHRydWU7XG4gIH0gZWxzZSBpZiAoaGFzU291cmNlIHx8ICghRU5BQkxFX05PX1NPVVJDRV9DTEFJTVMgJiYgKCFjbGFpbVR5cGUgfHwgY2xhaW1UeXBlID09PSAnc3RyZWFtJykpKSB7XG4gICAgb3B0aW9ucy5oYXNfc291cmNlID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChsaW1pdENsYWltc1BlckNoYW5uZWwpIHtcbiAgICBvcHRpb25zLmxpbWl0X2NsYWltc19wZXJfY2hhbm5lbCA9IGxpbWl0Q2xhaW1zUGVyQ2hhbm5lbDtcbiAgfVxuXG4gIGlmIChmZWVBbW91bnRQYXJhbSAmJiBjbGFpbVR5cGUgIT09IENTLkNMQUlNX0NIQU5ORUwpIHtcbiAgICBvcHRpb25zLmZlZV9hbW91bnQgPSBmZWVBbW91bnRQYXJhbTtcbiAgfVxuXG4gIGlmIChjbGFpbUlkcykge1xuICAgIG9wdGlvbnMuY2xhaW1faWRzID0gY2xhaW1JZHM7XG4gIH1cblxuICBpZiAoY2hhbm5lbElkc1BhcmFtKSB7XG4gICAgb3B0aW9ucy5jaGFubmVsX2lkcyA9IGNoYW5uZWxJZHNQYXJhbTtcbiAgfVxuXG4gIGlmIChleGNsdWRlZElkc1BhcmFtKSB7XG4gICAgb3B0aW9ucy5ub3RfY2hhbm5lbF9pZHMgPSAob3B0aW9ucy5ub3RfY2hhbm5lbF9pZHMgfHwgW10pLmNvbmNhdChleGNsdWRlZElkc1BhcmFtKTtcbiAgfVxuXG4gIGlmICh0YWdzUGFyYW0pIHtcbiAgICBpZiAodGFnc1BhcmFtICE9PSBDUy5UQUdTX0FMTCAmJiB0YWdzUGFyYW0gIT09ICcnKSB7XG4gICAgICBpZiAodGFnc1BhcmFtID09PSBDUy5UQUdTX0ZPTExPV0VEKSB7XG4gICAgICAgIG9wdGlvbnMuYW55X3RhZ3MgPSBmb2xsb3dlZDtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0YWdzUGFyYW0pKSB7XG4gICAgICAgIG9wdGlvbnMuYW55X3RhZ3MgPSB0YWdzUGFyYW07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb25zLmFueV90YWdzID0gdGFnc1BhcmFtLnNwbGl0KCcsJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKG5vdFRhZ3MpIHtcbiAgICBvcHRpb25zLm5vdF90YWdzID0gb3B0aW9ucy5ub3RfdGFncy5jb25jYXQobm90VGFncyk7XG4gIH1cblxuICBpZiAocmVwb3N0ZWRDbGFpbUlkKSB7XG4gICAgLy8gU0RLIGNob2tlcyBvbiByZXBvc3RlZF9jbGFpbV9pZCBvZiBudWxsIG9yIGZhbHNlLCBuZWVkcyB0byBub3QgYmUgcHJlc2VudCBpZiBubyB2YWx1ZVxuICAgIG9wdGlvbnMucmVwb3N0ZWRfY2xhaW1faWQgPSByZXBvc3RlZENsYWltSWQ7XG4gIH1cbiAgLy8gSUYgcmVsZWFzZSB0aW1lLCBzZXQgaXQsIGVsc2Ugc2V0IGZhbGxiYWNrIHJlbGVhc2UgdGltZXMgdXNpbmcgdGhlIGhhY2sgYmVsb3cuXG4gIGlmIChyZWxlYXNlVGltZSAmJiBjbGFpbVR5cGVQYXJhbSAhPT0gQ1MuQ0xBSU1fQ0hBTk5FTCkge1xuICAgIG9wdGlvbnMucmVsZWFzZV90aW1lID0gcmVsZWFzZVRpbWU7XG4gIH0gZWxzZSBpZiAoY2xhaW1UeXBlUGFyYW0gIT09IENTLkNMQUlNX0NIQU5ORUwpIHtcbiAgICBpZiAob3JkZXJQYXJhbSA9PT0gQ1MuT1JERVJfQllfVE9QICYmIGZyZXNobmVzc1BhcmFtICE9PSBDUy5GUkVTSF9BTEwpIHtcbiAgICAgIG9wdGlvbnMucmVsZWFzZV90aW1lID0gYD4ke01hdGguZmxvb3IobW9tZW50KCkuc3VidHJhY3QoMSwgZnJlc2huZXNzUGFyYW0pLnN0YXJ0T2YoJ2hvdXInKS51bml4KCkpfWA7XG4gICAgfSBlbHNlIGlmIChvcmRlclBhcmFtID09PSBDUy5PUkRFUl9CWV9ORVcgfHwgb3JkZXJQYXJhbSA9PT0gQ1MuT1JERVJfQllfVFJFTkRJTkcpIHtcbiAgICAgIC8vIFdhcm5pbmcgLSBoYWNrIGJlbG93XG4gICAgICAvLyBJZiB1c2VycyBhcmUgZm9sbG93aW5nIG1vcmUgdGhhbiAxMCBjaGFubmVscyBvciB0YWdzLCBsaW1pdCByZXN1bHRzIHRvIHN0dWZmIGxlc3MgdGhhbiBhIHllYXIgb2xkXG4gICAgICAvLyBGb3IgbW9yZSB0aGFuIDIwLCBkcm9wIGl0IGRvd24gdG8gNiBtb250aHNcbiAgICAgIC8vIFRoaXMgaGVscHMgd2l0aCB0aW1lb3V0IGlzc3VlcyBmb3IgdXNlcnMgdGhhdCBhcmUgZm9sbG93aW5nIGEgdG9uIG9mIHN0dWZmXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbGJyeWlvL2xicnktc2RrL2lzc3Vlcy8yNDIwXG4gICAgICBpZiAoXG4gICAgICAgIChvcHRpb25zLmNoYW5uZWxfaWRzICYmIG9wdGlvbnMuY2hhbm5lbF9pZHMubGVuZ3RoID4gMjApIHx8XG4gICAgICAgIChvcHRpb25zLmFueV90YWdzICYmIG9wdGlvbnMuYW55X3RhZ3MubGVuZ3RoID4gMjApXG4gICAgICApIHtcbiAgICAgICAgb3B0aW9ucy5yZWxlYXNlX3RpbWUgPSBgPiR7TWF0aC5mbG9vcihtb21lbnQoKS5zdWJ0cmFjdCgzLCBDUy5GUkVTSF9NT05USCkuc3RhcnRPZignd2VlaycpLnVuaXgoKSl9YDtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIChvcHRpb25zLmNoYW5uZWxfaWRzICYmIG9wdGlvbnMuY2hhbm5lbF9pZHMubGVuZ3RoID4gMTApIHx8XG4gICAgICAgIChvcHRpb25zLmFueV90YWdzICYmIG9wdGlvbnMuYW55X3RhZ3MubGVuZ3RoID4gMTApXG4gICAgICApIHtcbiAgICAgICAgb3B0aW9ucy5yZWxlYXNlX3RpbWUgPSBgPiR7TWF0aC5mbG9vcihtb21lbnQoKS5zdWJ0cmFjdCgxLCBDUy5GUkVTSF9ZRUFSKS5zdGFydE9mKCd3ZWVrJykudW5peCgpKX1gO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSGFjayBmb3IgYXQgbGVhc3QgdGhlIE5ldyBwYWdlIHVudGlsIGh0dHBzOi8vZ2l0aHViLmNvbS9sYnJ5aW8vbGJyeS1zZGsvaXNzdWVzLzI1OTEgaXMgZml4ZWRcbiAgICAgICAgb3B0aW9ucy5yZWxlYXNlX3RpbWUgPSBgPCR7TWF0aC5mbG9vcihtb21lbnQoKS5zdGFydE9mKCdtaW51dGUnKS51bml4KCkpfWA7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGR1cmF0aW9uUGFyYW0pIHtcbiAgICBzd2l0Y2ggKGR1cmF0aW9uUGFyYW0pIHtcbiAgICAgIGNhc2UgQ1MuRFVSQVRJT05fQUxMOlxuICAgICAgICAvLyBEbyBub3RoaW5nIChubyBvcHRpb25zIG5lZWRlZClcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENTLkRVUkFUSU9OX1NIT1JUOlxuICAgICAgICBvcHRpb25zLmR1cmF0aW9uID0gJzw9MjQwJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENTLkRVUkFUSU9OX0xPTkc6XG4gICAgICAgIG9wdGlvbnMuZHVyYXRpb24gPSAnPj0xMjAwJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENTLkRVUkFUSU9OX0dUX0VROlxuICAgICAgICBvcHRpb25zLmR1cmF0aW9uID0gYD49JHsoZHVyYXRpb25NaW51dGVzIHx8IDApICogNjB9YDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENTLkRVUkFUSU9OX0xUX0VROlxuICAgICAgICBvcHRpb25zLmR1cmF0aW9uID0gYDw9JHsoZHVyYXRpb25NaW51dGVzIHx8IDApICogNjB9YDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb25zb2xlLmVycm9yKCdVbmhhbmRsZWQgZHVyYXRpb246ICcgKyBkdXJhdGlvblBhcmFtKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKHN0cmVhbVR5cGVQYXJhbSAmJiBzdHJlYW1UeXBlUGFyYW0gIT09IENTLkNPTlRFTlRfQUxMICYmIGNsYWltVHlwZSAhPT0gQ1MuQ0xBSU1fQ0hBTk5FTCkge1xuICAgIG9wdGlvbnMuc3RyZWFtX3R5cGVzID0gdHlwZW9mIHN0cmVhbVR5cGVQYXJhbSA9PT0gJ3N0cmluZycgPyBbc3RyZWFtVHlwZVBhcmFtXSA6IHN0cmVhbVR5cGVQYXJhbTtcbiAgfVxuXG4gIGlmIChjbGFpbVR5cGVQYXJhbSkge1xuICAgIGlmIChjbGFpbVR5cGVQYXJhbSAhPT0gQ1MuQ09OVEVOVF9BTEwpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGNsYWltVHlwZVBhcmFtKSkge1xuICAgICAgICBvcHRpb25zLmNsYWltX3R5cGUgPSBjbGFpbVR5cGVQYXJhbTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbnMuY2xhaW1fdHlwZSA9IFtjbGFpbVR5cGVQYXJhbV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGxhbmd1YWdlUGFyYW1zKSB7XG4gICAgaWYgKGxhbmd1YWdlUGFyYW1zICE9PSBDUy5MQU5HVUFHRVNfQUxMKSB7XG4gICAgICBvcHRpb25zLmFueV9sYW5ndWFnZXMgPSBsYW5ndWFnZVBhcmFtcy5zcGxpdCgnLCcpO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0YWdzUGFyYW0pIHtcbiAgICBpZiAodGFnc1BhcmFtICE9PSBDUy5UQUdTX0FMTCAmJiB0YWdzUGFyYW0gIT09ICcnKSB7XG4gICAgICBpZiAodGFnc1BhcmFtID09PSBDUy5UQUdTX0ZPTExPV0VEKSB7XG4gICAgICAgIG9wdGlvbnMuYW55X3RhZ3MgPSBmb2xsb3dlZDtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0YWdzUGFyYW0pKSB7XG4gICAgICAgIG9wdGlvbnMuYW55X3RhZ3MgPSB0YWdzUGFyYW07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb25zLmFueV90YWdzID0gdGFnc1BhcmFtLnNwbGl0KCcsJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGhpZGVSZXBvc3RzRWZmZWN0aXZlICYmICFvcHRpb25zLnJlcG9zdGVkX2NsYWltX2lkKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucy5jbGFpbV90eXBlKSkge1xuICAgICAgaWYgKG9wdGlvbnMuY2xhaW1fdHlwZS5sZW5ndGggPiAxKSB7XG4gICAgICAgIG9wdGlvbnMuY2xhaW1fdHlwZSA9IG9wdGlvbnMuY2xhaW1fdHlwZS5maWx0ZXIoKGNsYWltVHlwZSkgPT4gY2xhaW1UeXBlICE9PSAncmVwb3N0Jyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdGlvbnMuY2xhaW1fdHlwZSA9IFsnc3RyZWFtJywgJ2NoYW5uZWwnXTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBoYXNNYXR1cmVUYWdzID0gdGFnc1BhcmFtICYmIHRhZ3NQYXJhbS5zcGxpdCgnLCcpLnNvbWUoKHQpID0+IE1BVFVSRV9UQUdTLmluY2x1ZGVzKHQpKTtcblxuICBjb25zdCBzZWFyY2hLZXkgPSBjcmVhdGVOb3JtYWxpemVkQ2xhaW1TZWFyY2hLZXkob3B0aW9ucyk7XG4gIGNvbnN0IGNsYWltU2VhcmNoUmVzdWx0ID0gY2xhaW1TZWFyY2hCeVF1ZXJ5W3NlYXJjaEtleV07XG4gIGNvbnN0IGNsYWltU2VhcmNoUmVzdWx0TGFzdFBhZ2VSZWFjaGVkID0gY2xhaW1TZWFyY2hCeVF1ZXJ5TGFzdFBhZ2VSZWFjaGVkW3NlYXJjaEtleV07XG4gIGNvbnN0IGlzVW5mZXRjaGVkQ2xhaW1TZWFyY2ggPSBjbGFpbVNlYXJjaFJlc3VsdCA9PT0gdW5kZWZpbmVkO1xuXG4gIC8vIHVuY29tbWVudCB0byBmaXggYW4gaXRlbSBvbiBhIHBhZ2VcbiAgLy8gICBjb25zdCBmaXhVcmkgPSAnbGJyeTovL0Bjb3JiZXR0cmVwb3J0IzAvbGJyeW9keXNlZSM1JztcbiAgLy8gICBpZiAoXG4gIC8vICAgICBvcmRlclBhcmFtID09PSBDUy5PUkRFUl9CWV9ORVcgJiZcbiAgLy8gICAgIGNsYWltU2VhcmNoUmVzdWx0ICYmXG4gIC8vICAgICBjbGFpbVNlYXJjaFJlc3VsdC5sZW5ndGggPiAyICYmXG4gIC8vICAgICB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT09ICcvJC9yYWJiaXRob2xlJ1xuICAvLyAgICkge1xuICAvLyAgICAgaWYgKGNsYWltU2VhcmNoUmVzdWx0LmluZGV4T2YoZml4VXJpKSAhPT0gLTEpIHtcbiAgLy8gICAgICAgY2xhaW1TZWFyY2hSZXN1bHQuc3BsaWNlKGNsYWltU2VhcmNoUmVzdWx0LmluZGV4T2YoZml4VXJpKSwgMSk7XG4gIC8vICAgICB9IGVsc2Uge1xuICAvLyAgICAgICBjbGFpbVNlYXJjaFJlc3VsdC5wb3AoKTtcbiAgLy8gICAgIH1cbiAgLy8gICAgIGNsYWltU2VhcmNoUmVzdWx0LnNwbGljZSgyLCAwLCBmaXhVcmkpO1xuICAvLyAgIH1cblxuICBjb25zdCBbcHJldk9wdGlvbnMsIHNldFByZXZPcHRpb25zXSA9IFJlYWN0LnVzZVN0YXRlKG51bGwpO1xuXG4gIGlmICghaXNKdXN0U2Nyb2xsaW5nVG9OZXdQYWdlKHByZXZPcHRpb25zLCBvcHRpb25zKSkge1xuICAgIC8vIC0tLSBOZXcgc2VhcmNoLCBvciBzZWFyY2ggb3B0aW9ucyBjaGFuZ2VkLlxuICAgIHNldFByZXZPcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgaWYgKGRpZE5hdmlnYXRlRm9yd2FyZCkge1xuICAgICAgLy8gLS0tIFJlc2V0IHRoZSBwYWdlLlxuICAgICAgb3B0aW9ucy5wYWdlID0gMTtcbiAgICAgIHNldFBhZ2Uob3B0aW9ucy5wYWdlKTtcbiAgICB9IGVsc2UgaWYgKGNsYWltU2VhcmNoUmVzdWx0KSB7XG4gICAgICAvLyAtLS0gVXBkYXRlICdwYWdlJyBiYXNlZCBvbiByZXRyaWV2ZWQgJ2NsYWltU2VhcmNoUmVzdWx0Jy5cbiAgICAgIG9wdGlvbnMucGFnZSA9IE1hdGguY2VpbChjbGFpbVNlYXJjaFJlc3VsdC5sZW5ndGggLyBkeW5hbWljUGFnZVNpemUpO1xuICAgICAgaWYgKG9wdGlvbnMucGFnZSAhPT0gcGFnZSkge1xuICAgICAgICBzZXRQYWdlKG9wdGlvbnMucGFnZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc2hvdWxkUGVyZm9ybVNlYXJjaCA9XG4gICAgIXVyaXMgJiZcbiAgICAoY2xhaW1TZWFyY2hSZXN1bHQgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgZGlkTmF2aWdhdGVGb3J3YXJkIHx8XG4gICAgICAoIWxvYWRpbmcgJiZcbiAgICAgICAgIWNsYWltU2VhcmNoUmVzdWx0TGFzdFBhZ2VSZWFjaGVkICYmXG4gICAgICAgIGNsYWltU2VhcmNoUmVzdWx0ICYmXG4gICAgICAgIGNsYWltU2VhcmNoUmVzdWx0Lmxlbmd0aCAmJlxuICAgICAgICBjbGFpbVNlYXJjaFJlc3VsdC5sZW5ndGggPCBkeW5hbWljUGFnZVNpemUgKiBvcHRpb25zLnBhZ2UgJiZcbiAgICAgICAgY2xhaW1TZWFyY2hSZXN1bHQubGVuZ3RoICUgZHluYW1pY1BhZ2VTaXplID09PSAwKSk7XG5cbiAgLy8gRG9uJ3QgdXNlIHRoZSBxdWVyeSBmcm9tIGNyZWF0ZU5vcm1hbGl6ZWRDbGFpbVNlYXJjaEtleSBmb3IgdGhlIGVmZmVjdCBzaW5jZSB0aGF0IGRvZXNuJ3QgaW5jbHVkZSBwYWdlICYgcmVsZWFzZV90aW1lXG4gIGNvbnN0IG9wdGlvbnNTdHJpbmdGb3JFZmZlY3QgPSBKU09OLnN0cmluZ2lmeShvcHRpb25zKTtcblxuICBjb25zdCB0aW1lZE91dE1lc3NhZ2UgPSAoXG4gICAgPGRpdj5cbiAgICAgIDxwPlxuICAgICAgICA8STE4bk1lc3NhZ2VcbiAgICAgICAgICB0b2tlbnM9e3tcbiAgICAgICAgICAgIGFnYWluOiAoXG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBidXR0b249XCJsaW5rXCJcbiAgICAgICAgICAgICAgICBsYWJlbD17X18oJ3RyeSBhZ2FpbiBpbiBhIGZldyBzZWNvbmRzLicpfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEZvcmNlUmVmcmVzaChEYXRlLm5vdygpKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICksXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIFNvcnJ5LCB5b3VyIHJlcXVlc3QgdGltZWQgb3V0LiBNb2RpZnkgeW91ciBvcHRpb25zIG9yICVhZ2FpbiVcbiAgICAgICAgPC9JMThuTWVzc2FnZT5cbiAgICAgIDwvcD5cbiAgICAgIDxwPlxuICAgICAgICA8STE4bk1lc3NhZ2VcbiAgICAgICAgICB0b2tlbnM9e3tcbiAgICAgICAgICAgIGNvbnRhY3Rfc3VwcG9ydDogKFxuICAgICAgICAgICAgICA8QnV0dG9uIGJ1dHRvbj1cImxpbmtcIiBsYWJlbD17X18oJ2NvbnRhY3Qgc3VwcG9ydCcpfSBocmVmPVwiaHR0cHM6Ly9vZHlzZWUuY29tL0BPZHlzZWVIZWxwOmI/dmlldz1hYm91dFwiIC8+XG4gICAgICAgICAgICApLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICBJZiB5b3UgY29udGludWUgdG8gaGF2ZSBpc3N1ZXMsIHBsZWFzZSAlY29udGFjdF9zdXBwb3J0JS5cbiAgICAgICAgPC9JMThuTWVzc2FnZT5cbiAgICAgIDwvcD5cbiAgICA8L2Rpdj5cbiAgKTtcblxuICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gIGxldCBmaW5hbFVyaXM7XG5cbiAgaWYgKHVyaXMpIHtcbiAgICAvLyAtLS0gZGlyZWN0IHVyaXNcbiAgICBmaW5hbFVyaXMgPSB1cmlzO1xuICAgIGluamVjdFBpblVybHMoZmluYWxVcmlzLCBvcmRlclBhcmFtLCBwaW5zLCByZXNvbHZlZFBpblVyaXMpO1xuICAgIGZpbmFsVXJpcyA9IGZpbHRlckV4Y2x1ZGVkVXJpcyhmaW5hbFVyaXMsIGV4Y2x1ZGVVcmlzKTtcbiAgfSBlbHNlIHtcbiAgICAvLyAtLS0gc2VhcmNoZWQgdXJpc1xuICAgIGlmIChpc1VuZmV0Y2hlZENsYWltU2VhcmNoICYmIHByZXZVcmlzLmN1cnJlbnQpIHtcbiAgICAgIGZpbmFsVXJpcyA9IHByZXZVcmlzLmN1cnJlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpbmFsVXJpcyA9IGNsYWltU2VhcmNoUmVzdWx0O1xuICAgICAgaW5qZWN0UGluVXJscyhmaW5hbFVyaXMsIG9yZGVyUGFyYW0sIHBpbnMsIHJlc29sdmVkUGluVXJpcyk7XG4gICAgICBmaW5hbFVyaXMgPSBmaWx0ZXJFeGNsdWRlZFVyaXMoZmluYWxVcmlzLCBleGNsdWRlVXJpcyk7XG4gICAgICBwcmV2VXJpcy5jdXJyZW50ID0gZmluYWxVcmlzO1xuICAgIH1cbiAgfVxuXG4gIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gIC8vIEhlbHBlcnNcbiAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuICAvLyBSZXR1cm5zIHRydWUgaWYgdGhlIGNoYW5nZSBpbiAnb3B0aW9ucycgaW5kaWNhdGUgdGhhdCB3ZSBhcmUgc2ltcGx5IHNjcm9sbGluZ1xuICAvLyBkb3duIHRvIGEgbmV3IHBhZ2U7IGZhbHNlIG90aGVyd2lzZS5cbiAgZnVuY3Rpb24gaXNKdXN0U2Nyb2xsaW5nVG9OZXdQYWdlKHByZXZPcHRpb25zLCBvcHRpb25zKSB7XG4gICAgaWYgKCFwcmV2T3B0aW9ucykge1xuICAgICAgLy8gSXQncyBhIG5ldyBzZWFyY2gsIG9yIHdlIGp1c3QgcG9wcGVkIGJhY2sgZnJvbSBhIGRpZmZlcmVudCB2aWV3LlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIENvbXBhcmUgZXZlcnkgZmllbGQgZXhjZXB0IGZvciAncGFnZScgYW5kICdyZWxlYXNlX3RpbWUnLlxuICAgIC8vIFRoZXJlIG1pZ2h0IGJlIGJldHRlciB3YXlzIHRvIGFjaGlldmUgdGhpcy5cbiAgICBsZXQgdG1wUHJldk9wdGlvbnMgPSB7IC4uLnByZXZPcHRpb25zIH07XG4gICAgdG1wUHJldk9wdGlvbnMucGFnZSA9IC0xO1xuICAgIHRtcFByZXZPcHRpb25zLnJlbGVhc2VfdGltZSA9ICcnO1xuXG4gICAgbGV0IHRtcE9wdGlvbnMgPSB7IC4uLm9wdGlvbnMgfTtcbiAgICB0bXBPcHRpb25zLnBhZ2UgPSAtMTtcbiAgICB0bXBPcHRpb25zLnJlbGVhc2VfdGltZSA9ICcnO1xuXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRtcE9wdGlvbnMpID09PSBKU09OLnN0cmluZ2lmeSh0bXBQcmV2T3B0aW9ucyk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRQYXJhbUZyb21UYWdzKHQpIHtcbiAgICBpZiAodCA9PT0gQ1MuVEFHU19BTEwgfHwgdCA9PT0gQ1MuVEFHU19GT0xMT1dFRCkge1xuICAgICAgcmV0dXJuIHQ7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHQpKSB7XG4gICAgICByZXR1cm4gdC5qb2luKCcsJyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlU2Nyb2xsQm90dG9tKCkge1xuICAgIGlmIChtYXhQYWdlcyAhPT0gdW5kZWZpbmVkICYmIHBhZ2UgPT09IG1heFBhZ2VzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFsb2FkaW5nICYmIGluZmluaXRlU2Nyb2xsKSB7XG4gICAgICBpZiAoY2xhaW1TZWFyY2hSZXN1bHQgJiYgIWNsYWltU2VhcmNoUmVzdWx0TGFzdFBhZ2VSZWFjaGVkKSB7XG4gICAgICAgIHNldFBhZ2UocGFnZSArIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc29sdmVIaWRlUmVwb3N0cyhoaWRlUmVwb3N0U2V0dGluZywgaGlkZVJlcG9zdE92ZXJyaWRlKSB7XG4gICAgaWYgKGhpZGVSZXBvc3RPdmVycmlkZSA9PT0gdW5kZWZpbmVkIHx8IGhpZGVSZXBvc3RPdmVycmlkZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGhpZGVSZXBvc3RTZXR0aW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaGlkZVJlcG9zdE92ZXJyaWRlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc29sdmVPcmRlckJ5T3B0aW9uKG9yZGVyQnk6IHN0cmluZyB8IEFycmF5PHN0cmluZz4sIHNvcnRCeTogc3RyaW5nIHwgQXJyYXk8c3RyaW5nPikge1xuICAgIGxldCBvcmRlcl9ieTtcblxuICAgIHN3aXRjaCAob3JkZXJCeSkge1xuICAgICAgY2FzZSBDUy5PUkRFUl9CWV9UUkVORElORzpcbiAgICAgICAgb3JkZXJfYnkgPSBDUy5PUkRFUl9CWV9UUkVORElOR19WQUxVRTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENTLk9SREVSX0JZX05FVzpcbiAgICAgICAgb3JkZXJfYnkgPSBDUy5PUkRFUl9CWV9ORVdfVkFMVUU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDUy5PUkRFUl9CWV9ORVdfQVNDOlxuICAgICAgICBvcmRlcl9ieSA9IENTLk9SREVSX0JZX05FV19BU0NfVkFMVUU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDUy5PUkRFUl9CWV9OQU1FX0FTQzpcbiAgICAgICAgb3JkZXJfYnkgPSBDUy5PUkRFUl9CWV9OQU1FX0FTQ19WQUxVRTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBvcmRlcl9ieSA9IENTLk9SREVSX0JZX1RPUF9WQUxVRTtcbiAgICB9XG5cbiAgICBpZiAob3JkZXJCeSA9PT0gQ1MuT1JERVJfQllfTkVXICYmIHNvcnRCeSA9PT0gQ1MuU09SVF9CWS5PTERFU1Qua2V5KSB7XG4gICAgICByZXR1cm4gb3JkZXJfYnkubWFwKCh4KSA9PiBgJHtDUy5TT1JUX0JZLk9MREVTVC5vcHR9JHt4fWApO1xuICAgIH1cblxuICAgIHJldHVybiBvcmRlcl9ieTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluamVjdFBpblVybHModXJpcywgb3JkZXIsIHBpbnMsIHJlc29sdmVkUGluVXJpcykge1xuICAgIGlmICghcGlucyB8fCAhdXJpcyB8fCB1cmlzLmxlbmd0aCA8PSAyIHx8IChwaW5zLm9ubHlQaW5Gb3JPcmRlciAmJiBwaW5zLm9ubHlQaW5Gb3JPcmRlciAhPT0gb3JkZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHJlc29sdmVkUGluVXJpcykge1xuICAgICAgcmVzb2x2ZWRQaW5VcmlzLmZvckVhY2goKHBpbikgPT4ge1xuICAgICAgICBpZiAodXJpcy5pbmNsdWRlcyhwaW4pKSB7XG4gICAgICAgICAgdXJpcy5zcGxpY2UodXJpcy5pbmRleE9mKHBpbiksIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVyaXMucG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB1cmlzLnNwbGljZSgyLCAwLCAuLi5yZXNvbHZlZFBpblVyaXMpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbHRlckV4Y2x1ZGVkVXJpcyh1cmlzLCBleGNsdWRlVXJpcykge1xuICAgIGlmICh1cmlzICYmIGV4Y2x1ZGVVcmlzICYmIGV4Y2x1ZGVVcmlzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHVyaXMuZmlsdGVyKCh1cmkpID0+ICFleGNsdWRlVXJpcy5pbmNsdWRlcyh1cmkpKTtcbiAgICB9XG4gICAgcmV0dXJuIHVyaXM7XG4gIH1cblxuICBmdW5jdGlvbiBvbkhpZGRlbih1cmkpIHtcbiAgICBpZiAoaGlkZGVuQnVmZmVyLmluZGV4T2YodXJpKSA9PT0gLTEpIHtcbiAgICAgIGxldCBuZXdCdWZmZXIgPSBoaWRkZW5CdWZmZXI7XG4gICAgICBuZXdCdWZmZXIucHVzaCh1cmkpO1xuICAgICAgc2V0SGlkZGVuQnVmZmVyKG5ld0J1ZmZlcik7XG4gICAgfVxuICB9XG5cbiAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuICB1c2VGZXRjaFZpZXdDb3VudChmZXRjaFZpZXdDb3VudCwgZmluYWxVcmlzLCBjbGFpbXNCeVVyaSwgZG9GZXRjaFZpZXdDb3VudCk7XG5cbiAgdXNlR2V0VXNlck1lbWJlcnNoaXBzKHRydWUsIGZpbmFsVXJpcywgY2xhaW1zQnlVcmksIGRvRmV0Y2hVc2VyTWVtYmVyc2hpcHMpO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNob3VsZFBlcmZvcm1TZWFyY2gpIHtcbiAgICAgIGNvbnN0IHNlYXJjaE9wdGlvbnMgPSBKU09OLnBhcnNlKG9wdGlvbnNTdHJpbmdGb3JFZmZlY3QpO1xuICAgICAgZG9DbGFpbVNlYXJjaChzZWFyY2hPcHRpb25zKTtcbiAgICB9XG4gIH0sIFtkb0NsYWltU2VhcmNoLCBzaG91bGRQZXJmb3JtU2VhcmNoLCBvcHRpb25zU3RyaW5nRm9yRWZmZWN0LCBmb3JjZVJlZnJlc2hdKTtcblxuICBjb25zdCBoZWFkZXJUb1VzZSA9IGhlYWRlciB8fCAoXG4gICAgPENsYWltTGlzdEhlYWRlclxuICAgICAgY2hhbm5lbElkcz17Y2hhbm5lbElkc31cbiAgICAgIGRlZmF1bHRUYWdzPXtkZWZhdWx0VGFnc31cbiAgICAgIHRhZ3M9e3RhZ3N9XG4gICAgICBmcmVzaG5lc3M9e2ZyZXNobmVzc31cbiAgICAgIGRlZmF1bHRGcmVzaG5lc3M9e2RlZmF1bHRGcmVzaG5lc3N9XG4gICAgICBjbGFpbVR5cGU9e2NsYWltVHlwZX1cbiAgICAgIHN0cmVhbVR5cGU9e3N0cmVhbVR5cGV9XG4gICAgICBkZWZhdWx0U3RyZWFtVHlwZT17ZGVmYXVsdFN0cmVhbVR5cGV9XG4gICAgICBmZWVBbW91bnQ9e2ZlZUFtb3VudH0gLy8gRU5BQkxFX1BBSURfQ09OVEVOVF9ESVNDT1ZFUiBvciBzb21ldGhpbmdcbiAgICAgIG9yZGVyQnk9e29yZGVyQnl9XG4gICAgICBkZWZhdWx0T3JkZXJCeT17ZGVmYXVsdE9yZGVyQnl9XG4gICAgICBoaWRlQWR2YW5jZWRGaWx0ZXI9e2hpZGVBZHZhbmNlZEZpbHRlcn1cbiAgICAgIGhhc01hdHVyZVRhZ3M9e2hhc01hdHVyZVRhZ3N9XG4gICAgICBoaWRkZW5Oc2Z3TWVzc2FnZT17aGlkZGVuTnNmd01lc3NhZ2V9XG4gICAgICBzZXRQYWdlPXtzZXRQYWdlfVxuICAgICAgdGlsZUxheW91dD17dGlsZUxheW91dH1cbiAgICAgIGhpZGVMYXlvdXRCdXR0b249e2hpZGVMYXlvdXRCdXR0b259XG4gICAgICBoaWRlRmlsdGVycz17aGlkZUZpbHRlcnN9XG4gICAgICBzY3JvbGxBbmNob3I9e3Njcm9sbEFuY2hvcn1cbiAgICAvPlxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAge2hlYWRlckxhYmVsICYmIDxsYWJlbCBjbGFzc05hbWU9XCJjbGFpbS1saXN0X19oZWFkZXItbGFiZWxcIj57aGVhZGVyTGFiZWx9PC9sYWJlbD59XG4gICAgICB7dGlsZUxheW91dCA/IChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICB7IXJlcG9zdGVkQ2xhaW1JZCAmJiBzaG93SGVhZGVyICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbl9faGVhZGVyLS1hY3Rpb25zXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbl9fYWN0aW9uc1wiPlxuICAgICAgICAgICAgICAgIHtoZWFkZXJUb1VzZX1cbiAgICAgICAgICAgICAgICB7c2VhcmNoSW5TZWxlY3RlZExhbmcgJiYgPExhbmdGaWx0ZXJJbmRpY2F0b3IgLz59XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICB7bWV0YSAmJiA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb25fX2FjdGlvbnMtLW5vLW1hcmdpblwiPnttZXRhfTwvZGl2Pn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAge3N1YlNlY3Rpb24gJiYgPGRpdj57c3ViU2VjdGlvbn08L2Rpdj59XG4gICAgICAgICAgPENsYWltTGlzdFxuICAgICAgICAgICAgdGlsZUxheW91dFxuICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ31cbiAgICAgICAgICAgIHVyaXM9e2ZpbmFsVXJpc31cbiAgICAgICAgICAgIHByZWZpeFVyaXM9e3ByZWZpeFVyaXN9XG4gICAgICAgICAgICBvblNjcm9sbEJvdHRvbT17aGFuZGxlU2Nyb2xsQm90dG9tfVxuICAgICAgICAgICAgcGFnZT17cGFnZX1cbiAgICAgICAgICAgIHBhZ2VTaXplPXtkeW5hbWljUGFnZVNpemV9XG4gICAgICAgICAgICB0aW1lZE91dE1lc3NhZ2U9e3RpbWVkT3V0TWVzc2FnZX1cbiAgICAgICAgICAgIHJlbmRlclByb3BlcnRpZXM9e3JlbmRlclByb3BlcnRpZXN9XG4gICAgICAgICAgICBpbmNsdWRlU3VwcG9ydEFjdGlvbj17aW5jbHVkZVN1cHBvcnRBY3Rpb259XG4gICAgICAgICAgICAvLyBpbmplY3RlZEl0ZW09e2luamVjdGVkSXRlbX1cbiAgICAgICAgICAgIHNob3dIaWRkZW5CeVVzZXI9e3Nob3dIaWRkZW5CeVVzZXJ9XG4gICAgICAgICAgICBzZWFyY2hPcHRpb25zPXtvcHRpb25zfVxuICAgICAgICAgICAgc2hvd05vU291cmNlQ2xhaW1zPXtzaG93Tm9Tb3VyY2VDbGFpbXN9XG4gICAgICAgICAgICBlbXB0eT17ZW1wdHl9XG4gICAgICAgICAgICBtYXhDbGFpbVJlbmRlcj17bWF4Q2xhaW1SZW5kZXJ9XG4gICAgICAgICAgICBsb2FkZWRDYWxsYmFjaz17bG9hZGVkQ2FsbGJhY2t9XG4gICAgICAgICAgICBzd2lwZUxheW91dD17c3dpcGVMYXlvdXR9XG4gICAgICAgICAgICBvbkhpZGRlbj17b25IaWRkZW59XG4gICAgICAgICAgLz5cbiAgICAgICAgICB7bG9hZGluZyAmJiB1c2VTa2VsZXRvblNjcmVlbiAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsYWltLWdyaWRcIj5cbiAgICAgICAgICAgICAge25ldyBBcnJheShkeW5hbWljUGFnZVNpemUpLmZpbGwoMSkubWFwKCh4LCBpKSA9PiAoXG4gICAgICAgICAgICAgICAgPENsYWltUHJldmlld1RpbGUga2V5PXtpfSBwbGFjZWhvbGRlcj1cImxvYWRpbmdcIiBwdWxzZSAvPlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSA6IChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICB7c2hvd0hlYWRlciAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb25fX2hlYWRlci0tYWN0aW9uc1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb25fX2FjdGlvbnNcIj5cbiAgICAgICAgICAgICAgICB7aGVhZGVyVG9Vc2V9XG4gICAgICAgICAgICAgICAge3NlYXJjaEluU2VsZWN0ZWRMYW5nICYmIDxMYW5nRmlsdGVySW5kaWNhdG9yIC8+fVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAge21ldGEgJiYgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uX19hY3Rpb25zLS1uby1tYXJnaW5cIj57bWV0YX08L2Rpdj59XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtzdWJTZWN0aW9uICYmIDxkaXY+e3N1YlNlY3Rpb259PC9kaXY+fVxuICAgICAgICAgIDxDbGFpbUxpc3RcbiAgICAgICAgICAgIHR5cGU9e3R5cGV9XG4gICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nfVxuICAgICAgICAgICAgdXJpcz17ZmluYWxVcmlzfVxuICAgICAgICAgICAgcHJlZml4VXJpcz17cHJlZml4VXJpc31cbiAgICAgICAgICAgIG9uU2Nyb2xsQm90dG9tPXtoYW5kbGVTY3JvbGxCb3R0b219XG4gICAgICAgICAgICBwYWdlPXtwYWdlfVxuICAgICAgICAgICAgcGFnZVNpemU9e2R5bmFtaWNQYWdlU2l6ZX1cbiAgICAgICAgICAgIHRpbWVkT3V0TWVzc2FnZT17dGltZWRPdXRNZXNzYWdlfVxuICAgICAgICAgICAgcmVuZGVyUHJvcGVydGllcz17cmVuZGVyUHJvcGVydGllc31cbiAgICAgICAgICAgIGluY2x1ZGVTdXBwb3J0QWN0aW9uPXtpbmNsdWRlU3VwcG9ydEFjdGlvbn1cbiAgICAgICAgICAgIC8vIGluamVjdGVkSXRlbT17aW5qZWN0ZWRJdGVtfVxuICAgICAgICAgICAgc2hvd0hpZGRlbkJ5VXNlcj17c2hvd0hpZGRlbkJ5VXNlcn1cbiAgICAgICAgICAgIHNlYXJjaE9wdGlvbnM9e29wdGlvbnN9XG4gICAgICAgICAgICBzaG93Tm9Tb3VyY2VDbGFpbXM9e2hhc05vU291cmNlIHx8IHNob3dOb1NvdXJjZUNsYWltc31cbiAgICAgICAgICAgIGVtcHR5PXtlbXB0eX1cbiAgICAgICAgICAgIG1heENsYWltUmVuZGVyPXttYXhDbGFpbVJlbmRlcn1cbiAgICAgICAgICAgIGxvYWRlZENhbGxiYWNrPXtsb2FkZWRDYWxsYmFja31cbiAgICAgICAgICAgIHN3aXBlTGF5b3V0PXtzd2lwZUxheW91dH1cbiAgICAgICAgICAgIG9uSGlkZGVuPXtvbkhpZGRlbn1cbiAgICAgICAgICAvPlxuICAgICAgICAgIHtsb2FkaW5nICYmXG4gICAgICAgICAgICB1c2VTa2VsZXRvblNjcmVlbiAmJlxuICAgICAgICAgICAgbmV3IEFycmF5KGR5bmFtaWNQYWdlU2l6ZSlcbiAgICAgICAgICAgICAgLmZpbGwoMSlcbiAgICAgICAgICAgICAgLm1hcCgoeCwgaSkgPT4gKFxuICAgICAgICAgICAgICAgIDxDbGFpbVByZXZpZXdcbiAgICAgICAgICAgICAgICAgIHNob3dOb1NvdXJjZUNsYWltcz17aGFzTm9Tb3VyY2UgfHwgc2hvd05vU291cmNlQ2xhaW1zfVxuICAgICAgICAgICAgICAgICAga2V5PXtpfVxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJsb2FkaW5nXCJcbiAgICAgICAgICAgICAgICAgIHR5cGU9e3R5cGV9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L1JlYWN0LkZyYWdtZW50PlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCB3aXRoUm91dGVyKENsYWltTGlzdERpc2NvdmVyKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZ0dBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBOEVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBL0VBO0FBaUZBO0FBQ0E7QUFsRkE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFtRkE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUE5RkE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQWdHQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUE5QkE7QUFnQ0E7QUFDQTtBQUNBO0FBQ0E7QUEvSUE7QUFBQTtBQUFBO0FBQ0E7QUErSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQXVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFDQTtBQWFBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTVPQTtBQUNBO0FBQ0E7QUE2T0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFKQTtBQVNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQWxCQTtBQW9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbFdBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFvV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVdBO0FBRUE7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUhBO0FBRkE7QUFEQTtBQWdCQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFGQTtBQURBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF0YkE7QUEwYkE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFkQTtBQUNBO0FBZ0JBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUxBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXZpQkE7QUEyaUJBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFPQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFuQkE7QUF1QkE7QUFFQTtBQUFBO0FBSUE7QUFBQTtBQUNBO0FBQUE7QUFJQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFuQkE7QUFzQkE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFwQ0E7QUE0Q0E7QUFBQTtBQUNBO0FBQUE7QUFJQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFuQkE7QUF5QkE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBbEZBO0FBNkZBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../ui/component/claimListDiscover/view.jsx\n");

/***/ }),

/***/ "../ui/component/router/view.jsx":
/*!***************************************!*\
  !*** ../ui/component/router/view.jsx ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ \"../node_modules/react-router-dom/esm/react-router-dom.js\");\n/* harmony import */ var constants_pages__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! constants/pages */ \"../ui/constants/pages.js\");\n/* harmony import */ var constants_pages__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(constants_pages__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var constants_pageTitles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! constants/pageTitles */ \"../ui/constants/pageTitles.js\");\n/* harmony import */ var effects_use_screensize__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effects/use-screensize */ \"../ui/effects/use-screensize.js\");\n/* harmony import */ var util_lazyImport__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! util/lazyImport */ \"../ui/util/lazyImport.js\");\n/* harmony import */ var constants_comment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! constants/comment */ \"../ui/constants/comment.js\");\n/* harmony import */ var util_lbryURI__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! util/lbryURI */ \"../ui/util/lbryURI.js\");\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! config */ \"../config.js\");\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(config__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var component_loadingBarOneOff__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! component/loadingBarOneOff */ \"../ui/component/loadingBarOneOff/index.js\");\n/* harmony import */ var util_buildHomepage__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! util/buildHomepage */ \"../ui/util/buildHomepage.js\");\n/* harmony import */ var constants_claim_search__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! constants/claim_search */ \"../ui/constants/claim_search.js\");\n/* harmony import */ var util_notifications__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! util/notifications */ \"../ui/util/notifications.js\");\n/* harmony import */ var page_home__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! page/home */ \"../ui/page/home/index.js\");\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Code2257Page = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | code2257 */ \"code2257\").then(__webpack_require__.bind(null, /*! web/page/code2257 */ \"./page/code2257/index.js\"));\n});\nvar PrivacyPolicyPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | privacypolicy */ \"privacypolicy\").then(__webpack_require__.bind(null, /*! web/page/privacypolicy */ \"./page/privacypolicy/index.js\"));\n});\nvar TOSPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | tos */ \"tos\").then(__webpack_require__.bind(null, /*! web/page/tos */ \"./page/tos/index.js\"));\n});\nvar CareersPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | careers */ \"careers\").then(__webpack_require__.bind(null, /*! web/page/careers */ \"./page/careers/index.js\"));\n});\nvar CareersITProjectManagerPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | itProjectManager */ \"itProjectManager\").then(__webpack_require__.bind(null, /*! web/page/careers/itProjectManager */ \"./page/careers/itProjectManager/index.js\"));\n});\nvar SeniorBackendEngineerPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | seniorBackendEngineer */ \"seniorBackendEngineer\").then(__webpack_require__.bind(null, /*! web/page/careers/seniorBackendEngineer */ \"./page/careers/seniorBackendEngineer/index.js\"));\n});\nvar SoftwareSecurityEngineerPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | securityEngineer */ \"securityEngineer\").then(__webpack_require__.bind(null, /*! web/page/careers/securityEngineer */ \"./page/careers/securityEngineer/index.js\"));\n});\nvar SeniorAndroidDeveloperPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | seniorAndroidDeveloper */ \"seniorAndroidDeveloper\").then(__webpack_require__.bind(null, /*! web/page/careers/seniorAndroidDeveloper */ \"./page/careers/seniorAndroidDeveloper/index.js\"));\n});\nvar SeniorIosDeveloperPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | seniorIosDeveloper */ \"seniorIosDeveloper\").then(__webpack_require__.bind(null, /*! web/page/careers/seniorIosDeveloper */ \"./page/careers/seniorIosDeveloper/index.js\"));\n});\nvar FypPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | fyp */ \"fyp\").then(__webpack_require__.bind(null, /*! web/page/fyp */ \"./page/fyp/index.js\"));\n});\nvar YouTubeTOSPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | youtubetos */ \"youtubetos\").then(__webpack_require__.bind(null, /*! web/page/youtubetos */ \"./page/youtubetos/index.js\"));\n});\nvar SignInPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | signIn */ \"signIn\").then(__webpack_require__.bind(null, /*! page/signIn */ \"../ui/page/signIn/index.js\"));\n});\nvar SignInWalletPasswordPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | signInWalletPassword */ \"signInWalletPassword\").then(__webpack_require__.bind(null, /*! page/signInWalletPassword */ \"../ui/page/signInWalletPassword/index.js\"));\n});\nvar SignUpPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return Promise.all(/*! import() | signUp */[__webpack_require__.e(\"vendors~modalYoutubeWelcome~signUp\"), __webpack_require__.e(\"youtubeSync\"), __webpack_require__.e(\"rewardsVerify~signUp\"), __webpack_require__.e(\"signUp\")]).then(__webpack_require__.bind(null, /*! page/signUp */ \"../ui/page/signUp/index.js\"));\n});\nvar SignInVerifyPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return Promise.all(/*! import() | signInVerify */[__webpack_require__.e(\"vendors~signInVerify\"), __webpack_require__.e(\"signInVerify\")]).then(__webpack_require__.bind(null, /*! page/signInVerify */ \"../ui/page/signInVerify/index.js\"));\n});\nvar BuyPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return Promise.all(/*! import() | buy */[__webpack_require__.e(\"vendors~buy~modalPhoneCollection~reportContent\"), __webpack_require__.e(\"vendors~buy\"), __webpack_require__.e(\"buy\")]).then(__webpack_require__.bind(null, /*! page/buy */ \"../ui/page/buy/index.js\"));\n});\nvar ReceivePage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return Promise.all(/*! import() | receive */[__webpack_require__.e(\"vendors~receive~swap\"), __webpack_require__.e(\"receive\")]).then(__webpack_require__.bind(null, /*! page/receive */ \"../ui/page/receive/index.js\"));\n});\nvar SendPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return Promise.all(/*! import() | send */[__webpack_require__.e(\"vendors~send\"), __webpack_require__.e(\"send\")]).then(__webpack_require__.bind(null, /*! page/send */ \"../ui/page/send/index.js\"));\n});\nvar SwapPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return Promise.all(/*! import() | swap */[__webpack_require__.e(\"vendors~receive~swap\"), __webpack_require__.e(\"swap\")]).then(__webpack_require__.bind(null, /*! page/swap */ \"../ui/page/swap/index.js\"));\n});\nvar WalletPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return Promise.all(/*! import() | wallet */[__webpack_require__.e(\"vendors~fileListPublished~library~listBlocked~livestreamCreate~livestreamSetup~playlists~wallet\"), __webpack_require__.e(\"modalMassTipUnlock~wallet\"), __webpack_require__.e(\"wallet\")]).then(__webpack_require__.bind(null, /*! page/wallet */ \"../ui/page/wallet/index.js\"));\n});\nvar NotificationsPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | notifications */ \"notifications\").then(__webpack_require__.bind(null, /*! page/notifications */ \"../ui/page/notifications/index.js\"));\n});\nvar CollectionPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return Promise.all(/*! import() | collection */[__webpack_require__.e(\"collection~livestreamCreate~livestreamSetup~post~publish\"), __webpack_require__.e(\"collection\")]).then(__webpack_require__.bind(null, /*! page/collection */ \"../ui/page/collection/index.js\"));\n});\nvar ChannelNew = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | channelNew */ \"channelNew\").then(__webpack_require__.bind(null, /*! page/channelNew */ \"../ui/page/channelNew/index.js\"));\n});\nvar ChannelsFollowingDiscoverPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | channelsFollowingDiscover */ \"channelsFollowingDiscover\").then(__webpack_require__.bind(null, /*! page/channelsFollowingDiscover */ \"../ui/page/channelsFollowingDiscover/index.js\"));\n});\nvar ChannelsFollowingPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | channelsFollowing */ \"channelsFollowing\").then(__webpack_require__.bind(null, /*! page/channelsFollowing */ \"../ui/page/channelsFollowing/index.js\"));\n});\nvar ChannelsFollowingManage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | channelsFollowing */ \"channelsFollowing\").then(__webpack_require__.bind(null, /*! page/channelsFollowingManage */ \"../ui/page/channelsFollowingManage/index.js\"));\n});\nvar ChannelsPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | channels */ \"channels\").then(__webpack_require__.bind(null, /*! page/channels */ \"../ui/page/channels/index.js\"));\n});\nvar CheckoutPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | checkoutPage */ \"checkoutPage\").then(__webpack_require__.bind(null, /*! page/checkoutPage */ \"../ui/page/checkoutPage/index.js\"));\n});\nvar CreatorDashboard = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | creatorDashboard */ \"creatorDashboard\").then(__webpack_require__.bind(null, /*! page/creatorDashboard */ \"../ui/page/creatorDashboard/index.js\"));\n});\nvar DiscoverPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | discover */ \"discover\").then(__webpack_require__.bind(null, /*! page/discover */ \"../ui/page/discover/index.js\"));\n});\nvar EmbedWrapperPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | embedWrapper */ \"embedWrapper\").then(__webpack_require__.bind(null, /*! page/embedWrapper */ \"../ui/page/embedWrapper/index.js\"));\n});\nvar PopoutChatPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return Promise.all(/*! import() | popoutChat */[__webpack_require__.e(\"chat~comments~modalRemoveComment~modalSendTip~popoutChat~reportContent\"), __webpack_require__.e(\"chat~comments~modalRemoveComment~popoutChat~reportContent\"), __webpack_require__.e(\"chat\"), __webpack_require__.e(\"popoutChat\")]).then(__webpack_require__.bind(null, /*! page/popoutChatWrapper */ \"../ui/page/popoutChatWrapper/index.js\"));\n});\nvar FileListPublished = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return Promise.all(/*! import() | fileListPublished */[__webpack_require__.e(\"vendors~fileListPublished~library~listBlocked~livestreamCreate~livestreamSetup~playlists~wallet\"), __webpack_require__.e(\"fileListPublished\")]).then(__webpack_require__.bind(null, /*! page/fileListPublished */ \"../ui/page/fileListPublished/index.js\"));\n});\nvar FourOhFourPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | fourOhFour */ \"fourOhFour\").then(__webpack_require__.bind(null, /*! page/fourOhFour */ \"../ui/page/fourOhFour/index.js\"));\n});\nvar HelpPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | help */ \"help\").then(__webpack_require__.bind(null, /*! page/help */ \"../ui/page/help/index.js\"));\n});\nvar InvitePage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | invite */ \"invite\").then(__webpack_require__.bind(null, /*! page/invite */ \"../ui/page/invite/index.js\"));\n});\nvar InvitedPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | invited */ \"invited\").then(__webpack_require__.bind(null, /*! page/invited */ \"../ui/page/invited/index.js\"));\n});\nvar LibraryPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return Promise.all(/*! import() | library */[__webpack_require__.e(\"vendors~fileListPublished~library~listBlocked~livestreamCreate~livestreamSetup~playlists~wallet\"), __webpack_require__.e(\"library\")]).then(__webpack_require__.bind(null, /*! page/library */ \"../ui/page/library/index.js\"));\n});\nvar ListBlockedPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return Promise.all(/*! import() | listBlocked */[__webpack_require__.e(\"vendors~fileListPublished~library~listBlocked~livestreamCreate~livestreamSetup~playlists~wallet\"), __webpack_require__.e(\"vendors~listBlocked~modalMobileSearch~wb\"), __webpack_require__.e(\"vendors~listBlocked~settingsCreator\"), __webpack_require__.e(\"vendors~listBlocked~suggestions\"), __webpack_require__.e(\"listBlocked\")]).then(__webpack_require__.bind(null, /*! page/listBlocked */ \"../ui/page/listBlocked/index.js\"));\n});\nvar PlaylistsPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return Promise.all(/*! import() | playlists */[__webpack_require__.e(\"vendors~fileListPublished~library~listBlocked~livestreamCreate~livestreamSetup~playlists~wallet\"), __webpack_require__.e(\"playlists\")]).then(__webpack_require__.bind(null, /*! page/playlists/view */ \"../ui/page/playlists/view.jsx\"));\n});\nvar WatchHistoryPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | history */ \"history\").then(__webpack_require__.bind(null, /*! page/watchHistory */ \"../ui/page/watchHistory/index.js\"));\n});\nvar LiveStreamSetupPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return Promise.all(/*! import() | livestreamSetup */[__webpack_require__.e(\"vendors~fileListPublished~library~listBlocked~livestreamCreate~livestreamSetup~playlists~wallet\"), __webpack_require__.e(\"vendors~livestreamCreate~livestreamSetup~post~publish\"), __webpack_require__.e(\"collection~livestreamCreate~livestreamSetup~post~publish\"), __webpack_require__.e(\"livestreamCreate~livestreamSetup~post~publish\"), __webpack_require__.e(\"livestreamCreate~livestreamSetup~publish\"), __webpack_require__.e(\"livestreamCreate~livestreamSetup\"), __webpack_require__.e(\"livestreamSetup\")]).then(__webpack_require__.bind(null, /*! page/livestreamSetup */ \"../ui/page/livestreamSetup/index.js\"));\n});\nvar LivestreamCurrentPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | livestreamCurrent */ \"livestreamCurrent\").then(__webpack_require__.bind(null, /*! page/livestreamCurrent */ \"../ui/page/livestreamCurrent/index.js\"));\n});\nvar LivestreamCreatePage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return Promise.all(/*! import() | livestreamCreate */[__webpack_require__.e(\"vendors~fileListPublished~library~listBlocked~livestreamCreate~livestreamSetup~playlists~wallet\"), __webpack_require__.e(\"vendors~livestreamCreate~livestreamSetup~post~publish\"), __webpack_require__.e(\"collection~livestreamCreate~livestreamSetup~post~publish\"), __webpack_require__.e(\"livestreamCreate~livestreamSetup~post~publish\"), __webpack_require__.e(\"livestreamCreate~livestreamSetup~publish\"), __webpack_require__.e(\"livestreamCreate~livestreamSetup\"), __webpack_require__.e(\"livestreamCreate\")]).then(__webpack_require__.bind(null, /*! page/livestreamCreate */ \"../ui/page/livestreamCreate/index.js\"));\n});\nvar OdyseeMembershipPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | odyseeMembership */ \"odyseeMembership\").then(__webpack_require__.bind(null, /*! page/odyseeMembership */ \"../ui/page/odyseeMembership/index.js\"));\n});\nvar OwnComments = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | ownComments */ \"ownComments\").then(__webpack_require__.bind(null, /*! page/ownComments */ \"../ui/page/ownComments/index.js\"));\n});\nvar PasswordResetPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | passwordReset */ \"passwordReset\").then(__webpack_require__.bind(null, /*! page/passwordReset */ \"../ui/page/passwordReset/index.js\"));\n});\nvar PasswordSetPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | passwordSet */ \"passwordSet\").then(__webpack_require__.bind(null, /*! page/passwordSet */ \"../ui/page/passwordSet/index.js\"));\n});\nvar UploadPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return Promise.all(/*! import() | publish */[__webpack_require__.e(\"vendors~livestreamCreate~livestreamSetup~post~publish\"), __webpack_require__.e(\"collection~livestreamCreate~livestreamSetup~post~publish\"), __webpack_require__.e(\"livestreamCreate~livestreamSetup~post~publish\"), __webpack_require__.e(\"livestreamCreate~livestreamSetup~publish\"), __webpack_require__.e(\"publish\")]).then(__webpack_require__.bind(null, /*! page/upload */ \"../ui/page/upload/index.js\"));\n});\nvar PostPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return Promise.all(/*! import() | post */[__webpack_require__.e(\"vendors~livestreamCreate~livestreamSetup~post~publish\"), __webpack_require__.e(\"collection~livestreamCreate~livestreamSetup~post~publish\"), __webpack_require__.e(\"livestreamCreate~livestreamSetup~post~publish\"), __webpack_require__.e(\"post\")]).then(__webpack_require__.bind(null, /*! page/post */ \"../ui/page/post/index.js\"));\n});\nvar ReportContentPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return Promise.all(/*! import() | reportContent */[__webpack_require__.e(\"vendors~buy~modalPhoneCollection~reportContent\"), __webpack_require__.e(\"chat~comments~modalRemoveComment~modalSendTip~popoutChat~reportContent\"), __webpack_require__.e(\"chat~comments~modalRemoveComment~popoutChat~reportContent\"), __webpack_require__.e(\"comments~modalRemoveComment~reportContent\"), __webpack_require__.e(\"reportContent\")]).then(__webpack_require__.bind(null, /*! page/reportContent */ \"../ui/page/reportContent/index.js\"));\n});\nvar ReportPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | report */ \"report\").then(__webpack_require__.bind(null, /*! page/report */ \"../ui/page/report/index.js\"));\n});\nvar RepostNew = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return Promise.all(/*! import() | repost */[__webpack_require__.e(\"modalRepost~repost\"), __webpack_require__.e(\"repost\")]).then(__webpack_require__.bind(null, /*! page/repost */ \"../ui/page/repost/index.js\"));\n});\nvar RewardsPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | rewards */ \"rewards\").then(__webpack_require__.bind(null, /*! page/rewards */ \"../ui/page/rewards/index.js\"));\n});\nvar RewardsVerifyPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return Promise.all(/*! import() | rewardsVerify */[__webpack_require__.e(\"rewardsVerify~signUp\"), __webpack_require__.e(\"rewardsVerify\")]).then(__webpack_require__.bind(null, /*! page/rewardsVerify */ \"../ui/page/rewardsVerify/index.js\"));\n});\nvar SearchPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | search */ \"search\").then(__webpack_require__.bind(null, /*! page/search */ \"../ui/page/search/index.js\"));\n});\nvar SettingsStripeCard = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return Promise.all(/*! import() | settingsStripeCard */[__webpack_require__.e(\"vendors~modalStripeCard~settingsStripeCard\"), __webpack_require__.e(\"modalStripeCard~settingsStripeCard\"), __webpack_require__.e(\"settingsStripeCard\")]).then(__webpack_require__.bind(null, /*! page/settingsStripeCard */ \"../ui/page/settingsStripeCard/index.js\"));\n});\nvar SettingsStripeAccount = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | settingsStripeAccount */ \"settingsStripeAccount\").then(__webpack_require__.bind(null, /*! page/settingsStripeAccount */ \"../ui/page/settingsStripeAccount/index.js\"));\n});\nvar SettingsCreatorPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return Promise.all(/*! import() | settingsCreator */[__webpack_require__.e(\"vendors~listBlocked~settingsCreator\"), __webpack_require__.e(\"settingsCreator\")]).then(__webpack_require__.bind(null, /*! page/settingsCreator */ \"../ui/page/settingsCreator/index.js\"));\n});\nvar SettingsNotificationsPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | settingsNotifications */ \"settingsNotifications\").then(__webpack_require__.bind(null, /*! page/settingsNotifications */ \"../ui/page/settingsNotifications/index.js\"));\n});\nvar SettingsPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | settings */ \"settings\").then(__webpack_require__.bind(null, /*! page/settings */ \"../ui/page/settings/index.js\"));\n});\nvar ShowPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | show */ \"show\").then(__webpack_require__.bind(null, /*! page/show */ \"../ui/page/show/index.js\"));\n});\nvar TagsFollowingManagePage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | tagsFollowingManage */ \"tagsFollowingManage\").then(__webpack_require__.bind(null, /*! page/tagsFollowingManage */ \"../ui/page/tagsFollowingManage/index.js\"));\n});\nvar TagsFollowingPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | tagsFollowing */ \"tagsFollowing\").then(__webpack_require__.bind(null, /*! page/tagsFollowing */ \"../ui/page/tagsFollowing/index.js\"));\n});\nvar TopPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | top */ \"top\").then(__webpack_require__.bind(null, /*! page/top */ \"../ui/page/top/index.js\"));\n});\nvar UpdatePasswordPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | passwordUpdate */ \"passwordUpdate\").then(__webpack_require__.bind(null, /*! page/passwordUpdate */ \"../ui/page/passwordUpdate/index.js\"));\n});\nvar YoutubeSyncPage = Object(util_lazyImport__WEBPACK_IMPORTED_MODULE_5__[\"lazyImport\"])(function () {\n  return __webpack_require__.e(/*! import() | youtubeSync */ \"youtubeSync\").then(__webpack_require__.bind(null, /*! page/youtubeSync */ \"../ui/page/youtubeSync/index.js\"));\n}); // Tell the browser we are handling scroll restoration\n\nif ('scrollRestoration' in history) {\n  history.scrollRestoration = 'manual';\n}\n\nfunction PrivateRoute(props) {\n  var Component = props.component,\n      isAuthenticated = props.isAuthenticated,\n      rest = _objectWithoutProperties(props, [\"component\", \"isAuthenticated\"]);\n\n  var urlSearchParams = new URLSearchParams(props.location.search);\n  var redirectUrl = urlSearchParams.get('redirect');\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], _extends({}, rest, {\n    render: function render(props) {\n      return isAuthenticated || !true ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component, props) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Redirect\"], {\n        to: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"AUTH\"], \"?redirect=\").concat(redirectUrl || props.location.pathname)\n      });\n    }\n  }));\n}\n\nfunction AppRouter(props) {\n  var currentScroll = props.currentScroll,\n      _props$location = props.location,\n      pathname = _props$location.pathname,\n      search = _props$location.search,\n      hash = _props$location.hash,\n      isAuthenticated = props.isAuthenticated,\n      history = props.history,\n      uri = props.uri,\n      hasClaim = props.hasClaim,\n      title = props.title,\n      hasNavigated = props.hasNavigated,\n      setHasNavigated = props.setHasNavigated,\n      hasUnclaimedRefereeReward = props.hasUnclaimedRefereeReward,\n      doUserSetReferrer = props.doUserSetReferrer,\n      homepageData = props.homepageData,\n      wildWestDisabled = props.wildWestDisabled,\n      unseenCount = props.unseenCount,\n      hideTitleNotificationCount = props.hideTitleNotificationCount,\n      hasDefaultChannel = props.hasDefaultChannel,\n      doSetActiveChannel = props.doSetActiveChannel;\n  var defaultChannelRef = react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef(hasDefaultChannel);\n  var entries = history.entries,\n      listen = history.listen,\n      historyAction = history.action;\n  var entryIndex = history.index;\n  var urlParams = new URLSearchParams(search);\n  var resetScroll = urlParams.get('reset_scroll');\n  var hasLinkedCommentInUrl = urlParams.get(constants_comment__WEBPACK_IMPORTED_MODULE_6__[\"LINKED_COMMENT_QUERY_PARAM\"]);\n  var tagParams = urlParams.get(constants_claim_search__WEBPACK_IMPORTED_MODULE_11__[\"TAGS_KEY\"]);\n  var isLargeScreen = Object(effects_use_screensize__WEBPACK_IMPORTED_MODULE_4__[\"useIsLargeScreen\"])();\n  var categoryPages = react__WEBPACK_IMPORTED_MODULE_0___default.a.useMemo(function () {\n    var dynamicRoutes = Object(util_buildHomepage__WEBPACK_IMPORTED_MODULE_10__[\"GetLinksData\"])(homepageData, isLargeScreen).filter(function (x) {\n      return x && x.route && (x.id !== 'WILD_WEST' || !wildWestDisabled);\n    });\n    return dynamicRoutes.map(function (dynamicRouteProps) {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n        key: dynamicRouteProps.route,\n        path: dynamicRouteProps.route,\n        component: function component(routerProps) {\n          return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DiscoverPage, _extends({}, routerProps, {\n            dynamicRouteProps: dynamicRouteProps\n          }));\n        }\n      });\n    });\n  }, [homepageData, isLargeScreen, wildWestDisabled]); // For people arriving at settings page from deeplinks, know whether they can \"go back\"\n\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(function () {\n    var unlisten = listen(function (location, action) {\n      if (action === 'PUSH') {\n        if (!hasNavigated && setHasNavigated) setHasNavigated();\n      }\n    });\n    return unlisten;\n  }, [listen, hasNavigated, setHasNavigated]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(function () {\n    if (!hasNavigated && hasUnclaimedRefereeReward && isAuthenticated === false && hasClaim) {\n      var valid = Object(util_lbryURI__WEBPACK_IMPORTED_MODULE_7__[\"isURIValid\"])(uri);\n\n      if (valid) {\n        var _parseURI = Object(util_lbryURI__WEBPACK_IMPORTED_MODULE_7__[\"parseURI\"])(uri),\n            path = _parseURI.path;\n\n        if (typeof path === 'string') doUserSetReferrer(path);\n      }\n    }\n  }, [hasNavigated, uri, hasUnclaimedRefereeReward, doUserSetReferrer, isAuthenticated, hasClaim]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(function () {\n    var getDefaultTitle = function getDefaultTitle(pathname) {\n      var title = '';\n\n      if (pathname.startsWith('/$/')) {\n        var name = pathname.substring(3);\n\n        if (window.CATEGORY_PAGE_TITLE && window.CATEGORY_PAGE_TITLE[name]) {\n          title = window.CATEGORY_PAGE_TITLE[name];\n        } else {\n          title = constants_pageTitles__WEBPACK_IMPORTED_MODULE_3__[\"PAGE_TITLE\"][name];\n        }\n      }\n\n      return __(title) || config__WEBPACK_IMPORTED_MODULE_8__[\"SITE_TITLE\"] || 'Odysee';\n    };\n\n    if (uri) {\n      var _parseURI2 = Object(util_lbryURI__WEBPACK_IMPORTED_MODULE_7__[\"parseURI\"])(uri),\n          channelName = _parseURI2.channelName,\n          streamName = _parseURI2.streamName;\n\n      if (title) {\n        document.title = title;\n      } else if (streamName) {\n        document.title = streamName;\n      } else if (channelName) {\n        document.title = channelName;\n      } else {\n        document.title = getDefaultTitle(pathname);\n      }\n    } else {\n      document.title = getDefaultTitle(pathname);\n    }\n\n    if (unseenCount > 0 && !hideTitleNotificationCount) {\n      document.title = \"(\".concat(Object(util_notifications__WEBPACK_IMPORTED_MODULE_12__[\"buildUnseenCountStr\"])(unseenCount), \") \").concat(document.title);\n    }\n  }, [pathname, entries, entryIndex, title, uri, unseenCount, hideTitleNotificationCount]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(function () {\n    if (!hasLinkedCommentInUrl) {\n      if (hash && historyAction === 'PUSH') {\n        var id = hash.replace('#', '');\n        var element = document.getElementById(id);\n\n        if (element) {\n          window.scrollTo(0, element.offsetTop);\n        }\n      } else {\n        window.scrollTo(0, currentScroll);\n      }\n    }\n  }, [currentScroll, pathname, search, hash, resetScroll, hasLinkedCommentInUrl, historyAction]);\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect(function () {\n    defaultChannelRef.current = hasDefaultChannel;\n  }, [hasDefaultChannel]);\n  react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect(function () {\n    // has a default channel selected, clear the current active channel\n    if (defaultChannelRef.current && pathname !== \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"UPLOAD\"]) && !pathname.includes(\"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"LIST\"], \"/\")) && !pathname.includes(\"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"PLAYLIST\"], \"/\")) && pathname !== \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"CREATOR_DASHBOARD\"]) && pathname !== \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"LIVESTREAM\"])) {\n      doSetActiveChannel(null, true);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps -- Only on 'pathname' change\n\n  }, [pathname]); // react-router doesn't decode pathanmes before doing the route matching check\n  // We have to redirect here because if we redirect on the server, it might get encoded again\n  // in the browser causing a redirect loop\n\n  var decodedUrl = decodeURIComponent(pathname) + search;\n\n  if (decodedUrl !== pathname + search) {\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Redirect\"], {\n      to: decodedUrl\n    });\n  }\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Suspense, {\n    fallback: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(component_loadingBarOneOff__WEBPACK_IMPORTED_MODULE_9__[\"default\"], null)\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Switch\"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Redirect\"], {\n    from: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"DEPRECATED__CHANNELS_FOLLOWING_MANAGE\"]),\n    to: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"CHANNELS_FOLLOWING_DISCOVER\"])\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Redirect\"], {\n    from: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"DEPRECATED__CHANNELS_FOLLOWING\"]),\n    to: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"CHANNELS_FOLLOWING\"])\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Redirect\"], {\n    from: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"DEPRECATED__TAGS_FOLLOWING\"]),\n    to: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"TAGS_FOLLOWING\"])\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Redirect\"], {\n    from: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"DEPRECATED__TAGS_FOLLOWING_MANAGE\"]),\n    to: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"TAGS_FOLLOWING_MANAGE\"])\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Redirect\"], {\n    from: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"DEPRECATED__PUBLISH\"]),\n    to: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"UPLOAD\"])\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Redirect\"], {\n    from: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"DEPRECATED__PUBLISHED\"]),\n    to: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"UPLOADS\"])\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/\",\n    exact: true,\n    component: page_home__WEBPACK_IMPORTED_MODULE_13__[\"default\"]\n  }), (!wildWestDisabled || tagParams) && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"DISCOVER\"]),\n    exact: true,\n    component: DiscoverPage\n  }), categoryPages, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"AUTH_SIGNIN\"]),\n    exact: true,\n    component: SignInPage\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"AUTH_PASSWORD_RESET\"]),\n    exact: true,\n    component: PasswordResetPage\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"AUTH_PASSWORD_SET\"]),\n    exact: true,\n    component: PasswordSetPage\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"AUTH\"]),\n    exact: true,\n    component: SignUpPage\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"AUTH\"], \"/*\"),\n    exact: true,\n    component: SignUpPage\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"HELP\"]),\n    exact: true,\n    component: HelpPage\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"CODE_2257\"]),\n    exact: true,\n    component: Code2257Page\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"PRIVACY_POLICY\"]),\n    exact: true,\n    component: PrivacyPolicyPage\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"TOS\"]),\n    exact: true,\n    component: TOSPage\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"CAREERS\"]),\n    exact: true,\n    component: CareersPage\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"CAREERS_IT_PROJECT_MANAGER\"]),\n    exact: true,\n    component: CareersITProjectManagerPage\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"CAREERS_SENIOR_BACKEND_ENGINEER\"]),\n    exact: true,\n    component: SeniorBackendEngineerPage\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"CAREERS_SOFTWARE_SECURITY_ENGINEER\"]),\n    exact: true,\n    component: SoftwareSecurityEngineerPage\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"CAREERS_SENIOR_ANDROID_DEVELOPER\"]),\n    exact: true,\n    component: SeniorAndroidDeveloperPage\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"CAREERS_SENIOR_IOS_DEVELOPER\"]),\n    exact: true,\n    component: SeniorIosDeveloperPage\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"FYP\"]),\n    exact: true,\n    component: FypPage\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"YOUTUBE_TOS\"]),\n    exact: true,\n    component: YouTubeTOSPage\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"AUTH_VERIFY\"]),\n    exact: true,\n    component: SignInVerifyPage\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"SEARCH\"]),\n    exact: true,\n    component: SearchPage\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"TOP\"]),\n    exact: true,\n    component: TopPage\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"SETTINGS\"]),\n    exact: true,\n    component: SettingsPage\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"INVITE\"], \"/:referrer\"),\n    exact: true,\n    component: InvitedPage\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"CHECKOUT\"]),\n    exact: true,\n    component: CheckoutPage\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"REPORT_CONTENT\"]),\n    exact: true,\n    component: ReportContentPage\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"LIST\"], \"/:collectionId\"),\n    component: CollectionPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"PLAYLIST\"], \"/:collectionId\"),\n    component: CollectionPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    exact: true,\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"YOUTUBE_SYNC\"]),\n    component: YoutubeSyncPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    exact: true,\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"TAGS_FOLLOWING\"]),\n    component: TagsFollowingPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    exact: true,\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"CHANNELS_FOLLOWING\"]),\n    component: isAuthenticated || !true ? ChannelsFollowingPage : DiscoverPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"SETTINGS_NOTIFICATIONS\"]),\n    component: SettingsNotificationsPage\n  })), window.cordova && !window.odysee.build.googlePlay && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"SETTINGS_STRIPE_CARD\"]),\n    component: SettingsStripeCard\n  })), window.cordova && !window.odysee.build.googlePlay && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"SETTINGS_STRIPE_ACCOUNT\"]),\n    component: SettingsStripeAccount\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"SETTINGS_UPDATE_PWD\"]),\n    component: UpdatePasswordPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    exact: true,\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"CHANNELS_FOLLOWING_DISCOVER\"]),\n    component: ChannelsFollowingDiscoverPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    exact: true,\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"CHANNELS_FOLLOWING_MANAGE\"]),\n    component: ChannelsFollowingManage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"INVITE\"]),\n    component: InvitePage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"CHANNEL_NEW\"]),\n    component: ChannelNew\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"REPOST_NEW\"]),\n    component: RepostNew\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"UPLOADS\"]),\n    component: FileListPublished\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"CREATOR_DASHBOARD\"]),\n    component: CreatorDashboard\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"UPLOAD\"]),\n    component: UploadPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"POST\"]),\n    component: PostPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"REPORT\"]),\n    component: ReportPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"REWARDS\"]),\n    exact: true,\n    component: RewardsPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"REWARDS_VERIFY\"]),\n    component: RewardsVerifyPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"LIBRARY\"]),\n    component: LibraryPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"LISTS\"]),\n    component: PlaylistsPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"PLAYLISTS\"]),\n    component: PlaylistsPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"WATCH_HISTORY\"]),\n    component: WatchHistoryPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"TAGS_FOLLOWING_MANAGE\"]),\n    component: TagsFollowingManagePage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"SETTINGS_BLOCKED_MUTED\"]),\n    component: ListBlockedPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"SETTINGS_CREATOR\"]),\n    component: SettingsCreatorPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"WALLET\"]),\n    exact: true,\n    component: WalletPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"CHANNELS\"]),\n    component: ChannelsPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"LIVESTREAM_CREATE\"]),\n    component: LivestreamCreatePage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"LIVESTREAM\"]),\n    component: LiveStreamSetupPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"LIVESTREAM_CURRENT\"]),\n    component: LivestreamCurrentPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"BUY\"]),\n    component: BuyPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"RECEIVE\"]),\n    component: ReceivePage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"SEND\"]),\n    component: SendPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"SWAP\"]),\n    component: SwapPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"NOTIFICATIONS\"]),\n    component: NotificationsPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"AUTH_WALLET_PASSWORD\"]),\n    component: SignInWalletPasswordPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"SETTINGS_OWN_COMMENTS\"]),\n    component: OwnComments\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PrivateRoute, _extends({}, props, {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"ODYSEE_MEMBERSHIP\"]),\n    component: OdyseeMembershipPage\n  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"POPOUT\"], \"/:channelName/:streamName\"),\n    component: PopoutChatPage\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"EMBED\"], \"/:claimName\"),\n    exact: true,\n    component: EmbedWrapperPage\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"EMBED\"], \"/:claimName/:claimId\"),\n    exact: true,\n    component: EmbedWrapperPage\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"LATEST\"], \"/:channelName\"),\n    exact: true,\n    render: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ShowPage, {\n        uri: uri,\n        latestContentPath: true\n      });\n    }\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/$/\".concat(constants_pages__WEBPACK_IMPORTED_MODULE_2__[\"LIVE_NOW\"], \"/:channelName\"),\n    exact: true,\n    render: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ShowPage, {\n        uri: uri,\n        liveContentPath: true\n      });\n    }\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/:claimName\",\n    exact: true,\n    render: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ShowPage, {\n        uri: uri\n      });\n    }\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/:claimName/:streamName\",\n    exact: true,\n    render: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ShowPage, {\n        uri: uri\n      });\n    }\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: \"/*\",\n    component: FourOhFourPage\n  })));\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"withRouter\"])(AppRouter));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! i18n.js */ \"../ui/i18n.js\")[\"__\"]))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L3JvdXRlci92aWV3LmpzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi91aS9jb21wb25lbnQvcm91dGVyL3ZpZXcuanN4Pzg4YTMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQGZsb3dcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBSb3V0ZSwgUmVkaXJlY3QsIFN3aXRjaCwgd2l0aFJvdXRlciB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuXG5pbXBvcnQgKiBhcyBQQUdFUyBmcm9tICdjb25zdGFudHMvcGFnZXMnO1xuaW1wb3J0IHsgUEFHRV9USVRMRSB9IGZyb20gJ2NvbnN0YW50cy9wYWdlVGl0bGVzJztcbmltcG9ydCB7IHVzZUlzTGFyZ2VTY3JlZW4gfSBmcm9tICdlZmZlY3RzL3VzZS1zY3JlZW5zaXplJztcbmltcG9ydCB7IGxhenlJbXBvcnQgfSBmcm9tICd1dGlsL2xhenlJbXBvcnQnO1xuaW1wb3J0IHsgTElOS0VEX0NPTU1FTlRfUVVFUllfUEFSQU0gfSBmcm9tICdjb25zdGFudHMvY29tbWVudCc7XG5pbXBvcnQgeyBwYXJzZVVSSSwgaXNVUklWYWxpZCB9IGZyb20gJ3V0aWwvbGJyeVVSSSc7XG5pbXBvcnQgeyBTSVRFX1RJVExFIH0gZnJvbSAnY29uZmlnJztcbmltcG9ydCBMb2FkaW5nQmFyT25lT2ZmIGZyb20gJ2NvbXBvbmVudC9sb2FkaW5nQmFyT25lT2ZmJztcbmltcG9ydCB7IEdldExpbmtzRGF0YSB9IGZyb20gJ3V0aWwvYnVpbGRIb21lcGFnZSc7XG5pbXBvcnQgKiBhcyBDUyBmcm9tICdjb25zdGFudHMvY2xhaW1fc2VhcmNoJztcbmltcG9ydCB7IGJ1aWxkVW5zZWVuQ291bnRTdHIgfSBmcm9tICd1dGlsL25vdGlmaWNhdGlvbnMnO1xuXG5pbXBvcnQgSG9tZVBhZ2UgZnJvbSAncGFnZS9ob21lJztcblxuY29uc3QgQ29kZTIyNTdQYWdlID0gbGF6eUltcG9ydCgoKSA9PiBpbXBvcnQoJ3dlYi9wYWdlL2NvZGUyMjU3JyAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcImNvZGUyMjU3XCIgKi8pKTtcbmNvbnN0IFByaXZhY3lQb2xpY3lQYWdlID0gbGF6eUltcG9ydCgoKSA9PiBpbXBvcnQoJ3dlYi9wYWdlL3ByaXZhY3lwb2xpY3knIC8qIHdlYnBhY2tDaHVua05hbWU6IFwicHJpdmFjeXBvbGljeVwiICovKSk7XG5jb25zdCBUT1NQYWdlID0gbGF6eUltcG9ydCgoKSA9PiBpbXBvcnQoJ3dlYi9wYWdlL3RvcycgLyogd2VicGFja0NodW5rTmFtZTogXCJ0b3NcIiAqLykpO1xuY29uc3QgQ2FyZWVyc1BhZ2UgPSBsYXp5SW1wb3J0KCgpID0+IGltcG9ydCgnd2ViL3BhZ2UvY2FyZWVycycgLyogd2VicGFja0NodW5rTmFtZTogXCJjYXJlZXJzXCIgKi8pKTtcbmNvbnN0IENhcmVlcnNJVFByb2plY3RNYW5hZ2VyUGFnZSA9IGxhenlJbXBvcnQoKCkgPT5cbiAgaW1wb3J0KCd3ZWIvcGFnZS9jYXJlZXJzL2l0UHJvamVjdE1hbmFnZXInIC8qIHdlYnBhY2tDaHVua05hbWU6IFwiaXRQcm9qZWN0TWFuYWdlclwiICovKVxuKTtcbmNvbnN0IFNlbmlvckJhY2tlbmRFbmdpbmVlclBhZ2UgPSBsYXp5SW1wb3J0KCgpID0+XG4gIGltcG9ydCgnd2ViL3BhZ2UvY2FyZWVycy9zZW5pb3JCYWNrZW5kRW5naW5lZXInIC8qIHdlYnBhY2tDaHVua05hbWU6IFwic2VuaW9yQmFja2VuZEVuZ2luZWVyXCIgKi8pXG4pO1xuXG5jb25zdCBTb2Z0d2FyZVNlY3VyaXR5RW5naW5lZXJQYWdlID0gbGF6eUltcG9ydCgoKSA9PlxuICBpbXBvcnQoJ3dlYi9wYWdlL2NhcmVlcnMvc2VjdXJpdHlFbmdpbmVlcicgLyogd2VicGFja0NodW5rTmFtZTogXCJzZWN1cml0eUVuZ2luZWVyXCIgKi8pXG4pO1xuY29uc3QgU2VuaW9yQW5kcm9pZERldmVsb3BlclBhZ2UgPSBsYXp5SW1wb3J0KCgpID0+XG4gIGltcG9ydCgnd2ViL3BhZ2UvY2FyZWVycy9zZW5pb3JBbmRyb2lkRGV2ZWxvcGVyJyAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcInNlbmlvckFuZHJvaWREZXZlbG9wZXJcIiAqLylcbik7XG5jb25zdCBTZW5pb3JJb3NEZXZlbG9wZXJQYWdlID0gbGF6eUltcG9ydCgoKSA9PlxuICBpbXBvcnQoJ3dlYi9wYWdlL2NhcmVlcnMvc2VuaW9ySW9zRGV2ZWxvcGVyJyAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcInNlbmlvcklvc0RldmVsb3BlclwiICovKVxuKTtcblxuY29uc3QgRnlwUGFnZSA9IGxhenlJbXBvcnQoKCkgPT4gaW1wb3J0KCd3ZWIvcGFnZS9meXAnIC8qIHdlYnBhY2tDaHVua05hbWU6IFwiZnlwXCIgKi8pKTtcbmNvbnN0IFlvdVR1YmVUT1NQYWdlID0gbGF6eUltcG9ydCgoKSA9PiBpbXBvcnQoJ3dlYi9wYWdlL3lvdXR1YmV0b3MnIC8qIHdlYnBhY2tDaHVua05hbWU6IFwieW91dHViZXRvc1wiICovKSk7XG5cbmNvbnN0IFNpZ25JblBhZ2UgPSBsYXp5SW1wb3J0KCgpID0+IGltcG9ydCgncGFnZS9zaWduSW4nIC8qIHdlYnBhY2tDaHVua05hbWU6IFwic2lnbkluXCIgKi8pKTtcbmNvbnN0IFNpZ25JbldhbGxldFBhc3N3b3JkUGFnZSA9IGxhenlJbXBvcnQoKCkgPT5cbiAgaW1wb3J0KCdwYWdlL3NpZ25JbldhbGxldFBhc3N3b3JkJyAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcInNpZ25JbldhbGxldFBhc3N3b3JkXCIgKi8pXG4pO1xuY29uc3QgU2lnblVwUGFnZSA9IGxhenlJbXBvcnQoKCkgPT4gaW1wb3J0KCdwYWdlL3NpZ25VcCcgLyogd2VicGFja0NodW5rTmFtZTogXCJzaWduVXBcIiAqLykpO1xuY29uc3QgU2lnbkluVmVyaWZ5UGFnZSA9IGxhenlJbXBvcnQoKCkgPT4gaW1wb3J0KCdwYWdlL3NpZ25JblZlcmlmeScgLyogd2VicGFja0NodW5rTmFtZTogXCJzaWduSW5WZXJpZnlcIiAqLykpO1xuXG5jb25zdCBCdXlQYWdlID0gbGF6eUltcG9ydCgoKSA9PiBpbXBvcnQoJ3BhZ2UvYnV5JyAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcImJ1eVwiICovKSk7XG5jb25zdCBSZWNlaXZlUGFnZSA9IGxhenlJbXBvcnQoKCkgPT4gaW1wb3J0KCdwYWdlL3JlY2VpdmUnIC8qIHdlYnBhY2tDaHVua05hbWU6IFwicmVjZWl2ZVwiICovKSk7XG5jb25zdCBTZW5kUGFnZSA9IGxhenlJbXBvcnQoKCkgPT4gaW1wb3J0KCdwYWdlL3NlbmQnIC8qIHdlYnBhY2tDaHVua05hbWU6IFwic2VuZFwiICovKSk7XG5jb25zdCBTd2FwUGFnZSA9IGxhenlJbXBvcnQoKCkgPT4gaW1wb3J0KCdwYWdlL3N3YXAnIC8qIHdlYnBhY2tDaHVua05hbWU6IFwic3dhcFwiICovKSk7XG5jb25zdCBXYWxsZXRQYWdlID0gbGF6eUltcG9ydCgoKSA9PiBpbXBvcnQoJ3BhZ2Uvd2FsbGV0JyAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcIndhbGxldFwiICovKSk7XG5cbmNvbnN0IE5vdGlmaWNhdGlvbnNQYWdlID0gbGF6eUltcG9ydCgoKSA9PiBpbXBvcnQoJ3BhZ2Uvbm90aWZpY2F0aW9ucycgLyogd2VicGFja0NodW5rTmFtZTogXCJub3RpZmljYXRpb25zXCIgKi8pKTtcbmNvbnN0IENvbGxlY3Rpb25QYWdlID0gbGF6eUltcG9ydCgoKSA9PiBpbXBvcnQoJ3BhZ2UvY29sbGVjdGlvbicgLyogd2VicGFja0NodW5rTmFtZTogXCJjb2xsZWN0aW9uXCIgKi8pKTtcbmNvbnN0IENoYW5uZWxOZXcgPSBsYXp5SW1wb3J0KCgpID0+IGltcG9ydCgncGFnZS9jaGFubmVsTmV3JyAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcImNoYW5uZWxOZXdcIiAqLykpO1xuY29uc3QgQ2hhbm5lbHNGb2xsb3dpbmdEaXNjb3ZlclBhZ2UgPSBsYXp5SW1wb3J0KCgpID0+XG4gIGltcG9ydCgncGFnZS9jaGFubmVsc0ZvbGxvd2luZ0Rpc2NvdmVyJyAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcImNoYW5uZWxzRm9sbG93aW5nRGlzY292ZXJcIiAqLylcbik7XG5jb25zdCBDaGFubmVsc0ZvbGxvd2luZ1BhZ2UgPSBsYXp5SW1wb3J0KCgpID0+XG4gIGltcG9ydCgncGFnZS9jaGFubmVsc0ZvbGxvd2luZycgLyogd2VicGFja0NodW5rTmFtZTogXCJjaGFubmVsc0ZvbGxvd2luZ1wiICovKVxuKTtcbmNvbnN0IENoYW5uZWxzRm9sbG93aW5nTWFuYWdlID0gbGF6eUltcG9ydCgoKSA9PlxuICBpbXBvcnQoJ3BhZ2UvY2hhbm5lbHNGb2xsb3dpbmdNYW5hZ2UnIC8qIHdlYnBhY2tDaHVua05hbWU6IFwiY2hhbm5lbHNGb2xsb3dpbmdcIiAqLylcbik7XG5jb25zdCBDaGFubmVsc1BhZ2UgPSBsYXp5SW1wb3J0KCgpID0+IGltcG9ydCgncGFnZS9jaGFubmVscycgLyogd2VicGFja0NodW5rTmFtZTogXCJjaGFubmVsc1wiICovKSk7XG5jb25zdCBDaGVja291dFBhZ2UgPSBsYXp5SW1wb3J0KCgpID0+IGltcG9ydCgncGFnZS9jaGVja291dFBhZ2UnIC8qIHdlYnBhY2tDaHVua05hbWU6IFwiY2hlY2tvdXRQYWdlXCIgKi8pKTtcbmNvbnN0IENyZWF0b3JEYXNoYm9hcmQgPSBsYXp5SW1wb3J0KCgpID0+IGltcG9ydCgncGFnZS9jcmVhdG9yRGFzaGJvYXJkJyAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcImNyZWF0b3JEYXNoYm9hcmRcIiAqLykpO1xuY29uc3QgRGlzY292ZXJQYWdlID0gbGF6eUltcG9ydCgoKSA9PiBpbXBvcnQoJ3BhZ2UvZGlzY292ZXInIC8qIHdlYnBhY2tDaHVua05hbWU6IFwiZGlzY292ZXJcIiAqLykpO1xuY29uc3QgRW1iZWRXcmFwcGVyUGFnZSA9IGxhenlJbXBvcnQoKCkgPT4gaW1wb3J0KCdwYWdlL2VtYmVkV3JhcHBlcicgLyogd2VicGFja0NodW5rTmFtZTogXCJlbWJlZFdyYXBwZXJcIiAqLykpO1xuY29uc3QgUG9wb3V0Q2hhdFBhZ2UgPSBsYXp5SW1wb3J0KCgpID0+IGltcG9ydCgncGFnZS9wb3BvdXRDaGF0V3JhcHBlcicgLyogd2VicGFja0NodW5rTmFtZTogXCJwb3BvdXRDaGF0XCIgKi8pKTtcbmNvbnN0IEZpbGVMaXN0UHVibGlzaGVkID0gbGF6eUltcG9ydCgoKSA9PlxuICBpbXBvcnQoJ3BhZ2UvZmlsZUxpc3RQdWJsaXNoZWQnIC8qIHdlYnBhY2tDaHVua05hbWU6IFwiZmlsZUxpc3RQdWJsaXNoZWRcIiAqLylcbik7XG5jb25zdCBGb3VyT2hGb3VyUGFnZSA9IGxhenlJbXBvcnQoKCkgPT4gaW1wb3J0KCdwYWdlL2ZvdXJPaEZvdXInIC8qIHdlYnBhY2tDaHVua05hbWU6IFwiZm91ck9oRm91clwiICovKSk7XG5jb25zdCBIZWxwUGFnZSA9IGxhenlJbXBvcnQoKCkgPT4gaW1wb3J0KCdwYWdlL2hlbHAnIC8qIHdlYnBhY2tDaHVua05hbWU6IFwiaGVscFwiICovKSk7XG5jb25zdCBJbnZpdGVQYWdlID0gbGF6eUltcG9ydCgoKSA9PiBpbXBvcnQoJ3BhZ2UvaW52aXRlJyAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcImludml0ZVwiICovKSk7XG5jb25zdCBJbnZpdGVkUGFnZSA9IGxhenlJbXBvcnQoKCkgPT4gaW1wb3J0KCdwYWdlL2ludml0ZWQnIC8qIHdlYnBhY2tDaHVua05hbWU6IFwiaW52aXRlZFwiICovKSk7XG5jb25zdCBMaWJyYXJ5UGFnZSA9IGxhenlJbXBvcnQoKCkgPT4gaW1wb3J0KCdwYWdlL2xpYnJhcnknIC8qIHdlYnBhY2tDaHVua05hbWU6IFwibGlicmFyeVwiICovKSk7XG5jb25zdCBMaXN0QmxvY2tlZFBhZ2UgPSBsYXp5SW1wb3J0KCgpID0+IGltcG9ydCgncGFnZS9saXN0QmxvY2tlZCcgLyogd2VicGFja0NodW5rTmFtZTogXCJsaXN0QmxvY2tlZFwiICovKSk7XG5jb25zdCBQbGF5bGlzdHNQYWdlID0gbGF6eUltcG9ydCgoKSA9PiBpbXBvcnQoJ3BhZ2UvcGxheWxpc3RzL3ZpZXcnIC8qIHdlYnBhY2tDaHVua05hbWU6IFwicGxheWxpc3RzXCIgKi8pKTtcbmNvbnN0IFdhdGNoSGlzdG9yeVBhZ2UgPSBsYXp5SW1wb3J0KCgpID0+IGltcG9ydCgncGFnZS93YXRjaEhpc3RvcnknIC8qIHdlYnBhY2tDaHVua05hbWU6IFwiaGlzdG9yeVwiICovKSk7XG5jb25zdCBMaXZlU3RyZWFtU2V0dXBQYWdlID0gbGF6eUltcG9ydCgoKSA9PiBpbXBvcnQoJ3BhZ2UvbGl2ZXN0cmVhbVNldHVwJyAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcImxpdmVzdHJlYW1TZXR1cFwiICovKSk7XG5jb25zdCBMaXZlc3RyZWFtQ3VycmVudFBhZ2UgPSBsYXp5SW1wb3J0KCgpID0+XG4gIGltcG9ydCgncGFnZS9saXZlc3RyZWFtQ3VycmVudCcgLyogd2VicGFja0NodW5rTmFtZTogXCJsaXZlc3RyZWFtQ3VycmVudFwiICovKVxuKTtcbmNvbnN0IExpdmVzdHJlYW1DcmVhdGVQYWdlID0gbGF6eUltcG9ydCgoKSA9PlxuICBpbXBvcnQoJ3BhZ2UvbGl2ZXN0cmVhbUNyZWF0ZScgLyogd2VicGFja0NodW5rTmFtZTogXCJsaXZlc3RyZWFtQ3JlYXRlXCIgKi8pXG4pO1xuY29uc3QgT2R5c2VlTWVtYmVyc2hpcFBhZ2UgPSBsYXp5SW1wb3J0KCgpID0+XG4gIGltcG9ydCgncGFnZS9vZHlzZWVNZW1iZXJzaGlwJyAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcIm9keXNlZU1lbWJlcnNoaXBcIiAqLylcbik7XG5jb25zdCBPd25Db21tZW50cyA9IGxhenlJbXBvcnQoKCkgPT4gaW1wb3J0KCdwYWdlL293bkNvbW1lbnRzJyAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcIm93bkNvbW1lbnRzXCIgKi8pKTtcbmNvbnN0IFBhc3N3b3JkUmVzZXRQYWdlID0gbGF6eUltcG9ydCgoKSA9PiBpbXBvcnQoJ3BhZ2UvcGFzc3dvcmRSZXNldCcgLyogd2VicGFja0NodW5rTmFtZTogXCJwYXNzd29yZFJlc2V0XCIgKi8pKTtcbmNvbnN0IFBhc3N3b3JkU2V0UGFnZSA9IGxhenlJbXBvcnQoKCkgPT4gaW1wb3J0KCdwYWdlL3Bhc3N3b3JkU2V0JyAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcInBhc3N3b3JkU2V0XCIgKi8pKTtcbmNvbnN0IFVwbG9hZFBhZ2UgPSBsYXp5SW1wb3J0KCgpID0+IGltcG9ydCgncGFnZS91cGxvYWQnIC8qIHdlYnBhY2tDaHVua05hbWU6IFwicHVibGlzaFwiICovKSk7XG5jb25zdCBQb3N0UGFnZSA9IGxhenlJbXBvcnQoKCkgPT4gaW1wb3J0KCdwYWdlL3Bvc3QnIC8qIHdlYnBhY2tDaHVua05hbWU6IFwicG9zdFwiICovKSk7XG5jb25zdCBSZXBvcnRDb250ZW50UGFnZSA9IGxhenlJbXBvcnQoKCkgPT4gaW1wb3J0KCdwYWdlL3JlcG9ydENvbnRlbnQnIC8qIHdlYnBhY2tDaHVua05hbWU6IFwicmVwb3J0Q29udGVudFwiICovKSk7XG5jb25zdCBSZXBvcnRQYWdlID0gbGF6eUltcG9ydCgoKSA9PiBpbXBvcnQoJ3BhZ2UvcmVwb3J0JyAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcInJlcG9ydFwiICovKSk7XG5jb25zdCBSZXBvc3ROZXcgPSBsYXp5SW1wb3J0KCgpID0+IGltcG9ydCgncGFnZS9yZXBvc3QnIC8qIHdlYnBhY2tDaHVua05hbWU6IFwicmVwb3N0XCIgKi8pKTtcbmNvbnN0IFJld2FyZHNQYWdlID0gbGF6eUltcG9ydCgoKSA9PiBpbXBvcnQoJ3BhZ2UvcmV3YXJkcycgLyogd2VicGFja0NodW5rTmFtZTogXCJyZXdhcmRzXCIgKi8pKTtcbmNvbnN0IFJld2FyZHNWZXJpZnlQYWdlID0gbGF6eUltcG9ydCgoKSA9PiBpbXBvcnQoJ3BhZ2UvcmV3YXJkc1ZlcmlmeScgLyogd2VicGFja0NodW5rTmFtZTogXCJyZXdhcmRzVmVyaWZ5XCIgKi8pKTtcbmNvbnN0IFNlYXJjaFBhZ2UgPSBsYXp5SW1wb3J0KCgpID0+IGltcG9ydCgncGFnZS9zZWFyY2gnIC8qIHdlYnBhY2tDaHVua05hbWU6IFwic2VhcmNoXCIgKi8pKTtcbmNvbnN0IFNldHRpbmdzU3RyaXBlQ2FyZCA9IGxhenlJbXBvcnQoKCkgPT5cbiAgaW1wb3J0KCdwYWdlL3NldHRpbmdzU3RyaXBlQ2FyZCcgLyogd2VicGFja0NodW5rTmFtZTogXCJzZXR0aW5nc1N0cmlwZUNhcmRcIiAqLylcbik7XG5jb25zdCBTZXR0aW5nc1N0cmlwZUFjY291bnQgPSBsYXp5SW1wb3J0KCgpID0+XG4gIGltcG9ydCgncGFnZS9zZXR0aW5nc1N0cmlwZUFjY291bnQnIC8qIHdlYnBhY2tDaHVua05hbWU6IFwic2V0dGluZ3NTdHJpcGVBY2NvdW50XCIgKi8pXG4pO1xuY29uc3QgU2V0dGluZ3NDcmVhdG9yUGFnZSA9IGxhenlJbXBvcnQoKCkgPT4gaW1wb3J0KCdwYWdlL3NldHRpbmdzQ3JlYXRvcicgLyogd2VicGFja0NodW5rTmFtZTogXCJzZXR0aW5nc0NyZWF0b3JcIiAqLykpO1xuY29uc3QgU2V0dGluZ3NOb3RpZmljYXRpb25zUGFnZSA9IGxhenlJbXBvcnQoKCkgPT5cbiAgaW1wb3J0KCdwYWdlL3NldHRpbmdzTm90aWZpY2F0aW9ucycgLyogd2VicGFja0NodW5rTmFtZTogXCJzZXR0aW5nc05vdGlmaWNhdGlvbnNcIiAqLylcbik7XG5jb25zdCBTZXR0aW5nc1BhZ2UgPSBsYXp5SW1wb3J0KCgpID0+IGltcG9ydCgncGFnZS9zZXR0aW5ncycgLyogd2VicGFja0NodW5rTmFtZTogXCJzZXR0aW5nc1wiICovKSk7XG5jb25zdCBTaG93UGFnZSA9IGxhenlJbXBvcnQoKCkgPT4gaW1wb3J0KCdwYWdlL3Nob3cnIC8qIHdlYnBhY2tDaHVua05hbWU6IFwic2hvd1wiICovKSk7XG5jb25zdCBUYWdzRm9sbG93aW5nTWFuYWdlUGFnZSA9IGxhenlJbXBvcnQoKCkgPT5cbiAgaW1wb3J0KCdwYWdlL3RhZ3NGb2xsb3dpbmdNYW5hZ2UnIC8qIHdlYnBhY2tDaHVua05hbWU6IFwidGFnc0ZvbGxvd2luZ01hbmFnZVwiICovKVxuKTtcbmNvbnN0IFRhZ3NGb2xsb3dpbmdQYWdlID0gbGF6eUltcG9ydCgoKSA9PiBpbXBvcnQoJ3BhZ2UvdGFnc0ZvbGxvd2luZycgLyogd2VicGFja0NodW5rTmFtZTogXCJ0YWdzRm9sbG93aW5nXCIgKi8pKTtcbmNvbnN0IFRvcFBhZ2UgPSBsYXp5SW1wb3J0KCgpID0+IGltcG9ydCgncGFnZS90b3AnIC8qIHdlYnBhY2tDaHVua05hbWU6IFwidG9wXCIgKi8pKTtcbmNvbnN0IFVwZGF0ZVBhc3N3b3JkUGFnZSA9IGxhenlJbXBvcnQoKCkgPT4gaW1wb3J0KCdwYWdlL3Bhc3N3b3JkVXBkYXRlJyAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcInBhc3N3b3JkVXBkYXRlXCIgKi8pKTtcbmNvbnN0IFlvdXR1YmVTeW5jUGFnZSA9IGxhenlJbXBvcnQoKCkgPT4gaW1wb3J0KCdwYWdlL3lvdXR1YmVTeW5jJyAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcInlvdXR1YmVTeW5jXCIgKi8pKTtcblxuLy8gVGVsbCB0aGUgYnJvd3NlciB3ZSBhcmUgaGFuZGxpbmcgc2Nyb2xsIHJlc3RvcmF0aW9uXG5pZiAoJ3Njcm9sbFJlc3RvcmF0aW9uJyBpbiBoaXN0b3J5KSB7XG4gIGhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb24gPSAnbWFudWFsJztcbn1cblxudHlwZSBQcm9wcyA9IHtcbiAgY3VycmVudFNjcm9sbDogbnVtYmVyLFxuICBpc0F1dGhlbnRpY2F0ZWQ6IGJvb2xlYW4sXG4gIGxvY2F0aW9uOiB7IHBhdGhuYW1lOiBzdHJpbmcsIHNlYXJjaDogc3RyaW5nLCBoYXNoOiBzdHJpbmcgfSxcbiAgaGlzdG9yeToge1xuICAgIGFjdGlvbjogc3RyaW5nLFxuICAgIGVudHJpZXM6IHsgdGl0bGU6IHN0cmluZyB9W10sXG4gICAgZ29CYWNrOiAoKSA9PiB2b2lkLFxuICAgIGdvRm9yd2FyZDogKCkgPT4gdm9pZCxcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIGxlbmd0aDogbnVtYmVyLFxuICAgIGxvY2F0aW9uOiB7IHBhdGhuYW1lOiBzdHJpbmcgfSxcbiAgICBwdXNoOiAoc3RyaW5nKSA9PiB2b2lkLFxuICAgIHN0YXRlOiB7fSxcbiAgICByZXBsYWNlU3RhdGU6ICh7fSwgc3RyaW5nLCBzdHJpbmcpID0+IHZvaWQsXG4gICAgbGlzdGVuOiAoYW55KSA9PiAoKSA9PiB2b2lkLFxuICB9LFxuICB1cmk6IHN0cmluZyxcbiAgaGFzQ2xhaW06ID9ib29sZWFuLFxuICB0aXRsZTogc3RyaW5nLFxuICBoYXNOYXZpZ2F0ZWQ6IGJvb2xlYW4sXG4gIHNldEhhc05hdmlnYXRlZDogKCkgPT4gdm9pZCxcbiAgZG9Vc2VyU2V0UmVmZXJyZXI6IChyZWZlcnJlclVyaTogc3RyaW5nKSA9PiB2b2lkLFxuICBoYXNVbmNsYWltZWRSZWZlcmVlUmV3YXJkOiBib29sZWFuLFxuICBob21lcGFnZURhdGE6IGFueSxcbiAgd2lsZFdlc3REaXNhYmxlZDogYm9vbGVhbixcbiAgdW5zZWVuQ291bnQ6IG51bWJlcixcbiAgaGlkZVRpdGxlTm90aWZpY2F0aW9uQ291bnQ6IGJvb2xlYW4sXG4gIGhhc0RlZmF1bHRDaGFubmVsOiBib29sZWFuLFxuICBkb1NldEFjdGl2ZUNoYW5uZWw6IChjbGFpbUlkOiA/c3RyaW5nLCBvdmVycmlkZT86IGJvb2xlYW4pID0+IHZvaWQsXG59O1xuXG50eXBlIFByaXZhdGVSb3V0ZVByb3BzID0gUHJvcHMgJiB7XG4gIGNvbXBvbmVudDogYW55LFxuICBpc0F1dGhlbnRpY2F0ZWQ6IGJvb2xlYW4sXG59O1xuXG5mdW5jdGlvbiBQcml2YXRlUm91dGUocHJvcHM6IFByaXZhdGVSb3V0ZVByb3BzKSB7XG4gIGNvbnN0IHsgY29tcG9uZW50OiBDb21wb25lbnQsIGlzQXV0aGVudGljYXRlZCwgLi4ucmVzdCB9ID0gcHJvcHM7XG4gIGNvbnN0IHVybFNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocHJvcHMubG9jYXRpb24uc2VhcmNoKTtcbiAgY29uc3QgcmVkaXJlY3RVcmwgPSB1cmxTZWFyY2hQYXJhbXMuZ2V0KCdyZWRpcmVjdCcpO1xuICByZXR1cm4gKFxuICAgIDxSb3V0ZVxuICAgICAgey4uLnJlc3R9XG4gICAgICByZW5kZXI9eyhwcm9wcykgPT5cbiAgICAgICAgaXNBdXRoZW50aWNhdGVkIHx8ICFJU19XRUIgPyAoXG4gICAgICAgICAgPENvbXBvbmVudCB7Li4ucHJvcHN9IC8+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPFJlZGlyZWN0IHRvPXtgLyQvJHtQQUdFUy5BVVRIfT9yZWRpcmVjdD0ke3JlZGlyZWN0VXJsIHx8IHByb3BzLmxvY2F0aW9uLnBhdGhuYW1lfWB9IC8+XG4gICAgICAgIClcbiAgICAgIH1cbiAgICAvPlxuICApO1xufVxuXG5mdW5jdGlvbiBBcHBSb3V0ZXIocHJvcHM6IFByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBjdXJyZW50U2Nyb2xsLFxuICAgIGxvY2F0aW9uOiB7IHBhdGhuYW1lLCBzZWFyY2gsIGhhc2ggfSxcbiAgICBpc0F1dGhlbnRpY2F0ZWQsXG4gICAgaGlzdG9yeSxcbiAgICB1cmksXG4gICAgaGFzQ2xhaW0sXG4gICAgdGl0bGUsXG4gICAgaGFzTmF2aWdhdGVkLFxuICAgIHNldEhhc05hdmlnYXRlZCxcbiAgICBoYXNVbmNsYWltZWRSZWZlcmVlUmV3YXJkLFxuICAgIGRvVXNlclNldFJlZmVycmVyLFxuICAgIGhvbWVwYWdlRGF0YSxcbiAgICB3aWxkV2VzdERpc2FibGVkLFxuICAgIHVuc2VlbkNvdW50LFxuICAgIGhpZGVUaXRsZU5vdGlmaWNhdGlvbkNvdW50LFxuICAgIGhhc0RlZmF1bHRDaGFubmVsLFxuICAgIGRvU2V0QWN0aXZlQ2hhbm5lbCxcbiAgfSA9IHByb3BzO1xuXG4gIGNvbnN0IGRlZmF1bHRDaGFubmVsUmVmID0gUmVhY3QudXNlUmVmKGhhc0RlZmF1bHRDaGFubmVsKTtcblxuICBjb25zdCB7IGVudHJpZXMsIGxpc3RlbiwgYWN0aW9uOiBoaXN0b3J5QWN0aW9uIH0gPSBoaXN0b3J5O1xuICBjb25zdCBlbnRyeUluZGV4ID0gaGlzdG9yeS5pbmRleDtcbiAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhzZWFyY2gpO1xuICBjb25zdCByZXNldFNjcm9sbCA9IHVybFBhcmFtcy5nZXQoJ3Jlc2V0X3Njcm9sbCcpO1xuICBjb25zdCBoYXNMaW5rZWRDb21tZW50SW5VcmwgPSB1cmxQYXJhbXMuZ2V0KExJTktFRF9DT01NRU5UX1FVRVJZX1BBUkFNKTtcbiAgY29uc3QgdGFnUGFyYW1zID0gdXJsUGFyYW1zLmdldChDUy5UQUdTX0tFWSk7XG4gIGNvbnN0IGlzTGFyZ2VTY3JlZW4gPSB1c2VJc0xhcmdlU2NyZWVuKCk7XG5cbiAgY29uc3QgY2F0ZWdvcnlQYWdlcyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGR5bmFtaWNSb3V0ZXMgPSBHZXRMaW5rc0RhdGEoaG9tZXBhZ2VEYXRhLCBpc0xhcmdlU2NyZWVuKS5maWx0ZXIoXG4gICAgICAoeDogYW55KSA9PiB4ICYmIHgucm91dGUgJiYgKHguaWQgIT09ICdXSUxEX1dFU1QnIHx8ICF3aWxkV2VzdERpc2FibGVkKVxuICAgICk7XG5cbiAgICByZXR1cm4gZHluYW1pY1JvdXRlcy5tYXAoKGR5bmFtaWNSb3V0ZVByb3BzOiBSb3dEYXRhSXRlbSkgPT4gKFxuICAgICAgPFJvdXRlXG4gICAgICAgIGtleT17ZHluYW1pY1JvdXRlUHJvcHMucm91dGV9XG4gICAgICAgIHBhdGg9e2R5bmFtaWNSb3V0ZVByb3BzLnJvdXRlfVxuICAgICAgICBjb21wb25lbnQ9eyhyb3V0ZXJQcm9wcykgPT4gPERpc2NvdmVyUGFnZSB7Li4ucm91dGVyUHJvcHN9IGR5bmFtaWNSb3V0ZVByb3BzPXtkeW5hbWljUm91dGVQcm9wc30gLz59XG4gICAgICAvPlxuICAgICkpO1xuICB9LCBbaG9tZXBhZ2VEYXRhLCBpc0xhcmdlU2NyZWVuLCB3aWxkV2VzdERpc2FibGVkXSk7XG5cbiAgLy8gRm9yIHBlb3BsZSBhcnJpdmluZyBhdCBzZXR0aW5ncyBwYWdlIGZyb20gZGVlcGxpbmtzLCBrbm93IHdoZXRoZXIgdGhleSBjYW4gXCJnbyBiYWNrXCJcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB1bmxpc3RlbiA9IGxpc3RlbigobG9jYXRpb24sIGFjdGlvbikgPT4ge1xuICAgICAgaWYgKGFjdGlvbiA9PT0gJ1BVU0gnKSB7XG4gICAgICAgIGlmICghaGFzTmF2aWdhdGVkICYmIHNldEhhc05hdmlnYXRlZCkgc2V0SGFzTmF2aWdhdGVkKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHVubGlzdGVuO1xuICB9LCBbbGlzdGVuLCBoYXNOYXZpZ2F0ZWQsIHNldEhhc05hdmlnYXRlZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFoYXNOYXZpZ2F0ZWQgJiYgaGFzVW5jbGFpbWVkUmVmZXJlZVJld2FyZCAmJiBpc0F1dGhlbnRpY2F0ZWQgPT09IGZhbHNlICYmIGhhc0NsYWltKSB7XG4gICAgICBjb25zdCB2YWxpZCA9IGlzVVJJVmFsaWQodXJpKTtcbiAgICAgIGlmICh2YWxpZCkge1xuICAgICAgICBjb25zdCB7IHBhdGggfSA9IHBhcnNlVVJJKHVyaSk7XG4gICAgICAgIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIGRvVXNlclNldFJlZmVycmVyKHBhdGgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2hhc05hdmlnYXRlZCwgdXJpLCBoYXNVbmNsYWltZWRSZWZlcmVlUmV3YXJkLCBkb1VzZXJTZXRSZWZlcnJlciwgaXNBdXRoZW50aWNhdGVkLCBoYXNDbGFpbV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZ2V0RGVmYXVsdFRpdGxlID0gKHBhdGhuYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgIGxldCB0aXRsZSA9ICcnO1xuICAgICAgaWYgKHBhdGhuYW1lLnN0YXJ0c1dpdGgoJy8kLycpKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBwYXRobmFtZS5zdWJzdHJpbmcoMyk7XG4gICAgICAgIGlmICh3aW5kb3cuQ0FURUdPUllfUEFHRV9USVRMRSAmJiB3aW5kb3cuQ0FURUdPUllfUEFHRV9USVRMRVtuYW1lXSkge1xuICAgICAgICAgIHRpdGxlID0gd2luZG93LkNBVEVHT1JZX1BBR0VfVElUTEVbbmFtZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGl0bGUgPSBQQUdFX1RJVExFW25hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gX18odGl0bGUpIHx8IFNJVEVfVElUTEUgfHwgJ09keXNlZSc7XG4gICAgfTtcblxuICAgIGlmICh1cmkpIHtcbiAgICAgIGNvbnN0IHsgY2hhbm5lbE5hbWUsIHN0cmVhbU5hbWUgfSA9IHBhcnNlVVJJKHVyaSk7XG5cbiAgICAgIGlmICh0aXRsZSkge1xuICAgICAgICBkb2N1bWVudC50aXRsZSA9IHRpdGxlO1xuICAgICAgfSBlbHNlIGlmIChzdHJlYW1OYW1lKSB7XG4gICAgICAgIGRvY3VtZW50LnRpdGxlID0gc3RyZWFtTmFtZTtcbiAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbE5hbWUpIHtcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBjaGFubmVsTmFtZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LnRpdGxlID0gZ2V0RGVmYXVsdFRpdGxlKHBhdGhuYW1lKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQudGl0bGUgPSBnZXREZWZhdWx0VGl0bGUocGF0aG5hbWUpO1xuICAgIH1cblxuICAgIGlmICh1bnNlZW5Db3VudCA+IDAgJiYgIWhpZGVUaXRsZU5vdGlmaWNhdGlvbkNvdW50KSB7XG4gICAgICBkb2N1bWVudC50aXRsZSA9IGAoJHtidWlsZFVuc2VlbkNvdW50U3RyKHVuc2VlbkNvdW50KX0pICR7ZG9jdW1lbnQudGl0bGV9YDtcbiAgICB9XG4gIH0sIFtwYXRobmFtZSwgZW50cmllcywgZW50cnlJbmRleCwgdGl0bGUsIHVyaSwgdW5zZWVuQ291bnQsIGhpZGVUaXRsZU5vdGlmaWNhdGlvbkNvdW50XSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWhhc0xpbmtlZENvbW1lbnRJblVybCkge1xuICAgICAgaWYgKGhhc2ggJiYgaGlzdG9yeUFjdGlvbiA9PT0gJ1BVU0gnKSB7XG4gICAgICAgIGNvbnN0IGlkID0gaGFzaC5yZXBsYWNlKCcjJywgJycpO1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCBlbGVtZW50Lm9mZnNldFRvcCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCBjdXJyZW50U2Nyb2xsKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtjdXJyZW50U2Nyb2xsLCBwYXRobmFtZSwgc2VhcmNoLCBoYXNoLCByZXNldFNjcm9sbCwgaGFzTGlua2VkQ29tbWVudEluVXJsLCBoaXN0b3J5QWN0aW9uXSk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBkZWZhdWx0Q2hhbm5lbFJlZi5jdXJyZW50ID0gaGFzRGVmYXVsdENoYW5uZWw7XG4gIH0sIFtoYXNEZWZhdWx0Q2hhbm5lbF0pO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gaGFzIGEgZGVmYXVsdCBjaGFubmVsIHNlbGVjdGVkLCBjbGVhciB0aGUgY3VycmVudCBhY3RpdmUgY2hhbm5lbFxuICAgIGlmIChcbiAgICAgIGRlZmF1bHRDaGFubmVsUmVmLmN1cnJlbnQgJiZcbiAgICAgIHBhdGhuYW1lICE9PSBgLyQvJHtQQUdFUy5VUExPQUR9YCAmJlxuICAgICAgIXBhdGhuYW1lLmluY2x1ZGVzKGAvJC8ke1BBR0VTLkxJU1R9L2ApICYmXG4gICAgICAhcGF0aG5hbWUuaW5jbHVkZXMoYC8kLyR7UEFHRVMuUExBWUxJU1R9L2ApICYmXG4gICAgICBwYXRobmFtZSAhPT0gYC8kLyR7UEFHRVMuQ1JFQVRPUl9EQVNIQk9BUkR9YCAmJlxuICAgICAgcGF0aG5hbWUgIT09IGAvJC8ke1BBR0VTLkxJVkVTVFJFQU19YFxuICAgICkge1xuICAgICAgZG9TZXRBY3RpdmVDaGFubmVsKG51bGwsIHRydWUpO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzIC0tIE9ubHkgb24gJ3BhdGhuYW1lJyBjaGFuZ2VcbiAgfSwgW3BhdGhuYW1lXSk7XG5cbiAgLy8gcmVhY3Qtcm91dGVyIGRvZXNuJ3QgZGVjb2RlIHBhdGhhbm1lcyBiZWZvcmUgZG9pbmcgdGhlIHJvdXRlIG1hdGNoaW5nIGNoZWNrXG4gIC8vIFdlIGhhdmUgdG8gcmVkaXJlY3QgaGVyZSBiZWNhdXNlIGlmIHdlIHJlZGlyZWN0IG9uIHRoZSBzZXJ2ZXIsIGl0IG1pZ2h0IGdldCBlbmNvZGVkIGFnYWluXG4gIC8vIGluIHRoZSBicm93c2VyIGNhdXNpbmcgYSByZWRpcmVjdCBsb29wXG4gIGNvbnN0IGRlY29kZWRVcmwgPSBkZWNvZGVVUklDb21wb25lbnQocGF0aG5hbWUpICsgc2VhcmNoO1xuICBpZiAoZGVjb2RlZFVybCAhPT0gcGF0aG5hbWUgKyBzZWFyY2gpIHtcbiAgICByZXR1cm4gPFJlZGlyZWN0IHRvPXtkZWNvZGVkVXJsfSAvPjtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPFJlYWN0LlN1c3BlbnNlIGZhbGxiYWNrPXs8TG9hZGluZ0Jhck9uZU9mZiAvPn0+XG4gICAgICA8U3dpdGNoPlxuICAgICAgICA8UmVkaXJlY3RcbiAgICAgICAgICBmcm9tPXtgLyQvJHtQQUdFUy5ERVBSRUNBVEVEX19DSEFOTkVMU19GT0xMT1dJTkdfTUFOQUdFfWB9XG4gICAgICAgICAgdG89e2AvJC8ke1BBR0VTLkNIQU5ORUxTX0ZPTExPV0lOR19ESVNDT1ZFUn1gfVxuICAgICAgICAvPlxuICAgICAgICA8UmVkaXJlY3QgZnJvbT17YC8kLyR7UEFHRVMuREVQUkVDQVRFRF9fQ0hBTk5FTFNfRk9MTE9XSU5HfWB9IHRvPXtgLyQvJHtQQUdFUy5DSEFOTkVMU19GT0xMT1dJTkd9YH0gLz5cbiAgICAgICAgPFJlZGlyZWN0IGZyb209e2AvJC8ke1BBR0VTLkRFUFJFQ0FURURfX1RBR1NfRk9MTE9XSU5HfWB9IHRvPXtgLyQvJHtQQUdFUy5UQUdTX0ZPTExPV0lOR31gfSAvPlxuICAgICAgICA8UmVkaXJlY3QgZnJvbT17YC8kLyR7UEFHRVMuREVQUkVDQVRFRF9fVEFHU19GT0xMT1dJTkdfTUFOQUdFfWB9IHRvPXtgLyQvJHtQQUdFUy5UQUdTX0ZPTExPV0lOR19NQU5BR0V9YH0gLz5cbiAgICAgICAgPFJlZGlyZWN0IGZyb209e2AvJC8ke1BBR0VTLkRFUFJFQ0FURURfX1BVQkxJU0h9YH0gdG89e2AvJC8ke1BBR0VTLlVQTE9BRH1gfSAvPlxuICAgICAgICA8UmVkaXJlY3QgZnJvbT17YC8kLyR7UEFHRVMuREVQUkVDQVRFRF9fUFVCTElTSEVEfWB9IHRvPXtgLyQvJHtQQUdFUy5VUExPQURTfWB9IC8+XG5cbiAgICAgICAgPFJvdXRlIHBhdGg9e2AvYH0gZXhhY3QgY29tcG9uZW50PXtIb21lUGFnZX0gLz5cblxuICAgICAgICB7KCF3aWxkV2VzdERpc2FibGVkIHx8IHRhZ1BhcmFtcykgJiYgPFJvdXRlIHBhdGg9e2AvJC8ke1BBR0VTLkRJU0NPVkVSfWB9IGV4YWN0IGNvbXBvbmVudD17RGlzY292ZXJQYWdlfSAvPn1cbiAgICAgICAge2NhdGVnb3J5UGFnZXN9XG5cbiAgICAgICAgPFJvdXRlIHBhdGg9e2AvJC8ke1BBR0VTLkFVVEhfU0lHTklOfWB9IGV4YWN0IGNvbXBvbmVudD17U2lnbkluUGFnZX0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9e2AvJC8ke1BBR0VTLkFVVEhfUEFTU1dPUkRfUkVTRVR9YH0gZXhhY3QgY29tcG9uZW50PXtQYXNzd29yZFJlc2V0UGFnZX0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9e2AvJC8ke1BBR0VTLkFVVEhfUEFTU1dPUkRfU0VUfWB9IGV4YWN0IGNvbXBvbmVudD17UGFzc3dvcmRTZXRQYWdlfSAvPlxuICAgICAgICA8Um91dGUgcGF0aD17YC8kLyR7UEFHRVMuQVVUSH1gfSBleGFjdCBjb21wb25lbnQ9e1NpZ25VcFBhZ2V9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPXtgLyQvJHtQQUdFUy5BVVRIfS8qYH0gZXhhY3QgY29tcG9uZW50PXtTaWduVXBQYWdlfSAvPlxuXG4gICAgICAgIDxSb3V0ZSBwYXRoPXtgLyQvJHtQQUdFUy5IRUxQfWB9IGV4YWN0IGNvbXBvbmVudD17SGVscFBhZ2V9IC8+XG5cbiAgICAgICAgPFJvdXRlIHBhdGg9e2AvJC8ke1BBR0VTLkNPREVfMjI1N31gfSBleGFjdCBjb21wb25lbnQ9e0NvZGUyMjU3UGFnZX0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9e2AvJC8ke1BBR0VTLlBSSVZBQ1lfUE9MSUNZfWB9IGV4YWN0IGNvbXBvbmVudD17UHJpdmFjeVBvbGljeVBhZ2V9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPXtgLyQvJHtQQUdFUy5UT1N9YH0gZXhhY3QgY29tcG9uZW50PXtUT1NQYWdlfSAvPlxuICAgICAgICA8Um91dGUgcGF0aD17YC8kLyR7UEFHRVMuQ0FSRUVSU31gfSBleGFjdCBjb21wb25lbnQ9e0NhcmVlcnNQYWdlfSAvPlxuICAgICAgICA8Um91dGUgcGF0aD17YC8kLyR7UEFHRVMuQ0FSRUVSU19JVF9QUk9KRUNUX01BTkFHRVJ9YH0gZXhhY3QgY29tcG9uZW50PXtDYXJlZXJzSVRQcm9qZWN0TWFuYWdlclBhZ2V9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPXtgLyQvJHtQQUdFUy5DQVJFRVJTX1NFTklPUl9CQUNLRU5EX0VOR0lORUVSfWB9IGV4YWN0IGNvbXBvbmVudD17U2VuaW9yQmFja2VuZEVuZ2luZWVyUGFnZX0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9e2AvJC8ke1BBR0VTLkNBUkVFUlNfU09GVFdBUkVfU0VDVVJJVFlfRU5HSU5FRVJ9YH0gZXhhY3QgY29tcG9uZW50PXtTb2Z0d2FyZVNlY3VyaXR5RW5naW5lZXJQYWdlfSAvPlxuICAgICAgICA8Um91dGUgcGF0aD17YC8kLyR7UEFHRVMuQ0FSRUVSU19TRU5JT1JfQU5EUk9JRF9ERVZFTE9QRVJ9YH0gZXhhY3QgY29tcG9uZW50PXtTZW5pb3JBbmRyb2lkRGV2ZWxvcGVyUGFnZX0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9e2AvJC8ke1BBR0VTLkNBUkVFUlNfU0VOSU9SX0lPU19ERVZFTE9QRVJ9YH0gZXhhY3QgY29tcG9uZW50PXtTZW5pb3JJb3NEZXZlbG9wZXJQYWdlfSAvPlxuICAgICAgICA8Um91dGUgcGF0aD17YC8kLyR7UEFHRVMuRllQfWB9IGV4YWN0IGNvbXBvbmVudD17RnlwUGFnZX0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9e2AvJC8ke1BBR0VTLllPVVRVQkVfVE9TfWB9IGV4YWN0IGNvbXBvbmVudD17WW91VHViZVRPU1BhZ2V9IC8+XG5cbiAgICAgICAgPFJvdXRlIHBhdGg9e2AvJC8ke1BBR0VTLkFVVEhfVkVSSUZZfWB9IGV4YWN0IGNvbXBvbmVudD17U2lnbkluVmVyaWZ5UGFnZX0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9e2AvJC8ke1BBR0VTLlNFQVJDSH1gfSBleGFjdCBjb21wb25lbnQ9e1NlYXJjaFBhZ2V9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPXtgLyQvJHtQQUdFUy5UT1B9YH0gZXhhY3QgY29tcG9uZW50PXtUb3BQYWdlfSAvPlxuICAgICAgICA8Um91dGUgcGF0aD17YC8kLyR7UEFHRVMuU0VUVElOR1N9YH0gZXhhY3QgY29tcG9uZW50PXtTZXR0aW5nc1BhZ2V9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPXtgLyQvJHtQQUdFUy5JTlZJVEV9LzpyZWZlcnJlcmB9IGV4YWN0IGNvbXBvbmVudD17SW52aXRlZFBhZ2V9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPXtgLyQvJHtQQUdFUy5DSEVDS09VVH1gfSBleGFjdCBjb21wb25lbnQ9e0NoZWNrb3V0UGFnZX0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9e2AvJC8ke1BBR0VTLlJFUE9SVF9DT05URU5UfWB9IGV4YWN0IGNvbXBvbmVudD17UmVwb3J0Q29udGVudFBhZ2V9IC8+XG4gICAgICAgIDxSb3V0ZSB7Li4ucHJvcHN9IHBhdGg9e2AvJC8ke1BBR0VTLkxJU1R9Lzpjb2xsZWN0aW9uSWRgfSBjb21wb25lbnQ9e0NvbGxlY3Rpb25QYWdlfSAvPlxuICAgICAgICA8Um91dGUgey4uLnByb3BzfSBwYXRoPXtgLyQvJHtQQUdFUy5QTEFZTElTVH0vOmNvbGxlY3Rpb25JZGB9IGNvbXBvbmVudD17Q29sbGVjdGlvblBhZ2V9IC8+XG5cbiAgICAgICAgPFByaXZhdGVSb3V0ZSB7Li4ucHJvcHN9IGV4YWN0IHBhdGg9e2AvJC8ke1BBR0VTLllPVVRVQkVfU1lOQ31gfSBjb21wb25lbnQ9e1lvdXR1YmVTeW5jUGFnZX0gLz5cbiAgICAgICAgPFByaXZhdGVSb3V0ZSB7Li4ucHJvcHN9IGV4YWN0IHBhdGg9e2AvJC8ke1BBR0VTLlRBR1NfRk9MTE9XSU5HfWB9IGNvbXBvbmVudD17VGFnc0ZvbGxvd2luZ1BhZ2V9IC8+XG4gICAgICAgIDxQcml2YXRlUm91dGVcbiAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgZXhhY3RcbiAgICAgICAgICBwYXRoPXtgLyQvJHtQQUdFUy5DSEFOTkVMU19GT0xMT1dJTkd9YH1cbiAgICAgICAgICBjb21wb25lbnQ9e2lzQXV0aGVudGljYXRlZCB8fCAhSVNfV0VCID8gQ2hhbm5lbHNGb2xsb3dpbmdQYWdlIDogRGlzY292ZXJQYWdlfVxuICAgICAgICAvPlxuICAgICAgICA8UHJpdmF0ZVJvdXRlIHsuLi5wcm9wc30gcGF0aD17YC8kLyR7UEFHRVMuU0VUVElOR1NfTk9USUZJQ0FUSU9OU31gfSBjb21wb25lbnQ9e1NldHRpbmdzTm90aWZpY2F0aW9uc1BhZ2V9IC8+XG4gICAgICAgIHt3aW5kb3cuY29yZG92YSAmJiAhd2luZG93Lm9keXNlZS5idWlsZC5nb29nbGVQbGF5ICYmIChcbiAgICAgICAgICA8UHJpdmF0ZVJvdXRlIHsuLi5wcm9wc30gcGF0aD17YC8kLyR7UEFHRVMuU0VUVElOR1NfU1RSSVBFX0NBUkR9YH0gY29tcG9uZW50PXtTZXR0aW5nc1N0cmlwZUNhcmR9IC8+XG4gICAgICAgICl9XG4gICAgICAgIHt3aW5kb3cuY29yZG92YSAmJiAhd2luZG93Lm9keXNlZS5idWlsZC5nb29nbGVQbGF5ICYmIChcbiAgICAgICAgICA8UHJpdmF0ZVJvdXRlIHsuLi5wcm9wc30gcGF0aD17YC8kLyR7UEFHRVMuU0VUVElOR1NfU1RSSVBFX0FDQ09VTlR9YH0gY29tcG9uZW50PXtTZXR0aW5nc1N0cmlwZUFjY291bnR9IC8+XG4gICAgICAgICl9XG4gICAgICAgIDxQcml2YXRlUm91dGUgey4uLnByb3BzfSBwYXRoPXtgLyQvJHtQQUdFUy5TRVRUSU5HU19VUERBVEVfUFdEfWB9IGNvbXBvbmVudD17VXBkYXRlUGFzc3dvcmRQYWdlfSAvPlxuICAgICAgICA8UHJpdmF0ZVJvdXRlXG4gICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgIGV4YWN0XG4gICAgICAgICAgcGF0aD17YC8kLyR7UEFHRVMuQ0hBTk5FTFNfRk9MTE9XSU5HX0RJU0NPVkVSfWB9XG4gICAgICAgICAgY29tcG9uZW50PXtDaGFubmVsc0ZvbGxvd2luZ0Rpc2NvdmVyUGFnZX1cbiAgICAgICAgLz5cbiAgICAgICAgPFByaXZhdGVSb3V0ZVxuICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgICBleGFjdFxuICAgICAgICAgIHBhdGg9e2AvJC8ke1BBR0VTLkNIQU5ORUxTX0ZPTExPV0lOR19NQU5BR0V9YH1cbiAgICAgICAgICBjb21wb25lbnQ9e0NoYW5uZWxzRm9sbG93aW5nTWFuYWdlfVxuICAgICAgICAvPlxuICAgICAgICA8UHJpdmF0ZVJvdXRlIHsuLi5wcm9wc30gcGF0aD17YC8kLyR7UEFHRVMuSU5WSVRFfWB9IGNvbXBvbmVudD17SW52aXRlUGFnZX0gLz5cbiAgICAgICAgPFByaXZhdGVSb3V0ZSB7Li4ucHJvcHN9IHBhdGg9e2AvJC8ke1BBR0VTLkNIQU5ORUxfTkVXfWB9IGNvbXBvbmVudD17Q2hhbm5lbE5ld30gLz5cbiAgICAgICAgPFByaXZhdGVSb3V0ZSB7Li4ucHJvcHN9IHBhdGg9e2AvJC8ke1BBR0VTLlJFUE9TVF9ORVd9YH0gY29tcG9uZW50PXtSZXBvc3ROZXd9IC8+XG4gICAgICAgIDxQcml2YXRlUm91dGUgey4uLnByb3BzfSBwYXRoPXtgLyQvJHtQQUdFUy5VUExPQURTfWB9IGNvbXBvbmVudD17RmlsZUxpc3RQdWJsaXNoZWR9IC8+XG4gICAgICAgIDxQcml2YXRlUm91dGUgey4uLnByb3BzfSBwYXRoPXtgLyQvJHtQQUdFUy5DUkVBVE9SX0RBU0hCT0FSRH1gfSBjb21wb25lbnQ9e0NyZWF0b3JEYXNoYm9hcmR9IC8+XG4gICAgICAgIDxQcml2YXRlUm91dGUgey4uLnByb3BzfSBwYXRoPXtgLyQvJHtQQUdFUy5VUExPQUR9YH0gY29tcG9uZW50PXtVcGxvYWRQYWdlfSAvPlxuICAgICAgICA8UHJpdmF0ZVJvdXRlIHsuLi5wcm9wc30gcGF0aD17YC8kLyR7UEFHRVMuUE9TVH1gfSBjb21wb25lbnQ9e1Bvc3RQYWdlfSAvPlxuICAgICAgICA8UHJpdmF0ZVJvdXRlIHsuLi5wcm9wc30gcGF0aD17YC8kLyR7UEFHRVMuUkVQT1JUfWB9IGNvbXBvbmVudD17UmVwb3J0UGFnZX0gLz5cbiAgICAgICAgPFByaXZhdGVSb3V0ZSB7Li4ucHJvcHN9IHBhdGg9e2AvJC8ke1BBR0VTLlJFV0FSRFN9YH0gZXhhY3QgY29tcG9uZW50PXtSZXdhcmRzUGFnZX0gLz5cbiAgICAgICAgPFByaXZhdGVSb3V0ZSB7Li4ucHJvcHN9IHBhdGg9e2AvJC8ke1BBR0VTLlJFV0FSRFNfVkVSSUZZfWB9IGNvbXBvbmVudD17UmV3YXJkc1ZlcmlmeVBhZ2V9IC8+XG4gICAgICAgIDxQcml2YXRlUm91dGUgey4uLnByb3BzfSBwYXRoPXtgLyQvJHtQQUdFUy5MSUJSQVJZfWB9IGNvbXBvbmVudD17TGlicmFyeVBhZ2V9IC8+XG4gICAgICAgIDxQcml2YXRlUm91dGUgey4uLnByb3BzfSBwYXRoPXtgLyQvJHtQQUdFUy5MSVNUU31gfSBjb21wb25lbnQ9e1BsYXlsaXN0c1BhZ2V9IC8+XG4gICAgICAgIDxQcml2YXRlUm91dGUgey4uLnByb3BzfSBwYXRoPXtgLyQvJHtQQUdFUy5QTEFZTElTVFN9YH0gY29tcG9uZW50PXtQbGF5bGlzdHNQYWdlfSAvPlxuICAgICAgICA8UHJpdmF0ZVJvdXRlIHsuLi5wcm9wc30gcGF0aD17YC8kLyR7UEFHRVMuV0FUQ0hfSElTVE9SWX1gfSBjb21wb25lbnQ9e1dhdGNoSGlzdG9yeVBhZ2V9IC8+XG4gICAgICAgIDxQcml2YXRlUm91dGUgey4uLnByb3BzfSBwYXRoPXtgLyQvJHtQQUdFUy5UQUdTX0ZPTExPV0lOR19NQU5BR0V9YH0gY29tcG9uZW50PXtUYWdzRm9sbG93aW5nTWFuYWdlUGFnZX0gLz5cbiAgICAgICAgPFByaXZhdGVSb3V0ZSB7Li4ucHJvcHN9IHBhdGg9e2AvJC8ke1BBR0VTLlNFVFRJTkdTX0JMT0NLRURfTVVURUR9YH0gY29tcG9uZW50PXtMaXN0QmxvY2tlZFBhZ2V9IC8+XG4gICAgICAgIDxQcml2YXRlUm91dGUgey4uLnByb3BzfSBwYXRoPXtgLyQvJHtQQUdFUy5TRVRUSU5HU19DUkVBVE9SfWB9IGNvbXBvbmVudD17U2V0dGluZ3NDcmVhdG9yUGFnZX0gLz5cbiAgICAgICAgPFByaXZhdGVSb3V0ZSB7Li4ucHJvcHN9IHBhdGg9e2AvJC8ke1BBR0VTLldBTExFVH1gfSBleGFjdCBjb21wb25lbnQ9e1dhbGxldFBhZ2V9IC8+XG4gICAgICAgIDxQcml2YXRlUm91dGUgey4uLnByb3BzfSBwYXRoPXtgLyQvJHtQQUdFUy5DSEFOTkVMU31gfSBjb21wb25lbnQ9e0NoYW5uZWxzUGFnZX0gLz5cbiAgICAgICAgPFByaXZhdGVSb3V0ZSB7Li4ucHJvcHN9IHBhdGg9e2AvJC8ke1BBR0VTLkxJVkVTVFJFQU1fQ1JFQVRFfWB9IGNvbXBvbmVudD17TGl2ZXN0cmVhbUNyZWF0ZVBhZ2V9IC8+XG4gICAgICAgIDxQcml2YXRlUm91dGUgey4uLnByb3BzfSBwYXRoPXtgLyQvJHtQQUdFUy5MSVZFU1RSRUFNfWB9IGNvbXBvbmVudD17TGl2ZVN0cmVhbVNldHVwUGFnZX0gLz5cbiAgICAgICAgPFByaXZhdGVSb3V0ZSB7Li4ucHJvcHN9IHBhdGg9e2AvJC8ke1BBR0VTLkxJVkVTVFJFQU1fQ1VSUkVOVH1gfSBjb21wb25lbnQ9e0xpdmVzdHJlYW1DdXJyZW50UGFnZX0gLz5cbiAgICAgICAgPFByaXZhdGVSb3V0ZSB7Li4ucHJvcHN9IHBhdGg9e2AvJC8ke1BBR0VTLkJVWX1gfSBjb21wb25lbnQ9e0J1eVBhZ2V9IC8+XG4gICAgICAgIDxQcml2YXRlUm91dGUgey4uLnByb3BzfSBwYXRoPXtgLyQvJHtQQUdFUy5SRUNFSVZFfWB9IGNvbXBvbmVudD17UmVjZWl2ZVBhZ2V9IC8+XG4gICAgICAgIDxQcml2YXRlUm91dGUgey4uLnByb3BzfSBwYXRoPXtgLyQvJHtQQUdFUy5TRU5EfWB9IGNvbXBvbmVudD17U2VuZFBhZ2V9IC8+XG4gICAgICAgIDxQcml2YXRlUm91dGUgey4uLnByb3BzfSBwYXRoPXtgLyQvJHtQQUdFUy5TV0FQfWB9IGNvbXBvbmVudD17U3dhcFBhZ2V9IC8+XG4gICAgICAgIDxQcml2YXRlUm91dGUgey4uLnByb3BzfSBwYXRoPXtgLyQvJHtQQUdFUy5OT1RJRklDQVRJT05TfWB9IGNvbXBvbmVudD17Tm90aWZpY2F0aW9uc1BhZ2V9IC8+XG4gICAgICAgIDxQcml2YXRlUm91dGUgey4uLnByb3BzfSBwYXRoPXtgLyQvJHtQQUdFUy5BVVRIX1dBTExFVF9QQVNTV09SRH1gfSBjb21wb25lbnQ9e1NpZ25JbldhbGxldFBhc3N3b3JkUGFnZX0gLz5cbiAgICAgICAgPFByaXZhdGVSb3V0ZSB7Li4ucHJvcHN9IHBhdGg9e2AvJC8ke1BBR0VTLlNFVFRJTkdTX09XTl9DT01NRU5UU31gfSBjb21wb25lbnQ9e093bkNvbW1lbnRzfSAvPlxuICAgICAgICA8UHJpdmF0ZVJvdXRlIHsuLi5wcm9wc30gcGF0aD17YC8kLyR7UEFHRVMuT0RZU0VFX01FTUJFUlNISVB9YH0gY29tcG9uZW50PXtPZHlzZWVNZW1iZXJzaGlwUGFnZX0gLz5cblxuICAgICAgICA8Um91dGUgcGF0aD17YC8kLyR7UEFHRVMuUE9QT1VUfS86Y2hhbm5lbE5hbWUvOnN0cmVhbU5hbWVgfSBjb21wb25lbnQ9e1BvcG91dENoYXRQYWdlfSAvPlxuXG4gICAgICAgIDxSb3V0ZSBwYXRoPXtgLyQvJHtQQUdFUy5FTUJFRH0vOmNsYWltTmFtZWB9IGV4YWN0IGNvbXBvbmVudD17RW1iZWRXcmFwcGVyUGFnZX0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9e2AvJC8ke1BBR0VTLkVNQkVEfS86Y2xhaW1OYW1lLzpjbGFpbUlkYH0gZXhhY3QgY29tcG9uZW50PXtFbWJlZFdyYXBwZXJQYWdlfSAvPlxuXG4gICAgICAgIHsvKiBCZWxvdyBuZWVkIHRvIGdvIGF0IHRoZSBlbmQgdG8gbWFrZSBzdXJlIHdlIGRvbid0IG1hdGNoIGFueSBvZiBvdXIgcGFnZXMgZmlyc3QgKi99XG4gICAgICAgIDxSb3V0ZSBwYXRoPXtgLyQvJHtQQUdFUy5MQVRFU1R9LzpjaGFubmVsTmFtZWB9IGV4YWN0IHJlbmRlcj17KCkgPT4gPFNob3dQYWdlIHVyaT17dXJpfSBsYXRlc3RDb250ZW50UGF0aCAvPn0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9e2AvJC8ke1BBR0VTLkxJVkVfTk9XfS86Y2hhbm5lbE5hbWVgfSBleGFjdCByZW5kZXI9eygpID0+IDxTaG93UGFnZSB1cmk9e3VyaX0gbGl2ZUNvbnRlbnRQYXRoIC8+fSAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi86Y2xhaW1OYW1lXCIgZXhhY3QgcmVuZGVyPXsoKSA9PiA8U2hvd1BhZ2UgdXJpPXt1cml9IC8+fSAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi86Y2xhaW1OYW1lLzpzdHJlYW1OYW1lXCIgZXhhY3QgcmVuZGVyPXsoKSA9PiA8U2hvd1BhZ2UgdXJpPXt1cml9IC8+fSAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi8qXCIgY29tcG9uZW50PXtGb3VyT2hGb3VyUGFnZX0gLz5cbiAgICAgIDwvU3dpdGNoPlxuICAgIDwvUmVhY3QuU3VzcGVuc2U+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHdpdGhSb3V0ZXIoQXBwUm91dGVyKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUEsK01BQ0E7QUFEQTtBQUdBO0FBQUEsbU9BQ0E7QUFEQTtBQUlBO0FBQUEsK01BQ0E7QUFEQTtBQUdBO0FBQUEsdU9BQ0E7QUFEQTtBQUdBO0FBQUEsdU5BQ0E7QUFEQTtBQUlBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUEsK01BQ0E7QUFEQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUEsbU9BQ0E7QUFEQTtBQUdBO0FBQUEsbU1BQ0E7QUFEQTtBQUdBO0FBQUEsK01BQ0E7QUFEQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUEsMlVBQ0E7QUFEQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUEsbU1BQ0E7QUFEQTtBQUdBO0FBQUEsZ3JCQUNBO0FBREE7QUFHQTtBQUFBLCtMQUNBO0FBREE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBLHVWQUNBO0FBREE7QUFHQTtBQUFBLG1OQUNBO0FBREE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUFBLG1OQUNBO0FBREE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBLDJNQUNBO0FBREE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBc0NBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBSUE7QUFBQTtBQUpBO0FBRkE7QUFXQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBcUJBO0FBckJBO0FBQUE7QUFBQTtBQXdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUlBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUhBO0FBREE7QUFMQTtBQUNBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFOQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVZBO0FBQ0E7QUFZQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQURBO0FBR0E7QUFEQTtBQUdBO0FBREE7QUFHQTtBQUNBO0FBWEE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFoQ0E7QUFtQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7QUFYQTtBQWNBO0FBQ0E7QUFEQTtBQUlBO0FBQ0E7QUFDQTtBQVFBO0FBVkE7QUFDQTtBQURBO0FBZ0JBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBRkE7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBSkE7QUFRQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../ui/component/router/view.jsx\n");

/***/ }),

/***/ "../ui/component/subscribeButton/view.jsx":
/*!************************************************!*\
  !*** ../ui/component/subscribeButton/view.jsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return SubscribeButton; });\n/* harmony import */ var constants_icons__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! constants/icons */ \"../ui/constants/icons.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var util_lbryURI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! util/lbryURI */ \"../ui/util/lbryURI.js\");\n/* harmony import */ var component_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! component/button */ \"../ui/component/button/index.js\");\n/* harmony import */ var effects_use_hover__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! effects/use-hover */ \"../ui/effects/use-hover.js\");\n/* harmony import */ var effects_use_screensize__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! effects/use-screensize */ \"../ui/effects/use-screensize.js\");\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! config */ \"../config.js\");\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(config__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n\n\n\nfunction SubscribeButton(props) {\n  var permanentUrl = props.permanentUrl,\n      doChannelSubscribe = props.doChannelSubscribe,\n      doChannelUnsubscribe = props.doChannelUnsubscribe,\n      isSubscribed = props.isSubscribed,\n      doToast = props.doToast,\n      _props$shrinkOnMobile = props.shrinkOnMobile,\n      shrinkOnMobile = _props$shrinkOnMobile === void 0 ? false : _props$shrinkOnMobile,\n      notificationsDisabled = props.notificationsDisabled,\n      user = props.user,\n      uri = props.uri,\n      preferEmbed = props.preferEmbed;\n  var buttonRef = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useRef\"])();\n  var isMobile = Object(effects_use_screensize__WEBPACK_IMPORTED_MODULE_5__[\"useIsMobile\"])();\n  var isHovering = Object(effects_use_hover__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(buttonRef);\n  isHovering = isMobile ? true : isHovering;\n  var uiNotificationsEnabled = user && user.experimental_ui || config__WEBPACK_IMPORTED_MODULE_6__[\"ENABLE_UI_NOTIFICATIONS\"];\n\n  var _parseURI = Object(util_lbryURI__WEBPACK_IMPORTED_MODULE_2__[\"parseURI\"])(uri),\n      rawChannelName = _parseURI.channelName;\n\n  var channelName;\n\n  if (permanentUrl) {\n    try {\n      var _parseURI2 = Object(util_lbryURI__WEBPACK_IMPORTED_MODULE_2__[\"parseURI\"])(permanentUrl),\n          name = _parseURI2.channelName;\n\n      if (name) {\n        channelName = name;\n      }\n    } catch (e) {}\n  }\n\n  var claimName = channelName && '@' + channelName;\n  var subscriptionHandler = isSubscribed ? doChannelUnsubscribe : doChannelSubscribe;\n  var subscriptionLabel = isSubscribed ? __('Following --[button label indicating a channel has been followed]--') : __('Follow');\n\n  var unfollowOverride = isSubscribed && isHovering && __('Unfollow');\n\n  var label = isMobile && shrinkOnMobile ? '' : unfollowOverride || subscriptionLabel;\n  var titlePrefix = isSubscribed ? __('Unfollow this channel') : __('Follow this channel');\n\n  if (!preferEmbed && isSubscribed && !permanentUrl && rawChannelName) {\n    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"button-group button-group-subscribed\"\n    }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n      ref: buttonRef,\n      iconColor: \"red\",\n      largestLabel: isMobile && shrinkOnMobile ? '' : subscriptionLabel,\n      icon: constants_icons__WEBPACK_IMPORTED_MODULE_0__[\"UNSUBSCRIBE\"],\n      button: 'alt',\n      requiresAuth: true,\n      label: label,\n      title: titlePrefix,\n      onClick: function onClick(e) {\n        e.stopPropagation();\n        subscriptionHandler({\n          channelName: '@' + rawChannelName,\n          uri: uri,\n          notificationsDisabled: true\n        }, true);\n      }\n    }));\n  }\n\n  return !preferEmbed && permanentUrl && claimName ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"button-group\"\n  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    ref: buttonRef,\n    iconColor: \"red\",\n    className: isSubscribed ? 'button-following' : '',\n    largestLabel: isMobile && shrinkOnMobile ? '' : subscriptionLabel,\n    icon: unfollowOverride ? constants_icons__WEBPACK_IMPORTED_MODULE_0__[\"UNSUBSCRIBE\"] : isSubscribed ? constants_icons__WEBPACK_IMPORTED_MODULE_0__[\"SUBSCRIBED\"] : constants_icons__WEBPACK_IMPORTED_MODULE_0__[\"SUBSCRIBE\"],\n    button: 'alt',\n    requiresAuth: true,\n    label: label,\n    title: titlePrefix,\n    onClick: function onClick(e) {\n      e.stopPropagation();\n      subscriptionHandler({\n        channelName: claimName,\n        uri: permanentUrl,\n        notificationsDisabled: true\n      }, true);\n    }\n  }), isSubscribed && uiNotificationsEnabled && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    button: \"alt\",\n    icon: notificationsDisabled ? constants_icons__WEBPACK_IMPORTED_MODULE_0__[\"BELL\"] : constants_icons__WEBPACK_IMPORTED_MODULE_0__[\"BELL_ON\"],\n    className: isSubscribed ? 'button-following' : '',\n    \"aria-label\": notificationsDisabled ? __('Turn on notifications') : __('Turn off notifications'),\n    onClick: function onClick() {\n      var newNotificationsDisabled = !notificationsDisabled;\n      doChannelSubscribe({\n        channelName: claimName,\n        uri: permanentUrl,\n        notificationsDisabled: newNotificationsDisabled\n      }, false);\n      doToast({\n        message: __(newNotificationsDisabled ? 'Notifications turned off for %channel%' : 'Notifications turned on for %channel%!', {\n          channel: claimName\n        })\n      });\n    }\n  }))) : null;\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! i18n.js */ \"../ui/i18n.js\")[\"__\"]))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L3N1YnNjcmliZUJ1dHRvbi92aWV3LmpzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi91aS9jb21wb25lbnQvc3Vic2NyaWJlQnV0dG9uL3ZpZXcuanN4PzJiNGIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQGZsb3dcbmltcG9ydCAqIGFzIElDT05TIGZyb20gJ2NvbnN0YW50cy9pY29ucyc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcGFyc2VVUkkgfSBmcm9tICd1dGlsL2xicnlVUkknO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdjb21wb25lbnQvYnV0dG9uJztcbmltcG9ydCB1c2VIb3ZlciBmcm9tICdlZmZlY3RzL3VzZS1ob3Zlcic7XG5pbXBvcnQgeyB1c2VJc01vYmlsZSB9IGZyb20gJ2VmZmVjdHMvdXNlLXNjcmVlbnNpemUnO1xuaW1wb3J0IHsgRU5BQkxFX1VJX05PVElGSUNBVElPTlMgfSBmcm9tICdjb25maWcnO1xuXG50eXBlIFN1YnNjcmlwdGlvbkFyZ3MgPSB7XG4gIGNoYW5uZWxOYW1lOiBzdHJpbmcsXG4gIHVyaTogc3RyaW5nLFxuICBub3RpZmljYXRpb25zRGlzYWJsZWQ/OiBib29sZWFuLFxufTtcblxudHlwZSBQcm9wcyA9IHtcbiAgcGVybWFuZW50VXJsOiA/c3RyaW5nLFxuICBpc1N1YnNjcmliZWQ6IGJvb2xlYW4sXG4gIGRvQ2hhbm5lbFN1YnNjcmliZTogKFN1YnNjcmlwdGlvbkFyZ3MsIGJvb2xlYW4pID0+IHZvaWQsXG4gIGRvQ2hhbm5lbFVuc3Vic2NyaWJlOiAoU3Vic2NyaXB0aW9uQXJncywgYm9vbGVhbikgPT4gdm9pZCxcbiAgZG9Ub2FzdDogKHsgbWVzc2FnZTogc3RyaW5nIH0pID0+IHZvaWQsXG4gIHNocmlua09uTW9iaWxlOiBib29sZWFuLFxuICBub3RpZmljYXRpb25zRGlzYWJsZWQ6IGJvb2xlYW4sXG4gIHVzZXI6ID9Vc2VyLFxuICB1cmk6IHN0cmluZyxcbiAgcHJlZmVyRW1iZWQ6IGJvb2xlYW4sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTdWJzY3JpYmVCdXR0b24ocHJvcHM6IFByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBwZXJtYW5lbnRVcmwsXG4gICAgZG9DaGFubmVsU3Vic2NyaWJlLFxuICAgIGRvQ2hhbm5lbFVuc3Vic2NyaWJlLFxuICAgIGlzU3Vic2NyaWJlZCxcbiAgICBkb1RvYXN0LFxuICAgIHNocmlua09uTW9iaWxlID0gZmFsc2UsXG4gICAgbm90aWZpY2F0aW9uc0Rpc2FibGVkLFxuICAgIHVzZXIsXG4gICAgdXJpLFxuICAgIHByZWZlckVtYmVkLFxuICB9ID0gcHJvcHM7XG5cbiAgY29uc3QgYnV0dG9uUmVmID0gdXNlUmVmKCk7XG4gIGNvbnN0IGlzTW9iaWxlID0gdXNlSXNNb2JpbGUoKTtcbiAgbGV0IGlzSG92ZXJpbmcgPSB1c2VIb3ZlcihidXR0b25SZWYpO1xuICBpc0hvdmVyaW5nID0gaXNNb2JpbGUgPyB0cnVlIDogaXNIb3ZlcmluZztcbiAgY29uc3QgdWlOb3RpZmljYXRpb25zRW5hYmxlZCA9ICh1c2VyICYmIHVzZXIuZXhwZXJpbWVudGFsX3VpKSB8fCBFTkFCTEVfVUlfTk9USUZJQ0FUSU9OUztcblxuICBjb25zdCB7IGNoYW5uZWxOYW1lOiByYXdDaGFubmVsTmFtZSB9ID0gcGFyc2VVUkkodXJpKTtcblxuICBsZXQgY2hhbm5lbE5hbWU7XG5cbiAgaWYgKHBlcm1hbmVudFVybCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGNoYW5uZWxOYW1lOiBuYW1lIH0gPSBwYXJzZVVSSShwZXJtYW5lbnRVcmwpO1xuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgY2hhbm5lbE5hbWUgPSBuYW1lO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgY29uc3QgY2xhaW1OYW1lID0gY2hhbm5lbE5hbWUgJiYgJ0AnICsgY2hhbm5lbE5hbWU7XG5cbiAgY29uc3Qgc3Vic2NyaXB0aW9uSGFuZGxlciA9IGlzU3Vic2NyaWJlZCA/IGRvQ2hhbm5lbFVuc3Vic2NyaWJlIDogZG9DaGFubmVsU3Vic2NyaWJlO1xuXG4gIGNvbnN0IHN1YnNjcmlwdGlvbkxhYmVsID0gaXNTdWJzY3JpYmVkXG4gICAgPyBfXygnRm9sbG93aW5nIC0tW2J1dHRvbiBsYWJlbCBpbmRpY2F0aW5nIGEgY2hhbm5lbCBoYXMgYmVlbiBmb2xsb3dlZF0tLScpXG4gICAgOiBfXygnRm9sbG93Jyk7XG4gIGNvbnN0IHVuZm9sbG93T3ZlcnJpZGUgPSBpc1N1YnNjcmliZWQgJiYgaXNIb3ZlcmluZyAmJiBfXygnVW5mb2xsb3cnKTtcblxuICBjb25zdCBsYWJlbCA9IGlzTW9iaWxlICYmIHNocmlua09uTW9iaWxlID8gJycgOiB1bmZvbGxvd092ZXJyaWRlIHx8IHN1YnNjcmlwdGlvbkxhYmVsO1xuICBjb25zdCB0aXRsZVByZWZpeCA9IGlzU3Vic2NyaWJlZCA/IF9fKCdVbmZvbGxvdyB0aGlzIGNoYW5uZWwnKSA6IF9fKCdGb2xsb3cgdGhpcyBjaGFubmVsJyk7XG5cbiAgaWYgKCFwcmVmZXJFbWJlZCAmJiBpc1N1YnNjcmliZWQgJiYgIXBlcm1hbmVudFVybCAmJiByYXdDaGFubmVsTmFtZSkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dHRvbi1ncm91cCBidXR0b24tZ3JvdXAtc3Vic2NyaWJlZFwiPlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgcmVmPXtidXR0b25SZWZ9XG4gICAgICAgICAgaWNvbkNvbG9yPVwicmVkXCJcbiAgICAgICAgICBsYXJnZXN0TGFiZWw9e2lzTW9iaWxlICYmIHNocmlua09uTW9iaWxlID8gJycgOiBzdWJzY3JpcHRpb25MYWJlbH1cbiAgICAgICAgICBpY29uPXtJQ09OUy5VTlNVQlNDUklCRX1cbiAgICAgICAgICBidXR0b249eydhbHQnfVxuICAgICAgICAgIHJlcXVpcmVzQXV0aD17SVNfV0VCfVxuICAgICAgICAgIGxhYmVsPXtsYWJlbH1cbiAgICAgICAgICB0aXRsZT17dGl0bGVQcmVmaXh9XG4gICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbkhhbmRsZXIoXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsTmFtZTogJ0AnICsgcmF3Q2hhbm5lbE5hbWUsXG4gICAgICAgICAgICAgICAgdXJpOiB1cmksXG4gICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uc0Rpc2FibGVkOiB0cnVlLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuICFwcmVmZXJFbWJlZCAmJiBwZXJtYW5lbnRVcmwgJiYgY2xhaW1OYW1lID8gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uLWdyb3VwXCI+XG4gICAgICA8QnV0dG9uXG4gICAgICAgIHJlZj17YnV0dG9uUmVmfVxuICAgICAgICBpY29uQ29sb3I9XCJyZWRcIlxuICAgICAgICBjbGFzc05hbWU9e2lzU3Vic2NyaWJlZCA/ICdidXR0b24tZm9sbG93aW5nJyA6ICcnfVxuICAgICAgICBsYXJnZXN0TGFiZWw9e2lzTW9iaWxlICYmIHNocmlua09uTW9iaWxlID8gJycgOiBzdWJzY3JpcHRpb25MYWJlbH1cbiAgICAgICAgaWNvbj17dW5mb2xsb3dPdmVycmlkZSA/IElDT05TLlVOU1VCU0NSSUJFIDogaXNTdWJzY3JpYmVkID8gSUNPTlMuU1VCU0NSSUJFRCA6IElDT05TLlNVQlNDUklCRX1cbiAgICAgICAgYnV0dG9uPXsnYWx0J31cbiAgICAgICAgcmVxdWlyZXNBdXRoPXtJU19XRUJ9XG4gICAgICAgIGxhYmVsPXtsYWJlbH1cbiAgICAgICAgdGl0bGU9e3RpdGxlUHJlZml4fVxuICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICBzdWJzY3JpcHRpb25IYW5kbGVyKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjaGFubmVsTmFtZTogY2xhaW1OYW1lLFxuICAgICAgICAgICAgICB1cmk6IHBlcm1hbmVudFVybCxcbiAgICAgICAgICAgICAgbm90aWZpY2F0aW9uc0Rpc2FibGVkOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgICApO1xuICAgICAgICB9fVxuICAgICAgLz5cbiAgICAgIHtpc1N1YnNjcmliZWQgJiYgdWlOb3RpZmljYXRpb25zRW5hYmxlZCAmJiAoXG4gICAgICAgIDw+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgYnV0dG9uPVwiYWx0XCJcbiAgICAgICAgICAgIGljb249e25vdGlmaWNhdGlvbnNEaXNhYmxlZCA/IElDT05TLkJFTEwgOiBJQ09OUy5CRUxMX09OfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtpc1N1YnNjcmliZWQgPyAnYnV0dG9uLWZvbGxvd2luZycgOiAnJ31cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9e25vdGlmaWNhdGlvbnNEaXNhYmxlZCA/IF9fKCdUdXJuIG9uIG5vdGlmaWNhdGlvbnMnKSA6IF9fKCdUdXJuIG9mZiBub3RpZmljYXRpb25zJyl9XG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IG5ld05vdGlmaWNhdGlvbnNEaXNhYmxlZCA9ICFub3RpZmljYXRpb25zRGlzYWJsZWQ7XG5cbiAgICAgICAgICAgICAgZG9DaGFubmVsU3Vic2NyaWJlKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGNoYW5uZWxOYW1lOiBjbGFpbU5hbWUsXG4gICAgICAgICAgICAgICAgICB1cmk6IHBlcm1hbmVudFVybCxcbiAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbnNEaXNhYmxlZDogbmV3Tm90aWZpY2F0aW9uc0Rpc2FibGVkLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICBkb1RvYXN0KHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBfXyhcbiAgICAgICAgICAgICAgICAgIG5ld05vdGlmaWNhdGlvbnNEaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICA/ICdOb3RpZmljYXRpb25zIHR1cm5lZCBvZmYgZm9yICVjaGFubmVsJSdcbiAgICAgICAgICAgICAgICAgICAgOiAnTm90aWZpY2F0aW9ucyB0dXJuZWQgb24gZm9yICVjaGFubmVsJSEnLFxuICAgICAgICAgICAgICAgICAgeyBjaGFubmVsOiBjbGFpbU5hbWUgfVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICA8Lz5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICkgOiBudWxsO1xufVxuIl0sIm1hcHBpbmdzIjoiQUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFxQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbkJBO0FBQUE7QUFDQTtBQXFCQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFwQkE7QUF3QkE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFyQkE7QUEwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFIQTtBQVFBO0FBQ0E7QUFJQTtBQUFBO0FBTEE7QUFRQTtBQXpCQTtBQStCQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../ui/component/subscribeButton/view.jsx\n");

/***/ }),

/***/ "../ui/component/viewers/videoViewer/internal/videojs.jsx":
/*!****************************************************************!*\
  !*** ../ui/component/viewers/videoViewer/internal/videojs.jsx ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__) {/* harmony import */ var videojs_contrib_ads__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! videojs-contrib-ads */ \"../node_modules/videojs-contrib-ads/dist/videojs-contrib-ads.es.js\");\n/* harmony import */ var videojs_ima__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! videojs-ima */ \"../node_modules/videojs-ima/dist/videojs.ima.es.js\");\n/* harmony import */ var videojs_vtt_thumbnails__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! videojs-vtt-thumbnails */ \"../node_modules/videojs-vtt-thumbnails/dist/videojs-vtt-thumbnails.es.js\");\n/* harmony import */ var video_js_dist_alt_video_js_cdn_min_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! video.js/dist/alt/video-js-cdn.min.css */ \"../node_modules/video.js/dist/alt/video-js-cdn.min.css\");\n/* harmony import */ var video_js_dist_alt_video_js_cdn_min_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(video_js_dist_alt_video_js_cdn_min_css__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _plugins_videojs_mobile_ui_plugin__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./plugins/videojs-mobile-ui/plugin */ \"../ui/component/viewers/videoViewer/internal/plugins/videojs-mobile-ui/plugin.js\");\n/* harmony import */ var _silvermine_videojs_chromecast_dist_silvermine_videojs_chromecast_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @silvermine/videojs-chromecast/dist/silvermine-videojs-chromecast.css */ \"../node_modules/@silvermine/videojs-chromecast/dist/silvermine-videojs-chromecast.css\");\n/* harmony import */ var _silvermine_videojs_chromecast_dist_silvermine_videojs_chromecast_css__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_silvermine_videojs_chromecast_dist_silvermine_videojs_chromecast_css__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _silvermine_videojs_airplay_dist_silvermine_videojs_airplay_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @silvermine/videojs-airplay/dist/silvermine-videojs-airplay.css */ \"../node_modules/@silvermine/videojs-airplay/dist/silvermine-videojs-airplay.css\");\n/* harmony import */ var _silvermine_videojs_airplay_dist_silvermine_videojs_airplay_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_silvermine_videojs_airplay_dist_silvermine_videojs_airplay_css__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var constants_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! constants/icons */ \"../ui/constants/icons.js\");\n/* harmony import */ var constants_player__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! constants/player */ \"../ui/constants/player.js\");\n/* harmony import */ var _overlays__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./overlays */ \"../ui/component/viewers/videoViewer/internal/overlays.js\");\n/* harmony import */ var component_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! component/button */ \"../ui/component/button/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! classnames */ \"../node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _videojs_events__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./videojs-events */ \"../ui/component/viewers/videoViewer/internal/videojs-events.jsx\");\n/* harmony import */ var videojs_event_tracking__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! videojs-event-tracking */ \"../node_modules/videojs-event-tracking/dist/videojs-event-tracking.es.js\");\n/* harmony import */ var _videojs_functions__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./videojs-functions */ \"../ui/component/viewers/videoViewer/internal/videojs-functions.jsx\");\n/* harmony import */ var _plugins_videojs_hls_quality_selector_plugin__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./plugins/videojs-hls-quality-selector/plugin */ \"../ui/component/viewers/videoViewer/internal/plugins/videojs-hls-quality-selector/plugin.js\");\n/* harmony import */ var _videojs_shortcuts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./videojs-shortcuts */ \"../ui/component/viewers/videoViewer/internal/videojs-shortcuts.jsx\");\n/* harmony import */ var _lbry_playback_rate__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./lbry-playback-rate */ \"../ui/component/viewers/videoViewer/internal/lbry-playback-rate.js\");\n/* harmony import */ var player_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! player.js */ \"../node_modules/player.js/dist/player-0.1.0.js\");\n/* harmony import */ var player_js__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(player_js__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var videojs_contrib_quality_levels__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! videojs-contrib-quality-levels */ \"../node_modules/videojs-contrib-quality-levels/dist/videojs-contrib-quality-levels.es.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var _plugins_videojs_i18n_plugin__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./plugins/videojs-i18n/plugin */ \"../ui/component/viewers/videoViewer/internal/plugins/videojs-i18n/plugin.js\");\n/* harmony import */ var _plugins_videojs_recsys_plugin__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./plugins/videojs-recsys/plugin */ \"../ui/component/viewers/videoViewer/internal/plugins/videojs-recsys/plugin.js\");\n/* harmony import */ var video_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! video.js */ \"../node_modules/video.js/dist/video.es.js\");\n/* harmony import */ var effects_use_screensize__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! effects/use-screensize */ \"../ui/effects/use-screensize.js\");\n/* harmony import */ var util_platform__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! util/platform */ \"../ui/util/platform.js\");\n/* harmony import */ var effects_use_persisted_state__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! effects/use-persisted-state */ \"../ui/effects/use-persisted-state.js\");\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\n // must be loaded in this order\n\n // loads directly after contrib-ads\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n // import LbryVolumeBarClass from './lbry-volume-bar';\n// import Chromecast from './chromecast';\n\n\n\n\n\n // import runAds from './ads';\n\n\n\n\n\n\nvar canAutoplayVideo = __webpack_require__(/*! ./plugins/canAutoplay */ \"../ui/component/viewers/videoViewer/internal/plugins/canAutoplay.js\"); // require('@neko/videojs-chromecast')(videojs);\n\n\nvar VIDEOJS_VOLUME_PANEL_CLASS = 'VolumePanel';\nvar IS_IOS = util_platform__WEBPACK_IMPORTED_MODULE_25__[\"platform\"].isIOS();\nvar PLUGIN_MAP = {\n  eventTracking: videojs_event_tracking__WEBPACK_IMPORTED_MODULE_13__[\"default\"],\n  hlsQualitySelector: _plugins_videojs_hls_quality_selector_plugin__WEBPACK_IMPORTED_MODULE_15__[\"default\"],\n  qualityLevels: videojs_contrib_quality_levels__WEBPACK_IMPORTED_MODULE_19__[\"default\"],\n  recsys: _plugins_videojs_recsys_plugin__WEBPACK_IMPORTED_MODULE_22__[\"default\"],\n  i18n: _plugins_videojs_i18n_plugin__WEBPACK_IMPORTED_MODULE_21__[\"default\"]\n};\nObject.entries(PLUGIN_MAP).forEach(function (_ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      pluginName = _ref2[0],\n      plugin = _ref2[1];\n\n  if (!Object.keys(video_js__WEBPACK_IMPORTED_MODULE_23__[\"default\"].getPlugins()).includes(pluginName)) {\n    video_js__WEBPACK_IMPORTED_MODULE_23__[\"default\"].registerPlugin(pluginName, plugin);\n  }\n}); // ****************************************************************************\n// VideoJs\n// ****************************************************************************\n\n/*\nproperties for this component should be kept to ONLY those that if changed should REQUIRE an entirely new videojs element\n */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (react__WEBPACK_IMPORTED_MODULE_20___default.a.memo(function VideoJs(props) {\n  var autoplay = props.autoplay,\n      claimId = props.claimId,\n      channelName = props.channelName,\n      channelTitle = props.channelTitle,\n      embedded = props.embedded,\n      embeddedInternal = props.embeddedInternal,\n      isAudio = props.isAudio,\n      shareTelemetry = props.shareTelemetry,\n      source = props.source,\n      sourceType = props.sourceType,\n      startMuted = props.startMuted,\n      userId = props.userId,\n      defaultQuality = props.defaultQuality,\n      onPlayerReady = props.onPlayerReady,\n      playNext = props.playNext,\n      playPrevious = props.playPrevious,\n      toggleVideoTheaterMode = props.toggleVideoTheaterMode,\n      claimValues = props.claimValues,\n      doAnalyticsView = props.doAnalyticsView,\n      doAnalyticsBuffer = props.doAnalyticsBuffer,\n      claimRewards = props.claimRewards,\n      uri = props.uri,\n      userClaimId = props.userClaimId,\n      isLivestreamClaim = props.isLivestreamClaim,\n      activeLivestreamForChannel = props.activeLivestreamForChannel,\n      doToast = props.doToast,\n      isPurchasableContent = props.isPurchasableContent,\n      isRentableContent = props.isRentableContent; // used to notify about default quality setting\n  // if already has a quality set, no need to notify\n\n  var _usePersistedState = Object(effects_use_persisted_state__WEBPACK_IMPORTED_MODULE_26__[\"default\"])('initial-quality-change', Boolean(defaultQuality)),\n      _usePersistedState2 = _slicedToArray(_usePersistedState, 2),\n      initialQualityChange = _usePersistedState2[0],\n      setInitialQualityChange = _usePersistedState2[1];\n\n  var isMobile = Object(effects_use_screensize__WEBPACK_IMPORTED_MODULE_24__[\"useIsMobile\"])();\n  var playerRef = Object(react__WEBPACK_IMPORTED_MODULE_20__[\"useRef\"])();\n  var containerRef = Object(react__WEBPACK_IMPORTED_MODULE_20__[\"useRef\"])();\n  var tapToUnmuteRef = Object(react__WEBPACK_IMPORTED_MODULE_20__[\"useRef\"])();\n  var tapToRetryRef = Object(react__WEBPACK_IMPORTED_MODULE_20__[\"useRef\"])();\n  var playerServerRef = Object(react__WEBPACK_IMPORTED_MODULE_20__[\"useRef\"])();\n  var volumePanelRef = Object(react__WEBPACK_IMPORTED_MODULE_20__[\"useRef\"])();\n  var keyDownHandlerRef = Object(react__WEBPACK_IMPORTED_MODULE_20__[\"useRef\"])();\n  var videoScrollHandlerRef = Object(react__WEBPACK_IMPORTED_MODULE_20__[\"useRef\"])();\n  var volumePanelScrollHandlerRef = Object(react__WEBPACK_IMPORTED_MODULE_20__[\"useRef\"])();\n\n  var _ref3 = activeLivestreamForChannel || {},\n      livestreamVideoUrl = _ref3.url;\n\n  var overrideNativeVhs = !util_platform__WEBPACK_IMPORTED_MODULE_25__[\"platform\"].isIPhone();\n  var showQualitySelector = !isLivestreamClaim && overrideNativeVhs || livestreamVideoUrl; // initiate keyboard shortcuts\n\n  var _keyboardShorcuts = Object(_videojs_shortcuts__WEBPACK_IMPORTED_MODULE_16__[\"default\"])({\n    isMobile: isMobile,\n    isLivestreamClaim: isLivestreamClaim,\n    toggleVideoTheaterMode: toggleVideoTheaterMode,\n    playNext: playNext,\n    playPrevious: playPrevious\n  }),\n      createKeyDownShortcutsHandler = _keyboardShorcuts.createKeyDownShortcutsHandler,\n      createVideoScrollShortcutsHandler = _keyboardShorcuts.createVideoScrollShortcutsHandler,\n      createVolumePanelScrollShortcutsHandler = _keyboardShorcuts.createVolumePanelScrollShortcutsHandler;\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_20__[\"useState\"])('initial'),\n      _useState2 = _slicedToArray(_useState, 2),\n      reload = _useState2[0],\n      setReload = _useState2[1];\n\n  var _functions = Object(_videojs_functions__WEBPACK_IMPORTED_MODULE_14__[\"default\"])({\n    isAudio: isAudio\n  }),\n      createVideoPlayerDOM = _functions.createVideoPlayerDOM;\n\n  var _events = Object(_videojs_events__WEBPACK_IMPORTED_MODULE_12__[\"default\"])({\n    tapToUnmuteRef: tapToUnmuteRef,\n    tapToRetryRef: tapToRetryRef,\n    setReload: setReload,\n    playerRef: playerRef,\n    claimValues: claimValues,\n    userId: userId,\n    claimId: claimId,\n    embedded: embedded,\n    doAnalyticsView: doAnalyticsView,\n    doAnalyticsBuffer: doAnalyticsBuffer,\n    claimRewards: claimRewards,\n    uri: uri,\n    playerServerRef: playerServerRef,\n    isLivestreamClaim: isLivestreamClaim,\n    channelTitle: channelTitle\n  }),\n      unmuteAndHideHint = _events.unmuteAndHideHint,\n      retryVideoAfterFailure = _events.retryVideoAfterFailure,\n      initializeEvents = _events.initializeEvents;\n\n  var videoJsOptions = {\n    preload: 'auto',\n    playbackRates: constants_player__WEBPACK_IMPORTED_MODULE_8__[\"VIDEO_PLAYBACK_RATES\"],\n    responsive: true,\n    controls: true,\n    html5: {\n      vhs: {\n        overrideNative: overrideNativeVhs,\n        // !videojs.browser.IS_ANY_SAFARI,\n        enableLowInitialPlaylist: false,\n        fastQualityChange: true,\n        useDtsForTimestampOffset: true\n      }\n    },\n    liveTracker: {\n      trackingThreshold: 0,\n      liveTolerance: 10\n    },\n    inactivityTimeout: 2000,\n    muted: startMuted,\n    plugins: {\n      eventTracking: true,\n      overlay: _overlays__WEBPACK_IMPORTED_MODULE_9__[\"OVERLAY_DATA\"]\n    },\n    controlBar: {\n      currentTimeDisplay: true,\n      timeDivider: true,\n      durationDisplay: true,\n      remainingTimeDisplay: true,\n      subsCapsButton: !IS_IOS\n    },\n    techOrder: ['html5'],\n    bigPlayButton: embedded,\n    // only show big play button if embedded\n    suppressNotSupportedError: true,\n    liveui: true\n  }; // TODO: would be nice to pull this out into functions file\n  // Initialize video.js\n\n  function initializeVideoPlayer(domElement) {\n    if (!domElement) return;\n    var vjs = Object(video_js__WEBPACK_IMPORTED_MODULE_23__[\"default\"])(domElement, videoJsOptions, function _callee() {\n      var player, adapter, _claimValues$video, videoDiv;\n\n      return regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              player = playerRef.current;\n              adapter = new player_js__WEBPACK_IMPORTED_MODULE_18___default.a.VideoJSAdapter(player); // this seems like a weird thing to have to check for here\n\n              if (player) {\n                _context.next = 4;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 4:\n              // runAds(internalFeatureEnabled, allowPreRoll, player, embedded);\n              _lbry_playback_rate__WEBPACK_IMPORTED_MODULE_17__[\"default\"].replaceExisting(player); // Add reloadSourceOnError plugin\n\n              player.reloadSourceOnError({\n                errorInterval: 10\n              }); // Initialize mobile UI.\n\n              player.mobileUi({\n                fullscreen: {\n                  enterOnRotate: false\n                },\n                touchControls: {\n                  seekSeconds: 10\n                }\n              });\n              player.i18n();\n\n              if (!embedded) {\n                window.player.bigPlayButton && window.player.bigPlayButton.hide();\n              } else {// const bigPlayButton = document.querySelector('.vjs-big-play-button');\n                // if (bigPlayButton) bigPlayButton.style.setProperty('display', 'block', 'important');\n              } // Add quality selector to player\n\n\n              if (showQualitySelector) {\n                player.hlsQualitySelector({\n                  displayCurrentQuality: true,\n                  originalHeight: claimValues === null || claimValues === void 0 ? void 0 : (_claimValues$video = claimValues.video) === null || _claimValues$video === void 0 ? void 0 : _claimValues$video.height,\n                  defaultQuality: defaultQuality,\n                  initialQualityChange: initialQualityChange,\n                  setInitialQualityChange: setInitialQualityChange,\n                  doToast: doToast\n                });\n              } // Add recsys plugin\n\n\n              if (shareTelemetry) {\n                player.recsys({\n                  videoId: claimId,\n                  userId: userId,\n                  embedded: embedded || embeddedInternal\n                });\n              } // set playsinline for mobile\n\n\n              player.children_[0].setAttribute('playsinline', '');\n\n              if (canAutoplayVideo === true) {\n                // show waiting spinner as video is loading\n                player.addClass('vjs-waiting'); // $FlowFixMe\n\n                document.querySelector('.vjs-big-play-button').style.setProperty('display', 'none', 'important');\n              } else {// $FlowFixMe\n                // document.querySelector('.vjs-big-play-button').style.setProperty('display', 'block', 'important');\n              } // immediately show control bar while video is loading\n\n\n              player.userActive(true);\n              adapter.ready(); // sometimes video doesnt start properly, this addresses the edge case\n\n              if (autoplay) {\n                videoDiv = window.player.children_[0];\n\n                if (videoDiv) {\n                  videoDiv.click();\n                }\n\n                window.player.userActive(true);\n              }\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    }); // fixes #3498 (https://github.com/lbryio/lbry-desktop/issues/3498)\n    // summary: on firefox the focus would stick to the fullscreen button which caused buggy behavior with spacebar\n\n    vjs.on('fullscreenchange', function () {\n      return document.activeElement && document.activeElement.blur();\n    });\n    return vjs;\n  } // useEffect(() => {\n  //   if (showQualitySelector) {\n  //     // Add quality selector to player\n  //     const player = playerRef.current;\n  //     if (player) player.hlsQualitySelector({ displayCurrentQuality: true });\n  //   }\n  // }, [showQualitySelector]);\n\n  /*\n  useEffect(() => {\n    Chromecast.updateTitles(title, channelTitle);\n  }, [title, channelTitle]);\n  */\n  // This lifecycle hook is only called once (on mount), or when `isAudio` or `source` changes.\n\n\n  Object(react__WEBPACK_IMPORTED_MODULE_20__[\"useEffect\"])(function () {\n    (function _callee2() {\n      var _playerRef$current, _playerRef$current$co, _playerRef$current$co2, _vjsPlayer$controlBar7;\n\n      var vjsPlayer, vjsParent, canUseOldPlayer, isLivestream, vjsElement, _vjsPlayer$controlBar, _vjsPlayer$controlBar2, _vjsPlayer$controlBar3, _vjsPlayer$controlBar4, _vjsPlayer$controlBar5, _vjsPlayer$controlBar6, _vjsPlayer$bigPlayBut, videoNode, keyDownHandler, videoScrollHandler, volumePanelHandler, containerDiv, response, trimmedUrl, payload, fix, _payload, _document$querySelect, player, promise;\n\n      return regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              vjsParent = document.querySelector('.video-js-parent');\n              canUseOldPlayer = window.oldSavedDiv && vjsParent;\n              isLivestream = isLivestreamClaim && userClaimId; // initialize videojs if it hasn't been done yet\n\n              if (canUseOldPlayer) {\n                _context2.next = 11;\n                break;\n              }\n\n              vjsElement = createVideoPlayerDOM(containerRef.current);\n              vjsPlayer = initializeVideoPlayer(vjsElement);\n\n              if (vjsPlayer) {\n                _context2.next = 8;\n                break;\n              }\n\n              return _context2.abrupt(\"return\");\n\n            case 8:\n              // Add reference to player to global scope\n              window.player = vjsPlayer;\n              _context2.next = 12;\n              break;\n\n            case 11:\n              vjsPlayer = window.player;\n\n            case 12:\n              // hide unused elements on livestream\n              if (isLivestream) {\n                vjsPlayer.addClass('vjs-live');\n                vjsPlayer.addClass('vjs-liveui'); // $FlowIssue\n\n                (_vjsPlayer$controlBar = vjsPlayer.controlBar.currentTimeDisplay) === null || _vjsPlayer$controlBar === void 0 ? void 0 : _vjsPlayer$controlBar.el().style.setProperty('display', 'none', 'important'); // $FlowIssue\n\n                (_vjsPlayer$controlBar2 = vjsPlayer.controlBar.timeDivider) === null || _vjsPlayer$controlBar2 === void 0 ? void 0 : _vjsPlayer$controlBar2.el().style.setProperty('display', 'none', 'important'); // $FlowIssue\n\n                (_vjsPlayer$controlBar3 = vjsPlayer.controlBar.durationDisplay) === null || _vjsPlayer$controlBar3 === void 0 ? void 0 : _vjsPlayer$controlBar3.el().style.setProperty('display', 'none', 'important');\n              } else {\n                vjsPlayer.removeClass('vjs-live');\n                vjsPlayer.removeClass('vjs-liveui'); // $FlowIssue\n\n                (_vjsPlayer$controlBar4 = vjsPlayer.controlBar.currentTimeDisplay) === null || _vjsPlayer$controlBar4 === void 0 ? void 0 : _vjsPlayer$controlBar4.el().style.setProperty('display', 'block', 'important'); // $FlowIssue\n\n                (_vjsPlayer$controlBar5 = vjsPlayer.controlBar.timeDivider) === null || _vjsPlayer$controlBar5 === void 0 ? void 0 : _vjsPlayer$controlBar5.el().style.setProperty('display', 'block', 'important'); // $FlowIssue\n\n                (_vjsPlayer$controlBar6 = vjsPlayer.controlBar.durationDisplay) === null || _vjsPlayer$controlBar6 === void 0 ? void 0 : _vjsPlayer$controlBar6.el().style.setProperty('display', 'block', 'important');\n              } // Add recsys plugin\n\n\n              if (shareTelemetry) {\n                vjsPlayer.recsys.options_ = {\n                  videoId: claimId,\n                  userId: userId,\n                  embedded: embedded || embeddedInternal\n                };\n                vjsPlayer.recsys.lastTimeUpdate = null;\n                vjsPlayer.recsys.currentTimeUpdate = null;\n                vjsPlayer.recsys.inPause = false;\n                vjsPlayer.recsys.watchedDuration = {\n                  total: 0,\n                  lastTimestamp: -1\n                };\n              }\n\n              if (!embedded) {\n                vjsPlayer.bigPlayButton && window.player.bigPlayButton.hide();\n              } else {\n                // $FlowIssue\n                (_vjsPlayer$bigPlayBut = vjsPlayer.bigPlayButton) === null || _vjsPlayer$bigPlayBut === void 0 ? void 0 : _vjsPlayer$bigPlayBut.show();\n              } // I think this is a callback function\n\n\n              videoNode = containerRef.current && containerRef.current.querySelector('video, audio'); // add theatre and autoplay next button and initiate player events\n\n              onPlayerReady(vjsPlayer, videoNode); // Set reference in component state\n\n              playerRef.current = vjsPlayer;\n              initializeEvents(); // volume control div, used for changing volume when scrolled over\n              // $FlowIssue\n\n              volumePanelRef.current = (_playerRef$current = playerRef.current) === null || _playerRef$current === void 0 ? void 0 : (_playerRef$current$co = _playerRef$current.controlBar) === null || _playerRef$current$co === void 0 ? void 0 : (_playerRef$current$co2 = _playerRef$current$co.getChild(VIDEOJS_VOLUME_PANEL_CLASS)) === null || _playerRef$current$co2 === void 0 ? void 0 : _playerRef$current$co2.el();\n              keyDownHandler = createKeyDownShortcutsHandler(playerRef, containerRef);\n              videoScrollHandler = createVideoScrollShortcutsHandler(playerRef, containerRef);\n              volumePanelHandler = createVolumePanelScrollShortcutsHandler(volumePanelRef, playerRef, containerRef);\n              window.addEventListener('keydown', keyDownHandler);\n              containerDiv = containerRef.current;\n              containerDiv && containerDiv.addEventListener('wheel', videoScrollHandler);\n              if (volumePanelRef.current) volumePanelRef.current.addEventListener('wheel', volumePanelHandler);\n              keyDownHandlerRef.current = keyDownHandler;\n              videoScrollHandlerRef.current = videoScrollHandler;\n              volumePanelScrollHandlerRef.current = volumePanelHandler; // $FlowIssue\n\n              (_vjsPlayer$controlBar7 = vjsPlayer.controlBar) === null || _vjsPlayer$controlBar7 === void 0 ? void 0 : _vjsPlayer$controlBar7.show(); // vjsPlayer.poster(poster);\n\n              vjsPlayer.el().childNodes[0].setAttribute('playsinline', ''); // let contentUrl;\n              // TODO: pull this function into videojs-functions\n              // determine which source to use and load it\n\n              if (!isLivestream) {\n                _context2.next = 38;\n                break;\n              }\n\n              vjsPlayer.isLivestream = true;\n              vjsPlayer.addClass('livestreamPlayer');\n              vjsPlayer.src({\n                type: 'application/x-mpegURL',\n                src: livestreamVideoUrl\n              });\n              _context2.next = 50;\n              break;\n\n            case 38:\n              vjsPlayer.isLivestream = false;\n              vjsPlayer.removeClass('livestreamPlayer');\n              _context2.next = 42;\n              return regeneratorRuntime.awrap(fetch(source, {\n                method: 'HEAD',\n                cache: 'no-store'\n              }));\n\n            case 42:\n              response = _context2.sent;\n              playerServerRef.current = response.headers.get('x-powered-by');\n              vjsPlayer.claimSrcOriginal = {\n                type: sourceType,\n                src: source\n              }; // remove query params for secured endpoints (which have query params on end of m3u8 path)\n\n              trimmedUrl = new URL(response.url);\n              trimmedUrl.hash = '';\n              trimmedUrl.search = '';\n              trimmedUrl = trimmedUrl.toString(); // change to m3u8 if applicable\n\n              if (response && response.redirected && response.url && trimmedUrl.endsWith('m3u8')) {\n                vjsPlayer.claimSrcVhs = {\n                  type: 'application/x-mpegURL',\n                  src: response.url\n                };\n                vjsPlayer.src(vjsPlayer.claimSrcVhs);\n\n                if (window.cordova) {\n                  payload = {\n                    uri: response.url,\n                    claim: claimValues,\n                    fileType: 'application/x-mpegURL',\n                    channel: channelTitle\n                  };\n                  window.odysee.chromecast.setMediaPayload(payload);\n                }\n              } else {\n                fix = source + '#.mp4';\n                vjsPlayer.src(fix);\n\n                if (window.cordova) {\n                  _payload = {\n                    uri: vjsPlayer.claimSrcOriginal,\n                    claim: claimValues,\n                    fileType: sourceType,\n                    channel: channelTitle\n                  };\n                  window.odysee.chromecast.setMediaPayload(_payload);\n                }\n              }\n\n            case 50:\n              // bugfix thumbnails showing up if new video doesn't have them\n              if (typeof vjsPlayer.vttThumbnails.detach === 'function') {\n                vjsPlayer.vttThumbnails.detach();\n              }\n\n              vjsPlayer.load();\n\n              if (canUseOldPlayer) {\n                // $FlowIssue\n                (_document$querySelect = document.querySelector('.video-js-parent')) === null || _document$querySelect === void 0 ? void 0 : _document$querySelect.append(window.oldSavedDiv);\n              } // disable right-click (context-menu) for purchased content\n\n\n              if (isPurchasableContent || isRentableContent) {\n                player = document.querySelector('video.vjs-tech');\n                if (player) player.setAttribute('oncontextmenu', 'return false;');\n              } // allow tap to unmute if no perms on iOS\n\n\n              if (autoplay && !embedded) {\n                promise = vjsPlayer.play();\n                window.player.userActive(true);\n\n                if (promise !== undefined) {\n                  promise.then(function (_) {\n                    var _vjsPlayer; // $FlowIssue\n\n\n                    (_vjsPlayer = vjsPlayer) === null || _vjsPlayer === void 0 ? void 0 : _vjsPlayer.controlBar.el().classList.add('vjs-transitioning-video');\n                  })[\"catch\"](function (error) {\n                    var noPermissionError = _typeof(error) === 'object' && error.name && error.name === 'NotAllowedError';\n\n                    if (noPermissionError) {\n                      if (IS_IOS) {\n                        var _vjsPlayer2, _vjsPlayer3; // autoplay not allowed, mute video, play and show 'tap to unmute' button\n                        // $FlowIssue\n\n\n                        (_vjsPlayer2 = vjsPlayer) === null || _vjsPlayer2 === void 0 ? void 0 : _vjsPlayer2.muted(true); // $FlowIssue\n\n                        var mutedPlayPromise = (_vjsPlayer3 = vjsPlayer) === null || _vjsPlayer3 === void 0 ? void 0 : _vjsPlayer3.play();\n\n                        if (mutedPlayPromise !== undefined) {\n                          mutedPlayPromise.then(function () {\n                            var tapToUnmuteButton = document.querySelector('.video-js--tap-to-unmute'); // $FlowIssue\n\n                            tapToUnmuteButton === null || tapToUnmuteButton === void 0 ? void 0 : tapToUnmuteButton.style.setProperty('visibility', 'visible'); // $FlowIssue\n\n                            tapToUnmuteButton === null || tapToUnmuteButton === void 0 ? void 0 : tapToUnmuteButton.style.setProperty('display', 'inline', 'important');\n                          })[\"catch\"](function (error) {\n                            var _vjsPlayer4, _vjsPlayer5, _document$querySelect2, _document$querySelect3; // $FlowFixMe\n\n\n                            (_vjsPlayer4 = vjsPlayer) === null || _vjsPlayer4 === void 0 ? void 0 : _vjsPlayer4.addClass('vjs-paused'); // $FlowFixMe\n\n                            (_vjsPlayer5 = vjsPlayer) === null || _vjsPlayer5 === void 0 ? void 0 : _vjsPlayer5.addClass('vjs-has-started'); // $FlowFixMe\n\n                            (_document$querySelect2 = document.querySelector('.vjs-touch-overlay')) === null || _document$querySelect2 === void 0 ? void 0 : _document$querySelect2.classList.add('show-play-toggle'); // $FlowFixMe\n\n                            (_document$querySelect3 = document.querySelector('.vjs-play-control')) === null || _document$querySelect3 === void 0 ? void 0 : _document$querySelect3.classList.add('vjs-paused');\n                          });\n                        }\n                      } else {\n                        var _vjsPlayer6, _vjsPlayer6$bigPlayBu; // $FlowIssue\n\n\n                        (_vjsPlayer6 = vjsPlayer) === null || _vjsPlayer6 === void 0 ? void 0 : (_vjsPlayer6$bigPlayBu = _vjsPlayer6.bigPlayButton) === null || _vjsPlayer6$bigPlayBu === void 0 ? void 0 : _vjsPlayer6$bigPlayBu.show();\n                      }\n                    }\n                  });\n                }\n              }\n\n            case 55:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      });\n    })(); // Cleanup\n\n\n    return function () {\n      window.removeEventListener('keydown', keyDownHandlerRef.current);\n      var containerDiv = containerRef.current; // $FlowFixMe\n\n      containerDiv && containerDiv.removeEventListener('wheel', videoScrollHandlerRef.current);\n\n      if (volumePanelRef.current) {\n        volumePanelRef.current.removeEventListener('wheel', volumePanelScrollHandlerRef.current);\n      }\n\n      var chapterMarkers = document.getElementsByClassName('vjs-chapter-marker');\n\n      while (chapterMarkers.length > 0) {\n        var _chapterMarkers$0$par; // $FlowIssue\n\n\n        (_chapterMarkers$0$par = chapterMarkers[0].parentNode) === null || _chapterMarkers$0$par === void 0 ? void 0 : _chapterMarkers$0$par.removeChild(chapterMarkers[0]);\n      }\n\n      var player = playerRef.current;\n\n      if (player) {\n        var _window$player, _window$player$tech_;\n\n        try {\n          window.cast.framework.CastContext.getInstance().getCurrentSession().endSession(false);\n        } catch (_unused) {}\n\n        window.player.switchedFromDefaultQuality = false;\n        window.player.userActive(false);\n        window.player.pause();\n\n        if (IS_IOS) {\n          var _window$player$contro, _window$player$contro2; // $FlowIssue\n\n\n          (_window$player$contro = window.player.controlBar) === null || _window$player$contro === void 0 ? void 0 : (_window$player$contro2 = _window$player$contro.playToggle) === null || _window$player$contro2 === void 0 ? void 0 : _window$player$contro2.hide();\n        } // this solves an issue with portrait videos\n        // $FlowIssue\n\n\n        var videoDiv = (_window$player = window.player) === null || _window$player === void 0 ? void 0 : (_window$player$tech_ = _window$player.tech_) === null || _window$player$tech_ === void 0 ? void 0 : _window$player$tech_.el(); // video element\n\n        if (videoDiv) videoDiv.style.top = '0px';\n        window.player.controlBar.el().classList.add('vjs-transitioning-video');\n        window.oldSavedDiv = window.player.el();\n        window.player.trigger('playerClosed'); // stop streams running in background\n\n        window.player.loadTech_('html5', null);\n        window.player.currentTime(0); // makes the current time update immediately\n\n        window.player.trigger('timeupdate');\n        window.player.claimSrcVhs = null;\n      }\n    };\n  }, [isAudio, source, reload, userClaimId, isLivestreamClaim]);\n  return react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_11___default()('video-js-parent', {\n      'video-js-parent--ios': IS_IOS\n    }),\n    ref: containerRef\n  }, react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    label: __('Tap to unmute'),\n    button: \"link\",\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_7__[\"VOLUME_MUTED\"],\n    className: \"video-js--tap-to-unmute\",\n    onClick: unmuteAndHideHint,\n    ref: tapToUnmuteRef\n  }), react__WEBPACK_IMPORTED_MODULE_20___default.a.createElement(component_button__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    label: __('Retry'),\n    button: \"link\",\n    icon: constants_icons__WEBPACK_IMPORTED_MODULE_7__[\"REFRESH\"],\n    className: \"video-js--tap-to-unmute\",\n    onClick: retryVideoAfterFailure,\n    ref: tapToRetryRef\n  }));\n}));\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! i18n.js */ \"../ui/i18n.js\")[\"__\"]))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvY29tcG9uZW50L3ZpZXdlcnMvdmlkZW9WaWV3ZXIvaW50ZXJuYWwvdmlkZW9qcy5qc3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vdWkvY29tcG9uZW50L3ZpZXdlcnMvdmlkZW9WaWV3ZXIvaW50ZXJuYWwvdmlkZW9qcy5qc3g/OGQ4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAZmxvd1xuaW1wb3J0ICd2aWRlb2pzLWNvbnRyaWItYWRzJzsgLy8gbXVzdCBiZSBsb2FkZWQgaW4gdGhpcyBvcmRlclxuaW1wb3J0ICd2aWRlb2pzLWltYSc7IC8vIGxvYWRzIGRpcmVjdGx5IGFmdGVyIGNvbnRyaWItYWRzXG5pbXBvcnQgJ3ZpZGVvanMtdnR0LXRodW1ibmFpbHMnO1xuaW1wb3J0ICd2aWRlby5qcy9kaXN0L2FsdC92aWRlby1qcy1jZG4ubWluLmNzcyc7XG5pbXBvcnQgJy4vcGx1Z2lucy92aWRlb2pzLW1vYmlsZS11aS9wbHVnaW4nO1xuaW1wb3J0ICdAc2lsdmVybWluZS92aWRlb2pzLWNocm9tZWNhc3QvZGlzdC9zaWx2ZXJtaW5lLXZpZGVvanMtY2hyb21lY2FzdC5jc3MnO1xuaW1wb3J0ICdAc2lsdmVybWluZS92aWRlb2pzLWFpcnBsYXkvZGlzdC9zaWx2ZXJtaW5lLXZpZGVvanMtYWlycGxheS5jc3MnO1xuaW1wb3J0ICogYXMgSUNPTlMgZnJvbSAnY29uc3RhbnRzL2ljb25zJztcbmltcG9ydCB7IFZJREVPX1BMQVlCQUNLX1JBVEVTIH0gZnJvbSAnY29uc3RhbnRzL3BsYXllcic7XG5pbXBvcnQgKiBhcyBPVkVSTEFZIGZyb20gJy4vb3ZlcmxheXMnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdjb21wb25lbnQvYnV0dG9uJztcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IGV2ZW50cyBmcm9tICcuL3ZpZGVvanMtZXZlbnRzJztcbmltcG9ydCBldmVudFRyYWNraW5nIGZyb20gJ3ZpZGVvanMtZXZlbnQtdHJhY2tpbmcnO1xuaW1wb3J0IGZ1bmN0aW9ucyBmcm9tICcuL3ZpZGVvanMtZnVuY3Rpb25zJztcbmltcG9ydCBobHNRdWFsaXR5U2VsZWN0b3IgZnJvbSAnLi9wbHVnaW5zL3ZpZGVvanMtaGxzLXF1YWxpdHktc2VsZWN0b3IvcGx1Z2luJztcbmltcG9ydCBrZXlib2FyZFNob3JjdXRzIGZyb20gJy4vdmlkZW9qcy1zaG9ydGN1dHMnO1xuaW1wb3J0IExicnlQbGF5YmFja1JhdGVNZW51QnV0dG9uIGZyb20gJy4vbGJyeS1wbGF5YmFjay1yYXRlJztcbi8vIGltcG9ydCBMYnJ5Vm9sdW1lQmFyQ2xhc3MgZnJvbSAnLi9sYnJ5LXZvbHVtZS1iYXInO1xuLy8gaW1wb3J0IENocm9tZWNhc3QgZnJvbSAnLi9jaHJvbWVjYXN0JztcbmltcG9ydCBwbGF5ZXJqcyBmcm9tICdwbGF5ZXIuanMnO1xuaW1wb3J0IHF1YWxpdHlMZXZlbHMgZnJvbSAndmlkZW9qcy1jb250cmliLXF1YWxpdHktbGV2ZWxzJztcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgaTE4biBmcm9tICcuL3BsdWdpbnMvdmlkZW9qcy1pMThuL3BsdWdpbic7XG5pbXBvcnQgcmVjc3lzIGZyb20gJy4vcGx1Z2lucy92aWRlb2pzLXJlY3N5cy9wbHVnaW4nO1xuLy8gaW1wb3J0IHJ1bkFkcyBmcm9tICcuL2Fkcyc7XG5pbXBvcnQgdmlkZW9qcyBmcm9tICd2aWRlby5qcyc7XG5pbXBvcnQgeyB1c2VJc01vYmlsZSB9IGZyb20gJ2VmZmVjdHMvdXNlLXNjcmVlbnNpemUnO1xuaW1wb3J0IHsgcGxhdGZvcm0gfSBmcm9tICd1dGlsL3BsYXRmb3JtJztcbmltcG9ydCB1c2VQZXJzaXN0ZWRTdGF0ZSBmcm9tICdlZmZlY3RzL3VzZS1wZXJzaXN0ZWQtc3RhdGUnO1xuXG5jb25zdCBjYW5BdXRvcGxheVZpZGVvID0gcmVxdWlyZSgnLi9wbHVnaW5zL2NhbkF1dG9wbGF5Jyk7XG5cbi8vIHJlcXVpcmUoJ0BuZWtvL3ZpZGVvanMtY2hyb21lY2FzdCcpKHZpZGVvanMpO1xuXG5leHBvcnQgdHlwZSBQbGF5ZXIgPSB7XG4gIC8vIC0tIGN1c3RvbSAtLVxuICBjbGFpbVNyY09yaWdpbmFsOiA/eyBzcmM6IHN0cmluZywgdHlwZTogc3RyaW5nIH0sXG4gIGNsYWltU3JjVmhzOiA/eyBzcmM6IHN0cmluZywgdHlwZTogc3RyaW5nIH0sXG4gIGlzTGl2ZXN0cmVhbT86IGJvb2xlYW4sXG4gIC8vIC0tIHBsdWdpbnMgLS0tXG4gIG1vYmlsZVVpOiAoYW55KSA9PiB2b2lkLFxuICBjaHJvbWVjYXN0OiAoYW55KSA9PiB2b2lkLFxuICBvdmVybGF5OiAoYW55KSA9PiB2b2lkLFxuICBobHNRdWFsaXR5U2VsZWN0b3I6ID9hbnksXG4gIGkxOG46IChhbnkpID0+IHZvaWQsXG4gIC8vIC0tIGJhc2UgdmlkZW9qcyAtLVxuICBjb250cm9sQmFyOiB7XG4gICAgYWRkQ2hpbGQ6IChzdHJpbmcgfCBhbnksID9hbnksID9udW1iZXIpID0+IHZvaWQsXG4gICAgZ2V0Q2hpbGQ6IChzdHJpbmcpID0+IHZvaWQsXG4gICAgcmVtb3ZlQ2hpbGQ6IChzdHJpbmcpID0+IHZvaWQsXG4gIH0sXG4gIGxvYWRpbmdTcGlubmVyOiBhbnksXG4gIGF1dG9wbGF5OiAoYW55KSA9PiBib29sZWFuLFxuICB0ZWNoOiAoP2Jvb2xlYW4pID0+IHsgdmhzOiA/YW55IH0sXG4gIGN1cnJlbnRUaW1lOiAoP251bWJlcikgPT4gbnVtYmVyLFxuICBkaXNwb3NlOiAoKSA9PiB2b2lkLFxuICBkdXJhdGlvbjogKCkgPT4gbnVtYmVyLFxuICBlbmRlZDogKCkgPT4gYm9vbGVhbixcbiAgZXJyb3I6ICgpID0+IGFueSxcbiAgZXhpdEZ1bGxzY3JlZW46ICgpID0+IGJvb2xlYW4sXG4gIGdldENoaWxkOiAoc3RyaW5nKSA9PiBhbnksXG4gIGlzRnVsbHNjcmVlbjogKCkgPT4gYm9vbGVhbixcbiAgbXV0ZWQ6ICg/Ym9vbGVhbikgPT4gYm9vbGVhbixcbiAgb246IChzdHJpbmcsIChhbnkpID0+IHZvaWQpID0+IHZvaWQsXG4gIG9mZjogKHN0cmluZywgKGFueSkgPT4gdm9pZCkgPT4gdm9pZCxcbiAgb25lOiAoc3RyaW5nLCAoYW55KSA9PiB2b2lkKSA9PiB2b2lkLFxuICBwbGF5OiAoKSA9PiBQcm9taXNlPGFueT4sXG4gIHBsYXliYWNrUmF0ZTogKD9udW1iZXIpID0+IG51bWJlcixcbiAgcmVhZHlTdGF0ZTogKCkgPT4gbnVtYmVyLFxuICByZXF1ZXN0RnVsbHNjcmVlbjogKCkgPT4gYm9vbGVhbixcbiAgc3JjOiAoeyBzcmM6IHN0cmluZywgdHlwZTogc3RyaW5nIH0pID0+ID9zdHJpbmcsXG4gIGN1cnJlbnRTcmM6ICgpID0+IHN0cmluZyxcbiAgdXNlckFjdGl2ZTogKD9ib29sZWFuKSA9PiBib29sZWFuLFxuICB2b2x1bWU6ICg/bnVtYmVyKSA9PiBudW1iZXIsXG59O1xuXG50eXBlIFByb3BzID0ge1xuICBhZFVybDogP3N0cmluZyxcbiAgYWxsb3dQcmVSb2xsOiA/Ym9vbGVhbixcbiAgYXV0b3BsYXk6IGJvb2xlYW4sXG4gIGNsYWltSWQ6ID9zdHJpbmcsXG4gIHRpdGxlOiA/c3RyaW5nLFxuICBjaGFubmVsTmFtZTogc3RyaW5nLFxuICBjaGFubmVsVGl0bGU6IHN0cmluZyxcbiAgZW1iZWRkZWQ6IGJvb2xlYW4sIC8vIGAvJC9lbWJlZGBcbiAgZW1iZWRkZWRJbnRlcm5hbDogYm9vbGVhbiwgLy8gTWFya2Rvd24gKFBvc3RzIGFuZCBDb21tZW50cylcbiAgaW50ZXJuYWxGZWF0dXJlRW5hYmxlZDogP2Jvb2xlYW4sXG4gIGlzQXVkaW86IGJvb2xlYW4sXG4gIC8vIHBvc3RlcjogP3N0cmluZyxcbiAgc2hhcmVUZWxlbWV0cnk6IGJvb2xlYW4sXG4gIHNvdXJjZTogc3RyaW5nLFxuICBzb3VyY2VUeXBlOiBzdHJpbmcsXG4gIHN0YXJ0TXV0ZWQ6IGJvb2xlYW4sXG4gIHVzZXJJZDogP251bWJlcixcbiAgZGVmYXVsdFF1YWxpdHk6ID9zdHJpbmcsXG4gIG9uUGxheWVyUmVhZHk6IChQbGF5ZXIsIGFueSkgPT4gdm9pZCxcbiAgcGxheU5leHQ6ICgpID0+IHZvaWQsXG4gIHBsYXlQcmV2aW91czogKCkgPT4gdm9pZCxcbiAgdG9nZ2xlVmlkZW9UaGVhdGVyTW9kZTogKCkgPT4gdm9pZCxcbiAgY2xhaW1SZXdhcmRzOiAoKSA9PiB2b2lkLFxuICBkb0FuYWx5dGljc1ZpZXc6IChzdHJpbmcsIG51bWJlcikgPT4gdm9pZCxcbiAgZG9BbmFseXRpY3NCdWZmZXI6IChzdHJpbmcsIGFueSkgPT4gdm9pZCxcbiAgdXJpOiBzdHJpbmcsXG4gIGNsYWltVmFsdWVzOiBhbnksXG4gIGlzTGl2ZXN0cmVhbUNsYWltOiBib29sZWFuLFxuICB1c2VyQ2xhaW1JZDogP3N0cmluZyxcbiAgYWN0aXZlTGl2ZXN0cmVhbUZvckNoYW5uZWw6IGFueSxcbiAgZG9Ub2FzdDogKHsgbWVzc2FnZTogc3RyaW5nLCBsaW5rVGV4dDogc3RyaW5nLCBsaW5rVGFyZ2V0OiBzdHJpbmcgfSkgPT4gdm9pZCxcbiAgaXNQdXJjaGFzYWJsZUNvbnRlbnQ6IGJvb2xlYW4sXG4gIGlzUmVudGFibGVDb250ZW50OiBib29sZWFuLFxufTtcblxuY29uc3QgVklERU9KU19WT0xVTUVfUEFORUxfQ0xBU1MgPSAnVm9sdW1lUGFuZWwnO1xuXG5jb25zdCBJU19JT1MgPSBwbGF0Zm9ybS5pc0lPUygpO1xuXG5jb25zdCBQTFVHSU5fTUFQID0ge1xuICBldmVudFRyYWNraW5nOiBldmVudFRyYWNraW5nLFxuICBobHNRdWFsaXR5U2VsZWN0b3I6IGhsc1F1YWxpdHlTZWxlY3RvcixcbiAgcXVhbGl0eUxldmVsczogcXVhbGl0eUxldmVscyxcbiAgcmVjc3lzOiByZWNzeXMsXG4gIGkxOG46IGkxOG4sXG59O1xuXG5PYmplY3QuZW50cmllcyhQTFVHSU5fTUFQKS5mb3JFYWNoKChbcGx1Z2luTmFtZSwgcGx1Z2luXSkgPT4ge1xuICBpZiAoIU9iamVjdC5rZXlzKHZpZGVvanMuZ2V0UGx1Z2lucygpKS5pbmNsdWRlcyhwbHVnaW5OYW1lKSkge1xuICAgIHZpZGVvanMucmVnaXN0ZXJQbHVnaW4ocGx1Z2luTmFtZSwgcGx1Z2luKTtcbiAgfVxufSk7XG5cbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8vIFZpZGVvSnNcbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuLypcbnByb3BlcnRpZXMgZm9yIHRoaXMgY29tcG9uZW50IHNob3VsZCBiZSBrZXB0IHRvIE9OTFkgdGhvc2UgdGhhdCBpZiBjaGFuZ2VkIHNob3VsZCBSRVFVSVJFIGFuIGVudGlyZWx5IG5ldyB2aWRlb2pzIGVsZW1lbnRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgUmVhY3QubWVtbzxQcm9wcz4oZnVuY3Rpb24gVmlkZW9Kcyhwcm9wczogUHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIC8vIGFkVXJsLCAvLyBUT0RPOiB0aGlzIGFkIGZ1bmN0aW9uYWxpdHkgaXNuJ3QgdXNlZCwgY2FuIGJlIHB1bGxlZCBvdXRcbiAgICAvLyBhbGxvd1ByZVJvbGwsXG4gICAgYXV0b3BsYXksXG4gICAgY2xhaW1JZCxcbiAgICBjaGFubmVsTmFtZSxcbiAgICBjaGFubmVsVGl0bGUsXG4gICAgZW1iZWRkZWQsXG4gICAgZW1iZWRkZWRJbnRlcm5hbCxcbiAgICAvLyBpbnRlcm5hbEZlYXR1cmVFbmFibGVkLCAvLyBmb3IgcGVvcGxlIG9uIHRoZSB0ZWFtIHRvIHRlc3QgbmV3IGZlYXR1cmVzIGludGVybmFsbHlcbiAgICBpc0F1ZGlvLFxuICAgIC8vIHBvc3RlcixcbiAgICBzaGFyZVRlbGVtZXRyeSxcbiAgICBzb3VyY2UsXG4gICAgc291cmNlVHlwZSxcbiAgICBzdGFydE11dGVkLFxuICAgIHVzZXJJZCxcbiAgICBkZWZhdWx0UXVhbGl0eSxcbiAgICBvblBsYXllclJlYWR5LFxuICAgIHBsYXlOZXh0LFxuICAgIHBsYXlQcmV2aW91cyxcbiAgICB0b2dnbGVWaWRlb1RoZWF0ZXJNb2RlLFxuICAgIGNsYWltVmFsdWVzLFxuICAgIGRvQW5hbHl0aWNzVmlldyxcbiAgICBkb0FuYWx5dGljc0J1ZmZlcixcbiAgICBjbGFpbVJld2FyZHMsXG4gICAgdXJpLFxuICAgIHVzZXJDbGFpbUlkLFxuICAgIGlzTGl2ZXN0cmVhbUNsYWltLFxuICAgIGFjdGl2ZUxpdmVzdHJlYW1Gb3JDaGFubmVsLFxuICAgIGRvVG9hc3QsXG4gICAgaXNQdXJjaGFzYWJsZUNvbnRlbnQsXG4gICAgaXNSZW50YWJsZUNvbnRlbnQsXG4gIH0gPSBwcm9wcztcblxuICAvLyB1c2VkIHRvIG5vdGlmeSBhYm91dCBkZWZhdWx0IHF1YWxpdHkgc2V0dGluZ1xuICAvLyBpZiBhbHJlYWR5IGhhcyBhIHF1YWxpdHkgc2V0LCBubyBuZWVkIHRvIG5vdGlmeVxuICBjb25zdCBbaW5pdGlhbFF1YWxpdHlDaGFuZ2UsIHNldEluaXRpYWxRdWFsaXR5Q2hhbmdlXSA9IHVzZVBlcnNpc3RlZFN0YXRlKFxuICAgICdpbml0aWFsLXF1YWxpdHktY2hhbmdlJyxcbiAgICBCb29sZWFuKGRlZmF1bHRRdWFsaXR5KVxuICApO1xuXG4gIGNvbnN0IGlzTW9iaWxlID0gdXNlSXNNb2JpbGUoKTtcblxuICBjb25zdCBwbGF5ZXJSZWYgPSB1c2VSZWYoKTtcbiAgY29uc3QgY29udGFpbmVyUmVmID0gdXNlUmVmKCk7XG4gIGNvbnN0IHRhcFRvVW5tdXRlUmVmID0gdXNlUmVmKCk7XG4gIGNvbnN0IHRhcFRvUmV0cnlSZWYgPSB1c2VSZWYoKTtcbiAgY29uc3QgcGxheWVyU2VydmVyUmVmID0gdXNlUmVmKCk7XG4gIGNvbnN0IHZvbHVtZVBhbmVsUmVmID0gdXNlUmVmKCk7XG5cbiAgY29uc3Qga2V5RG93bkhhbmRsZXJSZWYgPSB1c2VSZWYoKTtcbiAgY29uc3QgdmlkZW9TY3JvbGxIYW5kbGVyUmVmID0gdXNlUmVmKCk7XG4gIGNvbnN0IHZvbHVtZVBhbmVsU2Nyb2xsSGFuZGxlclJlZiA9IHVzZVJlZigpO1xuXG4gIGNvbnN0IHsgdXJsOiBsaXZlc3RyZWFtVmlkZW9VcmwgfSA9IGFjdGl2ZUxpdmVzdHJlYW1Gb3JDaGFubmVsIHx8IHt9O1xuICBjb25zdCBvdmVycmlkZU5hdGl2ZVZocyA9ICFwbGF0Zm9ybS5pc0lQaG9uZSgpO1xuICBjb25zdCBzaG93UXVhbGl0eVNlbGVjdG9yID0gKCFpc0xpdmVzdHJlYW1DbGFpbSAmJiBvdmVycmlkZU5hdGl2ZVZocykgfHwgbGl2ZXN0cmVhbVZpZGVvVXJsO1xuXG4gIC8vIGluaXRpYXRlIGtleWJvYXJkIHNob3J0Y3V0c1xuICBjb25zdCB7XG4gICAgY3JlYXRlS2V5RG93blNob3J0Y3V0c0hhbmRsZXIsXG4gICAgY3JlYXRlVmlkZW9TY3JvbGxTaG9ydGN1dHNIYW5kbGVyLFxuICAgIGNyZWF0ZVZvbHVtZVBhbmVsU2Nyb2xsU2hvcnRjdXRzSGFuZGxlcixcbiAgfSA9IGtleWJvYXJkU2hvcmN1dHMoe1xuICAgIGlzTW9iaWxlLFxuICAgIGlzTGl2ZXN0cmVhbUNsYWltLFxuICAgIHRvZ2dsZVZpZGVvVGhlYXRlck1vZGUsXG4gICAgcGxheU5leHQsXG4gICAgcGxheVByZXZpb3VzLFxuICB9KTtcblxuICBjb25zdCBbcmVsb2FkLCBzZXRSZWxvYWRdID0gdXNlU3RhdGUoJ2luaXRpYWwnKTtcblxuICBjb25zdCB7IGNyZWF0ZVZpZGVvUGxheWVyRE9NIH0gPSBmdW5jdGlvbnMoeyBpc0F1ZGlvIH0pO1xuXG4gIGNvbnN0IHsgdW5tdXRlQW5kSGlkZUhpbnQsIHJldHJ5VmlkZW9BZnRlckZhaWx1cmUsIGluaXRpYWxpemVFdmVudHMgfSA9IGV2ZW50cyh7XG4gICAgdGFwVG9Vbm11dGVSZWYsXG4gICAgdGFwVG9SZXRyeVJlZixcbiAgICBzZXRSZWxvYWQsXG4gICAgcGxheWVyUmVmLFxuICAgIGNsYWltVmFsdWVzLFxuICAgIHVzZXJJZCxcbiAgICBjbGFpbUlkLFxuICAgIGVtYmVkZGVkLFxuICAgIGRvQW5hbHl0aWNzVmlldyxcbiAgICBkb0FuYWx5dGljc0J1ZmZlcixcbiAgICBjbGFpbVJld2FyZHMsXG4gICAgdXJpLFxuICAgIHBsYXllclNlcnZlclJlZixcbiAgICBpc0xpdmVzdHJlYW1DbGFpbSxcbiAgICBjaGFubmVsVGl0bGUsXG4gIH0pO1xuXG4gIGNvbnN0IHZpZGVvSnNPcHRpb25zID0ge1xuICAgIHByZWxvYWQ6ICdhdXRvJyxcbiAgICBwbGF5YmFja1JhdGVzOiBWSURFT19QTEFZQkFDS19SQVRFUyxcbiAgICByZXNwb25zaXZlOiB0cnVlLFxuICAgIGNvbnRyb2xzOiB0cnVlLFxuICAgIGh0bWw1OiB7XG4gICAgICB2aHM6IHtcbiAgICAgICAgb3ZlcnJpZGVOYXRpdmU6IG92ZXJyaWRlTmF0aXZlVmhzLCAvLyAhdmlkZW9qcy5icm93c2VyLklTX0FOWV9TQUZBUkksXG4gICAgICAgIGVuYWJsZUxvd0luaXRpYWxQbGF5bGlzdDogZmFsc2UsXG4gICAgICAgIGZhc3RRdWFsaXR5Q2hhbmdlOiB0cnVlLFxuICAgICAgICB1c2VEdHNGb3JUaW1lc3RhbXBPZmZzZXQ6IHRydWUsXG4gICAgICB9LFxuICAgIH0sXG4gICAgbGl2ZVRyYWNrZXI6IHtcbiAgICAgIHRyYWNraW5nVGhyZXNob2xkOiAwLFxuICAgICAgbGl2ZVRvbGVyYW5jZTogMTAsXG4gICAgfSxcbiAgICBpbmFjdGl2aXR5VGltZW91dDogMjAwMCxcbiAgICBtdXRlZDogc3RhcnRNdXRlZCxcbiAgICBwbHVnaW5zOiB7IGV2ZW50VHJhY2tpbmc6IHRydWUsIG92ZXJsYXk6IE9WRVJMQVkuT1ZFUkxBWV9EQVRBIH0sXG4gICAgY29udHJvbEJhcjoge1xuICAgICAgY3VycmVudFRpbWVEaXNwbGF5OiB0cnVlLFxuICAgICAgdGltZURpdmlkZXI6IHRydWUsXG4gICAgICBkdXJhdGlvbkRpc3BsYXk6IHRydWUsXG4gICAgICByZW1haW5pbmdUaW1lRGlzcGxheTogdHJ1ZSxcbiAgICAgIHN1YnNDYXBzQnV0dG9uOiAhSVNfSU9TLFxuICAgIH0sXG4gICAgdGVjaE9yZGVyOiBbJ2h0bWw1J10sXG4gICAgYmlnUGxheUJ1dHRvbjogZW1iZWRkZWQsIC8vIG9ubHkgc2hvdyBiaWcgcGxheSBidXR0b24gaWYgZW1iZWRkZWRcbiAgICBzdXBwcmVzc05vdFN1cHBvcnRlZEVycm9yOiB0cnVlLFxuICAgIGxpdmV1aTogdHJ1ZSxcbiAgfTtcblxuICAvLyBUT0RPOiB3b3VsZCBiZSBuaWNlIHRvIHB1bGwgdGhpcyBvdXQgaW50byBmdW5jdGlvbnMgZmlsZVxuICAvLyBJbml0aWFsaXplIHZpZGVvLmpzXG4gIGZ1bmN0aW9uIGluaXRpYWxpemVWaWRlb1BsYXllcihkb21FbGVtZW50KSB7XG4gICAgaWYgKCFkb21FbGVtZW50KSByZXR1cm47XG5cbiAgICBjb25zdCB2anMgPSB2aWRlb2pzKGRvbUVsZW1lbnQsIHZpZGVvSnNPcHRpb25zLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwbGF5ZXIgPSBwbGF5ZXJSZWYuY3VycmVudDtcbiAgICAgIGNvbnN0IGFkYXB0ZXIgPSBuZXcgcGxheWVyanMuVmlkZW9KU0FkYXB0ZXIocGxheWVyKTtcblxuICAgICAgLy8gdGhpcyBzZWVtcyBsaWtlIGEgd2VpcmQgdGhpbmcgdG8gaGF2ZSB0byBjaGVjayBmb3IgaGVyZVxuICAgICAgaWYgKCFwbGF5ZXIpIHJldHVybjtcblxuICAgICAgLy8gcnVuQWRzKGludGVybmFsRmVhdHVyZUVuYWJsZWQsIGFsbG93UHJlUm9sbCwgcGxheWVyLCBlbWJlZGRlZCk7XG5cbiAgICAgIExicnlQbGF5YmFja1JhdGVNZW51QnV0dG9uLnJlcGxhY2VFeGlzdGluZyhwbGF5ZXIpO1xuXG4gICAgICAvLyBBZGQgcmVsb2FkU291cmNlT25FcnJvciBwbHVnaW5cbiAgICAgIHBsYXllci5yZWxvYWRTb3VyY2VPbkVycm9yKHsgZXJyb3JJbnRlcnZhbDogMTAgfSk7XG5cbiAgICAgIC8vIEluaXRpYWxpemUgbW9iaWxlIFVJLlxuICAgICAgcGxheWVyLm1vYmlsZVVpKHtcbiAgICAgICAgZnVsbHNjcmVlbjoge1xuICAgICAgICAgIGVudGVyT25Sb3RhdGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICB0b3VjaENvbnRyb2xzOiB7XG4gICAgICAgICAgc2Vla1NlY29uZHM6IDEwLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIHBsYXllci5pMThuKCk7XG5cbiAgICAgIGlmICghZW1iZWRkZWQpIHtcbiAgICAgICAgd2luZG93LnBsYXllci5iaWdQbGF5QnV0dG9uICYmIHdpbmRvdy5wbGF5ZXIuYmlnUGxheUJ1dHRvbi5oaWRlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjb25zdCBiaWdQbGF5QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZqcy1iaWctcGxheS1idXR0b24nKTtcbiAgICAgICAgLy8gaWYgKGJpZ1BsYXlCdXR0b24pIGJpZ1BsYXlCdXR0b24uc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnYmxvY2snLCAnaW1wb3J0YW50Jyk7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCBxdWFsaXR5IHNlbGVjdG9yIHRvIHBsYXllclxuICAgICAgaWYgKHNob3dRdWFsaXR5U2VsZWN0b3IpIHtcbiAgICAgICAgcGxheWVyLmhsc1F1YWxpdHlTZWxlY3Rvcih7XG4gICAgICAgICAgZGlzcGxheUN1cnJlbnRRdWFsaXR5OiB0cnVlLFxuICAgICAgICAgIG9yaWdpbmFsSGVpZ2h0OiBjbGFpbVZhbHVlcz8udmlkZW8/LmhlaWdodCxcbiAgICAgICAgICBkZWZhdWx0UXVhbGl0eSxcbiAgICAgICAgICBpbml0aWFsUXVhbGl0eUNoYW5nZSxcbiAgICAgICAgICBzZXRJbml0aWFsUXVhbGl0eUNoYW5nZSxcbiAgICAgICAgICBkb1RvYXN0LFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gQWRkIHJlY3N5cyBwbHVnaW5cbiAgICAgIGlmIChzaGFyZVRlbGVtZXRyeSkge1xuICAgICAgICBwbGF5ZXIucmVjc3lzKHtcbiAgICAgICAgICB2aWRlb0lkOiBjbGFpbUlkLFxuICAgICAgICAgIHVzZXJJZDogdXNlcklkLFxuICAgICAgICAgIGVtYmVkZGVkOiBlbWJlZGRlZCB8fCBlbWJlZGRlZEludGVybmFsLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gc2V0IHBsYXlzaW5saW5lIGZvciBtb2JpbGVcbiAgICAgIHBsYXllci5jaGlsZHJlbl9bMF0uc2V0QXR0cmlidXRlKCdwbGF5c2lubGluZScsICcnKTtcblxuICAgICAgaWYgKGNhbkF1dG9wbGF5VmlkZW8gPT09IHRydWUpIHtcbiAgICAgICAgLy8gc2hvdyB3YWl0aW5nIHNwaW5uZXIgYXMgdmlkZW8gaXMgbG9hZGluZ1xuICAgICAgICBwbGF5ZXIuYWRkQ2xhc3MoJ3Zqcy13YWl0aW5nJyk7XG4gICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZqcy1iaWctcGxheS1idXR0b24nKS5zdHlsZS5zZXRQcm9wZXJ0eSgnZGlzcGxheScsICdub25lJywgJ2ltcG9ydGFudCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICAvLyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudmpzLWJpZy1wbGF5LWJ1dHRvbicpLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ2Jsb2NrJywgJ2ltcG9ydGFudCcpO1xuICAgICAgfVxuICAgICAgLy8gaW1tZWRpYXRlbHkgc2hvdyBjb250cm9sIGJhciB3aGlsZSB2aWRlbyBpcyBsb2FkaW5nXG4gICAgICBwbGF5ZXIudXNlckFjdGl2ZSh0cnVlKTtcblxuICAgICAgYWRhcHRlci5yZWFkeSgpO1xuXG4gICAgICAvLyBzb21ldGltZXMgdmlkZW8gZG9lc250IHN0YXJ0IHByb3Blcmx5LCB0aGlzIGFkZHJlc3NlcyB0aGUgZWRnZSBjYXNlXG4gICAgICBpZiAoYXV0b3BsYXkpIHtcbiAgICAgICAgY29uc3QgdmlkZW9EaXYgPSB3aW5kb3cucGxheWVyLmNoaWxkcmVuX1swXTtcbiAgICAgICAgaWYgKHZpZGVvRGl2KSB7XG4gICAgICAgICAgdmlkZW9EaXYuY2xpY2soKTtcbiAgICAgICAgfVxuICAgICAgICB3aW5kb3cucGxheWVyLnVzZXJBY3RpdmUodHJ1ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBmaXhlcyAjMzQ5OCAoaHR0cHM6Ly9naXRodWIuY29tL2xicnlpby9sYnJ5LWRlc2t0b3AvaXNzdWVzLzM0OTgpXG4gICAgLy8gc3VtbWFyeTogb24gZmlyZWZveCB0aGUgZm9jdXMgd291bGQgc3RpY2sgdG8gdGhlIGZ1bGxzY3JlZW4gYnV0dG9uIHdoaWNoIGNhdXNlZCBidWdneSBiZWhhdmlvciB3aXRoIHNwYWNlYmFyXG4gICAgdmpzLm9uKCdmdWxsc2NyZWVuY2hhbmdlJywgKCkgPT4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKSk7XG5cbiAgICByZXR1cm4gdmpzO1xuICB9XG5cbiAgLy8gdXNlRWZmZWN0KCgpID0+IHtcbiAgLy8gICBpZiAoc2hvd1F1YWxpdHlTZWxlY3Rvcikge1xuICAvLyAgICAgLy8gQWRkIHF1YWxpdHkgc2VsZWN0b3IgdG8gcGxheWVyXG4gIC8vICAgICBjb25zdCBwbGF5ZXIgPSBwbGF5ZXJSZWYuY3VycmVudDtcbiAgLy8gICAgIGlmIChwbGF5ZXIpIHBsYXllci5obHNRdWFsaXR5U2VsZWN0b3IoeyBkaXNwbGF5Q3VycmVudFF1YWxpdHk6IHRydWUgfSk7XG4gIC8vICAgfVxuICAvLyB9LCBbc2hvd1F1YWxpdHlTZWxlY3Rvcl0pO1xuXG4gIC8qXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgQ2hyb21lY2FzdC51cGRhdGVUaXRsZXModGl0bGUsIGNoYW5uZWxUaXRsZSk7XG4gIH0sIFt0aXRsZSwgY2hhbm5lbFRpdGxlXSk7XG4gICovXG5cbiAgLy8gVGhpcyBsaWZlY3ljbGUgaG9vayBpcyBvbmx5IGNhbGxlZCBvbmNlIChvbiBtb3VudCksIG9yIHdoZW4gYGlzQXVkaW9gIG9yIGBzb3VyY2VgIGNoYW5nZXMuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgKGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCB2anNQbGF5ZXI7XG4gICAgICBjb25zdCB2anNQYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudmlkZW8tanMtcGFyZW50Jyk7XG5cbiAgICAgIGxldCBjYW5Vc2VPbGRQbGF5ZXIgPSB3aW5kb3cub2xkU2F2ZWREaXYgJiYgdmpzUGFyZW50O1xuICAgICAgY29uc3QgaXNMaXZlc3RyZWFtID0gaXNMaXZlc3RyZWFtQ2xhaW0gJiYgdXNlckNsYWltSWQ7XG5cbiAgICAgIC8vIGluaXRpYWxpemUgdmlkZW9qcyBpZiBpdCBoYXNuJ3QgYmVlbiBkb25lIHlldFxuICAgICAgaWYgKCFjYW5Vc2VPbGRQbGF5ZXIpIHtcbiAgICAgICAgY29uc3QgdmpzRWxlbWVudCA9IGNyZWF0ZVZpZGVvUGxheWVyRE9NKGNvbnRhaW5lclJlZi5jdXJyZW50KTtcbiAgICAgICAgdmpzUGxheWVyID0gaW5pdGlhbGl6ZVZpZGVvUGxheWVyKHZqc0VsZW1lbnQpO1xuICAgICAgICBpZiAoIXZqc1BsYXllcikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCByZWZlcmVuY2UgdG8gcGxheWVyIHRvIGdsb2JhbCBzY29wZVxuICAgICAgICB3aW5kb3cucGxheWVyID0gdmpzUGxheWVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmpzUGxheWVyID0gd2luZG93LnBsYXllcjtcbiAgICAgIH1cblxuICAgICAgLy8gaGlkZSB1bnVzZWQgZWxlbWVudHMgb24gbGl2ZXN0cmVhbVxuICAgICAgaWYgKGlzTGl2ZXN0cmVhbSkge1xuICAgICAgICB2anNQbGF5ZXIuYWRkQ2xhc3MoJ3Zqcy1saXZlJyk7XG4gICAgICAgIHZqc1BsYXllci5hZGRDbGFzcygndmpzLWxpdmV1aScpO1xuICAgICAgICAvLyAkRmxvd0lzc3VlXG4gICAgICAgIHZqc1BsYXllci5jb250cm9sQmFyLmN1cnJlbnRUaW1lRGlzcGxheT8uZWwoKS5zdHlsZS5zZXRQcm9wZXJ0eSgnZGlzcGxheScsICdub25lJywgJ2ltcG9ydGFudCcpO1xuICAgICAgICAvLyAkRmxvd0lzc3VlXG4gICAgICAgIHZqc1BsYXllci5jb250cm9sQmFyLnRpbWVEaXZpZGVyPy5lbCgpLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ25vbmUnLCAnaW1wb3J0YW50Jyk7XG4gICAgICAgIC8vICRGbG93SXNzdWVcbiAgICAgICAgdmpzUGxheWVyLmNvbnRyb2xCYXIuZHVyYXRpb25EaXNwbGF5Py5lbCgpLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ25vbmUnLCAnaW1wb3J0YW50Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2anNQbGF5ZXIucmVtb3ZlQ2xhc3MoJ3Zqcy1saXZlJyk7XG4gICAgICAgIHZqc1BsYXllci5yZW1vdmVDbGFzcygndmpzLWxpdmV1aScpO1xuICAgICAgICAvLyAkRmxvd0lzc3VlXG4gICAgICAgIHZqc1BsYXllci5jb250cm9sQmFyLmN1cnJlbnRUaW1lRGlzcGxheT8uZWwoKS5zdHlsZS5zZXRQcm9wZXJ0eSgnZGlzcGxheScsICdibG9jaycsICdpbXBvcnRhbnQnKTtcbiAgICAgICAgLy8gJEZsb3dJc3N1ZVxuICAgICAgICB2anNQbGF5ZXIuY29udHJvbEJhci50aW1lRGl2aWRlcj8uZWwoKS5zdHlsZS5zZXRQcm9wZXJ0eSgnZGlzcGxheScsICdibG9jaycsICdpbXBvcnRhbnQnKTtcbiAgICAgICAgLy8gJEZsb3dJc3N1ZVxuICAgICAgICB2anNQbGF5ZXIuY29udHJvbEJhci5kdXJhdGlvbkRpc3BsYXk/LmVsKCkuc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnYmxvY2snLCAnaW1wb3J0YW50Jyk7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCByZWNzeXMgcGx1Z2luXG4gICAgICBpZiAoc2hhcmVUZWxlbWV0cnkpIHtcbiAgICAgICAgdmpzUGxheWVyLnJlY3N5cy5vcHRpb25zXyA9IHtcbiAgICAgICAgICB2aWRlb0lkOiBjbGFpbUlkLFxuICAgICAgICAgIHVzZXJJZDogdXNlcklkLFxuICAgICAgICAgIGVtYmVkZGVkOiBlbWJlZGRlZCB8fCBlbWJlZGRlZEludGVybmFsLFxuICAgICAgICB9O1xuXG4gICAgICAgIHZqc1BsYXllci5yZWNzeXMubGFzdFRpbWVVcGRhdGUgPSBudWxsO1xuICAgICAgICB2anNQbGF5ZXIucmVjc3lzLmN1cnJlbnRUaW1lVXBkYXRlID0gbnVsbDtcbiAgICAgICAgdmpzUGxheWVyLnJlY3N5cy5pblBhdXNlID0gZmFsc2U7XG4gICAgICAgIHZqc1BsYXllci5yZWNzeXMud2F0Y2hlZER1cmF0aW9uID0geyB0b3RhbDogMCwgbGFzdFRpbWVzdGFtcDogLTEgfTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFlbWJlZGRlZCkge1xuICAgICAgICB2anNQbGF5ZXIuYmlnUGxheUJ1dHRvbiAmJiB3aW5kb3cucGxheWVyLmJpZ1BsYXlCdXR0b24uaGlkZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gJEZsb3dJc3N1ZVxuICAgICAgICB2anNQbGF5ZXIuYmlnUGxheUJ1dHRvbj8uc2hvdygpO1xuICAgICAgfVxuXG4gICAgICAvLyBJIHRoaW5rIHRoaXMgaXMgYSBjYWxsYmFjayBmdW5jdGlvblxuICAgICAgY29uc3QgdmlkZW9Ob2RlID0gY29udGFpbmVyUmVmLmN1cnJlbnQgJiYgY29udGFpbmVyUmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvcigndmlkZW8sIGF1ZGlvJyk7XG5cbiAgICAgIC8vIGFkZCB0aGVhdHJlIGFuZCBhdXRvcGxheSBuZXh0IGJ1dHRvbiBhbmQgaW5pdGlhdGUgcGxheWVyIGV2ZW50c1xuICAgICAgb25QbGF5ZXJSZWFkeSh2anNQbGF5ZXIsIHZpZGVvTm9kZSk7XG5cbiAgICAgIC8vIFNldCByZWZlcmVuY2UgaW4gY29tcG9uZW50IHN0YXRlXG4gICAgICBwbGF5ZXJSZWYuY3VycmVudCA9IHZqc1BsYXllcjtcblxuICAgICAgaW5pdGlhbGl6ZUV2ZW50cygpO1xuXG4gICAgICAvLyB2b2x1bWUgY29udHJvbCBkaXYsIHVzZWQgZm9yIGNoYW5naW5nIHZvbHVtZSB3aGVuIHNjcm9sbGVkIG92ZXJcbiAgICAgIC8vICRGbG93SXNzdWVcbiAgICAgIHZvbHVtZVBhbmVsUmVmLmN1cnJlbnQgPSBwbGF5ZXJSZWYuY3VycmVudD8uY29udHJvbEJhcj8uZ2V0Q2hpbGQoVklERU9KU19WT0xVTUVfUEFORUxfQ0xBU1MpPy5lbCgpO1xuXG4gICAgICBjb25zdCBrZXlEb3duSGFuZGxlciA9IGNyZWF0ZUtleURvd25TaG9ydGN1dHNIYW5kbGVyKHBsYXllclJlZiwgY29udGFpbmVyUmVmKTtcbiAgICAgIGNvbnN0IHZpZGVvU2Nyb2xsSGFuZGxlciA9IGNyZWF0ZVZpZGVvU2Nyb2xsU2hvcnRjdXRzSGFuZGxlcihwbGF5ZXJSZWYsIGNvbnRhaW5lclJlZik7XG4gICAgICBjb25zdCB2b2x1bWVQYW5lbEhhbmRsZXIgPSBjcmVhdGVWb2x1bWVQYW5lbFNjcm9sbFNob3J0Y3V0c0hhbmRsZXIodm9sdW1lUGFuZWxSZWYsIHBsYXllclJlZiwgY29udGFpbmVyUmVmKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywga2V5RG93bkhhbmRsZXIpO1xuICAgICAgY29uc3QgY29udGFpbmVyRGl2ID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICBjb250YWluZXJEaXYgJiYgY29udGFpbmVyRGl2LmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdmlkZW9TY3JvbGxIYW5kbGVyKTtcbiAgICAgIGlmICh2b2x1bWVQYW5lbFJlZi5jdXJyZW50KSB2b2x1bWVQYW5lbFJlZi5jdXJyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdm9sdW1lUGFuZWxIYW5kbGVyKTtcblxuICAgICAga2V5RG93bkhhbmRsZXJSZWYuY3VycmVudCA9IGtleURvd25IYW5kbGVyO1xuICAgICAgdmlkZW9TY3JvbGxIYW5kbGVyUmVmLmN1cnJlbnQgPSB2aWRlb1Njcm9sbEhhbmRsZXI7XG4gICAgICB2b2x1bWVQYW5lbFNjcm9sbEhhbmRsZXJSZWYuY3VycmVudCA9IHZvbHVtZVBhbmVsSGFuZGxlcjtcblxuICAgICAgLy8gJEZsb3dJc3N1ZVxuICAgICAgdmpzUGxheWVyLmNvbnRyb2xCYXI/LnNob3coKTtcblxuICAgICAgLy8gdmpzUGxheWVyLnBvc3Rlcihwb3N0ZXIpO1xuXG4gICAgICB2anNQbGF5ZXIuZWwoKS5jaGlsZE5vZGVzWzBdLnNldEF0dHJpYnV0ZSgncGxheXNpbmxpbmUnLCAnJyk7XG5cbiAgICAgIC8vIGxldCBjb250ZW50VXJsO1xuICAgICAgLy8gVE9ETzogcHVsbCB0aGlzIGZ1bmN0aW9uIGludG8gdmlkZW9qcy1mdW5jdGlvbnNcbiAgICAgIC8vIGRldGVybWluZSB3aGljaCBzb3VyY2UgdG8gdXNlIGFuZCBsb2FkIGl0XG4gICAgICBpZiAoaXNMaXZlc3RyZWFtKSB7XG4gICAgICAgIHZqc1BsYXllci5pc0xpdmVzdHJlYW0gPSB0cnVlO1xuICAgICAgICB2anNQbGF5ZXIuYWRkQ2xhc3MoJ2xpdmVzdHJlYW1QbGF5ZXInKTtcbiAgICAgICAgdmpzUGxheWVyLnNyYyh7IHR5cGU6ICdhcHBsaWNhdGlvbi94LW1wZWdVUkwnLCBzcmM6IGxpdmVzdHJlYW1WaWRlb1VybCB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZqc1BsYXllci5pc0xpdmVzdHJlYW0gPSBmYWxzZTtcbiAgICAgICAgdmpzUGxheWVyLnJlbW92ZUNsYXNzKCdsaXZlc3RyZWFtUGxheWVyJyk7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzb3VyY2UsIHsgbWV0aG9kOiAnSEVBRCcsIGNhY2hlOiAnbm8tc3RvcmUnIH0pO1xuICAgICAgICBwbGF5ZXJTZXJ2ZXJSZWYuY3VycmVudCA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCd4LXBvd2VyZWQtYnknKTtcbiAgICAgICAgdmpzUGxheWVyLmNsYWltU3JjT3JpZ2luYWwgPSB7IHR5cGU6IHNvdXJjZVR5cGUsIHNyYzogc291cmNlIH07XG5cbiAgICAgICAgLy8gcmVtb3ZlIHF1ZXJ5IHBhcmFtcyBmb3Igc2VjdXJlZCBlbmRwb2ludHMgKHdoaWNoIGhhdmUgcXVlcnkgcGFyYW1zIG9uIGVuZCBvZiBtM3U4IHBhdGgpXG4gICAgICAgIGxldCB0cmltbWVkVXJsID0gbmV3IFVSTChyZXNwb25zZS51cmwpO1xuICAgICAgICB0cmltbWVkVXJsLmhhc2ggPSAnJztcbiAgICAgICAgdHJpbW1lZFVybC5zZWFyY2ggPSAnJztcbiAgICAgICAgdHJpbW1lZFVybCA9IHRyaW1tZWRVcmwudG9TdHJpbmcoKTtcblxuICAgICAgICAvLyBjaGFuZ2UgdG8gbTN1OCBpZiBhcHBsaWNhYmxlXG4gICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5yZWRpcmVjdGVkICYmIHJlc3BvbnNlLnVybCAmJiB0cmltbWVkVXJsLmVuZHNXaXRoKCdtM3U4JykpIHtcbiAgICAgICAgICB2anNQbGF5ZXIuY2xhaW1TcmNWaHMgPSB7IHR5cGU6ICdhcHBsaWNhdGlvbi94LW1wZWdVUkwnLCBzcmM6IHJlc3BvbnNlLnVybCB9O1xuICAgICAgICAgIHZqc1BsYXllci5zcmModmpzUGxheWVyLmNsYWltU3JjVmhzKTtcbiAgICAgICAgICBpZiAod2luZG93LmNvcmRvdmEpIHtcbiAgICAgICAgICAgIGxldCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgICB1cmk6IHJlc3BvbnNlLnVybCxcbiAgICAgICAgICAgICAgY2xhaW06IGNsYWltVmFsdWVzLFxuICAgICAgICAgICAgICBmaWxlVHlwZTogJ2FwcGxpY2F0aW9uL3gtbXBlZ1VSTCcsXG4gICAgICAgICAgICAgIGNoYW5uZWw6IGNoYW5uZWxUaXRsZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cub2R5c2VlLmNocm9tZWNhc3Quc2V0TWVkaWFQYXlsb2FkKHBheWxvYWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgZml4ID0gc291cmNlICsgJyMubXA0JztcbiAgICAgICAgICB2anNQbGF5ZXIuc3JjKGZpeCk7XG4gICAgICAgICAgaWYgKHdpbmRvdy5jb3Jkb3ZhKSB7XG4gICAgICAgICAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgICAgdXJpOiB2anNQbGF5ZXIuY2xhaW1TcmNPcmlnaW5hbCxcbiAgICAgICAgICAgICAgY2xhaW06IGNsYWltVmFsdWVzLFxuICAgICAgICAgICAgICBmaWxlVHlwZTogc291cmNlVHlwZSxcbiAgICAgICAgICAgICAgY2hhbm5lbDogY2hhbm5lbFRpdGxlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5vZHlzZWUuY2hyb21lY2FzdC5zZXRNZWRpYVBheWxvYWQocGF5bG9hZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGJ1Z2ZpeCB0aHVtYm5haWxzIHNob3dpbmcgdXAgaWYgbmV3IHZpZGVvIGRvZXNuJ3QgaGF2ZSB0aGVtXG4gICAgICBpZiAodHlwZW9mIHZqc1BsYXllci52dHRUaHVtYm5haWxzLmRldGFjaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2anNQbGF5ZXIudnR0VGh1bWJuYWlscy5kZXRhY2goKTtcbiAgICAgIH1cblxuICAgICAgdmpzUGxheWVyLmxvYWQoKTtcblxuICAgICAgaWYgKGNhblVzZU9sZFBsYXllcikge1xuICAgICAgICAvLyAkRmxvd0lzc3VlXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52aWRlby1qcy1wYXJlbnQnKT8uYXBwZW5kKHdpbmRvdy5vbGRTYXZlZERpdik7XG4gICAgICB9XG5cbiAgICAgIC8vIGRpc2FibGUgcmlnaHQtY2xpY2sgKGNvbnRleHQtbWVudSkgZm9yIHB1cmNoYXNlZCBjb250ZW50XG4gICAgICBpZiAoaXNQdXJjaGFzYWJsZUNvbnRlbnQgfHwgaXNSZW50YWJsZUNvbnRlbnQpIHtcbiAgICAgICAgY29uc3QgcGxheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndmlkZW8udmpzLXRlY2gnKTtcbiAgICAgICAgaWYgKHBsYXllcikgcGxheWVyLnNldEF0dHJpYnV0ZSgnb25jb250ZXh0bWVudScsICdyZXR1cm4gZmFsc2U7Jyk7XG4gICAgICB9XG5cbiAgICAgIC8vIGFsbG93IHRhcCB0byB1bm11dGUgaWYgbm8gcGVybXMgb24gaU9TXG4gICAgICBpZiAoYXV0b3BsYXkgJiYgIWVtYmVkZGVkKSB7XG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB2anNQbGF5ZXIucGxheSgpO1xuXG4gICAgICAgIHdpbmRvdy5wbGF5ZXIudXNlckFjdGl2ZSh0cnVlKTtcblxuICAgICAgICBpZiAocHJvbWlzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcHJvbWlzZVxuICAgICAgICAgICAgLnRoZW4oKF8pID0+IHtcbiAgICAgICAgICAgICAgLy8gJEZsb3dJc3N1ZVxuICAgICAgICAgICAgICB2anNQbGF5ZXI/LmNvbnRyb2xCYXIuZWwoKS5jbGFzc0xpc3QuYWRkKCd2anMtdHJhbnNpdGlvbmluZy12aWRlbycpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgY29uc3Qgbm9QZXJtaXNzaW9uRXJyb3IgPSB0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnICYmIGVycm9yLm5hbWUgJiYgZXJyb3IubmFtZSA9PT0gJ05vdEFsbG93ZWRFcnJvcic7XG5cbiAgICAgICAgICAgICAgaWYgKG5vUGVybWlzc2lvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKElTX0lPUykge1xuICAgICAgICAgICAgICAgICAgLy8gYXV0b3BsYXkgbm90IGFsbG93ZWQsIG11dGUgdmlkZW8sIHBsYXkgYW5kIHNob3cgJ3RhcCB0byB1bm11dGUnIGJ1dHRvblxuICAgICAgICAgICAgICAgICAgLy8gJEZsb3dJc3N1ZVxuICAgICAgICAgICAgICAgICAgdmpzUGxheWVyPy5tdXRlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgIC8vICRGbG93SXNzdWVcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG11dGVkUGxheVByb21pc2UgPSB2anNQbGF5ZXI/LnBsYXkoKTtcbiAgICAgICAgICAgICAgICAgIGlmIChtdXRlZFBsYXlQcm9taXNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbXV0ZWRQbGF5UHJvbWlzZVxuICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcFRvVW5tdXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZpZGVvLWpzLS10YXAtdG8tdW5tdXRlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICRGbG93SXNzdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcFRvVW5tdXRlQnV0dG9uPy5zdHlsZS5zZXRQcm9wZXJ0eSgndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAkRmxvd0lzc3VlXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXBUb1VubXV0ZUJ1dHRvbj8uc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnaW5saW5lJywgJ2ltcG9ydGFudCcpO1xuICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICAgICAgICAgICAgICAgICAgdmpzUGxheWVyPy5hZGRDbGFzcygndmpzLXBhdXNlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICAgICAgICAgICAgICAgICAgdmpzUGxheWVyPy5hZGRDbGFzcygndmpzLWhhcy1zdGFydGVkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52anMtdG91Y2gtb3ZlcmxheScpPy5jbGFzc0xpc3QuYWRkKCdzaG93LXBsYXktdG9nZ2xlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudmpzLXBsYXktY29udHJvbCcpPy5jbGFzc0xpc3QuYWRkKCd2anMtcGF1c2VkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIC8vICRGbG93SXNzdWVcbiAgICAgICAgICAgICAgICAgIHZqc1BsYXllcj8uYmlnUGxheUJ1dHRvbj8uc2hvdygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSgpO1xuXG4gICAgLy8gQ2xlYW51cFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleURvd25IYW5kbGVyUmVmLmN1cnJlbnQpO1xuXG4gICAgICBjb25zdCBjb250YWluZXJEaXYgPSBjb250YWluZXJSZWYuY3VycmVudDtcbiAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgIGNvbnRhaW5lckRpdiAmJiBjb250YWluZXJEaXYucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB2aWRlb1Njcm9sbEhhbmRsZXJSZWYuY3VycmVudCk7XG5cbiAgICAgIGlmICh2b2x1bWVQYW5lbFJlZi5jdXJyZW50KSB7XG4gICAgICAgIHZvbHVtZVBhbmVsUmVmLmN1cnJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB2b2x1bWVQYW5lbFNjcm9sbEhhbmRsZXJSZWYuY3VycmVudCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNoYXB0ZXJNYXJrZXJzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndmpzLWNoYXB0ZXItbWFya2VyJyk7XG4gICAgICB3aGlsZSAoY2hhcHRlck1hcmtlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyAkRmxvd0lzc3VlXG4gICAgICAgIGNoYXB0ZXJNYXJrZXJzWzBdLnBhcmVudE5vZGU/LnJlbW92ZUNoaWxkKGNoYXB0ZXJNYXJrZXJzWzBdKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcGxheWVyID0gcGxheWVyUmVmLmN1cnJlbnQ7XG5cbiAgICAgIGlmIChwbGF5ZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB3aW5kb3cuY2FzdC5mcmFtZXdvcmsuQ2FzdENvbnRleHQuZ2V0SW5zdGFuY2UoKS5nZXRDdXJyZW50U2Vzc2lvbigpLmVuZFNlc3Npb24oZmFsc2UpO1xuICAgICAgICB9IGNhdGNoIHt9XG5cbiAgICAgICAgd2luZG93LnBsYXllci5zd2l0Y2hlZEZyb21EZWZhdWx0UXVhbGl0eSA9IGZhbHNlO1xuXG4gICAgICAgIHdpbmRvdy5wbGF5ZXIudXNlckFjdGl2ZShmYWxzZSk7XG4gICAgICAgIHdpbmRvdy5wbGF5ZXIucGF1c2UoKTtcblxuICAgICAgICBpZiAoSVNfSU9TKSB7XG4gICAgICAgICAgLy8gJEZsb3dJc3N1ZVxuICAgICAgICAgIHdpbmRvdy5wbGF5ZXIuY29udHJvbEJhcj8ucGxheVRvZ2dsZT8uaGlkZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhpcyBzb2x2ZXMgYW4gaXNzdWUgd2l0aCBwb3J0cmFpdCB2aWRlb3NcbiAgICAgICAgLy8gJEZsb3dJc3N1ZVxuICAgICAgICBjb25zdCB2aWRlb0RpdiA9IHdpbmRvdy5wbGF5ZXI/LnRlY2hfPy5lbCgpOyAvLyB2aWRlbyBlbGVtZW50XG4gICAgICAgIGlmICh2aWRlb0RpdikgdmlkZW9EaXYuc3R5bGUudG9wID0gJzBweCc7XG5cbiAgICAgICAgd2luZG93LnBsYXllci5jb250cm9sQmFyLmVsKCkuY2xhc3NMaXN0LmFkZCgndmpzLXRyYW5zaXRpb25pbmctdmlkZW8nKTtcblxuICAgICAgICB3aW5kb3cub2xkU2F2ZWREaXYgPSB3aW5kb3cucGxheWVyLmVsKCk7XG5cbiAgICAgICAgd2luZG93LnBsYXllci50cmlnZ2VyKCdwbGF5ZXJDbG9zZWQnKTtcblxuICAgICAgICAvLyBzdG9wIHN0cmVhbXMgcnVubmluZyBpbiBiYWNrZ3JvdW5kXG4gICAgICAgIHdpbmRvdy5wbGF5ZXIubG9hZFRlY2hfKCdodG1sNScsIG51bGwpO1xuXG4gICAgICAgIHdpbmRvdy5wbGF5ZXIuY3VycmVudFRpbWUoMCk7XG5cbiAgICAgICAgLy8gbWFrZXMgdGhlIGN1cnJlbnQgdGltZSB1cGRhdGUgaW1tZWRpYXRlbHlcbiAgICAgICAgd2luZG93LnBsYXllci50cmlnZ2VyKCd0aW1ldXBkYXRlJyk7XG5cbiAgICAgICAgd2luZG93LnBsYXllci5jbGFpbVNyY1ZocyA9IG51bGw7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2lzQXVkaW8sIHNvdXJjZSwgcmVsb2FkLCB1c2VyQ2xhaW1JZCwgaXNMaXZlc3RyZWFtQ2xhaW1dKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc25hbWVzKCd2aWRlby1qcy1wYXJlbnQnLCB7ICd2aWRlby1qcy1wYXJlbnQtLWlvcyc6IElTX0lPUyB9KX0gcmVmPXtjb250YWluZXJSZWZ9PlxuICAgICAgPEJ1dHRvblxuICAgICAgICBsYWJlbD17X18oJ1RhcCB0byB1bm11dGUnKX1cbiAgICAgICAgYnV0dG9uPVwibGlua1wiXG4gICAgICAgIGljb249e0lDT05TLlZPTFVNRV9NVVRFRH1cbiAgICAgICAgY2xhc3NOYW1lPVwidmlkZW8tanMtLXRhcC10by11bm11dGVcIlxuICAgICAgICBvbkNsaWNrPXt1bm11dGVBbmRIaWRlSGludH1cbiAgICAgICAgcmVmPXt0YXBUb1VubXV0ZVJlZn1cbiAgICAgIC8+XG4gICAgICA8QnV0dG9uXG4gICAgICAgIGxhYmVsPXtfXygnUmV0cnknKX1cbiAgICAgICAgYnV0dG9uPVwibGlua1wiXG4gICAgICAgIGljb249e0lDT05TLlJFRlJFU0h9XG4gICAgICAgIGNsYXNzTmFtZT1cInZpZGVvLWpzLS10YXAtdG8tdW5tdXRlXCJcbiAgICAgICAgb25DbGljaz17cmV0cnlWaWRlb0FmdGVyRmFpbHVyZX1cbiAgICAgICAgcmVmPXt0YXBUb1JldHJ5UmVmfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFnRkE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBUUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBcUNBO0FBQ0E7QUF0Q0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQTBDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBdkRBO0FBQUE7QUFDQTtBQXdEQTtBQUNBO0FBQ0E7QUEzREE7QUFrRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBakVBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBMkVBO0FBQUE7QUEzRUE7QUFDQTtBQURBO0FBOEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWZBO0FBN0VBO0FBQUE7QUFBQTtBQUNBO0FBOEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBREE7QUFRQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQTlCQTtBQWtDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQU9BO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBREE7QUFKQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFJQTtBQTlCQTtBQUNBO0FBQ0E7QUFnQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBbkNBO0FBQ0E7QUFDQTtBQTRDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUEvQ0E7QUFDQTtBQUNBO0FBcURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFPQTtBQWhFQTtBQUNBO0FBQ0E7QUFpRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUEvRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSEE7QUFxRkE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBMU5BO0FBOE5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFOQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBWEE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQWVBO0FBQ0E7QUFoQkE7QUFBQTtBQUNBO0FBREE7QUFrQkE7QUFDQTtBQW5CQTtBQXFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXZDQTtBQUNBO0FBQ0E7QUF5Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQTVEQTtBQUNBO0FBQ0E7QUE4REE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBR0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQXBHQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBb0dBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQXZHQTtBQUFBO0FBQ0E7QUFEQTtBQXlHQTtBQUNBO0FBMUdBO0FBQUE7QUE0R0E7QUFBQTtBQUFBO0FBQ0E7QUE3R0E7QUE0R0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFYQTtBQWFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFoSkE7QUFrSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEzSkE7QUFDQTtBQUNBO0FBNkpBO0FBQ0E7QUFDQTtBQWpLQTtBQUNBO0FBQ0E7QUFtS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFIQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBUEE7QUFTQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQWxCQTtBQW9CQTtBQTNCQTtBQTRCQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUF6Q0E7QUEyQ0E7QUFDQTtBQUNBO0FBeE5BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQURBO0FBQ0E7QUFDQTtBQTBOQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQVpBO0FBZ0JBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBdERBO0FBNU5BO0FBc1JBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUE1Z0JBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../ui/component/viewers/videoViewer/internal/videojs.jsx\n");

/***/ }),

/***/ "../ui/redux/actions/app.js":
/*!**********************************!*\
  !*** ../ui/redux/actions/app.js ***!
  \**********************************/
/*! exports provided: doOpenModal, doHideModal, doUpdateDownloadProgress, doSkipUpgrade, doStartUpgrade, doDownloadUpgrade, doDownloadUpgradeRequested, doClearUpgradeTimer, doAutoUpdate, doAutoUpdateDeclined, doCancelUpgrade, doCheckUpgradeAvailable, doCheckUpgradeSubscribe, doMinVersionCheck, doMinVersionSubscribe, doCheckDaemonVersion, doNotifyEncryptWallet, doNotifyDecryptWallet, doNotifyUnlockWallet, doNotifyForgetPassword, doAlertError, doAlertWaitingForSync, doDaemonReady, doClearCache, doQuit, doQuitAnyDaemon, doChangeVolume, doChangeMute, doClickCommentButton, doToggleSearchExpanded, doAnalyticsView, doAnalyticsBuffer, doAnaltyicsPurchaseEvent, doSignIn, doSignOut, doSetWelcomeVersion, doSetHasNavigated, doToggle3PAnalytics, doGetAndPopulatePreferences, doHandleSyncComplete, doToggleInterestedInYoutubeSync, doToggleSplashAnimation, doSetActiveChannel, doSetIncognito, doSetAdBlockerFound, doSetGdprConsentList, doToggleAppDrawer, doSetMainPlayerDimension */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(process, __) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doOpenModal\", function() { return doOpenModal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doHideModal\", function() { return doHideModal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doUpdateDownloadProgress\", function() { return doUpdateDownloadProgress; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doSkipUpgrade\", function() { return doSkipUpgrade; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doStartUpgrade\", function() { return doStartUpgrade; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doDownloadUpgrade\", function() { return doDownloadUpgrade; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doDownloadUpgradeRequested\", function() { return doDownloadUpgradeRequested; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doClearUpgradeTimer\", function() { return doClearUpgradeTimer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doAutoUpdate\", function() { return doAutoUpdate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doAutoUpdateDeclined\", function() { return doAutoUpdateDeclined; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doCancelUpgrade\", function() { return doCancelUpgrade; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doCheckUpgradeAvailable\", function() { return doCheckUpgradeAvailable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doCheckUpgradeSubscribe\", function() { return doCheckUpgradeSubscribe; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doMinVersionCheck\", function() { return doMinVersionCheck; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doMinVersionSubscribe\", function() { return doMinVersionSubscribe; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doCheckDaemonVersion\", function() { return doCheckDaemonVersion; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doNotifyEncryptWallet\", function() { return doNotifyEncryptWallet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doNotifyDecryptWallet\", function() { return doNotifyDecryptWallet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doNotifyUnlockWallet\", function() { return doNotifyUnlockWallet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doNotifyForgetPassword\", function() { return doNotifyForgetPassword; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doAlertError\", function() { return doAlertError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doAlertWaitingForSync\", function() { return doAlertWaitingForSync; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doDaemonReady\", function() { return doDaemonReady; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doClearCache\", function() { return doClearCache; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doQuit\", function() { return doQuit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doQuitAnyDaemon\", function() { return doQuitAnyDaemon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doChangeVolume\", function() { return doChangeVolume; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doChangeMute\", function() { return doChangeMute; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doClickCommentButton\", function() { return doClickCommentButton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doToggleSearchExpanded\", function() { return doToggleSearchExpanded; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doAnalyticsView\", function() { return doAnalyticsView; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doAnalyticsBuffer\", function() { return doAnalyticsBuffer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doAnaltyicsPurchaseEvent\", function() { return doAnaltyicsPurchaseEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doSignIn\", function() { return doSignIn; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doSignOut\", function() { return doSignOut; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doSetWelcomeVersion\", function() { return doSetWelcomeVersion; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doSetHasNavigated\", function() { return doSetHasNavigated; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doToggle3PAnalytics\", function() { return doToggle3PAnalytics; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doGetAndPopulatePreferences\", function() { return doGetAndPopulatePreferences; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doHandleSyncComplete\", function() { return doHandleSyncComplete; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doToggleInterestedInYoutubeSync\", function() { return doToggleInterestedInYoutubeSync; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doToggleSplashAnimation\", function() { return doToggleSplashAnimation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doSetActiveChannel\", function() { return doSetActiveChannel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doSetIncognito\", function() { return doSetIncognito; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doSetAdBlockerFound\", function() { return doSetAdBlockerFound; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doSetGdprConsentList\", function() { return doSetGdprConsentList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doToggleAppDrawer\", function() { return doToggleAppDrawer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doSetMainPlayerDimension\", function() { return doSetMainPlayerDimension; });\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ \"./node_modules/path-browserify/index.js\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! config */ \"../config.js\");\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(config__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var constants_action_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! constants/action_types */ \"../ui/constants/action_types.js\");\n/* harmony import */ var constants_modal_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! constants/modal_types */ \"../ui/constants/modal_types.js\");\n/* harmony import */ var constants_settings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! constants/settings */ \"../ui/constants/settings.js\");\n/* harmony import */ var constants_daemon_settings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! constants/daemon_settings */ \"../ui/constants/daemon_settings.js\");\n/* harmony import */ var constants_shared_preferences__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! constants/shared_preferences */ \"../ui/constants/shared_preferences.js\");\n/* harmony import */ var lbry__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lbry */ \"../ui/lbry.js\");\n/* harmony import */ var redux_actions_claims__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! redux/actions/claims */ \"../ui/redux/actions/claims.js\");\n/* harmony import */ var redux_selectors_claims__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! redux/selectors/claims */ \"../ui/redux/selectors/claims.js\");\n/* harmony import */ var redux_actions_file_info__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! redux/actions/file_info */ \"../ui/redux/actions/file_info.js\");\n/* harmony import */ var redux_actions_wallet__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! redux/actions/wallet */ \"../ui/redux/actions/wallet.js\");\n/* harmony import */ var redux_actions_publish__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! redux/actions/publish */ \"../ui/redux/actions/publish.js\");\n/* harmony import */ var lbryinc__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lbryinc */ \"../extras/lbryinc/index.js\");\n/* harmony import */ var redux_actions_notifications__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! redux/actions/notifications */ \"../ui/redux/actions/notifications.js\");\n/* harmony import */ var native__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! native */ \"../ui/native.js\");\n/* harmony import */ var redux_actions_settings__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! redux/actions/settings */ \"../ui/redux/actions/settings.js\");\n/* harmony import */ var redux_selectors_app__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! redux/selectors/app */ \"../ui/redux/selectors/app.js\");\n/* harmony import */ var redux_selectors_settings__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! redux/selectors/settings */ \"../ui/redux/selectors/settings.js\");\n/* harmony import */ var redux_selectors_user__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! redux/selectors/user */ \"../ui/redux/selectors/user.js\");\n/* harmony import */ var redux_actions_sync__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! redux/actions/sync */ \"../ui/redux/actions/sync.js\");\n/* harmony import */ var redux_actions_user__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! redux/actions/user */ \"../ui/redux/actions/user.js\");\n/* harmony import */ var package_json__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! package.json */ \"../package.json\");\nvar package_json__WEBPACK_IMPORTED_MODULE_22___namespace = /*#__PURE__*/__webpack_require__.t(/*! package.json */ \"../package.json\", 1);\n/* harmony import */ var analytics__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! analytics */ \"../ui/analytics.js\");\n/* harmony import */ var util_saved_passwords__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! util/saved-passwords */ \"../ui/util/saved-passwords.js\");\n/* harmony import */ var util_saved_passwords__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(util_saved_passwords__WEBPACK_IMPORTED_MODULE_24__);\n/* harmony import */ var util_storage__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! util/storage */ \"../ui/util/storage.js\");\n/* harmony import */ var redux_actions_websocket__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! redux/actions/websocket */ \"../ui/redux/actions/websocket.js\");\n/* harmony import */ var util_sync_settings__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! util/sync-settings */ \"../ui/util/sync-settings.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar CHECK_UPGRADE_INTERVAL = 10 * 60 * 1000;\nfunction doOpenModal(id) {\n  var modalProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return {\n    type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"SHOW_MODAL\"],\n    data: {\n      id: id,\n      modalProps: modalProps\n    }\n  };\n}\nfunction doHideModal() {\n  return {\n    type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"HIDE_MODAL\"]\n  };\n}\nfunction doUpdateDownloadProgress(percent) {\n  return {\n    type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"UPGRADE_DOWNLOAD_PROGRESSED\"],\n    data: {\n      percent: percent\n    }\n  };\n}\nfunction doSkipUpgrade() {\n  return {\n    type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"SKIP_UPGRADE\"]\n  };\n}\nfunction doStartUpgrade() {\n  return function (dispatch, getState) {\n    var state = getState();\n    var upgradeDownloadPath = Object(redux_selectors_app__WEBPACK_IMPORTED_MODULE_17__[\"selectUpgradeDownloadPath\"])(state);\n    ipcRenderer.send('upgrade', upgradeDownloadPath);\n  };\n}\nfunction doDownloadUpgrade() {\n  return function (dispatch, getState) {};\n}\nfunction doDownloadUpgradeRequested() {\n  // This means the user requested an upgrade by clicking the \"upgrade\" button in the navbar.\n  // If on Mac and Windows, we do some new behavior for the auto-update system.\n  // This will probably be reorganized once we get auto-update going on Linux and remove\n  // the old logic.\n  return function (dispatch) {\n    if (['win32', 'darwin'].includes(process.platform) || !!process.env.APPIMAGE) {\n      // electron-updater behavior\n      dispatch(doOpenModal(constants_modal_types__WEBPACK_IMPORTED_MODULE_3__[\"AUTO_UPDATE_DOWNLOADED\"]));\n    } else {\n      // Old behavior for Linux\n      dispatch(doDownloadUpgrade());\n    }\n  };\n}\nfunction doClearUpgradeTimer() {\n  return function (dispatch, getState) {\n    var state = getState();\n\n    if (Object(redux_selectors_app__WEBPACK_IMPORTED_MODULE_17__[\"selectUpgradeTimer\"])(state)) {\n      clearInterval(Object(redux_selectors_app__WEBPACK_IMPORTED_MODULE_17__[\"selectUpgradeTimer\"])(state));\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"CLEAR_UPGRADE_TIMER\"]\n      });\n    }\n  };\n}\nfunction doAutoUpdate() {\n  return function (dispatch) {\n    dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"AUTO_UPDATE_DOWNLOADED\"]\n    });\n    dispatch(doOpenModal(constants_modal_types__WEBPACK_IMPORTED_MODULE_3__[\"AUTO_UPDATE_DOWNLOADED\"]));\n    dispatch(doClearUpgradeTimer());\n  };\n}\nfunction doAutoUpdateDeclined() {\n  return function (dispatch) {\n    dispatch(doClearUpgradeTimer());\n    dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"AUTO_UPDATE_DECLINED\"]\n    });\n  };\n}\nfunction doCancelUpgrade() {\n  return function (dispatch, getState) {\n    var state = getState();\n    var upgradeDownloadItem = Object(redux_selectors_app__WEBPACK_IMPORTED_MODULE_17__[\"selectUpgradeDownloadItem\"])(state);\n\n    if (upgradeDownloadItem) {\n      /*\n       * Right now the remote reference to the download item gets garbage collected as soon as the\n       * the download is over (maybe even earlier), so trying to cancel a finished download may\n       * throw an error.\n       */\n      try {\n        upgradeDownloadItem.cancel();\n      } catch (err) {\n        console.error(err); // eslint-disable-line no-console\n      }\n    }\n\n    dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"UPGRADE_CANCELLED\"]\n    });\n  };\n}\nfunction doCheckUpgradeAvailable() {\n  return function (dispatch, getState) {\n    var state = getState();\n    dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"CHECK_UPGRADE_START\"]\n    });\n\n    if (['win32', 'darwin'].includes(process.platform) || !!process.env.APPIMAGE) {\n      // On Windows, Mac, and AppImage, updates happen silently through\n      // electron-updater.\n      var autoUpdateDeclined = Object(redux_selectors_app__WEBPACK_IMPORTED_MODULE_17__[\"selectAutoUpdateDeclined\"])(state);\n\n      if (!autoUpdateDeclined && !isDev) {\n        autoUpdater.checkForUpdates();\n      }\n\n      return;\n    }\n\n    var success = function success(_ref) {\n      var remoteVersion = _ref.remoteVersion,\n          upgradeAvailable = _ref.upgradeAvailable;\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"CHECK_UPGRADE_SUCCESS\"],\n        data: {\n          upgradeAvailable: upgradeAvailable,\n          remoteVersion: remoteVersion\n        }\n      });\n\n      if (upgradeAvailable && !Object(redux_selectors_app__WEBPACK_IMPORTED_MODULE_17__[\"selectModal\"])(state) && (!Object(redux_selectors_app__WEBPACK_IMPORTED_MODULE_17__[\"selectIsUpgradeSkipped\"])(state) || remoteVersion !== Object(redux_selectors_app__WEBPACK_IMPORTED_MODULE_17__[\"selectRemoteVersion\"])(state))) {\n        dispatch(doOpenModal(constants_modal_types__WEBPACK_IMPORTED_MODULE_3__[\"UPGRADE\"]));\n      }\n    };\n\n    var fail = function fail() {\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"CHECK_UPGRADE_FAIL\"]\n      });\n    };\n\n    native__WEBPACK_IMPORTED_MODULE_15__[\"default\"].getAppVersionInfo().then(success, fail);\n  };\n}\n/*\n  Initiate a timer that will check for an app upgrade every 10 minutes.\n */\n\nfunction doCheckUpgradeSubscribe() {\n  return function (dispatch) {\n    var checkUpgradeTimer = setInterval(function () {\n      return dispatch(doCheckUpgradeAvailable());\n    }, CHECK_UPGRADE_INTERVAL);\n    dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"CHECK_UPGRADE_SUBSCRIBE\"],\n      data: {\n        checkUpgradeTimer: checkUpgradeTimer\n      }\n    });\n  };\n}\nfunction doMinVersionCheck() {\n  return function (dispatch) {\n    fetch(\"\".concat(config__WEBPACK_IMPORTED_MODULE_1__[\"URL\"], \"/$/minVersion/v1/get\")).then(function (response) {\n      return response.json();\n    }).then(function (json) {\n      if ((json === null || json === void 0 ? void 0 : json.status) === 'success' && json !== null && json !== void 0 && json.data && config__WEBPACK_IMPORTED_MODULE_1__[\"MINIMUM_VERSION\"]) {\n        var liveMinimumVersion = Number(json.data);\n\n        if (liveMinimumVersion > config__WEBPACK_IMPORTED_MODULE_1__[\"MINIMUM_VERSION\"]) {\n          dispatch({\n            type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"RELOAD_REQUIRED\"]\n          });\n        }\n      }\n    })[\"catch\"](function (err) {\n      console.error(err);\n    });\n  };\n}\nfunction doMinVersionSubscribe() {\n  return function (dispatch) {\n    if (config__WEBPACK_IMPORTED_MODULE_1__[\"IGNORE_MINIMUM_VERSION\"] === 'true') {\n      return;\n    }\n\n    dispatch(doMinVersionCheck());\n    var CHECK_UPGRADE_INTERVAL_MS = 60 * 60 * 1000;\n    setInterval(function () {\n      return dispatch(doMinVersionCheck());\n    }, CHECK_UPGRADE_INTERVAL_MS);\n  };\n}\nfunction doCheckDaemonVersion() {\n  return function (dispatch) {\n    dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"DAEMON_VERSION_MATCH\"]\n    });\n  };\n}\nfunction doNotifyEncryptWallet() {\n  return function (dispatch) {\n    dispatch(doOpenModal(constants_modal_types__WEBPACK_IMPORTED_MODULE_3__[\"WALLET_ENCRYPT\"]));\n  };\n}\nfunction doNotifyDecryptWallet() {\n  return function (dispatch) {\n    dispatch(doOpenModal(constants_modal_types__WEBPACK_IMPORTED_MODULE_3__[\"WALLET_DECRYPT\"]));\n  };\n}\nfunction doNotifyUnlockWallet() {\n  return function (dispatch) {\n    dispatch(doOpenModal(constants_modal_types__WEBPACK_IMPORTED_MODULE_3__[\"WALLET_UNLOCK\"]));\n  };\n}\nfunction doNotifyForgetPassword(props) {\n  return function (dispatch) {\n    dispatch(doOpenModal(constants_modal_types__WEBPACK_IMPORTED_MODULE_3__[\"WALLET_PASSWORD_UNSAVE\"], props));\n  };\n}\nfunction doAlertError(errorList) {\n  return function (dispatch) {\n    dispatch(Object(redux_actions_notifications__WEBPACK_IMPORTED_MODULE_14__[\"doError\"])(errorList));\n  };\n}\nfunction doAlertWaitingForSync() {\n  return function (dispatch, getState) {\n    var state = getState();\n    var authenticated = Object(redux_selectors_user__WEBPACK_IMPORTED_MODULE_19__[\"selectUserVerifiedEmail\"])(state);\n    dispatch(Object(redux_actions_notifications__WEBPACK_IMPORTED_MODULE_14__[\"doToast\"])({\n      message: !authenticated && true ? __('Sign in or create an account to change this setting.') : __('Please wait a bit, we are still getting your account ready.'),\n      isError: false\n    }));\n  };\n}\nfunction doDaemonReady() {\n  return function (dispatch, getState) {\n    var state = getState(); // TODO: call doFetchDaemonSettings, then get usage data, and call doAuthenticate once they are loaded into the store\n\n    var shareUsageData =  true || false;\n    dispatch(Object(redux_actions_user__WEBPACK_IMPORTED_MODULE_21__[\"doAuthenticate\"])(package_json__WEBPACK_IMPORTED_MODULE_22__[\"version\"], shareUsageData, function (status) {\n      var trendingAlgorithm = status && status.wallet && status.wallet.connected_features && status.wallet.connected_features.trending_algorithm;\n\n      if (trendingAlgorithm) {\n        analytics__WEBPACK_IMPORTED_MODULE_23__[\"default\"].event.trendingAlgorithm(trendingAlgorithm);\n      }\n    }, undefined));\n    dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"DAEMON_READY\"]\n    });\n  };\n}\nfunction doClearCache() {\n  return function (dispatch) {\n    // Need to update this to work with new version of redux-persist\n    // Leaving for now\n    // const reducersToClear = whiteListedReducers.filter(reducerKey => reducerKey !== 'tags');\n    // window.cacheStore.purge(reducersToClear);\n    window.sessionStorage.clear();\n    dispatch(Object(redux_actions_wallet__WEBPACK_IMPORTED_MODULE_11__[\"doClearSupport\"])());\n    window.location.reload();\n    return dispatch(Object(redux_actions_publish__WEBPACK_IMPORTED_MODULE_12__[\"doClearPublish\"])());\n  };\n}\nfunction doQuit() {\n  return function () {};\n}\nfunction doQuitAnyDaemon() {\n  return function (dispatch) {};\n}\nfunction doChangeVolume(volume) {\n  return function (dispatch) {\n    dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"VOLUME_CHANGED\"],\n      data: {\n        volume: volume\n      }\n    });\n  };\n}\nfunction doChangeMute(muted) {\n  return function (dispatch) {\n    dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"VOLUME_MUTED\"],\n      data: {\n        muted: muted\n      }\n    });\n  };\n}\nfunction doClickCommentButton() {\n  return {\n    type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"ADD_COMMENT\"]\n  };\n}\nfunction doToggleSearchExpanded() {\n  return {\n    type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"TOGGLE_SEARCH_EXPANDED\"]\n  };\n}\nfunction doAnalyticsView(uri, timeToStart) {\n  return function (dispatch, getState) {\n    var state = getState();\n    var claim = Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_9__[\"selectClaimForUri\"])(state, uri);\n    var txid = claim.txid,\n        nout = claim.nout,\n        claimId = claim.claim_id;\n    var claimIsMine = Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_9__[\"selectClaimIsMineForUri\"])(state, uri);\n    var outpoint = \"\".concat(txid, \":\").concat(nout);\n\n    if (claimIsMine) {\n      return Promise.resolve();\n    }\n\n    return analytics__WEBPACK_IMPORTED_MODULE_23__[\"default\"].apiLog.view(uri, outpoint, claimId, timeToStart);\n  };\n}\nfunction doAnalyticsBuffer(uri, bufferData) {\n  return function (dispatch, getState) {\n    var isLivestream = bufferData.isLivestream;\n    var state = getState();\n    var claim = Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_9__[\"selectClaimForUri\"])(state, uri);\n    var user = Object(redux_selectors_user__WEBPACK_IMPORTED_MODULE_19__[\"selectUser\"])(state);\n    var _claim$value = claim.value,\n        video = _claim$value.video,\n        audio = _claim$value.audio,\n        source = _claim$value.source;\n    var timeAtBuffer = isLivestream ? 0 : parseInt(bufferData.currentTime * 1000);\n    var bufferDuration = parseInt(bufferData.secondsToLoad * 1000);\n    var fileDurationInSeconds = isLivestream ? 0 : video && video.duration || audio && audio.duration;\n    var fileSize = isLivestream ? 0 : source.size; // size in bytes\n\n    var fileSizeInBits = isLivestream ? '0' : fileSize * 8;\n    var bitRate = isLivestream ? bufferData.bitrateAsBitsPerSecond : parseInt(fileSizeInBits / fileDurationInSeconds);\n    var userId = user && user.id.toString(); // if there's a logged in user, send buffer event data to watchman\n\n    if (userId) {\n      analytics__WEBPACK_IMPORTED_MODULE_23__[\"default\"].video.videoBufferEvent(claim, {\n        isLivestream: isLivestream,\n        timeAtBuffer: timeAtBuffer,\n        bufferDuration: bufferDuration,\n        bitRate: bitRate,\n        userId: userId,\n        duration: fileDurationInSeconds,\n        playerPoweredBy: bufferData.playerPoweredBy,\n        readyState: bufferData.readyState\n      });\n    }\n  };\n}\nfunction doAnaltyicsPurchaseEvent(fileInfo) {\n  return function (dispatch) {\n    var purchasePrice = fileInfo.purchase_receipt && fileInfo.purchase_receipt.amount;\n\n    if (purchasePrice) {\n      var purchaseInt = Number(Number(purchasePrice).toFixed(0));\n      analytics__WEBPACK_IMPORTED_MODULE_23__[\"default\"].event.purchase(purchaseInt);\n    }\n  };\n}\nfunction doSignIn() {\n  return function (dispatch, getState) {\n    dispatch(Object(redux_actions_websocket__WEBPACK_IMPORTED_MODULE_26__[\"doNotificationSocketConnect\"])(true));\n    dispatch(Object(redux_actions_notifications__WEBPACK_IMPORTED_MODULE_14__[\"doNotificationList\"])(null, false));\n    dispatch(Object(redux_actions_claims__WEBPACK_IMPORTED_MODULE_8__[\"doCheckPendingClaims\"])());\n    dispatch(Object(redux_actions_wallet__WEBPACK_IMPORTED_MODULE_11__[\"doBalanceSubscribe\"])());\n    dispatch(Object(redux_actions_claims__WEBPACK_IMPORTED_MODULE_8__[\"doFetchChannelListMine\"])());\n    dispatch(Object(redux_actions_claims__WEBPACK_IMPORTED_MODULE_8__[\"doFetchCollectionListMine\"])());\n  };\n}\n\nfunction clearBeforeUnloadListeners() {\n  var beforeUnloads = Object.values(window.beforeUnloadMap || {});\n  beforeUnloads.forEach(function (x) {\n    window.removeEventListener('beforeunload', x.cb);\n  });\n}\n\nfunction doSignOutAction() {\n  return function _callee(dispatch, getState) {\n    return regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            try {} finally {\n              lbryinc__WEBPACK_IMPORTED_MODULE_13__[\"Lbryio\"].call('user', 'signout').then(util_saved_passwords__WEBPACK_IMPORTED_MODULE_24__[\"doSignOutCleanup\"]).then(function () {\n                return window.persistor.purge();\n              })[\"catch\"](function (err) {\n                analytics__WEBPACK_IMPORTED_MODULE_23__[\"default\"].error(\"`doSignOut`: \".concat(err.message || err));\n              })[\"finally\"](function () {\n                return location.reload();\n              });\n            }\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  };\n}\n\nfunction doSignOut() {\n  return function _callee2(dispatch, getState) {\n    var pendingActions;\n    return regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            pendingActions = Object.values(window.beforeUnloadMap || {});\n\n            if (pendingActions.length > 0) {\n              dispatch(doOpenModal(constants_modal_types__WEBPACK_IMPORTED_MODULE_3__[\"SIGN_OUT\"], {\n                pendingActions: pendingActions.map(function (x) {\n                  return x.msg;\n                }),\n                onConfirm: function onConfirm() {\n                  clearBeforeUnloadListeners();\n                  dispatch(doSignOutAction());\n                }\n              }));\n            } else {\n              dispatch(doSignOutAction());\n            }\n\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    });\n  };\n}\nfunction doSetWelcomeVersion(version) {\n  return {\n    type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"SET_WELCOME_VERSION\"],\n    data: version\n  };\n}\nfunction doSetHasNavigated() {\n  return {\n    type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"SET_HAS_NAVIGATED\"],\n    data: true\n  };\n}\nfunction doToggle3PAnalytics(allowParam, doNotDispatch) {\n  return function (dispatch, getState) {\n    var state = getState();\n    var allowState = Object(redux_selectors_app__WEBPACK_IMPORTED_MODULE_17__[\"selectAllowAnalytics\"])(state);\n    var allow = allowParam !== undefined && allowParam !== null ? allowParam : allowState;\n    analytics__WEBPACK_IMPORTED_MODULE_23__[\"default\"].toggleThirdParty(allow);\n\n    if (!doNotDispatch) {\n      return dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"SET_ALLOW_ANALYTICS\"],\n        data: allow\n      });\n    }\n  };\n}\nfunction doGetAndPopulatePreferences(syncId\n/* ?: number */\n) {\n  var SDK_SYNC_KEYS = constants_shared_preferences__WEBPACK_IMPORTED_MODULE_6__[\"SDK_SYNC_KEYS\"];\n  return function (dispatch, getState) {\n    var state = getState();\n    var syncEnabled = Object(redux_selectors_settings__WEBPACK_IMPORTED_MODULE_18__[\"selectClientSetting\"])(state, constants_settings__WEBPACK_IMPORTED_MODULE_4__[\"ENABLE_SYNC\"]);\n    var hasVerifiedEmail = Object(redux_selectors_user__WEBPACK_IMPORTED_MODULE_19__[\"selectUserVerifiedEmail\"])(state);\n    var preferenceKey; // TODO: the logic should match `runPreferences`, but since this function is\n    // only hit as a successful sync callback, it doesn't matter for now.\n\n    preferenceKey = 'shared';\n\n    function successCb(savedPreferences) {\n      var successState = getState();\n      var daemonSettings = Object(redux_selectors_settings__WEBPACK_IMPORTED_MODULE_18__[\"selectDaemonSettings\"])(successState);\n\n      if (savedPreferences !== null) {\n        if (!Object(redux_actions_sync__WEBPACK_IMPORTED_MODULE_20__[\"syncInvalidated\"])(getState, syncId)) {\n          dispatch(Object(redux_actions_sync__WEBPACK_IMPORTED_MODULE_20__[\"doPopulateSharedUserState\"])(savedPreferences));\n        }\n      } else {\n        dispatch(Object(redux_actions_sync__WEBPACK_IMPORTED_MODULE_20__[\"doSetPrefsReady\"])());\n      }\n\n      return true;\n    }\n\n    function failCb(er) {\n      dispatch(Object(redux_actions_notifications__WEBPACK_IMPORTED_MODULE_14__[\"doToast\"])({\n        isError: true,\n        message: __('Unable to load your saved preferences.')\n      }));\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"SYNC_FATAL_ERROR\"],\n        error: er\n      });\n      return false;\n    }\n\n    return dispatch(Object(redux_actions_sync__WEBPACK_IMPORTED_MODULE_20__[\"doPreferenceGet\"])(preferenceKey, successCb, failCb));\n  };\n}\nfunction doHandleSyncComplete(error, hasNewData, syncId) {\n  return function (dispatch, getState) {\n    if (!error) {\n      if (hasNewData) {\n        if (Object(redux_actions_sync__WEBPACK_IMPORTED_MODULE_20__[\"syncInvalidated\"])(getState, syncId)) {\n          return;\n        }\n\n        dispatch(doGetAndPopulatePreferences(syncId));\n      }\n    } else {\n      // eslint-disable-next-line no-console\n      console.error('Error in doHandleSyncComplete', error);\n    }\n  };\n}\nfunction doToggleInterestedInYoutubeSync() {\n  return {\n    type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"TOGGLE_YOUTUBE_SYNC_INTEREST\"]\n  };\n}\nfunction doToggleSplashAnimation() {\n  return {\n    type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"TOGGLE_SPLASH_ANIMATION\"]\n  };\n}\nfunction doSetActiveChannel(claimId, override) {\n  return function (dispatch, getState) {\n    if (claimId || override) {\n      return dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"SET_ACTIVE_CHANNEL\"],\n        data: {\n          claimId: claimId\n        }\n      });\n    }\n  };\n}\nfunction doSetIncognito(incognitoEnabled) {\n  return {\n    type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"SET_INCOGNITO\"],\n    data: {\n      enabled: incognitoEnabled\n    }\n  };\n}\nfunction doSetAdBlockerFound(found) {\n  return {\n    type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"SET_AD_BLOCKER_FOUND\"],\n    data: found\n  };\n}\nfunction doSetGdprConsentList() {\n  var rawList = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ''; // https://community.cookiepro.com/s/article/UUID-66bcaaf1-c7ca-5f32-6760-c75a1337c226?language=en_US\n\n  var list = rawList.split(',').filter(Boolean);\n  return {\n    type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"SET_GDPR_CONSENT_LIST\"],\n    data: list\n  };\n}\nfunction doToggleAppDrawer(type) {\n  return function (dispatch, getState) {\n    var state = getState();\n    var openDrawer = Object(redux_selectors_app__WEBPACK_IMPORTED_MODULE_17__[\"selectAppDrawerOpen\"])(state);\n    var isOpen = openDrawer && openDrawer === type;\n\n    if (isOpen) {\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"DRAWER_CLOSED\"]\n      });\n    } else {\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"DRAWER_OPENED\"],\n        data: type\n      });\n    }\n  };\n}\nvar doSetMainPlayerDimension = function doSetMainPlayerDimension(dimensions) {\n  return function (dispatch) {\n    return dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_2__[\"SET_MAIN_PLAYER_DIMENSIONS\"],\n      data: dimensions\n    });\n  };\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../web/node_modules/process/browser.js */ \"./node_modules/process/browser.js\"), __webpack_require__(/*! i18n.js */ \"../ui/i18n.js\")[\"__\"]))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvcmVkdXgvYWN0aW9ucy9hcHAuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vdWkvcmVkdXgvYWN0aW9ucy9hcHAuanM/ZWRlMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCB7IE1JTklNVU1fVkVSU0lPTiwgSUdOT1JFX01JTklNVU1fVkVSU0lPTiwgVVJMIH0gZnJvbSAnY29uZmlnJztcbmltcG9ydCAqIGFzIEFDVElPTlMgZnJvbSAnY29uc3RhbnRzL2FjdGlvbl90eXBlcyc7XG5pbXBvcnQgKiBhcyBNT0RBTFMgZnJvbSAnY29uc3RhbnRzL21vZGFsX3R5cGVzJztcbmltcG9ydCAqIGFzIFNFVFRJTkdTIGZyb20gJ2NvbnN0YW50cy9zZXR0aW5ncyc7XG5pbXBvcnQgKiBhcyBEQUVNT05fU0VUVElOR1MgZnJvbSAnY29uc3RhbnRzL2RhZW1vbl9zZXR0aW5ncyc7XG5pbXBvcnQgKiBhcyBTSEFSRURfUFJFRkVSRU5DRVMgZnJvbSAnY29uc3RhbnRzL3NoYXJlZF9wcmVmZXJlbmNlcyc7XG5pbXBvcnQgTGJyeSBmcm9tICdsYnJ5JztcbmltcG9ydCB7IGRvRmV0Y2hDaGFubmVsTGlzdE1pbmUsIGRvRmV0Y2hDb2xsZWN0aW9uTGlzdE1pbmUsIGRvQ2hlY2tQZW5kaW5nQ2xhaW1zIH0gZnJvbSAncmVkdXgvYWN0aW9ucy9jbGFpbXMnO1xuaW1wb3J0IHsgc2VsZWN0Q2xhaW1Gb3JVcmksIHNlbGVjdENsYWltSXNNaW5lRm9yVXJpIH0gZnJvbSAncmVkdXgvc2VsZWN0b3JzL2NsYWltcyc7XG5pbXBvcnQgeyBkb0ZldGNoRmlsZUluZm9zIH0gZnJvbSAncmVkdXgvYWN0aW9ucy9maWxlX2luZm8nO1xuaW1wb3J0IHsgZG9DbGVhclN1cHBvcnQsIGRvQmFsYW5jZVN1YnNjcmliZSB9IGZyb20gJ3JlZHV4L2FjdGlvbnMvd2FsbGV0JztcbmltcG9ydCB7IGRvQ2xlYXJQdWJsaXNoIH0gZnJvbSAncmVkdXgvYWN0aW9ucy9wdWJsaXNoJztcbmltcG9ydCB7IExicnlpbyB9IGZyb20gJ2xicnlpbmMnO1xuaW1wb3J0IHsgZG9Ub2FzdCwgZG9FcnJvciwgZG9Ob3RpZmljYXRpb25MaXN0IH0gZnJvbSAncmVkdXgvYWN0aW9ucy9ub3RpZmljYXRpb25zJztcblxuaW1wb3J0IE5hdGl2ZSBmcm9tICduYXRpdmUnO1xuaW1wb3J0IHtcbiAgZG9GZXRjaERhZW1vblNldHRpbmdzLFxuICBkb1NldEF1dG9MYXVuY2gsXG4gIGRvU2V0RGFlbW9uU2V0dGluZyxcbiAgZG9GaW5kRkZtcGVnLFxuICBkb0dldERhZW1vblN0YXR1cyxcbn0gZnJvbSAncmVkdXgvYWN0aW9ucy9zZXR0aW5ncyc7XG5pbXBvcnQge1xuICBzZWxlY3RJc1VwZ3JhZGVTa2lwcGVkLFxuICBzZWxlY3RVcGRhdGVVcmwsXG4gIHNlbGVjdFVwZ3JhZGVEb3dubG9hZEl0ZW0sXG4gIHNlbGVjdFVwZ3JhZGVEb3dubG9hZFBhdGgsXG4gIHNlbGVjdFVwZ3JhZGVGaWxlbmFtZSxcbiAgc2VsZWN0QXV0b1VwZGF0ZURlY2xpbmVkLFxuICBzZWxlY3RSZW1vdGVWZXJzaW9uLFxuICBzZWxlY3RVcGdyYWRlVGltZXIsXG4gIHNlbGVjdE1vZGFsLFxuICBzZWxlY3RBbGxvd0FuYWx5dGljcyxcbiAgc2VsZWN0QXBwRHJhd2VyT3Blbixcbn0gZnJvbSAncmVkdXgvc2VsZWN0b3JzL2FwcCc7XG5pbXBvcnQgeyBzZWxlY3REYWVtb25TZXR0aW5ncywgc2VsZWN0Q2xpZW50U2V0dGluZyB9IGZyb20gJ3JlZHV4L3NlbGVjdG9ycy9zZXR0aW5ncyc7XG5pbXBvcnQgeyBzZWxlY3RVc2VyLCBzZWxlY3RVc2VyVmVyaWZpZWRFbWFpbCB9IGZyb20gJ3JlZHV4L3NlbGVjdG9ycy91c2VyJztcbmltcG9ydCB7IGRvU2V0UHJlZnNSZWFkeSwgZG9QcmVmZXJlbmNlR2V0LCBkb1BvcHVsYXRlU2hhcmVkVXNlclN0YXRlLCBzeW5jSW52YWxpZGF0ZWQgfSBmcm9tICdyZWR1eC9hY3Rpb25zL3N5bmMnO1xuaW1wb3J0IHsgZG9BdXRoZW50aWNhdGUgfSBmcm9tICdyZWR1eC9hY3Rpb25zL3VzZXInO1xuaW1wb3J0IHsgbGJyeVNldHRpbmdzIGFzIGNvbmZpZywgdmVyc2lvbiBhcyBhcHBWZXJzaW9uIH0gZnJvbSAncGFja2FnZS5qc29uJztcbmltcG9ydCBhbmFseXRpY3MgZnJvbSAnYW5hbHl0aWNzJztcbmltcG9ydCB7IGRvU2lnbk91dENsZWFudXAgfSBmcm9tICd1dGlsL3NhdmVkLXBhc3N3b3Jkcyc7XG5pbXBvcnQgeyBMb2NhbFN0b3JhZ2UsIExTIH0gZnJvbSAndXRpbC9zdG9yYWdlJztcbmltcG9ydCB7IGRvTm90aWZpY2F0aW9uU29ja2V0Q29ubmVjdCB9IGZyb20gJ3JlZHV4L2FjdGlvbnMvd2Vic29ja2V0JztcbmltcG9ydCB7IHN0cmluZ2lmeVNlcnZlclBhcmFtLCBzaG91bGRTZXRTZXR0aW5nIH0gZnJvbSAndXRpbC9zeW5jLXNldHRpbmdzJztcblxuXG5jb25zdCBDSEVDS19VUEdSQURFX0lOVEVSVkFMID0gMTAgKiA2MCAqIDEwMDA7XG5cbmV4cG9ydCBmdW5jdGlvbiBkb09wZW5Nb2RhbChpZCwgbW9kYWxQcm9wcyA9IHt9KSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQUNUSU9OUy5TSE9XX01PREFMLFxuICAgIGRhdGE6IHtcbiAgICAgIGlkLFxuICAgICAgbW9kYWxQcm9wcyxcbiAgICB9LFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG9IaWRlTW9kYWwoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQUNUSU9OUy5ISURFX01PREFMLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG9VcGRhdGVEb3dubG9hZFByb2dyZXNzKHBlcmNlbnQpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBBQ1RJT05TLlVQR1JBREVfRE9XTkxPQURfUFJPR1JFU1NFRCxcbiAgICBkYXRhOiB7XG4gICAgICBwZXJjZW50LFxuICAgIH0sXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb1NraXBVcGdyYWRlKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFDVElPTlMuU0tJUF9VUEdSQURFLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG9TdGFydFVwZ3JhZGUoKSB7XG4gIHJldHVybiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IHVwZ3JhZGVEb3dubG9hZFBhdGggPSBzZWxlY3RVcGdyYWRlRG93bmxvYWRQYXRoKHN0YXRlKTtcblxuICAgIGlwY1JlbmRlcmVyLnNlbmQoJ3VwZ3JhZGUnLCB1cGdyYWRlRG93bmxvYWRQYXRoKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvRG93bmxvYWRVcGdyYWRlKCkge1xuICByZXR1cm4gKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG9Eb3dubG9hZFVwZ3JhZGVSZXF1ZXN0ZWQoKSB7XG4gIC8vIFRoaXMgbWVhbnMgdGhlIHVzZXIgcmVxdWVzdGVkIGFuIHVwZ3JhZGUgYnkgY2xpY2tpbmcgdGhlIFwidXBncmFkZVwiIGJ1dHRvbiBpbiB0aGUgbmF2YmFyLlxuICAvLyBJZiBvbiBNYWMgYW5kIFdpbmRvd3MsIHdlIGRvIHNvbWUgbmV3IGJlaGF2aW9yIGZvciB0aGUgYXV0by11cGRhdGUgc3lzdGVtLlxuICAvLyBUaGlzIHdpbGwgcHJvYmFibHkgYmUgcmVvcmdhbml6ZWQgb25jZSB3ZSBnZXQgYXV0by11cGRhdGUgZ29pbmcgb24gTGludXggYW5kIHJlbW92ZVxuICAvLyB0aGUgb2xkIGxvZ2ljLlxuXG4gIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICBpZiAoWyd3aW4zMicsICdkYXJ3aW4nXS5pbmNsdWRlcyhwcm9jZXNzLnBsYXRmb3JtKSB8fCAhIXByb2Nlc3MuZW52LkFQUElNQUdFKSB7XG4gICAgICAvLyBlbGVjdHJvbi11cGRhdGVyIGJlaGF2aW9yXG4gICAgICBkaXNwYXRjaChkb09wZW5Nb2RhbChNT0RBTFMuQVVUT19VUERBVEVfRE9XTkxPQURFRCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBPbGQgYmVoYXZpb3IgZm9yIExpbnV4XG4gICAgICBkaXNwYXRjaChkb0Rvd25sb2FkVXBncmFkZSgpKTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb0NsZWFyVXBncmFkZVRpbWVyKCkge1xuICByZXR1cm4gKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gZ2V0U3RhdGUoKTtcblxuICAgIGlmIChzZWxlY3RVcGdyYWRlVGltZXIoc3RhdGUpKSB7XG4gICAgICBjbGVhckludGVydmFsKHNlbGVjdFVwZ3JhZGVUaW1lcihzdGF0ZSkpO1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBBQ1RJT05TLkNMRUFSX1VQR1JBREVfVElNRVIsXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb0F1dG9VcGRhdGUoKSB7XG4gIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBQ1RJT05TLkFVVE9fVVBEQVRFX0RPV05MT0FERUQsXG4gICAgfSk7XG5cbiAgICBkaXNwYXRjaChkb09wZW5Nb2RhbChNT0RBTFMuQVVUT19VUERBVEVfRE9XTkxPQURFRCkpO1xuXG4gICAgZGlzcGF0Y2goZG9DbGVhclVwZ3JhZGVUaW1lcigpKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvQXV0b1VwZGF0ZURlY2xpbmVkKCkge1xuICByZXR1cm4gKGRpc3BhdGNoKSA9PiB7XG4gICAgZGlzcGF0Y2goZG9DbGVhclVwZ3JhZGVUaW1lcigpKTtcblxuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEFDVElPTlMuQVVUT19VUERBVEVfREVDTElORUQsXG4gICAgfSk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb0NhbmNlbFVwZ3JhZGUoKSB7XG4gIHJldHVybiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IHVwZ3JhZGVEb3dubG9hZEl0ZW0gPSBzZWxlY3RVcGdyYWRlRG93bmxvYWRJdGVtKHN0YXRlKTtcblxuICAgIGlmICh1cGdyYWRlRG93bmxvYWRJdGVtKSB7XG4gICAgICAvKlxuICAgICAgICogUmlnaHQgbm93IHRoZSByZW1vdGUgcmVmZXJlbmNlIHRvIHRoZSBkb3dubG9hZCBpdGVtIGdldHMgZ2FyYmFnZSBjb2xsZWN0ZWQgYXMgc29vbiBhcyB0aGVcbiAgICAgICAqIHRoZSBkb3dubG9hZCBpcyBvdmVyIChtYXliZSBldmVuIGVhcmxpZXIpLCBzbyB0cnlpbmcgdG8gY2FuY2VsIGEgZmluaXNoZWQgZG93bmxvYWQgbWF5XG4gICAgICAgKiB0aHJvdyBhbiBlcnJvci5cbiAgICAgICAqL1xuICAgICAgdHJ5IHtcbiAgICAgICAgdXBncmFkZURvd25sb2FkSXRlbS5jYW5jZWwoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgfVxuICAgIH1cblxuICAgIGRpc3BhdGNoKHsgdHlwZTogQUNUSU9OUy5VUEdSQURFX0NBTkNFTExFRCB9KTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvQ2hlY2tVcGdyYWRlQXZhaWxhYmxlKCkge1xuICByZXR1cm4gKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBQ1RJT05TLkNIRUNLX1VQR1JBREVfU1RBUlQsXG4gICAgfSk7XG5cbiAgICBpZiAoWyd3aW4zMicsICdkYXJ3aW4nXS5pbmNsdWRlcyhwcm9jZXNzLnBsYXRmb3JtKSB8fCAhIXByb2Nlc3MuZW52LkFQUElNQUdFKSB7XG4gICAgICAvLyBPbiBXaW5kb3dzLCBNYWMsIGFuZCBBcHBJbWFnZSwgdXBkYXRlcyBoYXBwZW4gc2lsZW50bHkgdGhyb3VnaFxuICAgICAgLy8gZWxlY3Ryb24tdXBkYXRlci5cbiAgICAgIGNvbnN0IGF1dG9VcGRhdGVEZWNsaW5lZCA9IHNlbGVjdEF1dG9VcGRhdGVEZWNsaW5lZChzdGF0ZSk7XG5cbiAgICAgIGlmICghYXV0b1VwZGF0ZURlY2xpbmVkICYmICFpc0Rldikge1xuICAgICAgICBhdXRvVXBkYXRlci5jaGVja0ZvclVwZGF0ZXMoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzdWNjZXNzID0gKHsgcmVtb3RlVmVyc2lvbiwgdXBncmFkZUF2YWlsYWJsZSB9KSA9PiB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IEFDVElPTlMuQ0hFQ0tfVVBHUkFERV9TVUNDRVNTLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdXBncmFkZUF2YWlsYWJsZSxcbiAgICAgICAgICByZW1vdGVWZXJzaW9uLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChcbiAgICAgICAgdXBncmFkZUF2YWlsYWJsZSAmJlxuICAgICAgICAhc2VsZWN0TW9kYWwoc3RhdGUpICYmXG4gICAgICAgICghc2VsZWN0SXNVcGdyYWRlU2tpcHBlZChzdGF0ZSkgfHwgcmVtb3RlVmVyc2lvbiAhPT0gc2VsZWN0UmVtb3RlVmVyc2lvbihzdGF0ZSkpXG4gICAgICApIHtcbiAgICAgICAgZGlzcGF0Y2goZG9PcGVuTW9kYWwoTU9EQUxTLlVQR1JBREUpKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZmFpbCA9ICgpID0+IHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogQUNUSU9OUy5DSEVDS19VUEdSQURFX0ZBSUwsXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgTmF0aXZlLmdldEFwcFZlcnNpb25JbmZvKCkudGhlbihzdWNjZXNzLCBmYWlsKTtcbiAgfTtcbn1cblxuLypcbiAgSW5pdGlhdGUgYSB0aW1lciB0aGF0IHdpbGwgY2hlY2sgZm9yIGFuIGFwcCB1cGdyYWRlIGV2ZXJ5IDEwIG1pbnV0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkb0NoZWNrVXBncmFkZVN1YnNjcmliZSgpIHtcbiAgcmV0dXJuIChkaXNwYXRjaCkgPT4ge1xuICAgIGNvbnN0IGNoZWNrVXBncmFkZVRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4gZGlzcGF0Y2goZG9DaGVja1VwZ3JhZGVBdmFpbGFibGUoKSksIENIRUNLX1VQR1JBREVfSU5URVJWQUwpO1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEFDVElPTlMuQ0hFQ0tfVVBHUkFERV9TVUJTQ1JJQkUsXG4gICAgICBkYXRhOiB7IGNoZWNrVXBncmFkZVRpbWVyIH0sXG4gICAgfSk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb01pblZlcnNpb25DaGVjaygpIHtcbiAgcmV0dXJuIChkaXNwYXRjaCkgPT4ge1xuICAgIGZldGNoKGAke1VSTH0vJC9taW5WZXJzaW9uL3YxL2dldGApXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAgIC50aGVuKChqc29uKSA9PiB7XG4gICAgICAgIGlmIChqc29uPy5zdGF0dXMgPT09ICdzdWNjZXNzJyAmJiBqc29uPy5kYXRhICYmIE1JTklNVU1fVkVSU0lPTikge1xuICAgICAgICAgIGNvbnN0IGxpdmVNaW5pbXVtVmVyc2lvbiA9IE51bWJlcihqc29uLmRhdGEpO1xuICAgICAgICAgIGlmIChsaXZlTWluaW11bVZlcnNpb24gPiBNSU5JTVVNX1ZFUlNJT04pIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogQUNUSU9OUy5SRUxPQURfUkVRVUlSRUQgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgfSk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb01pblZlcnNpb25TdWJzY3JpYmUoKSB7XG4gIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICBpZiAoSUdOT1JFX01JTklNVU1fVkVSU0lPTiA9PT0gJ3RydWUnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGlzcGF0Y2goZG9NaW5WZXJzaW9uQ2hlY2soKSk7XG4gICAgY29uc3QgQ0hFQ0tfVVBHUkFERV9JTlRFUlZBTF9NUyA9IDYwICogNjAgKiAxMDAwO1xuICAgIHNldEludGVydmFsKCgpID0+IGRpc3BhdGNoKGRvTWluVmVyc2lvbkNoZWNrKCkpLCBDSEVDS19VUEdSQURFX0lOVEVSVkFMX01TKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvQ2hlY2tEYWVtb25WZXJzaW9uKCkge1xuICByZXR1cm4gKGRpc3BhdGNoKSA9PiB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQUNUSU9OUy5EQUVNT05fVkVSU0lPTl9NQVRDSCxcbiAgICB9KTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvTm90aWZ5RW5jcnlwdFdhbGxldCgpIHtcbiAgcmV0dXJuIChkaXNwYXRjaCkgPT4ge1xuICAgIGRpc3BhdGNoKGRvT3Blbk1vZGFsKE1PREFMUy5XQUxMRVRfRU5DUllQVCkpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG9Ob3RpZnlEZWNyeXB0V2FsbGV0KCkge1xuICByZXR1cm4gKGRpc3BhdGNoKSA9PiB7XG4gICAgZGlzcGF0Y2goZG9PcGVuTW9kYWwoTU9EQUxTLldBTExFVF9ERUNSWVBUKSk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb05vdGlmeVVubG9ja1dhbGxldCgpIHtcbiAgcmV0dXJuIChkaXNwYXRjaCkgPT4ge1xuICAgIGRpc3BhdGNoKGRvT3Blbk1vZGFsKE1PREFMUy5XQUxMRVRfVU5MT0NLKSk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb05vdGlmeUZvcmdldFBhc3N3b3JkKHByb3BzKSB7XG4gIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICBkaXNwYXRjaChkb09wZW5Nb2RhbChNT0RBTFMuV0FMTEVUX1BBU1NXT1JEX1VOU0FWRSwgcHJvcHMpKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvQWxlcnRFcnJvcihlcnJvckxpc3QpIHtcbiAgcmV0dXJuIChkaXNwYXRjaCkgPT4ge1xuICAgIGRpc3BhdGNoKGRvRXJyb3IoZXJyb3JMaXN0KSk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb0FsZXJ0V2FpdGluZ0ZvclN5bmMoKSB7XG4gIHJldHVybiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGF1dGhlbnRpY2F0ZWQgPSBzZWxlY3RVc2VyVmVyaWZpZWRFbWFpbChzdGF0ZSk7XG5cbiAgICBkaXNwYXRjaChcbiAgICAgIGRvVG9hc3Qoe1xuICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgICFhdXRoZW50aWNhdGVkICYmIElTX1dFQlxuICAgICAgICAgICAgPyBfXygnU2lnbiBpbiBvciBjcmVhdGUgYW4gYWNjb3VudCB0byBjaGFuZ2UgdGhpcyBzZXR0aW5nLicpXG4gICAgICAgICAgICA6IF9fKCdQbGVhc2Ugd2FpdCBhIGJpdCwgd2UgYXJlIHN0aWxsIGdldHRpbmcgeW91ciBhY2NvdW50IHJlYWR5LicpLFxuICAgICAgICBpc0Vycm9yOiBmYWxzZSxcbiAgICAgIH0pXG4gICAgKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvRGFlbW9uUmVhZHkoKSB7XG4gIHJldHVybiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuXG4gICAgLy8gVE9ETzogY2FsbCBkb0ZldGNoRGFlbW9uU2V0dGluZ3MsIHRoZW4gZ2V0IHVzYWdlIGRhdGEsIGFuZCBjYWxsIGRvQXV0aGVudGljYXRlIG9uY2UgdGhleSBhcmUgbG9hZGVkIGludG8gdGhlIHN0b3JlXG4gICAgY29uc3Qgc2hhcmVVc2FnZURhdGEgPSBJU19XRUIgfHwgTG9jYWxTdG9yYWdlLmdldEl0ZW0oTFMuU0hBUkVfSU5URVJOQUwpID09PSAndHJ1ZSc7XG5cbiAgICBkaXNwYXRjaChcbiAgICAgIGRvQXV0aGVudGljYXRlKFxuICAgICAgICBhcHBWZXJzaW9uLFxuICAgICAgICBzaGFyZVVzYWdlRGF0YSxcbiAgICAgICAgKHN0YXR1cykgPT4ge1xuICAgICAgICAgIGNvbnN0IHRyZW5kaW5nQWxnb3JpdGhtID1cbiAgICAgICAgICAgIHN0YXR1cyAmJlxuICAgICAgICAgICAgc3RhdHVzLndhbGxldCAmJlxuICAgICAgICAgICAgc3RhdHVzLndhbGxldC5jb25uZWN0ZWRfZmVhdHVyZXMgJiZcbiAgICAgICAgICAgIHN0YXR1cy53YWxsZXQuY29ubmVjdGVkX2ZlYXR1cmVzLnRyZW5kaW5nX2FsZ29yaXRobTtcblxuICAgICAgICAgIGlmICh0cmVuZGluZ0FsZ29yaXRobSkge1xuICAgICAgICAgICAgYW5hbHl0aWNzLmV2ZW50LnRyZW5kaW5nQWxnb3JpdGhtKHRyZW5kaW5nQWxnb3JpdGhtKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHVuZGVmaW5lZFxuICAgICAgKVxuICAgICk7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBBQ1RJT05TLkRBRU1PTl9SRUFEWSB9KTtcblxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG9DbGVhckNhY2hlKCkge1xuICByZXR1cm4gKGRpc3BhdGNoKSA9PiB7XG4gICAgLy8gTmVlZCB0byB1cGRhdGUgdGhpcyB0byB3b3JrIHdpdGggbmV3IHZlcnNpb24gb2YgcmVkdXgtcGVyc2lzdFxuICAgIC8vIExlYXZpbmcgZm9yIG5vd1xuICAgIC8vIGNvbnN0IHJlZHVjZXJzVG9DbGVhciA9IHdoaXRlTGlzdGVkUmVkdWNlcnMuZmlsdGVyKHJlZHVjZXJLZXkgPT4gcmVkdWNlcktleSAhPT0gJ3RhZ3MnKTtcbiAgICAvLyB3aW5kb3cuY2FjaGVTdG9yZS5wdXJnZShyZWR1Y2Vyc1RvQ2xlYXIpO1xuICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5jbGVhcigpO1xuICAgIGRpc3BhdGNoKGRvQ2xlYXJTdXBwb3J0KCkpO1xuICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICByZXR1cm4gZGlzcGF0Y2goZG9DbGVhclB1Ymxpc2goKSk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb1F1aXQoKSB7XG4gIHJldHVybiAoKSA9PiB7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb1F1aXRBbnlEYWVtb24oKSB7XG4gIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvQ2hhbmdlVm9sdW1lKHZvbHVtZSkge1xuICByZXR1cm4gKGRpc3BhdGNoKSA9PiB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQUNUSU9OUy5WT0xVTUVfQ0hBTkdFRCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdm9sdW1lLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvQ2hhbmdlTXV0ZShtdXRlZCkge1xuICByZXR1cm4gKGRpc3BhdGNoKSA9PiB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQUNUSU9OUy5WT0xVTUVfTVVURUQsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIG11dGVkLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvQ2xpY2tDb21tZW50QnV0dG9uKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFDVElPTlMuQUREX0NPTU1FTlQsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb1RvZ2dsZVNlYXJjaEV4cGFuZGVkKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFDVElPTlMuVE9HR0xFX1NFQVJDSF9FWFBBTkRFRCxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvQW5hbHl0aWNzVmlldyh1cmksIHRpbWVUb1N0YXJ0KSB7XG4gIHJldHVybiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGNsYWltID0gc2VsZWN0Q2xhaW1Gb3JVcmkoc3RhdGUsIHVyaSk7XG4gICAgY29uc3QgeyB0eGlkLCBub3V0LCBjbGFpbV9pZDogY2xhaW1JZCB9ID0gY2xhaW07XG4gICAgY29uc3QgY2xhaW1Jc01pbmUgPSBzZWxlY3RDbGFpbUlzTWluZUZvclVyaShzdGF0ZSwgdXJpKTtcbiAgICBjb25zdCBvdXRwb2ludCA9IGAke3R4aWR9OiR7bm91dH1gO1xuXG4gICAgaWYgKGNsYWltSXNNaW5lKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFuYWx5dGljcy5hcGlMb2cudmlldyh1cmksIG91dHBvaW50LCBjbGFpbUlkLCB0aW1lVG9TdGFydCk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb0FuYWx5dGljc0J1ZmZlcih1cmksIGJ1ZmZlckRhdGEpIHtcbiAgcmV0dXJuIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCBpc0xpdmVzdHJlYW0gPSBidWZmZXJEYXRhLmlzTGl2ZXN0cmVhbTtcbiAgICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gICAgY29uc3QgY2xhaW0gPSBzZWxlY3RDbGFpbUZvclVyaShzdGF0ZSwgdXJpKTtcbiAgICBjb25zdCB1c2VyID0gc2VsZWN0VXNlcihzdGF0ZSk7XG4gICAgY29uc3Qge1xuICAgICAgdmFsdWU6IHsgdmlkZW8sIGF1ZGlvLCBzb3VyY2UgfSxcbiAgICB9ID0gY2xhaW07XG4gICAgY29uc3QgdGltZUF0QnVmZmVyID0gaXNMaXZlc3RyZWFtID8gMCA6IHBhcnNlSW50KGJ1ZmZlckRhdGEuY3VycmVudFRpbWUgKiAxMDAwKTtcbiAgICBjb25zdCBidWZmZXJEdXJhdGlvbiA9IHBhcnNlSW50KGJ1ZmZlckRhdGEuc2Vjb25kc1RvTG9hZCAqIDEwMDApO1xuICAgIGNvbnN0IGZpbGVEdXJhdGlvbkluU2Vjb25kcyA9IGlzTGl2ZXN0cmVhbSA/IDAgOiAodmlkZW8gJiYgdmlkZW8uZHVyYXRpb24pIHx8IChhdWRpbyAmJiBhdWRpby5kdXJhdGlvbik7XG4gICAgY29uc3QgZmlsZVNpemUgPSBpc0xpdmVzdHJlYW0gPyAwIDogc291cmNlLnNpemU7IC8vIHNpemUgaW4gYnl0ZXNcbiAgICBjb25zdCBmaWxlU2l6ZUluQml0cyA9IGlzTGl2ZXN0cmVhbSA/ICcwJyA6IGZpbGVTaXplICogODtcbiAgICBjb25zdCBiaXRSYXRlID0gaXNMaXZlc3RyZWFtID8gYnVmZmVyRGF0YS5iaXRyYXRlQXNCaXRzUGVyU2Vjb25kIDogcGFyc2VJbnQoZmlsZVNpemVJbkJpdHMgLyBmaWxlRHVyYXRpb25JblNlY29uZHMpO1xuICAgIGNvbnN0IHVzZXJJZCA9IHVzZXIgJiYgdXNlci5pZC50b1N0cmluZygpO1xuICAgIC8vIGlmIHRoZXJlJ3MgYSBsb2dnZWQgaW4gdXNlciwgc2VuZCBidWZmZXIgZXZlbnQgZGF0YSB0byB3YXRjaG1hblxuICAgIGlmICh1c2VySWQpIHtcbiAgICAgIGFuYWx5dGljcy52aWRlby52aWRlb0J1ZmZlckV2ZW50KGNsYWltLCB7XG4gICAgICAgIGlzTGl2ZXN0cmVhbSxcbiAgICAgICAgdGltZUF0QnVmZmVyLFxuICAgICAgICBidWZmZXJEdXJhdGlvbixcbiAgICAgICAgYml0UmF0ZSxcbiAgICAgICAgdXNlcklkLFxuICAgICAgICBkdXJhdGlvbjogZmlsZUR1cmF0aW9uSW5TZWNvbmRzLFxuICAgICAgICBwbGF5ZXJQb3dlcmVkQnk6IGJ1ZmZlckRhdGEucGxheWVyUG93ZXJlZEJ5LFxuICAgICAgICByZWFkeVN0YXRlOiBidWZmZXJEYXRhLnJlYWR5U3RhdGUsXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb0FuYWx0eWljc1B1cmNoYXNlRXZlbnQoZmlsZUluZm8pIHtcbiAgcmV0dXJuIChkaXNwYXRjaCkgPT4ge1xuICAgIGxldCBwdXJjaGFzZVByaWNlID0gZmlsZUluZm8ucHVyY2hhc2VfcmVjZWlwdCAmJiBmaWxlSW5mby5wdXJjaGFzZV9yZWNlaXB0LmFtb3VudDtcbiAgICBpZiAocHVyY2hhc2VQcmljZSkge1xuICAgICAgY29uc3QgcHVyY2hhc2VJbnQgPSBOdW1iZXIoTnVtYmVyKHB1cmNoYXNlUHJpY2UpLnRvRml4ZWQoMCkpO1xuICAgICAgYW5hbHl0aWNzLmV2ZW50LnB1cmNoYXNlKHB1cmNoYXNlSW50KTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb1NpZ25JbigpIHtcbiAgcmV0dXJuIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBkaXNwYXRjaChkb05vdGlmaWNhdGlvblNvY2tldENvbm5lY3QodHJ1ZSkpO1xuICAgIGRpc3BhdGNoKGRvTm90aWZpY2F0aW9uTGlzdChudWxsLCBmYWxzZSkpO1xuICAgIGRpc3BhdGNoKGRvQ2hlY2tQZW5kaW5nQ2xhaW1zKCkpO1xuICAgIGRpc3BhdGNoKGRvQmFsYW5jZVN1YnNjcmliZSgpKTtcbiAgICBkaXNwYXRjaChkb0ZldGNoQ2hhbm5lbExpc3RNaW5lKCkpO1xuICAgIGRpc3BhdGNoKGRvRmV0Y2hDb2xsZWN0aW9uTGlzdE1pbmUoKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNsZWFyQmVmb3JlVW5sb2FkTGlzdGVuZXJzKCkge1xuICBjb25zdCBiZWZvcmVVbmxvYWRzID0gT2JqZWN0LnZhbHVlcyh3aW5kb3cuYmVmb3JlVW5sb2FkTWFwIHx8IHt9KTtcbiAgYmVmb3JlVW5sb2Fkcy5mb3JFYWNoKCh4KSA9PiB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIHguY2IpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZG9TaWduT3V0QWN0aW9uKCkge1xuICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgIHRyeSB7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIExicnlpby5jYWxsKCd1c2VyJywgJ3NpZ25vdXQnKVxuICAgICAgICAudGhlbihkb1NpZ25PdXRDbGVhbnVwKVxuXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICByZXR1cm4gd2luZG93LnBlcnNpc3Rvci5wdXJnZSgpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGFuYWx5dGljcy5lcnJvcihgXFxgZG9TaWduT3V0XFxgOiAke2Vyci5tZXNzYWdlIHx8IGVycn1gKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4gbG9jYXRpb24ucmVsb2FkKCkpO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvU2lnbk91dCgpIHtcbiAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCBwZW5kaW5nQWN0aW9ucyA9IE9iamVjdC52YWx1ZXMod2luZG93LmJlZm9yZVVubG9hZE1hcCB8fCB7fSk7XG4gICAgaWYgKHBlbmRpbmdBY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBkb09wZW5Nb2RhbChNT0RBTFMuU0lHTl9PVVQsIHtcbiAgICAgICAgICBwZW5kaW5nQWN0aW9uczogcGVuZGluZ0FjdGlvbnMubWFwKCh4KSA9PiB4Lm1zZyksXG4gICAgICAgICAgb25Db25maXJtOiAoKSA9PiB7XG4gICAgICAgICAgICBjbGVhckJlZm9yZVVubG9hZExpc3RlbmVycygpO1xuICAgICAgICAgICAgZGlzcGF0Y2goZG9TaWduT3V0QWN0aW9uKCkpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBkaXNwYXRjaChkb1NpZ25PdXRBY3Rpb24oKSk7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG9TZXRXZWxjb21lVmVyc2lvbih2ZXJzaW9uKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQUNUSU9OUy5TRVRfV0VMQ09NRV9WRVJTSU9OLFxuICAgIGRhdGE6IHZlcnNpb24sXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb1NldEhhc05hdmlnYXRlZCgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBBQ1RJT05TLlNFVF9IQVNfTkFWSUdBVEVELFxuICAgIGRhdGE6IHRydWUsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb1RvZ2dsZTNQQW5hbHl0aWNzKGFsbG93UGFyYW0sIGRvTm90RGlzcGF0Y2gpIHtcbiAgcmV0dXJuIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gICAgY29uc3QgYWxsb3dTdGF0ZSA9IHNlbGVjdEFsbG93QW5hbHl0aWNzKHN0YXRlKTtcbiAgICBjb25zdCBhbGxvdyA9IGFsbG93UGFyYW0gIT09IHVuZGVmaW5lZCAmJiBhbGxvd1BhcmFtICE9PSBudWxsID8gYWxsb3dQYXJhbSA6IGFsbG93U3RhdGU7XG4gICAgYW5hbHl0aWNzLnRvZ2dsZVRoaXJkUGFydHkoYWxsb3cpO1xuICAgIGlmICghZG9Ob3REaXNwYXRjaCkge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogQUNUSU9OUy5TRVRfQUxMT1dfQU5BTFlUSUNTLFxuICAgICAgICBkYXRhOiBhbGxvdyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvR2V0QW5kUG9wdWxhdGVQcmVmZXJlbmNlcyhzeW5jSWQgLyogPzogbnVtYmVyICovKSB7XG4gIGNvbnN0IHsgU0RLX1NZTkNfS0VZUyB9ID0gU0hBUkVEX1BSRUZFUkVOQ0VTO1xuXG4gIHJldHVybiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IHN5bmNFbmFibGVkID0gc2VsZWN0Q2xpZW50U2V0dGluZyhzdGF0ZSwgU0VUVElOR1MuRU5BQkxFX1NZTkMpO1xuICAgIGNvbnN0IGhhc1ZlcmlmaWVkRW1haWwgPSBzZWxlY3RVc2VyVmVyaWZpZWRFbWFpbChzdGF0ZSk7XG4gICAgbGV0IHByZWZlcmVuY2VLZXk7XG4gICAgLy8gVE9ETzogdGhlIGxvZ2ljIHNob3VsZCBtYXRjaCBgcnVuUHJlZmVyZW5jZXNgLCBidXQgc2luY2UgdGhpcyBmdW5jdGlvbiBpc1xuICAgIC8vIG9ubHkgaGl0IGFzIGEgc3VjY2Vzc2Z1bCBzeW5jIGNhbGxiYWNrLCBpdCBkb2Vzbid0IG1hdHRlciBmb3Igbm93LlxuICAgIHByZWZlcmVuY2VLZXkgPSAnc2hhcmVkJztcblxuICAgIGZ1bmN0aW9uIHN1Y2Nlc3NDYihzYXZlZFByZWZlcmVuY2VzKSB7XG4gICAgICBjb25zdCBzdWNjZXNzU3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgICAgY29uc3QgZGFlbW9uU2V0dGluZ3MgPSBzZWxlY3REYWVtb25TZXR0aW5ncyhzdWNjZXNzU3RhdGUpO1xuICAgICAgaWYgKHNhdmVkUHJlZmVyZW5jZXMgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKCFzeW5jSW52YWxpZGF0ZWQoZ2V0U3RhdGUsIHN5bmNJZCkpIHtcbiAgICAgICAgICBkaXNwYXRjaChkb1BvcHVsYXRlU2hhcmVkVXNlclN0YXRlKHNhdmVkUHJlZmVyZW5jZXMpKTtcbiAgICAgICAgfVxuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaXNwYXRjaChkb1NldFByZWZzUmVhZHkoKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmYWlsQ2IoZXIpIHtcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBkb1RvYXN0KHtcbiAgICAgICAgICBpc0Vycm9yOiB0cnVlLFxuICAgICAgICAgIG1lc3NhZ2U6IF9fKCdVbmFibGUgdG8gbG9hZCB5b3VyIHNhdmVkIHByZWZlcmVuY2VzLicpLFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBBQ1RJT05TLlNZTkNfRkFUQUxfRVJST1IsXG4gICAgICAgIGVycm9yOiBlcixcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRpc3BhdGNoKGRvUHJlZmVyZW5jZUdldChwcmVmZXJlbmNlS2V5LCBzdWNjZXNzQ2IsIGZhaWxDYikpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG9IYW5kbGVTeW5jQ29tcGxldGUoZXJyb3IsIGhhc05ld0RhdGEsIHN5bmNJZCkge1xuICByZXR1cm4gKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgIGlmICghZXJyb3IpIHtcbiAgICAgIGlmIChoYXNOZXdEYXRhKSB7XG4gICAgICAgIGlmIChzeW5jSW52YWxpZGF0ZWQoZ2V0U3RhdGUsIHN5bmNJZCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwYXRjaChkb0dldEFuZFBvcHVsYXRlUHJlZmVyZW5jZXMoc3luY0lkKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBkb0hhbmRsZVN5bmNDb21wbGV0ZScsIGVycm9yKTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb1RvZ2dsZUludGVyZXN0ZWRJbllvdXR1YmVTeW5jKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFDVElPTlMuVE9HR0xFX1lPVVRVQkVfU1lOQ19JTlRFUkVTVCxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvVG9nZ2xlU3BsYXNoQW5pbWF0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFDVElPTlMuVE9HR0xFX1NQTEFTSF9BTklNQVRJT04sXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb1NldEFjdGl2ZUNoYW5uZWwoY2xhaW1JZCwgb3ZlcnJpZGUpIHtcbiAgcmV0dXJuIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBpZiAoY2xhaW1JZCB8fCBvdmVycmlkZSkge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogQUNUSU9OUy5TRVRfQUNUSVZFX0NIQU5ORUwsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBjbGFpbUlkLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG9TZXRJbmNvZ25pdG8oaW5jb2duaXRvRW5hYmxlZCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFDVElPTlMuU0VUX0lOQ09HTklUTyxcbiAgICBkYXRhOiB7XG4gICAgICBlbmFibGVkOiBpbmNvZ25pdG9FbmFibGVkLFxuICAgIH0sXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb1NldEFkQmxvY2tlckZvdW5kKGZvdW5kKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQUNUSU9OUy5TRVRfQURfQkxPQ0tFUl9GT1VORCxcbiAgICBkYXRhOiBmb3VuZCxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvU2V0R2RwckNvbnNlbnRMaXN0KHJhd0xpc3QgPSAnJykge1xuICAvLyBodHRwczovL2NvbW11bml0eS5jb29raWVwcm8uY29tL3MvYXJ0aWNsZS9VVUlELTY2YmNhYWYxLWM3Y2EtNWYzMi02NzYwLWM3NWExMzM3YzIyNj9sYW5ndWFnZT1lbl9VU1xuICBjb25zdCBsaXN0ID0gcmF3TGlzdC5zcGxpdCgnLCcpLmZpbHRlcihCb29sZWFuKTtcblxuICByZXR1cm4ge1xuICAgIHR5cGU6IEFDVElPTlMuU0VUX0dEUFJfQ09OU0VOVF9MSVNULFxuICAgIGRhdGE6IGxpc3QsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb1RvZ2dsZUFwcERyYXdlcih0eXBlKSB7XG4gIHJldHVybiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IG9wZW5EcmF3ZXIgPSBzZWxlY3RBcHBEcmF3ZXJPcGVuKHN0YXRlKTtcbiAgICBjb25zdCBpc09wZW4gPSBvcGVuRHJhd2VyICYmIG9wZW5EcmF3ZXIgPT09IHR5cGU7XG5cbiAgICBpZiAoaXNPcGVuKSB7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6IEFDVElPTlMuRFJBV0VSX0NMT1NFRCB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGlzcGF0Y2goeyB0eXBlOiBBQ1RJT05TLkRSQVdFUl9PUEVORUQsIGRhdGE6IHR5cGUgfSk7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgY29uc3QgZG9TZXRNYWluUGxheWVyRGltZW5zaW9uID0gKGRpbWVuc2lvbnMpID0+IChkaXNwYXRjaCkgPT5cbiAgZGlzcGF0Y2goeyB0eXBlOiBBQ1RJT05TLlNFVF9NQUlOX1BMQVlFUl9ESU1FTlNJT05TLCBkYXRhOiBkaW1lbnNpb25zIH0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUZBO0FBT0E7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBRkE7QUFNQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSkE7QUFNQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBUEE7QUFTQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBUkE7QUFVQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFJQTtBQUVBO0FBUEE7QUFTQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFEQTtBQUhBO0FBT0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFqQkE7QUFtQkE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUZBO0FBQ0E7QUFPQTtBQUtBO0FBQ0E7QUFmQTtBQUNBO0FBaUJBO0FBQ0E7QUFDQTtBQURBO0FBREE7QUFDQTtBQUtBO0FBekNBO0FBMkNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUZBO0FBRkE7QUFPQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFSQTtBQVdBO0FBWEE7QUFEQTtBQWVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQVBBO0FBU0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBREE7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBSUE7QUFMQTtBQUxBO0FBY0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFLQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBWkE7QUFpQkE7QUFBQTtBQUFBO0FBeEJBO0FBMkJBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFGQTtBQURBO0FBUUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUZBO0FBREE7QUFRQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFhQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQUE7QUFBQTtBQUFBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVVBO0FBM0JBO0FBNkJBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBT0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBSUE7QUFKQTtBQU9BO0FBUEE7QUFTQTtBQVRBO0FBVUE7QUFDQTtBQWRBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBZUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBREE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBRkE7QUFXQTtBQUNBO0FBQ0E7QUFmQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWdCQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBVkE7QUFZQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFGQTtBQU1BO0FBQ0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUF2Q0E7QUF5Q0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBU0E7QUFDQTtBQUNBO0FBWkE7QUFjQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUZBO0FBTUE7QUFSQTtBQVVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBRkE7QUFNQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBREE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBVEE7QUFXQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQURBO0FBQUE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../ui/redux/actions/app.js\n");

/***/ }),

/***/ "../ui/redux/actions/user.js":
/*!***********************************!*\
  !*** ../ui/redux/actions/user.js ***!
  \***********************************/
/*! exports provided: sessionStorageAvailable, doFetchInviteStatus, doInstallNew, doCheckUserOdyseeMemberships, doAuthenticate, doUserFetch, doUserCheckEmailVerified, doUserPhoneReset, doUserPhoneNew, doUserPhoneVerifyFailure, doUserPhoneVerify, doUserEmailToVerify, doUserEmailNew, doUserCheckIfEmailExists, doUserSignIn, doUserSignUp, doUserPasswordReset, doUserPasswordSet, doUserResendVerificationEmail, doClearEmailEntry, doClearPasswordEntry, doUserEmailVerifyFailure, doUserEmailVerify, doUserIdentityVerify, doUserInviteNew, doUserSetReferrerReset, doUserSetReferrerWithUri, doUserSetReferrer, doUserSetCountry, doClaimYoutubeChannels, doCheckYoutubeTransfer, doFetchUserMemberships, doFetchUserLocale */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sessionStorageAvailable\", function() { return sessionStorageAvailable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doFetchInviteStatus\", function() { return doFetchInviteStatus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doInstallNew\", function() { return doInstallNew; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doCheckUserOdyseeMemberships\", function() { return doCheckUserOdyseeMemberships; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doAuthenticate\", function() { return doAuthenticate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doUserFetch\", function() { return doUserFetch; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doUserCheckEmailVerified\", function() { return doUserCheckEmailVerified; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doUserPhoneReset\", function() { return doUserPhoneReset; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doUserPhoneNew\", function() { return doUserPhoneNew; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doUserPhoneVerifyFailure\", function() { return doUserPhoneVerifyFailure; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doUserPhoneVerify\", function() { return doUserPhoneVerify; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doUserEmailToVerify\", function() { return doUserEmailToVerify; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doUserEmailNew\", function() { return doUserEmailNew; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doUserCheckIfEmailExists\", function() { return doUserCheckIfEmailExists; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doUserSignIn\", function() { return doUserSignIn; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doUserSignUp\", function() { return doUserSignUp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doUserPasswordReset\", function() { return doUserPasswordReset; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doUserPasswordSet\", function() { return doUserPasswordSet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doUserResendVerificationEmail\", function() { return doUserResendVerificationEmail; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doClearEmailEntry\", function() { return doClearEmailEntry; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doClearPasswordEntry\", function() { return doClearPasswordEntry; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doUserEmailVerifyFailure\", function() { return doUserEmailVerifyFailure; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doUserEmailVerify\", function() { return doUserEmailVerify; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doUserIdentityVerify\", function() { return doUserIdentityVerify; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doUserInviteNew\", function() { return doUserInviteNew; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doUserSetReferrerReset\", function() { return doUserSetReferrerReset; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doUserSetReferrerWithUri\", function() { return doUserSetReferrerWithUri; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doUserSetReferrer\", function() { return doUserSetReferrer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doUserSetCountry\", function() { return doUserSetCountry; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doClaimYoutubeChannels\", function() { return doClaimYoutubeChannels; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doCheckYoutubeTransfer\", function() { return doCheckYoutubeTransfer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doFetchUserMemberships\", function() { return doFetchUserMemberships; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doFetchUserLocale\", function() { return doFetchUserLocale; });\n/* harmony import */ var lbry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lbry */ \"../ui/lbry.js\");\n/* harmony import */ var redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! redux/selectors/claims */ \"../ui/redux/selectors/claims.js\");\n/* harmony import */ var redux_actions_claims__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! redux/actions/claims */ \"../ui/redux/actions/claims.js\");\n/* harmony import */ var util_lbryURI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! util/lbryURI */ \"../ui/util/lbryURI.js\");\n/* harmony import */ var util_batch_actions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! util/batch-actions */ \"../ui/util/batch-actions.js\");\n/* harmony import */ var util_stripe__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! util/stripe */ \"../ui/util/stripe.js\");\n/* harmony import */ var constants_channels__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! constants/channels */ \"../ui/constants/channels.js\");\n/* harmony import */ var constants_action_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! constants/action_types */ \"../ui/constants/action_types.js\");\n/* harmony import */ var redux_actions_blocked__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! redux/actions/blocked */ \"../ui/redux/actions/blocked.js\");\n/* harmony import */ var redux_actions_rewards__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! redux/actions/rewards */ \"../ui/redux/actions/rewards.js\");\n/* harmony import */ var redux_selectors_user__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! redux/selectors/user */ \"../ui/redux/selectors/user.js\");\n/* harmony import */ var redux_selectors_rewards__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! redux/selectors/rewards */ \"../ui/redux/selectors/rewards.js\");\n/* harmony import */ var redux_actions_notifications__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! redux/actions/notifications */ \"../ui/redux/actions/notifications.js\");\n/* harmony import */ var rewards__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! rewards */ \"../ui/rewards.js\");\n/* harmony import */ var lbryinc__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lbryinc */ \"../extras/lbryinc/index.js\");\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! config */ \"../config.js\");\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(config__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var util_default_languages__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! util/default-languages */ \"../ui/util/default-languages.js\");\n/* harmony import */ var util_storage__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! util/storage */ \"../ui/util/storage.js\");\n/* harmony import */ var util_claim__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! util/claim */ \"../ui/util/claim.js\");\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n} // import analytics from 'analytics';\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar sessionStorageAvailable = false;\nvar CHECK_INTERVAL = 200;\nvar AUTH_WAIT_TIMEOUT = 10000;\nvar stripeEnvironment = Object(util_stripe__WEBPACK_IMPORTED_MODULE_5__[\"getStripeEnvironment\"])();\nfunction doFetchInviteStatus() {\n  var shouldCallRewardList = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  return function (dispatch) {\n    dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_INVITE_STATUS_FETCH_STARTED\"]\n    });\n    Promise.all([lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].call('user', 'invite_status'), lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].call('user_referral_code', 'list')]).then(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          status = _ref2[0],\n          code = _ref2[1];\n\n      if (shouldCallRewardList) {\n        dispatch(Object(redux_actions_rewards__WEBPACK_IMPORTED_MODULE_9__[\"doRewardList\"])());\n      }\n\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_INVITE_STATUS_FETCH_SUCCESS\"],\n        data: {\n          invitesRemaining: status.invites_remaining ? status.invites_remaining : 0,\n          invitees: status.invitees,\n          referralLink: \"\".concat(lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].CONNECTION_STRING, \"user/refer?r=\").concat(code),\n          referralCode: code\n        }\n      });\n    })[\"catch\"](function (error) {\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_INVITE_STATUS_FETCH_FAILURE\"],\n        data: {\n          error: error\n        }\n      });\n    });\n  };\n}\nfunction doInstallNew(appVersion, callbackForUsersWhoAreSharingData, domain) {\n  var payload = {\n    app_version: appVersion,\n    domain: domain\n  };\n  payload.app_id = 'odyseeandroidFDROIDDuAfQ6KHMXxFxt8tkhmt7sfprEMHWKjy5hf6PwZcHDV542V';\n  lbry__WEBPACK_IMPORTED_MODULE_0__[\"default\"].version().then(function (version) {\n    payload.daemon_version = version.lbrynet_version;\n    payload.operating_system = 'android';\n    payload.platform = 'android';\n    lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].call('install', 'new', payload);\n\n    if (callbackForUsersWhoAreSharingData) {\n      callbackForUsersWhoAreSharingData(status);\n    }\n  });\n}\n\nfunction checkAuthBusy() {\n  var time = Date.now();\n  return new Promise(function (resolve, reject) {\n    (function waitForAuth() {\n      try {\n        sessionStorage.setItem('test', 'available');\n        sessionStorage.removeItem('test');\n        sessionStorageAvailable = true;\n      } catch (e) {\n        if (e) {// no session storage\n        }\n      }\n\n      if ( false || !sessionStorageAvailable) {\n        return resolve();\n      }\n\n      var inProgress = util_storage__WEBPACK_IMPORTED_MODULE_17__[\"LocalStorage\"].getItem(util_storage__WEBPACK_IMPORTED_MODULE_17__[\"LS\"].AUTH_IN_PROGRESS);\n\n      if (!inProgress) {\n        util_storage__WEBPACK_IMPORTED_MODULE_17__[\"LocalStorage\"].setItem(util_storage__WEBPACK_IMPORTED_MODULE_17__[\"LS\"].AUTH_IN_PROGRESS, 'true');\n        return resolve();\n      } else {\n        if (Date.now() - time < AUTH_WAIT_TIMEOUT) {\n          setTimeout(waitForAuth, CHECK_INTERVAL);\n        } else {\n          return resolve();\n        }\n      }\n    })();\n  });\n}\n/***\n * Given a user, return their highest ranking Odysee membership (Premium or Premium Plus)\n * @param dispatch\n * @param user\n * @returns {Promise<void>}\n */\n\n\nfunction doCheckUserOdyseeMemberships(user) {\n  return function _callee(dispatch) {\n    var highestMembershipRanking, response, savedMemberships, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, membership, premiumPlusExists;\n\n    return regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!user.odysee_member) {\n              _context.next = 25;\n              break;\n            }\n\n            _context.next = 3;\n            return regeneratorRuntime.awrap(lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].call('membership', 'mine', {\n              environment: stripeEnvironment\n            }, 'post'));\n\n          case 3:\n            response = _context.sent;\n            savedMemberships = []; // TODO: this will work for now, but it should be adjusted\n            // TODO: to check if it's active, or if it's cancelled if it's still valid past current date\n            // loop through all memberships and save the @odysee ones\n            // maybe in the future we can only hit @odysee in the API call\n\n            _iteratorNormalCompletion = true;\n            _didIteratorError = false;\n            _iteratorError = undefined;\n            _context.prev = 8;\n\n            for (_iterator = response[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              membership = _step.value;\n\n              if (membership.MembershipDetails && membership.MembershipDetails.channel_name === '@odysee') {\n                savedMemberships.push(membership.MembershipDetails.name);\n              }\n            } // determine highest ranking membership based on returned data\n            // note: this is from an odd state in the API where a user can be both premium/Premium + at the same time\n            // I expect this can change once upgrade/downgrade is implemented\n\n\n            _context.next = 16;\n            break;\n\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](8);\n            _didIteratorError = true;\n            _iteratorError = _context.t0;\n\n          case 16:\n            _context.prev = 16;\n            _context.prev = 17;\n\n            if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n              _iterator[\"return\"]();\n            }\n\n          case 19:\n            _context.prev = 19;\n\n            if (!_didIteratorError) {\n              _context.next = 22;\n              break;\n            }\n\n            throw _iteratorError;\n\n          case 22:\n            return _context.finish(19);\n\n          case 23:\n            return _context.finish(16);\n\n          case 24:\n            if (savedMemberships.length > 0) {\n              // if premium plus is a membership, return that, otherwise it's only premium\n              premiumPlusExists = savedMemberships.includes('Premium+');\n\n              if (premiumPlusExists) {\n                highestMembershipRanking = 'Premium+';\n              } else {\n                highestMembershipRanking = 'Premium';\n              }\n            }\n\n          case 25:\n            dispatch({\n              type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"ADD_ODYSEE_MEMBERSHIP_DATA\"],\n              data: {\n                user: user,\n                odyseeMembershipName: highestMembershipRanking || ''\n              } // '' = none; `undefined` = not fetched\n\n            });\n\n          case 26:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[8, 12, 16, 24], [17,, 19, 23]]);\n  };\n} // TODO: Call doInstallNew separately so we don't have to pass appVersion and os_system params?\n\nfunction doAuthenticate(appVersion) {\n  var shareUsageData = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var callbackForUsersWhoAreSharingData = arguments.length > 2 ? arguments[2] : undefined;\n  var callInstall = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  return function (dispatch) {\n    dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"AUTHENTICATION_STARTED\"]\n    });\n    checkAuthBusy().then(function () {\n      return lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].authenticate(config__WEBPACK_IMPORTED_MODULE_15__[\"DOMAIN\"], Object(util_default_languages__WEBPACK_IMPORTED_MODULE_16__[\"getDefaultLanguage\"])());\n    }).then(function (user) {\n      util_storage__WEBPACK_IMPORTED_MODULE_17__[\"LocalStorage\"].removeItem(util_storage__WEBPACK_IMPORTED_MODULE_17__[\"LS\"].AUTH_IN_PROGRESS);\n      lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].getAuthToken().then(function (token) {\n        dispatch({\n          type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"AUTHENTICATION_SUCCESS\"],\n          data: {\n            user: user,\n            accessToken: token\n          }\n        });\n        dispatch(doCheckUserOdyseeMemberships(user));\n\n        if (shareUsageData) {\n          var _user$device_types;\n\n          dispatch(Object(redux_actions_rewards__WEBPACK_IMPORTED_MODULE_9__[\"doRewardList\"])());\n\n          if (callInstall && !(user !== null && user !== void 0 && (_user$device_types = user.device_types) !== null && _user$device_types !== void 0 && _user$device_types.includes('web'))) {\n            doInstallNew(appVersion, callbackForUsersWhoAreSharingData, config__WEBPACK_IMPORTED_MODULE_15__[\"DOMAIN\"]);\n          }\n        }\n\n        dispatch(Object(redux_actions_blocked__WEBPACK_IMPORTED_MODULE_8__[\"doFetchGeoBlockedList\"])());\n      });\n    })[\"catch\"](function (error) {\n      util_storage__WEBPACK_IMPORTED_MODULE_17__[\"LocalStorage\"].removeItem(util_storage__WEBPACK_IMPORTED_MODULE_17__[\"LS\"].AUTH_IN_PROGRESS);\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"AUTHENTICATION_FAILURE\"],\n        data: {\n          error: error\n        }\n      });\n    });\n  };\n}\nfunction doUserFetch() {\n  return function (dispatch) {\n    return new Promise(function (resolve, reject) {\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_FETCH_STARTED\"]\n      });\n      lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].getCurrentUser().then(function (user) {\n        dispatch(doCheckUserOdyseeMemberships(user));\n        dispatch({\n          type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_FETCH_SUCCESS\"],\n          data: {\n            user: user\n          }\n        });\n        resolve(user);\n      })[\"catch\"](function (error) {\n        reject(error);\n        dispatch({\n          type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_FETCH_FAILURE\"],\n          data: {\n            error: error\n          }\n        });\n      });\n    });\n  };\n}\nfunction doUserCheckEmailVerified() {\n  // This will happen in the background so we don't need loading booleans\n  return function (dispatch) {\n    lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].getCurrentUser().then(function (user) {\n      dispatch(doCheckUserOdyseeMemberships(user));\n\n      if (user.has_verified_email) {\n        dispatch(Object(redux_actions_rewards__WEBPACK_IMPORTED_MODULE_9__[\"doRewardList\"])());\n        dispatch({\n          type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_FETCH_SUCCESS\"],\n          data: {\n            user: user\n          }\n        });\n      }\n    });\n  };\n}\nfunction doUserPhoneReset() {\n  return {\n    type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_PHONE_RESET\"]\n  };\n}\nfunction doUserPhoneNew(phone, countryCode) {\n  return function (dispatch) {\n    dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_PHONE_NEW_STARTED\"],\n      data: {\n        phone: phone,\n        country_code: countryCode\n      }\n    });\n\n    var success = function success() {\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_PHONE_NEW_SUCCESS\"],\n        data: {\n          phone: phone\n        }\n      });\n    };\n\n    var failure = function failure(error) {\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_PHONE_NEW_FAILURE\"],\n        data: {\n          error: error\n        }\n      });\n    };\n\n    lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].call('user', 'phone_number_new', {\n      phone_number: phone,\n      country_code: countryCode\n    }, 'post').then(success, failure);\n  };\n}\nfunction doUserPhoneVerifyFailure(error) {\n  return {\n    type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_PHONE_VERIFY_FAILURE\"],\n    data: {\n      error: error\n    }\n  };\n}\nfunction doUserPhoneVerify(verificationCode) {\n  return function (dispatch, getState) {\n    var phoneNumber = Object(redux_selectors_user__WEBPACK_IMPORTED_MODULE_10__[\"selectPhoneToVerify\"])(getState());\n    var countryCode = Object(redux_selectors_user__WEBPACK_IMPORTED_MODULE_10__[\"selectUserCountryCode\"])(getState());\n    dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_PHONE_VERIFY_STARTED\"],\n      code: verificationCode\n    });\n    lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].call('user', 'phone_number_confirm', {\n      verification_code: verificationCode,\n      phone_number: phoneNumber,\n      country_code: countryCode\n    }, 'post').then(function (user) {\n      if (user.is_identity_verified) {\n        dispatch({\n          type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_PHONE_VERIFY_SUCCESS\"],\n          data: {\n            user: user\n          }\n        });\n        dispatch(Object(redux_actions_rewards__WEBPACK_IMPORTED_MODULE_9__[\"doClaimRewardType\"])(rewards__WEBPACK_IMPORTED_MODULE_13__[\"default\"].TYPE_NEW_USER));\n      }\n    })[\"catch\"](function (error) {\n      return dispatch(doUserPhoneVerifyFailure(error));\n    });\n  };\n}\nfunction doUserEmailToVerify(email) {\n  return function (dispatch) {\n    dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_EMAIL_VERIFY_SET\"],\n      data: {\n        email: email\n      }\n    });\n  };\n}\nfunction doUserEmailNew(email) {\n  return function (dispatch) {\n    dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_EMAIL_NEW_STARTED\"],\n      email: email\n    });\n\n    var success = function success() {\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_EMAIL_NEW_SUCCESS\"],\n        data: {\n          email: email\n        }\n      });\n      dispatch(doUserFetch());\n    };\n\n    var failure = function failure(error) {\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_EMAIL_NEW_FAILURE\"],\n        data: {\n          error: error\n        }\n      });\n    };\n\n    lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].call('user_email', 'new', {\n      email: email,\n      send_verification_email: true\n    }, 'post')[\"catch\"](function (error) {\n      if (error.response && error.response.status === 409) {\n        dispatch({\n          type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_EMAIL_NEW_EXISTS\"]\n        });\n        return lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].call('user_email', 'resend_token', {\n          email: email,\n          only_if_expired: true\n        }, 'post').then(success, failure);\n      }\n\n      throw error;\n    }).then(success, failure);\n  };\n}\nfunction doUserCheckIfEmailExists(email) {\n  return function (dispatch) {\n    dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_EMAIL_NEW_STARTED\"],\n      email: email\n    });\n\n    var triggerEmailFlow = function triggerEmailFlow(hasPassword) {\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_EMAIL_NEW_SUCCESS\"],\n        data: {\n          email: email\n        }\n      });\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_EMAIL_NEW_EXISTS\"]\n      });\n\n      if (hasPassword) {\n        dispatch({\n          type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_PASSWORD_EXISTS\"]\n        });\n      } else {\n        // If they don't have a password, they will need to use the email verification api\n        lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].call('user_email', 'resend_token', {\n          email: email,\n          only_if_expired: true\n        }, 'post');\n      }\n    };\n\n    var success = function success(response) {\n      triggerEmailFlow(response.has_password);\n    };\n\n    var failure = function failure(error) {\n      return dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_EMAIL_NEW_FAILURE\"],\n        data: {\n          error: error\n        }\n      });\n    };\n\n    lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].call('user', 'exists', {\n      email: email\n    }, 'post')[\"catch\"](function (error) {\n      // no email\n      if (error.response && error.response.status === 404) {\n        dispatch({\n          type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_EMAIL_NEW_DOES_NOT_EXIST\"]\n        }); // sign in by email\n      } else if (error.response && error.response.status === 412) {\n        triggerEmailFlow(false);\n      }\n\n      throw error;\n    }) // sign the user in\n    .then(success, failure);\n  };\n}\nfunction doUserSignIn(email, password) {\n  return function (dispatch) {\n    dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_EMAIL_NEW_STARTED\"],\n      email: email\n    });\n\n    var success = function success() {\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_EMAIL_NEW_SUCCESS\"],\n        data: {\n          email: email\n        }\n      });\n      dispatch(doUserFetch());\n    };\n\n    var failure = function failure(error) {\n      return dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_EMAIL_NEW_FAILURE\"],\n        data: {\n          error: error\n        }\n      });\n    };\n\n    lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].call('user', 'signin', _objectSpread({\n      email: email\n    }, password ? {\n      password: password\n    } : {}), 'post')[\"catch\"](function (error) {\n      if (error.response && error.response.status === 409) {\n        dispatch({\n          type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_EMAIL_NEW_EXISTS\"]\n        });\n        return lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].call('user_email', 'resend_token', {\n          email: email,\n          only_if_expired: true\n        }, 'post').then(success, failure);\n      }\n\n      throw error;\n    }).then(success, failure);\n  };\n}\nfunction doUserSignUp(email, password) {\n  return function (dispatch) {\n    return new Promise(function (resolve, reject) {\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_EMAIL_NEW_STARTED\"],\n        email: email\n      });\n\n      var success = function success() {\n        dispatch({\n          type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_EMAIL_NEW_SUCCESS\"],\n          data: {\n            email: email\n          }\n        });\n        dispatch(doUserFetch());\n        resolve();\n      };\n\n      var failure = function failure(error) {\n        if (error.response && error.response.status === 409) {\n          dispatch({\n            type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_EMAIL_NEW_EXISTS\"]\n          });\n        }\n\n        dispatch({\n          type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_EMAIL_NEW_FAILURE\"],\n          data: {\n            error: error\n          }\n        });\n        reject(error);\n      };\n\n      lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].call('user', 'signup', _objectSpread({\n        email: email\n      }, password ? {\n        password: password\n      } : {}), 'post').then(success, failure);\n    });\n  };\n}\nfunction doUserPasswordReset(email) {\n  return function (dispatch) {\n    dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_PASSWORD_RESET_STARTED\"],\n      email: email\n    });\n\n    var success = function success() {\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_PASSWORD_RESET_SUCCESS\"]\n      });\n    };\n\n    var failure = function failure(error) {\n      return dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_PASSWORD_RESET_FAILURE\"],\n        data: {\n          error: error\n        }\n      });\n    };\n\n    lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].call('user_password', 'reset', {\n      email: email\n    }, 'post').then(success, failure);\n  };\n}\nfunction doUserPasswordSet(newPassword, oldPassword, authToken) {\n  return function (dispatch) {\n    dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_PASSWORD_SET_STARTED\"]\n    });\n\n    var success = function success() {\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_PASSWORD_SET_SUCCESS\"]\n      });\n      dispatch(doUserFetch());\n    };\n\n    var failure = function failure(error) {\n      return dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_PASSWORD_SET_FAILURE\"],\n        data: {\n          error: error\n        }\n      });\n    };\n\n    lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].call('user_password', 'set', _objectSpread({\n      new_password: newPassword\n    }, oldPassword ? {\n      old_password: oldPassword\n    } : {}, {}, authToken ? {\n      auth_token: authToken\n    } : {}), 'post').then(success, failure);\n  };\n}\nfunction doUserResendVerificationEmail(email) {\n  return function (dispatch) {\n    dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_EMAIL_VERIFY_RETRY_STARTED\"]\n    });\n\n    var success = function success() {\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_EMAIL_VERIFY_RETRY_SUCCESS\"]\n      });\n    };\n\n    var failure = function failure(error) {\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_EMAIL_VERIFY_RETRY_FAILURE\"],\n        data: {\n          error: error\n        }\n      });\n    };\n\n    lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].call('user_email', 'resend_token', {\n      email: email,\n      only_if_expired: true\n    }, 'post')[\"catch\"](function (error) {\n      if (error.response && error.response.status === 409) {\n        throw error;\n      }\n    }).then(success, failure);\n  };\n}\nfunction doClearEmailEntry() {\n  return {\n    type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_EMAIL_NEW_CLEAR_ENTRY\"]\n  };\n}\nfunction doClearPasswordEntry() {\n  return {\n    type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_PASSWORD_SET_CLEAR\"]\n  };\n}\nfunction doUserEmailVerifyFailure(error) {\n  return {\n    type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_EMAIL_VERIFY_FAILURE\"],\n    data: {\n      error: error\n    }\n  };\n}\nfunction doUserEmailVerify(verificationToken, recaptcha) {\n  return function (dispatch, getState) {\n    var email = Object(redux_selectors_user__WEBPACK_IMPORTED_MODULE_10__[\"selectEmailToVerify\"])(getState());\n    dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_EMAIL_VERIFY_STARTED\"],\n      code: verificationToken,\n      recaptcha: recaptcha\n    });\n    lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].call('user_email', 'confirm', {\n      verification_token: verificationToken,\n      email: email,\n      recaptcha: recaptcha\n    }, 'post').then(function (userEmail) {\n      if (userEmail.is_verified) {\n        dispatch({\n          type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_EMAIL_VERIFY_SUCCESS\"],\n          data: {\n            email: email\n          }\n        });\n        dispatch(doUserFetch());\n      } else {\n        throw new Error('Your email is still not verified.'); // shouldn't happen\n      }\n    })[\"catch\"](function (error) {\n      return dispatch(doUserEmailVerifyFailure(error));\n    });\n  };\n}\nfunction doUserIdentityVerify(stripeToken) {\n  return function (dispatch) {\n    dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_IDENTITY_VERIFY_STARTED\"],\n      token: stripeToken\n    });\n    lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].call('user', 'verify_identity', {\n      stripe_token: stripeToken\n    }, 'post').then(function (user) {\n      if (user.is_identity_verified) {\n        dispatch({\n          type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_IDENTITY_VERIFY_SUCCESS\"],\n          data: {\n            user: user\n          }\n        });\n        dispatch(Object(redux_actions_rewards__WEBPACK_IMPORTED_MODULE_9__[\"doClaimRewardType\"])(rewards__WEBPACK_IMPORTED_MODULE_13__[\"default\"].TYPE_NEW_USER));\n      } else {\n        throw new Error('Your identity is still not verified. This should not happen.'); // shouldn't happen\n      }\n    })[\"catch\"](function (error) {\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_IDENTITY_VERIFY_FAILURE\"],\n        data: {\n          error: error.toString()\n        }\n      });\n    });\n  };\n}\nfunction doUserInviteNew(email) {\n  return function (dispatch) {\n    dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_INVITE_NEW_STARTED\"]\n    });\n    return lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].call('user', 'invite', {\n      email: email\n    }, 'post').then(function (success) {\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_INVITE_NEW_SUCCESS\"],\n        data: {\n          email: email\n        }\n      });\n      dispatch(Object(redux_actions_notifications__WEBPACK_IMPORTED_MODULE_12__[\"doToast\"])({\n        message: __('Invite sent to %email_address%', {\n          email_address: email\n        })\n      }));\n      dispatch(doFetchInviteStatus());\n      return success;\n    })[\"catch\"](function (error) {\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_INVITE_NEW_FAILURE\"],\n        data: {\n          error: error\n        }\n      });\n    });\n  };\n}\nfunction doUserSetReferrerReset() {\n  return function (dispatch) {\n    dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_SET_REFERRER_RESET\"]\n    });\n  };\n}\nfunction doUserSetReferrerWithUri(uri) {\n  return function _callee2(dispatch, getState) {\n    var state, claim, referrerCode, response;\n    return regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            state = getState();\n            claim = Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__[\"selectClaimForUri\"])(state, uri);\n\n            if (claim) {\n              _context2.next = 16;\n              break;\n            }\n\n            _context2.prev = 3;\n            _context2.next = 6;\n            return regeneratorRuntime.awrap(lbry__WEBPACK_IMPORTED_MODULE_0__[\"default\"].resolve({\n              urls: [uri]\n            }));\n\n          case 6:\n            response = _context2.sent;\n            if (response && response[uri] && !response[uri].error) claim = response && response[uri];\n\n            if (claim) {\n              if (claim.signing_channel) {\n                referrerCode = claim.signing_channel.permanent_url.replace('lbry://', '');\n              } else {\n                referrerCode = claim.permanent_url.replace('lbry://', '');\n              }\n\n              dispatch(doUserSetReferrer(referrerCode));\n            }\n\n            _context2.next = 14;\n            break;\n\n          case 11:\n            _context2.prev = 11;\n            _context2.t0 = _context2[\"catch\"](3);\n            dispatch({\n              type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_SET_REFERRER_FAIL\"],\n              data: {\n                error: _context2.t0\n              }\n            });\n\n          case 14:\n            _context2.next = 18;\n            break;\n\n          case 16:\n            referrerCode = claim.permanent_url.replace('lbry://', '');\n            dispatch(doUserSetReferrer(referrerCode));\n\n          case 18:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[3, 11]]);\n  };\n}\nvar doUserSetReferrer = function doUserSetReferrer(referrerUri) {\n  return function _callee3(dispatch, getState) {\n    var state, hasSetReferrerPending, hasReferrer, claim, referrerCode, isValid, uri;\n    return regeneratorRuntime.async(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            state = getState();\n            hasSetReferrerPending = Object(redux_selectors_user__WEBPACK_IMPORTED_MODULE_10__[\"selectSetReferrerPending\"])(state);\n            hasReferrer = Boolean(Object(redux_selectors_user__WEBPACK_IMPORTED_MODULE_10__[\"selectReferrer\"])(state));\n\n            if (!(hasSetReferrerPending || hasReferrer)) {\n              _context3.next = 5;\n              break;\n            }\n\n            return _context3.abrupt(\"return\");\n\n          case 5:\n            dispatch({\n              type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_SET_REFERRER_START\"]\n            });\n            referrerCode = referrerUri;\n            isValid = Object(util_lbryURI__WEBPACK_IMPORTED_MODULE_3__[\"isURIValid\"])(referrerUri);\n\n            if (!isValid) {\n              _context3.next = 15;\n              break;\n            }\n\n            uri = Object(util_lbryURI__WEBPACK_IMPORTED_MODULE_3__[\"normalizeURI\"])(referrerUri);\n            claim = Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__[\"selectClaimForUri\"])(state, uri);\n\n            if (claim) {\n              _context3.next = 14;\n              break;\n            }\n\n            _context3.next = 14;\n            return regeneratorRuntime.awrap(dispatch(Object(redux_actions_claims__WEBPACK_IMPORTED_MODULE_2__[\"doResolveUri\"])(uri)).then(function () {\n              state = getState();\n              claim = Object(redux_selectors_claims__WEBPACK_IMPORTED_MODULE_1__[\"selectClaimForUri\"])(state, uri);\n            })[\"catch\"](function (error) {\n              return dispatch({\n                type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_SET_REFERRER_FAIL\"],\n                data: {\n                  error: error\n                }\n              });\n            }));\n\n          case 14:\n            referrerCode = Object(util_claim__WEBPACK_IMPORTED_MODULE_18__[\"getChannelFromClaim\"])(claim).permanent_url.replace('lbry://', '');\n\n          case 15:\n            _context3.next = 17;\n            return regeneratorRuntime.awrap(lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].call('user', 'referral', {\n              referrer: referrerCode\n            }, 'post').then(function (response) {\n              dispatch({\n                type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_SET_REFERRER_SUCCESS\"],\n                data: referrerCode\n              });\n              var isRewardApproved = Object(redux_selectors_rewards__WEBPACK_IMPORTED_MODULE_11__[\"selectIsRewardApproved\"])(state);\n\n              if (isRewardApproved) {\n                dispatch(Object(redux_actions_rewards__WEBPACK_IMPORTED_MODULE_9__[\"doClaimRewardType\"])(rewards__WEBPACK_IMPORTED_MODULE_13__[\"default\"].TYPE_REFEREE));\n              }\n\n              dispatch(doUserFetch());\n            })[\"catch\"](function (error) {\n              return dispatch({\n                type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_SET_REFERRER_FAIL\"],\n                data: {\n                  error: error\n                }\n              });\n            }));\n\n          case 17:\n            return _context3.abrupt(\"return\", _context3.sent);\n\n          case 18:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    });\n  };\n};\nfunction doUserSetCountry(country) {\n  return function (dispatch, getState) {\n    var state = getState();\n    var user = Object(redux_selectors_user__WEBPACK_IMPORTED_MODULE_10__[\"selectUser\"])(state);\n    lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].call('user_country', 'set', {\n      country: country\n    }).then(function () {\n      var newUser = _objectSpread({}, user, {\n        country: country\n      });\n\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_FETCH_SUCCESS\"],\n        data: {\n          user: newUser\n        }\n      });\n    });\n  };\n}\nfunction doClaimYoutubeChannels() {\n  return function (dispatch) {\n    dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_YOUTUBE_IMPORT_STARTED\"]\n    });\n    var transferResponse;\n    return lbry__WEBPACK_IMPORTED_MODULE_0__[\"default\"].address_list({\n      page: 1,\n      page_size: 99999\n    }).then(function (addressList) {\n      return addressList.items[0];\n    }).then(function (address) {\n      return lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].call('yt', 'transfer', {\n        address: address.address,\n        public_key: address.pubkey\n      }).then(function (response) {\n        if (response && response.length) {\n          transferResponse = response;\n          return Promise.all(response.map(function (channelMeta) {\n            if (channelMeta && channelMeta.channel && channelMeta.channel.channel_certificate) {\n              return lbry__WEBPACK_IMPORTED_MODULE_0__[\"default\"].channel_import({\n                channel_data: channelMeta.channel.channel_certificate\n              });\n            }\n\n            return null;\n          })).then(function () {\n            var actions = [{\n              type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_YOUTUBE_IMPORT_SUCCESS\"],\n              data: transferResponse\n            }];\n            actions.push(doUserFetch());\n            actions.push(Object(redux_actions_claims__WEBPACK_IMPORTED_MODULE_2__[\"doFetchChannelListMine\"])());\n            dispatch(util_batch_actions__WEBPACK_IMPORTED_MODULE_4__[\"batchActions\"].apply(void 0, actions));\n          });\n        }\n      });\n    })[\"catch\"](function (error) {\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_YOUTUBE_IMPORT_FAILURE\"],\n        data: String(error)\n      });\n    });\n  };\n}\nfunction doCheckYoutubeTransfer() {\n  return function (dispatch) {\n    dispatch({\n      type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_YOUTUBE_IMPORT_STARTED\"]\n    });\n    return lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].call('yt', 'transfer').then(function (response) {\n      if (response && response.length) {\n        dispatch({\n          type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_YOUTUBE_IMPORT_SUCCESS\"],\n          data: response\n        });\n      } else {\n        throw new Error();\n      }\n    })[\"catch\"](function (error) {\n      dispatch({\n        type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_YOUTUBE_IMPORT_FAILURE\"],\n        data: String(error)\n      });\n    });\n  };\n}\n/***\n * Receives a csv of channel claim ids, hits the backend and returns nicely formatted object with relevant info\n * @param claimIdCsv\n * @returns {(function(*): Promise<void>)|*}\n */\n\nfunction doFetchUserMemberships(claimIdCsv) {\n  return function _callee4(dispatch) {\n    var response, updatedResponse, user, _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, membership;\n\n    return regeneratorRuntime.async(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            if (!(!claimIdCsv || claimIdCsv.length && claimIdCsv.length < 1)) {\n              _context4.next = 2;\n              break;\n            }\n\n            return _context4.abrupt(\"return\");\n\n          case 2:\n            _context4.next = 4;\n            return regeneratorRuntime.awrap(lbryinc__WEBPACK_IMPORTED_MODULE_14__[\"Lbryio\"].call('membership', 'check', {\n              channel_id: constants_channels__WEBPACK_IMPORTED_MODULE_6__[\"ODYSEE_CHANNEL\"].ID,\n              claim_ids: claimIdCsv,\n              environment: stripeEnvironment\n            }));\n\n          case 4:\n            response = _context4.sent;\n            updatedResponse = {}; // loop through returned users\n\n            _context4.t0 = regeneratorRuntime.keys(response);\n\n          case 7:\n            if ((_context4.t1 = _context4.t0()).done) {\n              _context4.next = 35;\n              break;\n            }\n\n            user = _context4.t1.value;\n\n            if (!(response[user] && response[user].length)) {\n              _context4.next = 31;\n              break;\n            } // get membership for user\n            // note: a for loop is kind of odd, indicates there may be multiple memberships?\n            // probably not needed depending on what we do with the frontend, should revisit\n\n\n            _iteratorNormalCompletion2 = true;\n            _didIteratorError2 = false;\n            _iteratorError2 = undefined;\n            _context4.prev = 13;\n\n            for (_iterator2 = response[user][Symbol.iterator](); !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              membership = _step2.value;\n\n              if (membership.channel_name) {\n                updatedResponse[user] = membership.name;\n                window.checkedMemberships[user] = membership.name;\n              }\n            }\n\n            _context4.next = 21;\n            break;\n\n          case 17:\n            _context4.prev = 17;\n            _context4.t2 = _context4[\"catch\"](13);\n            _didIteratorError2 = true;\n            _iteratorError2 = _context4.t2;\n\n          case 21:\n            _context4.prev = 21;\n            _context4.prev = 22;\n\n            if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n              _iterator2[\"return\"]();\n            }\n\n          case 24:\n            _context4.prev = 24;\n\n            if (!_didIteratorError2) {\n              _context4.next = 27;\n              break;\n            }\n\n            throw _iteratorError2;\n\n          case 27:\n            return _context4.finish(24);\n\n          case 28:\n            return _context4.finish(21);\n\n          case 29:\n            _context4.next = 33;\n            break;\n\n          case 31:\n            // note the user has been fetched but is null\n            updatedResponse[user] = null;\n            window.checkedMemberships[user] = null;\n\n          case 33:\n            _context4.next = 7;\n            break;\n\n          case 35:\n            dispatch({\n              type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"ADD_CLAIMIDS_MEMBERSHIP_DATA\"],\n              data: {\n                response: updatedResponse\n              }\n            });\n\n          case 36:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, [[13, 17, 21, 29], [22,, 24, 28]]);\n  };\n}\nfunction doFetchUserLocale() {\n  var isRetry = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  return function (dispatch) {\n    fetch(config__WEBPACK_IMPORTED_MODULE_15__[\"LOCALE_API\"]).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      var locale = json.data; // [flow] local: LocaleInfo\n\n      if (locale) {\n        dispatch({\n          type: constants_action_types__WEBPACK_IMPORTED_MODULE_7__[\"USER_FETCH_LOCALE_DONE\"],\n          data: locale\n        });\n      }\n    })[\"catch\"](function () {\n      if (!isRetry) {\n        // If failed, retry one more time after N seconds. This removes the\n        // need to fetch at each component level. If it failed twice, probably\n        // don't need to fetch anymore.\n        setTimeout(function () {\n          dispatch(doFetchUserLocale(true));\n        }, 10000);\n      }\n    });\n  };\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! i18n.js */ \"../ui/i18n.js\")[\"__\"]))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vdWkvcmVkdXgvYWN0aW9ucy91c2VyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL3VpL3JlZHV4L2FjdGlvbnMvdXNlci5qcz9hOTlhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGltcG9ydCBhbmFseXRpY3MgZnJvbSAnYW5hbHl0aWNzJztcbmltcG9ydCBMYnJ5IGZyb20gJ2xicnknO1xuaW1wb3J0IHsgc2VsZWN0Q2xhaW1Gb3JVcmkgfSBmcm9tICdyZWR1eC9zZWxlY3RvcnMvY2xhaW1zJztcbmltcG9ydCB7IGRvRmV0Y2hDaGFubmVsTGlzdE1pbmUsIGRvUmVzb2x2ZVVyaSB9IGZyb20gJ3JlZHV4L2FjdGlvbnMvY2xhaW1zJztcbmltcG9ydCB7IGlzVVJJVmFsaWQsIG5vcm1hbGl6ZVVSSSB9IGZyb20gJ3V0aWwvbGJyeVVSSSc7XG5pbXBvcnQgeyBiYXRjaEFjdGlvbnMgfSBmcm9tICd1dGlsL2JhdGNoLWFjdGlvbnMnO1xuaW1wb3J0IHsgZ2V0U3RyaXBlRW52aXJvbm1lbnQgfSBmcm9tICd1dGlsL3N0cmlwZSc7XG5pbXBvcnQgeyBPRFlTRUVfQ0hBTk5FTCB9IGZyb20gJ2NvbnN0YW50cy9jaGFubmVscyc7XG5pbXBvcnQgKiBhcyBBQ1RJT05TIGZyb20gJ2NvbnN0YW50cy9hY3Rpb25fdHlwZXMnO1xuaW1wb3J0IHsgZG9GZXRjaEdlb0Jsb2NrZWRMaXN0IH0gZnJvbSAncmVkdXgvYWN0aW9ucy9ibG9ja2VkJztcbmltcG9ydCB7IGRvQ2xhaW1SZXdhcmRUeXBlLCBkb1Jld2FyZExpc3QgfSBmcm9tICdyZWR1eC9hY3Rpb25zL3Jld2FyZHMnO1xuaW1wb3J0IHtcbiAgc2VsZWN0RW1haWxUb1ZlcmlmeSxcbiAgc2VsZWN0UGhvbmVUb1ZlcmlmeSxcbiAgc2VsZWN0VXNlckNvdW50cnlDb2RlLFxuICBzZWxlY3RVc2VyLFxuICBzZWxlY3RTZXRSZWZlcnJlclBlbmRpbmcsXG4gIHNlbGVjdFJlZmVycmVyLFxufSBmcm9tICdyZWR1eC9zZWxlY3RvcnMvdXNlcic7XG5pbXBvcnQgeyBzZWxlY3RJc1Jld2FyZEFwcHJvdmVkIH0gZnJvbSAncmVkdXgvc2VsZWN0b3JzL3Jld2FyZHMnO1xuaW1wb3J0IHsgZG9Ub2FzdCB9IGZyb20gJ3JlZHV4L2FjdGlvbnMvbm90aWZpY2F0aW9ucyc7XG5pbXBvcnQgcmV3YXJkcyBmcm9tICdyZXdhcmRzJztcbmltcG9ydCB7IExicnlpbyB9IGZyb20gJ2xicnlpbmMnO1xuaW1wb3J0IHsgRE9NQUlOLCBMT0NBTEVfQVBJIH0gZnJvbSAnY29uZmlnJztcbmltcG9ydCB7IGdldERlZmF1bHRMYW5ndWFnZSB9IGZyb20gJ3V0aWwvZGVmYXVsdC1sYW5ndWFnZXMnO1xuaW1wb3J0IHsgTG9jYWxTdG9yYWdlLCBMUyB9IGZyb20gJ3V0aWwvc3RvcmFnZSc7XG5pbXBvcnQgeyBnZXRDaGFubmVsRnJvbUNsYWltIH0gZnJvbSAndXRpbC9jbGFpbSc7XG5cbmV4cG9ydCBsZXQgc2Vzc2lvblN0b3JhZ2VBdmFpbGFibGUgPSBmYWxzZTtcbmNvbnN0IENIRUNLX0lOVEVSVkFMID0gMjAwO1xuY29uc3QgQVVUSF9XQUlUX1RJTUVPVVQgPSAxMDAwMDtcbmNvbnN0IHN0cmlwZUVudmlyb25tZW50ID0gZ2V0U3RyaXBlRW52aXJvbm1lbnQoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRvRmV0Y2hJbnZpdGVTdGF0dXMoc2hvdWxkQ2FsbFJld2FyZExpc3QgPSB0cnVlKSB7XG4gIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBQ1RJT05TLlVTRVJfSU5WSVRFX1NUQVRVU19GRVRDSF9TVEFSVEVELFxuICAgIH0pO1xuXG4gICAgUHJvbWlzZS5hbGwoW0xicnlpby5jYWxsKCd1c2VyJywgJ2ludml0ZV9zdGF0dXMnKSwgTGJyeWlvLmNhbGwoJ3VzZXJfcmVmZXJyYWxfY29kZScsICdsaXN0JyldKVxuICAgICAgLnRoZW4oKFtzdGF0dXMsIGNvZGVdKSA9PiB7XG4gICAgICAgIGlmIChzaG91bGRDYWxsUmV3YXJkTGlzdCkge1xuICAgICAgICAgIGRpc3BhdGNoKGRvUmV3YXJkTGlzdCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiBBQ1RJT05TLlVTRVJfSU5WSVRFX1NUQVRVU19GRVRDSF9TVUNDRVNTLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGludml0ZXNSZW1haW5pbmc6IHN0YXR1cy5pbnZpdGVzX3JlbWFpbmluZyA/IHN0YXR1cy5pbnZpdGVzX3JlbWFpbmluZyA6IDAsXG4gICAgICAgICAgICBpbnZpdGVlczogc3RhdHVzLmludml0ZWVzLFxuICAgICAgICAgICAgcmVmZXJyYWxMaW5rOiBgJHtMYnJ5aW8uQ09OTkVDVElPTl9TVFJJTkd9dXNlci9yZWZlcj9yPSR7Y29kZX1gLFxuICAgICAgICAgICAgcmVmZXJyYWxDb2RlOiBjb2RlLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6IEFDVElPTlMuVVNFUl9JTlZJVEVfU1RBVFVTX0ZFVENIX0ZBSUxVUkUsXG4gICAgICAgICAgZGF0YTogeyBlcnJvciB9LFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG9JbnN0YWxsTmV3KGFwcFZlcnNpb24sIGNhbGxiYWNrRm9yVXNlcnNXaG9BcmVTaGFyaW5nRGF0YSwgZG9tYWluKSB7XG4gIGNvbnN0IHBheWxvYWQgPSB7IGFwcF92ZXJzaW9uOiBhcHBWZXJzaW9uLCBkb21haW4gfTtcblxuICBwYXlsb2FkLmFwcF9pZCA9ICdvZHlzZWVhbmRyb2lkRkRST0lERHVBZlE2S0hNWHhGeHQ4dGtobXQ3c2ZwckVNSFdLank1aGY2UHdaY0hEVjU0MlYnO1xuICBMYnJ5LnZlcnNpb24oKS50aGVuKCh2ZXJzaW9uKSA9PiB7XG4gICAgcGF5bG9hZC5kYWVtb25fdmVyc2lvbiA9IHZlcnNpb24ubGJyeW5ldF92ZXJzaW9uO1xuICAgIHBheWxvYWQub3BlcmF0aW5nX3N5c3RlbSA9ICdhbmRyb2lkJztcbiAgICBwYXlsb2FkLnBsYXRmb3JtID0gJ2FuZHJvaWQnO1xuICAgIExicnlpby5jYWxsKCdpbnN0YWxsJywgJ25ldycsIHBheWxvYWQpO1xuXG4gICAgaWYgKGNhbGxiYWNrRm9yVXNlcnNXaG9BcmVTaGFyaW5nRGF0YSkge1xuICAgICAgY2FsbGJhY2tGb3JVc2Vyc1dob0FyZVNoYXJpbmdEYXRhKHN0YXR1cyk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gY2hlY2tBdXRoQnVzeSgpIHtcbiAgbGV0IHRpbWUgPSBEYXRlLm5vdygpO1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIChmdW5jdGlvbiB3YWl0Rm9yQXV0aCgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3Rlc3QnLCAnYXZhaWxhYmxlJyk7XG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rlc3QnKTtcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2VBdmFpbGFibGUgPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoZSkge1xuICAgICAgICAgIC8vIG5vIHNlc3Npb24gc3RvcmFnZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIUlTX1dFQiB8fCAhc2Vzc2lvblN0b3JhZ2VBdmFpbGFibGUpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGluUHJvZ3Jlc3MgPSBMb2NhbFN0b3JhZ2UuZ2V0SXRlbShMUy5BVVRIX0lOX1BST0dSRVNTKTtcbiAgICAgIGlmICghaW5Qcm9ncmVzcykge1xuICAgICAgICBMb2NhbFN0b3JhZ2Uuc2V0SXRlbShMUy5BVVRIX0lOX1BST0dSRVNTLCAndHJ1ZScpO1xuICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKERhdGUubm93KCkgLSB0aW1lIDwgQVVUSF9XQUlUX1RJTUVPVVQpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KHdhaXRGb3JBdXRoLCBDSEVDS19JTlRFUlZBTCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pKCk7XG4gIH0pO1xufVxuXG4vKioqXG4gKiBHaXZlbiBhIHVzZXIsIHJldHVybiB0aGVpciBoaWdoZXN0IHJhbmtpbmcgT2R5c2VlIG1lbWJlcnNoaXAgKFByZW1pdW0gb3IgUHJlbWl1bSBQbHVzKVxuICogQHBhcmFtIGRpc3BhdGNoXG4gKiBAcGFyYW0gdXNlclxuICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkb0NoZWNrVXNlck9keXNlZU1lbWJlcnNoaXBzKHVzZXIpIHtcbiAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCkgPT4ge1xuICAgIGxldCBoaWdoZXN0TWVtYmVyc2hpcFJhbmtpbmc7XG5cbiAgICBpZiAodXNlci5vZHlzZWVfbWVtYmVyKSB7XG4gICAgICAvLyBnZXQgbWVtYmVyc2hpcHMgZm9yIGEgZ2l2ZW4gdXNlclxuICAgICAgLy8gVE9ETzogaW4gdGhlIGZ1dHVyZSwgY2FuIHdlIHNwZWNpZnkgdGhpcyBqdXN0IHRvIEBvZHlzZWU/XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgTGJyeWlvLmNhbGwoXG4gICAgICAgICdtZW1iZXJzaGlwJyxcbiAgICAgICAgJ21pbmUnLFxuICAgICAgICB7XG4gICAgICAgICAgZW52aXJvbm1lbnQ6IHN0cmlwZUVudmlyb25tZW50LFxuICAgICAgICB9LFxuICAgICAgICAncG9zdCdcbiAgICAgICk7XG5cbiAgICAgIGxldCBzYXZlZE1lbWJlcnNoaXBzID0gW107XG5cbiAgICAgIC8vIFRPRE86IHRoaXMgd2lsbCB3b3JrIGZvciBub3csIGJ1dCBpdCBzaG91bGQgYmUgYWRqdXN0ZWRcbiAgICAgIC8vIFRPRE86IHRvIGNoZWNrIGlmIGl0J3MgYWN0aXZlLCBvciBpZiBpdCdzIGNhbmNlbGxlZCBpZiBpdCdzIHN0aWxsIHZhbGlkIHBhc3QgY3VycmVudCBkYXRlXG4gICAgICAvLyBsb29wIHRocm91Z2ggYWxsIG1lbWJlcnNoaXBzIGFuZCBzYXZlIHRoZSBAb2R5c2VlIG9uZXNcbiAgICAgIC8vIG1heWJlIGluIHRoZSBmdXR1cmUgd2UgY2FuIG9ubHkgaGl0IEBvZHlzZWUgaW4gdGhlIEFQSSBjYWxsXG4gICAgICBmb3IgKGNvbnN0IG1lbWJlcnNoaXAgb2YgcmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKG1lbWJlcnNoaXAuTWVtYmVyc2hpcERldGFpbHMgJiYgbWVtYmVyc2hpcC5NZW1iZXJzaGlwRGV0YWlscy5jaGFubmVsX25hbWUgPT09ICdAb2R5c2VlJykge1xuICAgICAgICAgIHNhdmVkTWVtYmVyc2hpcHMucHVzaChtZW1iZXJzaGlwLk1lbWJlcnNoaXBEZXRhaWxzLm5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGRldGVybWluZSBoaWdoZXN0IHJhbmtpbmcgbWVtYmVyc2hpcCBiYXNlZCBvbiByZXR1cm5lZCBkYXRhXG4gICAgICAvLyBub3RlOiB0aGlzIGlzIGZyb20gYW4gb2RkIHN0YXRlIGluIHRoZSBBUEkgd2hlcmUgYSB1c2VyIGNhbiBiZSBib3RoIHByZW1pdW0vUHJlbWl1bSArIGF0IHRoZSBzYW1lIHRpbWVcbiAgICAgIC8vIEkgZXhwZWN0IHRoaXMgY2FuIGNoYW5nZSBvbmNlIHVwZ3JhZGUvZG93bmdyYWRlIGlzIGltcGxlbWVudGVkXG4gICAgICBpZiAoc2F2ZWRNZW1iZXJzaGlwcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIGlmIHByZW1pdW0gcGx1cyBpcyBhIG1lbWJlcnNoaXAsIHJldHVybiB0aGF0LCBvdGhlcndpc2UgaXQncyBvbmx5IHByZW1pdW1cbiAgICAgICAgY29uc3QgcHJlbWl1bVBsdXNFeGlzdHMgPSBzYXZlZE1lbWJlcnNoaXBzLmluY2x1ZGVzKCdQcmVtaXVtKycpO1xuICAgICAgICBpZiAocHJlbWl1bVBsdXNFeGlzdHMpIHtcbiAgICAgICAgICBoaWdoZXN0TWVtYmVyc2hpcFJhbmtpbmcgPSAnUHJlbWl1bSsnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhpZ2hlc3RNZW1iZXJzaGlwUmFua2luZyA9ICdQcmVtaXVtJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEFDVElPTlMuQUREX09EWVNFRV9NRU1CRVJTSElQX0RBVEEsXG4gICAgICBkYXRhOiB7IHVzZXIsIG9keXNlZU1lbWJlcnNoaXBOYW1lOiBoaWdoZXN0TWVtYmVyc2hpcFJhbmtpbmcgfHwgJycgfSwgLy8gJycgPSBub25lOyBgdW5kZWZpbmVkYCA9IG5vdCBmZXRjaGVkXG4gICAgfSk7XG4gIH07XG59XG5cbi8vIFRPRE86IENhbGwgZG9JbnN0YWxsTmV3IHNlcGFyYXRlbHkgc28gd2UgZG9uJ3QgaGF2ZSB0byBwYXNzIGFwcFZlcnNpb24gYW5kIG9zX3N5c3RlbSBwYXJhbXM/XG5leHBvcnQgZnVuY3Rpb24gZG9BdXRoZW50aWNhdGUoXG4gIGFwcFZlcnNpb24sXG4gIHNoYXJlVXNhZ2VEYXRhID0gdHJ1ZSxcbiAgY2FsbGJhY2tGb3JVc2Vyc1dob0FyZVNoYXJpbmdEYXRhLFxuICBjYWxsSW5zdGFsbCA9IHRydWVcbikge1xuICByZXR1cm4gKGRpc3BhdGNoKSA9PiB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQUNUSU9OUy5BVVRIRU5USUNBVElPTl9TVEFSVEVELFxuICAgIH0pO1xuICAgIGNoZWNrQXV0aEJ1c3koKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICByZXR1cm4gTGJyeWlvLmF1dGhlbnRpY2F0ZShET01BSU4sIGdldERlZmF1bHRMYW5ndWFnZSgpKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigodXNlcikgPT4ge1xuICAgICAgICBMb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShMUy5BVVRIX0lOX1BST0dSRVNTKTtcbiAgICAgICAgTGJyeWlvLmdldEF1dGhUb2tlbigpLnRoZW4oKHRva2VuKSA9PiB7XG4gICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZTogQUNUSU9OUy5BVVRIRU5USUNBVElPTl9TVUNDRVNTLFxuICAgICAgICAgICAgZGF0YTogeyB1c2VyLCBhY2Nlc3NUb2tlbjogdG9rZW4gfSxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGRpc3BhdGNoKGRvQ2hlY2tVc2VyT2R5c2VlTWVtYmVyc2hpcHModXNlcikpO1xuXG4gICAgICAgICAgaWYgKHNoYXJlVXNhZ2VEYXRhKSB7XG4gICAgICAgICAgICBkaXNwYXRjaChkb1Jld2FyZExpc3QoKSk7XG5cbiAgICAgICAgICAgIGlmIChjYWxsSW5zdGFsbCAmJiAhdXNlcj8uZGV2aWNlX3R5cGVzPy5pbmNsdWRlcygnd2ViJykpIHtcbiAgICAgICAgICAgICAgZG9JbnN0YWxsTmV3KGFwcFZlcnNpb24sIGNhbGxiYWNrRm9yVXNlcnNXaG9BcmVTaGFyaW5nRGF0YSwgRE9NQUlOKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkaXNwYXRjaChkb0ZldGNoR2VvQmxvY2tlZExpc3QoKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgTG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oTFMuQVVUSF9JTl9QUk9HUkVTUyk7XG5cbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6IEFDVElPTlMuQVVUSEVOVElDQVRJT05fRkFJTFVSRSxcbiAgICAgICAgICBkYXRhOiB7IGVycm9yIH0sXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb1VzZXJGZXRjaCgpIHtcbiAgcmV0dXJuIChkaXNwYXRjaCkgPT5cbiAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IEFDVElPTlMuVVNFUl9GRVRDSF9TVEFSVEVELFxuICAgICAgfSk7XG5cbiAgICAgIExicnlpby5nZXRDdXJyZW50VXNlcigpXG4gICAgICAgIC50aGVuKCh1c2VyKSA9PiB7XG4gICAgICAgICAgZGlzcGF0Y2goZG9DaGVja1VzZXJPZHlzZWVNZW1iZXJzaGlwcyh1c2VyKSk7XG4gICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZTogQUNUSU9OUy5VU0VSX0ZFVENIX1NVQ0NFU1MsXG4gICAgICAgICAgICBkYXRhOiB7IHVzZXIgfSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXNvbHZlKHVzZXIpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiBBQ1RJT05TLlVTRVJfRkVUQ0hfRkFJTFVSRSxcbiAgICAgICAgICAgIGRhdGE6IHsgZXJyb3IgfSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb1VzZXJDaGVja0VtYWlsVmVyaWZpZWQoKSB7XG4gIC8vIFRoaXMgd2lsbCBoYXBwZW4gaW4gdGhlIGJhY2tncm91bmQgc28gd2UgZG9uJ3QgbmVlZCBsb2FkaW5nIGJvb2xlYW5zXG4gIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICBMYnJ5aW8uZ2V0Q3VycmVudFVzZXIoKS50aGVuKCh1c2VyKSA9PiB7XG4gICAgICBkaXNwYXRjaChkb0NoZWNrVXNlck9keXNlZU1lbWJlcnNoaXBzKHVzZXIpKTtcblxuICAgICAgaWYgKHVzZXIuaGFzX3ZlcmlmaWVkX2VtYWlsKSB7XG4gICAgICAgIGRpc3BhdGNoKGRvUmV3YXJkTGlzdCgpKTtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6IEFDVElPTlMuVVNFUl9GRVRDSF9TVUNDRVNTLFxuICAgICAgICAgIGRhdGE6IHsgdXNlciB9LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvVXNlclBob25lUmVzZXQoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQUNUSU9OUy5VU0VSX1BIT05FX1JFU0VULFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG9Vc2VyUGhvbmVOZXcocGhvbmUsIGNvdW50cnlDb2RlKSB7XG4gIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBQ1RJT05TLlVTRVJfUEhPTkVfTkVXX1NUQVJURUQsXG4gICAgICBkYXRhOiB7IHBob25lLCBjb3VudHJ5X2NvZGU6IGNvdW50cnlDb2RlIH0sXG4gICAgfSk7XG5cbiAgICBjb25zdCBzdWNjZXNzID0gKCkgPT4ge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBBQ1RJT05TLlVTRVJfUEhPTkVfTkVXX1NVQ0NFU1MsXG4gICAgICAgIGRhdGE6IHsgcGhvbmUgfSxcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBmYWlsdXJlID0gKGVycm9yKSA9PiB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IEFDVElPTlMuVVNFUl9QSE9ORV9ORVdfRkFJTFVSRSxcbiAgICAgICAgZGF0YTogeyBlcnJvciB9LFxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIExicnlpby5jYWxsKCd1c2VyJywgJ3Bob25lX251bWJlcl9uZXcnLCB7IHBob25lX251bWJlcjogcGhvbmUsIGNvdW50cnlfY29kZTogY291bnRyeUNvZGUgfSwgJ3Bvc3QnKS50aGVuKFxuICAgICAgc3VjY2VzcyxcbiAgICAgIGZhaWx1cmVcbiAgICApO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG9Vc2VyUGhvbmVWZXJpZnlGYWlsdXJlKGVycm9yKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQUNUSU9OUy5VU0VSX1BIT05FX1ZFUklGWV9GQUlMVVJFLFxuICAgIGRhdGE6IHsgZXJyb3IgfSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvVXNlclBob25lVmVyaWZ5KHZlcmlmaWNhdGlvbkNvZGUpIHtcbiAgcmV0dXJuIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCBwaG9uZU51bWJlciA9IHNlbGVjdFBob25lVG9WZXJpZnkoZ2V0U3RhdGUoKSk7XG4gICAgY29uc3QgY291bnRyeUNvZGUgPSBzZWxlY3RVc2VyQ291bnRyeUNvZGUoZ2V0U3RhdGUoKSk7XG5cbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBQ1RJT05TLlVTRVJfUEhPTkVfVkVSSUZZX1NUQVJURUQsXG4gICAgICBjb2RlOiB2ZXJpZmljYXRpb25Db2RlLFxuICAgIH0pO1xuXG4gICAgTGJyeWlvLmNhbGwoXG4gICAgICAndXNlcicsXG4gICAgICAncGhvbmVfbnVtYmVyX2NvbmZpcm0nLFxuICAgICAge1xuICAgICAgICB2ZXJpZmljYXRpb25fY29kZTogdmVyaWZpY2F0aW9uQ29kZSxcbiAgICAgICAgcGhvbmVfbnVtYmVyOiBwaG9uZU51bWJlcixcbiAgICAgICAgY291bnRyeV9jb2RlOiBjb3VudHJ5Q29kZSxcbiAgICAgIH0sXG4gICAgICAncG9zdCdcbiAgICApXG4gICAgICAudGhlbigodXNlcikgPT4ge1xuICAgICAgICBpZiAodXNlci5pc19pZGVudGl0eV92ZXJpZmllZCkge1xuICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6IEFDVElPTlMuVVNFUl9QSE9ORV9WRVJJRllfU1VDQ0VTUyxcbiAgICAgICAgICAgIGRhdGE6IHsgdXNlciB9LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGRpc3BhdGNoKGRvQ2xhaW1SZXdhcmRUeXBlKHJld2FyZHMuVFlQRV9ORVdfVVNFUikpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnJvcikgPT4gZGlzcGF0Y2goZG9Vc2VyUGhvbmVWZXJpZnlGYWlsdXJlKGVycm9yKSkpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG9Vc2VyRW1haWxUb1ZlcmlmeShlbWFpbCkge1xuICByZXR1cm4gKGRpc3BhdGNoKSA9PiB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQUNUSU9OUy5VU0VSX0VNQUlMX1ZFUklGWV9TRVQsXG4gICAgICBkYXRhOiB7IGVtYWlsIH0sXG4gICAgfSk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb1VzZXJFbWFpbE5ldyhlbWFpbCkge1xuICByZXR1cm4gKGRpc3BhdGNoKSA9PiB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQUNUSU9OUy5VU0VSX0VNQUlMX05FV19TVEFSVEVELFxuICAgICAgZW1haWwsXG4gICAgfSk7XG5cbiAgICBjb25zdCBzdWNjZXNzID0gKCkgPT4ge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBBQ1RJT05TLlVTRVJfRU1BSUxfTkVXX1NVQ0NFU1MsXG4gICAgICAgIGRhdGE6IHsgZW1haWwgfSxcbiAgICAgIH0pO1xuICAgICAgZGlzcGF0Y2goZG9Vc2VyRmV0Y2goKSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGZhaWx1cmUgPSAoZXJyb3IpID0+IHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogQUNUSU9OUy5VU0VSX0VNQUlMX05FV19GQUlMVVJFLFxuICAgICAgICBkYXRhOiB7IGVycm9yIH0sXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgTGJyeWlvLmNhbGwoJ3VzZXJfZW1haWwnLCAnbmV3JywgeyBlbWFpbCwgc2VuZF92ZXJpZmljYXRpb25fZW1haWw6IHRydWUgfSwgJ3Bvc3QnKVxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiBBQ1RJT05TLlVTRVJfRU1BSUxfTkVXX0VYSVNUUyxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBMYnJ5aW8uY2FsbCgndXNlcl9lbWFpbCcsICdyZXNlbmRfdG9rZW4nLCB7IGVtYWlsLCBvbmx5X2lmX2V4cGlyZWQ6IHRydWUgfSwgJ3Bvc3QnKS50aGVuKFxuICAgICAgICAgICAgc3VjY2VzcyxcbiAgICAgICAgICAgIGZhaWx1cmVcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfSlcbiAgICAgIC50aGVuKHN1Y2Nlc3MsIGZhaWx1cmUpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG9Vc2VyQ2hlY2tJZkVtYWlsRXhpc3RzKGVtYWlsKSB7XG4gIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBQ1RJT05TLlVTRVJfRU1BSUxfTkVXX1NUQVJURUQsXG4gICAgICBlbWFpbCxcbiAgICB9KTtcblxuICAgIGNvbnN0IHRyaWdnZXJFbWFpbEZsb3cgPSAoaGFzUGFzc3dvcmQpID0+IHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogQUNUSU9OUy5VU0VSX0VNQUlMX05FV19TVUNDRVNTLFxuICAgICAgICBkYXRhOiB7IGVtYWlsIH0sXG4gICAgICB9KTtcblxuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBBQ1RJT05TLlVTRVJfRU1BSUxfTkVXX0VYSVNUUyxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoaGFzUGFzc3dvcmQpIHtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6IEFDVElPTlMuVVNFUl9QQVNTV09SRF9FWElTVFMsXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgdGhleSBkb24ndCBoYXZlIGEgcGFzc3dvcmQsIHRoZXkgd2lsbCBuZWVkIHRvIHVzZSB0aGUgZW1haWwgdmVyaWZpY2F0aW9uIGFwaVxuICAgICAgICBMYnJ5aW8uY2FsbCgndXNlcl9lbWFpbCcsICdyZXNlbmRfdG9rZW4nLCB7IGVtYWlsLCBvbmx5X2lmX2V4cGlyZWQ6IHRydWUgfSwgJ3Bvc3QnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgc3VjY2VzcyA9IChyZXNwb25zZSkgPT4ge1xuICAgICAgdHJpZ2dlckVtYWlsRmxvdyhyZXNwb25zZS5oYXNfcGFzc3dvcmQpO1xuICAgIH07XG5cbiAgICBjb25zdCBmYWlsdXJlID0gKGVycm9yKSA9PlxuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBBQ1RJT05TLlVTRVJfRU1BSUxfTkVXX0ZBSUxVUkUsXG4gICAgICAgIGRhdGE6IHsgZXJyb3IgfSxcbiAgICAgIH0pO1xuXG4gICAgTGJyeWlvLmNhbGwoJ3VzZXInLCAnZXhpc3RzJywgeyBlbWFpbCB9LCAncG9zdCcpXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIC8vIG5vIGVtYWlsXG4gICAgICAgIGlmIChlcnJvci5yZXNwb25zZSAmJiBlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6IEFDVElPTlMuVVNFUl9FTUFJTF9ORVdfRE9FU19OT1RfRVhJU1QsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLy8gc2lnbiBpbiBieSBlbWFpbFxuICAgICAgICB9IGVsc2UgaWYgKGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEyKSB7XG4gICAgICAgICAgdHJpZ2dlckVtYWlsRmxvdyhmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH0pXG4gICAgICAvLyBzaWduIHRoZSB1c2VyIGluXG4gICAgICAudGhlbihzdWNjZXNzLCBmYWlsdXJlKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvVXNlclNpZ25JbihlbWFpbCwgcGFzc3dvcmQpIHtcbiAgcmV0dXJuIChkaXNwYXRjaCkgPT4ge1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEFDVElPTlMuVVNFUl9FTUFJTF9ORVdfU1RBUlRFRCxcbiAgICAgIGVtYWlsLFxuICAgIH0pO1xuXG4gICAgY29uc3Qgc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogQUNUSU9OUy5VU0VSX0VNQUlMX05FV19TVUNDRVNTLFxuICAgICAgICBkYXRhOiB7IGVtYWlsIH0sXG4gICAgICB9KTtcbiAgICAgIGRpc3BhdGNoKGRvVXNlckZldGNoKCkpO1xuICAgIH07XG5cbiAgICBjb25zdCBmYWlsdXJlID0gKGVycm9yKSA9PlxuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBBQ1RJT05TLlVTRVJfRU1BSUxfTkVXX0ZBSUxVUkUsXG4gICAgICAgIGRhdGE6IHsgZXJyb3IgfSxcbiAgICAgIH0pO1xuXG4gICAgTGJyeWlvLmNhbGwoJ3VzZXInLCAnc2lnbmluJywgeyBlbWFpbCwgLi4uKHBhc3N3b3JkID8geyBwYXNzd29yZCB9IDoge30pIH0sICdwb3N0JylcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZTogQUNUSU9OUy5VU0VSX0VNQUlMX05FV19FWElTVFMsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gTGJyeWlvLmNhbGwoJ3VzZXJfZW1haWwnLCAncmVzZW5kX3Rva2VuJywgeyBlbWFpbCwgb25seV9pZl9leHBpcmVkOiB0cnVlIH0sICdwb3N0JykudGhlbihcbiAgICAgICAgICAgIHN1Y2Nlc3MsXG4gICAgICAgICAgICBmYWlsdXJlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH0pXG4gICAgICAudGhlbihzdWNjZXNzLCBmYWlsdXJlKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvVXNlclNpZ25VcChlbWFpbCwgcGFzc3dvcmQpIHtcbiAgcmV0dXJuIChkaXNwYXRjaCkgPT5cbiAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IEFDVElPTlMuVVNFUl9FTUFJTF9ORVdfU1RBUlRFRCxcbiAgICAgICAgZW1haWwsXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6IEFDVElPTlMuVVNFUl9FTUFJTF9ORVdfU1VDQ0VTUyxcbiAgICAgICAgICBkYXRhOiB7IGVtYWlsIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBkaXNwYXRjaChkb1VzZXJGZXRjaCgpKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgZmFpbHVyZSA9IChlcnJvcikgPT4ge1xuICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiBBQ1RJT05TLlVTRVJfRU1BSUxfTkVXX0VYSVNUUyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogQUNUSU9OUy5VU0VSX0VNQUlMX05FV19GQUlMVVJFLFxuICAgICAgICAgIGRhdGE6IHsgZXJyb3IgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH07XG5cbiAgICAgIExicnlpby5jYWxsKCd1c2VyJywgJ3NpZ251cCcsIHsgZW1haWwsIC4uLihwYXNzd29yZCA/IHsgcGFzc3dvcmQgfSA6IHt9KSB9LCAncG9zdCcpLnRoZW4oc3VjY2VzcywgZmFpbHVyZSk7XG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb1VzZXJQYXNzd29yZFJlc2V0KGVtYWlsKSB7XG4gIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBQ1RJT05TLlVTRVJfUEFTU1dPUkRfUkVTRVRfU1RBUlRFRCxcbiAgICAgIGVtYWlsLFxuICAgIH0pO1xuXG4gICAgY29uc3Qgc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogQUNUSU9OUy5VU0VSX1BBU1NXT1JEX1JFU0VUX1NVQ0NFU1MsXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgZmFpbHVyZSA9IChlcnJvcikgPT5cbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogQUNUSU9OUy5VU0VSX1BBU1NXT1JEX1JFU0VUX0ZBSUxVUkUsXG4gICAgICAgIGRhdGE6IHsgZXJyb3IgfSxcbiAgICAgIH0pO1xuXG4gICAgTGJyeWlvLmNhbGwoJ3VzZXJfcGFzc3dvcmQnLCAncmVzZXQnLCB7IGVtYWlsIH0sICdwb3N0JykudGhlbihzdWNjZXNzLCBmYWlsdXJlKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvVXNlclBhc3N3b3JkU2V0KG5ld1Bhc3N3b3JkLCBvbGRQYXNzd29yZCwgYXV0aFRva2VuKSB7XG4gIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBQ1RJT05TLlVTRVJfUEFTU1dPUkRfU0VUX1NUQVJURUQsXG4gICAgfSk7XG5cbiAgICBjb25zdCBzdWNjZXNzID0gKCkgPT4ge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBBQ1RJT05TLlVTRVJfUEFTU1dPUkRfU0VUX1NVQ0NFU1MsXG4gICAgICB9KTtcbiAgICAgIGRpc3BhdGNoKGRvVXNlckZldGNoKCkpO1xuICAgIH07XG5cbiAgICBjb25zdCBmYWlsdXJlID0gKGVycm9yKSA9PlxuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBBQ1RJT05TLlVTRVJfUEFTU1dPUkRfU0VUX0ZBSUxVUkUsXG4gICAgICAgIGRhdGE6IHsgZXJyb3IgfSxcbiAgICAgIH0pO1xuXG4gICAgTGJyeWlvLmNhbGwoXG4gICAgICAndXNlcl9wYXNzd29yZCcsXG4gICAgICAnc2V0JyxcbiAgICAgIHtcbiAgICAgICAgbmV3X3Bhc3N3b3JkOiBuZXdQYXNzd29yZCxcbiAgICAgICAgLi4uKG9sZFBhc3N3b3JkID8geyBvbGRfcGFzc3dvcmQ6IG9sZFBhc3N3b3JkIH0gOiB7fSksXG4gICAgICAgIC4uLihhdXRoVG9rZW4gPyB7IGF1dGhfdG9rZW46IGF1dGhUb2tlbiB9IDoge30pLFxuICAgICAgfSxcbiAgICAgICdwb3N0J1xuICAgICkudGhlbihzdWNjZXNzLCBmYWlsdXJlKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvVXNlclJlc2VuZFZlcmlmaWNhdGlvbkVtYWlsKGVtYWlsKSB7XG4gIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBQ1RJT05TLlVTRVJfRU1BSUxfVkVSSUZZX1JFVFJZX1NUQVJURUQsXG4gICAgfSk7XG5cbiAgICBjb25zdCBzdWNjZXNzID0gKCkgPT4ge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBBQ1RJT05TLlVTRVJfRU1BSUxfVkVSSUZZX1JFVFJZX1NVQ0NFU1MsXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgZmFpbHVyZSA9IChlcnJvcikgPT4ge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBBQ1RJT05TLlVTRVJfRU1BSUxfVkVSSUZZX1JFVFJZX0ZBSUxVUkUsXG4gICAgICAgIGRhdGE6IHsgZXJyb3IgfSxcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBMYnJ5aW8uY2FsbCgndXNlcl9lbWFpbCcsICdyZXNlbmRfdG9rZW4nLCB7IGVtYWlsLCBvbmx5X2lmX2V4cGlyZWQ6IHRydWUgfSwgJ3Bvc3QnKVxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC50aGVuKHN1Y2Nlc3MsIGZhaWx1cmUpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG9DbGVhckVtYWlsRW50cnkoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQUNUSU9OUy5VU0VSX0VNQUlMX05FV19DTEVBUl9FTlRSWSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvQ2xlYXJQYXNzd29yZEVudHJ5KCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFDVElPTlMuVVNFUl9QQVNTV09SRF9TRVRfQ0xFQVIsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb1VzZXJFbWFpbFZlcmlmeUZhaWx1cmUoZXJyb3IpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBBQ1RJT05TLlVTRVJfRU1BSUxfVkVSSUZZX0ZBSUxVUkUsXG4gICAgZGF0YTogeyBlcnJvciB9LFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG9Vc2VyRW1haWxWZXJpZnkodmVyaWZpY2F0aW9uVG9rZW4sIHJlY2FwdGNoYSkge1xuICByZXR1cm4gKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IGVtYWlsID0gc2VsZWN0RW1haWxUb1ZlcmlmeShnZXRTdGF0ZSgpKTtcblxuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEFDVElPTlMuVVNFUl9FTUFJTF9WRVJJRllfU1RBUlRFRCxcbiAgICAgIGNvZGU6IHZlcmlmaWNhdGlvblRva2VuLFxuICAgICAgcmVjYXB0Y2hhLFxuICAgIH0pO1xuXG4gICAgTGJyeWlvLmNhbGwoXG4gICAgICAndXNlcl9lbWFpbCcsXG4gICAgICAnY29uZmlybScsXG4gICAgICB7XG4gICAgICAgIHZlcmlmaWNhdGlvbl90b2tlbjogdmVyaWZpY2F0aW9uVG9rZW4sXG4gICAgICAgIGVtYWlsLFxuICAgICAgICByZWNhcHRjaGEsXG4gICAgICB9LFxuICAgICAgJ3Bvc3QnXG4gICAgKVxuICAgICAgLnRoZW4oKHVzZXJFbWFpbCkgPT4ge1xuICAgICAgICBpZiAodXNlckVtYWlsLmlzX3ZlcmlmaWVkKSB7XG4gICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZTogQUNUSU9OUy5VU0VSX0VNQUlMX1ZFUklGWV9TVUNDRVNTLFxuICAgICAgICAgICAgZGF0YTogeyBlbWFpbCB9LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGRpc3BhdGNoKGRvVXNlckZldGNoKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91ciBlbWFpbCBpcyBzdGlsbCBub3QgdmVyaWZpZWQuJyk7IC8vIHNob3VsZG4ndCBoYXBwZW5cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IGRpc3BhdGNoKGRvVXNlckVtYWlsVmVyaWZ5RmFpbHVyZShlcnJvcikpKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvVXNlcklkZW50aXR5VmVyaWZ5KHN0cmlwZVRva2VuKSB7XG4gIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBQ1RJT05TLlVTRVJfSURFTlRJVFlfVkVSSUZZX1NUQVJURUQsXG4gICAgICB0b2tlbjogc3RyaXBlVG9rZW4sXG4gICAgfSk7XG5cbiAgICBMYnJ5aW8uY2FsbCgndXNlcicsICd2ZXJpZnlfaWRlbnRpdHknLCB7IHN0cmlwZV90b2tlbjogc3RyaXBlVG9rZW4gfSwgJ3Bvc3QnKVxuICAgICAgLnRoZW4oKHVzZXIpID0+IHtcbiAgICAgICAgaWYgKHVzZXIuaXNfaWRlbnRpdHlfdmVyaWZpZWQpIHtcbiAgICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiBBQ1RJT05TLlVTRVJfSURFTlRJVFlfVkVSSUZZX1NVQ0NFU1MsXG4gICAgICAgICAgICBkYXRhOiB7IHVzZXIgfSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBkaXNwYXRjaChkb0NsYWltUmV3YXJkVHlwZShyZXdhcmRzLlRZUEVfTkVXX1VTRVIpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdXIgaWRlbnRpdHkgaXMgc3RpbGwgbm90IHZlcmlmaWVkLiBUaGlzIHNob3VsZCBub3QgaGFwcGVuLicpOyAvLyBzaG91bGRuJ3QgaGFwcGVuXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiBBQ1RJT05TLlVTRVJfSURFTlRJVFlfVkVSSUZZX0ZBSUxVUkUsXG4gICAgICAgICAgZGF0YTogeyBlcnJvcjogZXJyb3IudG9TdHJpbmcoKSB9LFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG9Vc2VySW52aXRlTmV3KGVtYWlsKSB7XG4gIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBQ1RJT05TLlVTRVJfSU5WSVRFX05FV19TVEFSVEVELFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIExicnlpby5jYWxsKCd1c2VyJywgJ2ludml0ZScsIHsgZW1haWwgfSwgJ3Bvc3QnKVxuICAgICAgLnRoZW4oKHN1Y2Nlc3MpID0+IHtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6IEFDVElPTlMuVVNFUl9JTlZJVEVfTkVXX1NVQ0NFU1MsXG4gICAgICAgICAgZGF0YTogeyBlbWFpbCB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICBkb1RvYXN0KHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IF9fKCdJbnZpdGUgc2VudCB0byAlZW1haWxfYWRkcmVzcyUnLCB7IGVtYWlsX2FkZHJlc3M6IGVtYWlsIH0pLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgZGlzcGF0Y2goZG9GZXRjaEludml0ZVN0YXR1cygpKTtcbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogQUNUSU9OUy5VU0VSX0lOVklURV9ORVdfRkFJTFVSRSxcbiAgICAgICAgICBkYXRhOiB7IGVycm9yIH0sXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb1VzZXJTZXRSZWZlcnJlclJlc2V0KCkge1xuICByZXR1cm4gKGRpc3BhdGNoKSA9PiB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQUNUSU9OUy5VU0VSX1NFVF9SRUZFUlJFUl9SRVNFVCxcbiAgICB9KTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvVXNlclNldFJlZmVycmVyV2l0aFVyaSh1cmkpIHtcbiAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gICAgbGV0IGNsYWltID0gc2VsZWN0Q2xhaW1Gb3JVcmkoc3RhdGUsIHVyaSk7XG5cbiAgICBsZXQgcmVmZXJyZXJDb2RlO1xuICAgIGlmICghY2xhaW0pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgTGJyeS5yZXNvbHZlKHsgdXJsczogW3VyaV0gfSk7XG4gICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZVt1cmldICYmICFyZXNwb25zZVt1cmldLmVycm9yKSBjbGFpbSA9IHJlc3BvbnNlICYmIHJlc3BvbnNlW3VyaV07XG4gICAgICAgIGlmIChjbGFpbSkge1xuICAgICAgICAgIGlmIChjbGFpbS5zaWduaW5nX2NoYW5uZWwpIHtcbiAgICAgICAgICAgIHJlZmVycmVyQ29kZSA9IGNsYWltLnNpZ25pbmdfY2hhbm5lbC5wZXJtYW5lbnRfdXJsLnJlcGxhY2UoJ2xicnk6Ly8nLCAnJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlZmVycmVyQ29kZSA9IGNsYWltLnBlcm1hbmVudF91cmwucmVwbGFjZSgnbGJyeTovLycsICcnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGlzcGF0Y2goZG9Vc2VyU2V0UmVmZXJyZXIocmVmZXJyZXJDb2RlKSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiBBQ1RJT05TLlVTRVJfU0VUX1JFRkVSUkVSX0ZBSUwsXG4gICAgICAgICAgZGF0YTogeyBlcnJvciB9LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVmZXJyZXJDb2RlID0gY2xhaW0ucGVybWFuZW50X3VybC5yZXBsYWNlKCdsYnJ5Oi8vJywgJycpO1xuICAgICAgZGlzcGF0Y2goZG9Vc2VyU2V0UmVmZXJyZXIocmVmZXJyZXJDb2RlKSk7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgY29uc3QgZG9Vc2VyU2V0UmVmZXJyZXIgPSAocmVmZXJyZXJVcmkpID0+IGFzeW5jIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgbGV0IHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgY29uc3QgaGFzU2V0UmVmZXJyZXJQZW5kaW5nID0gc2VsZWN0U2V0UmVmZXJyZXJQZW5kaW5nKHN0YXRlKTtcbiAgY29uc3QgaGFzUmVmZXJyZXIgPSBCb29sZWFuKHNlbGVjdFJlZmVycmVyKHN0YXRlKSk7XG5cbiAgaWYgKGhhc1NldFJlZmVycmVyUGVuZGluZyB8fCBoYXNSZWZlcnJlcikgcmV0dXJuO1xuXG4gIGRpc3BhdGNoKHsgdHlwZTogQUNUSU9OUy5VU0VSX1NFVF9SRUZFUlJFUl9TVEFSVCB9KTtcblxuICBsZXQgY2xhaW07XG4gIGxldCByZWZlcnJlckNvZGUgPSByZWZlcnJlclVyaTtcblxuICBjb25zdCBpc1ZhbGlkID0gaXNVUklWYWxpZChyZWZlcnJlclVyaSk7XG5cbiAgaWYgKGlzVmFsaWQpIHtcbiAgICBjb25zdCB1cmkgPSBub3JtYWxpemVVUkkocmVmZXJyZXJVcmkpO1xuICAgIGNsYWltID0gc2VsZWN0Q2xhaW1Gb3JVcmkoc3RhdGUsIHVyaSk7XG5cbiAgICBpZiAoIWNsYWltKSB7XG4gICAgICBhd2FpdCBkaXNwYXRjaChkb1Jlc29sdmVVcmkodXJpKSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICAgICAgICBjbGFpbSA9IHNlbGVjdENsYWltRm9yVXJpKHN0YXRlLCB1cmkpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiBkaXNwYXRjaCh7IHR5cGU6IEFDVElPTlMuVVNFUl9TRVRfUkVGRVJSRVJfRkFJTCwgZGF0YTogeyBlcnJvciB9IH0pKTtcbiAgICB9XG5cbiAgICByZWZlcnJlckNvZGUgPSBnZXRDaGFubmVsRnJvbUNsYWltKGNsYWltKS5wZXJtYW5lbnRfdXJsLnJlcGxhY2UoJ2xicnk6Ly8nLCAnJyk7XG4gIH1cblxuICByZXR1cm4gYXdhaXQgTGJyeWlvLmNhbGwoJ3VzZXInLCAncmVmZXJyYWwnLCB7IHJlZmVycmVyOiByZWZlcnJlckNvZGUgfSwgJ3Bvc3QnKVxuICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgZGlzcGF0Y2goeyB0eXBlOiBBQ1RJT05TLlVTRVJfU0VUX1JFRkVSUkVSX1NVQ0NFU1MsIGRhdGE6IHJlZmVycmVyQ29kZSB9KTtcblxuICAgICAgY29uc3QgaXNSZXdhcmRBcHByb3ZlZCA9IHNlbGVjdElzUmV3YXJkQXBwcm92ZWQoc3RhdGUpO1xuXG4gICAgICBpZiAoaXNSZXdhcmRBcHByb3ZlZCkge1xuICAgICAgICBkaXNwYXRjaChkb0NsYWltUmV3YXJkVHlwZShyZXdhcmRzLlRZUEVfUkVGRVJFRSkpO1xuICAgICAgfVxuXG4gICAgICBkaXNwYXRjaChkb1VzZXJGZXRjaCgpKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IGRpc3BhdGNoKHsgdHlwZTogQUNUSU9OUy5VU0VSX1NFVF9SRUZFUlJFUl9GQUlMLCBkYXRhOiB7IGVycm9yIH0gfSkpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRvVXNlclNldENvdW50cnkoY291bnRyeSkge1xuICByZXR1cm4gKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICBjb25zdCB1c2VyID0gc2VsZWN0VXNlcihzdGF0ZSk7XG5cbiAgICBMYnJ5aW8uY2FsbCgndXNlcl9jb3VudHJ5JywgJ3NldCcsIHsgY291bnRyeSB9KS50aGVuKCgpID0+IHtcbiAgICAgIGNvbnN0IG5ld1VzZXIgPSB7IC4uLnVzZXIsIGNvdW50cnkgfTtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogQUNUSU9OUy5VU0VSX0ZFVENIX1NVQ0NFU1MsXG4gICAgICAgIGRhdGE6IHsgdXNlcjogbmV3VXNlciB9LFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb0NsYWltWW91dHViZUNoYW5uZWxzKCkge1xuICByZXR1cm4gKGRpc3BhdGNoKSA9PiB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQUNUSU9OUy5VU0VSX1lPVVRVQkVfSU1QT1JUX1NUQVJURUQsXG4gICAgfSk7XG5cbiAgICBsZXQgdHJhbnNmZXJSZXNwb25zZTtcbiAgICByZXR1cm4gTGJyeS5hZGRyZXNzX2xpc3QoeyBwYWdlOiAxLCBwYWdlX3NpemU6IDk5OTk5IH0pXG4gICAgICAudGhlbigoYWRkcmVzc0xpc3QpID0+IGFkZHJlc3NMaXN0Lml0ZW1zWzBdKVxuICAgICAgLnRoZW4oKGFkZHJlc3MpID0+XG4gICAgICAgIExicnlpby5jYWxsKCd5dCcsICd0cmFuc2ZlcicsIHtcbiAgICAgICAgICBhZGRyZXNzOiBhZGRyZXNzLmFkZHJlc3MsXG4gICAgICAgICAgcHVibGljX2tleTogYWRkcmVzcy5wdWJrZXksXG4gICAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLmxlbmd0aCkge1xuICAgICAgICAgICAgdHJhbnNmZXJSZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFxuICAgICAgICAgICAgICByZXNwb25zZS5tYXAoKGNoYW5uZWxNZXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNoYW5uZWxNZXRhICYmIGNoYW5uZWxNZXRhLmNoYW5uZWwgJiYgY2hhbm5lbE1ldGEuY2hhbm5lbC5jaGFubmVsX2NlcnRpZmljYXRlKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gTGJyeS5jaGFubmVsX2ltcG9ydCh7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxfZGF0YTogY2hhbm5lbE1ldGEuY2hhbm5lbC5jaGFubmVsX2NlcnRpZmljYXRlLFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgYWN0aW9ucyA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBBQ1RJT05TLlVTRVJfWU9VVFVCRV9JTVBPUlRfU1VDQ0VTUyxcbiAgICAgICAgICAgICAgICAgIGRhdGE6IHRyYW5zZmVyUmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgYWN0aW9ucy5wdXNoKGRvVXNlckZldGNoKCkpO1xuICAgICAgICAgICAgICBhY3Rpb25zLnB1c2goZG9GZXRjaENoYW5uZWxMaXN0TWluZSgpKTtcbiAgICAgICAgICAgICAgZGlzcGF0Y2goYmF0Y2hBY3Rpb25zKC4uLmFjdGlvbnMpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIClcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6IEFDVElPTlMuVVNFUl9ZT1VUVUJFX0lNUE9SVF9GQUlMVVJFLFxuICAgICAgICAgIGRhdGE6IFN0cmluZyhlcnJvciksXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb0NoZWNrWW91dHViZVRyYW5zZmVyKCkge1xuICByZXR1cm4gKGRpc3BhdGNoKSA9PiB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQUNUSU9OUy5VU0VSX1lPVVRVQkVfSU1QT1JUX1NUQVJURUQsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gTGJyeWlvLmNhbGwoJ3l0JywgJ3RyYW5zZmVyJylcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UubGVuZ3RoKSB7XG4gICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZTogQUNUSU9OUy5VU0VSX1lPVVRVQkVfSU1QT1JUX1NVQ0NFU1MsXG4gICAgICAgICAgICBkYXRhOiByZXNwb25zZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6IEFDVElPTlMuVVNFUl9ZT1VUVUJFX0lNUE9SVF9GQUlMVVJFLFxuICAgICAgICAgIGRhdGE6IFN0cmluZyhlcnJvciksXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH07XG59XG5cbi8qKipcbiAqIFJlY2VpdmVzIGEgY3N2IG9mIGNoYW5uZWwgY2xhaW0gaWRzLCBoaXRzIHRoZSBiYWNrZW5kIGFuZCByZXR1cm5zIG5pY2VseSBmb3JtYXR0ZWQgb2JqZWN0IHdpdGggcmVsZXZhbnQgaW5mb1xuICogQHBhcmFtIGNsYWltSWRDc3ZcbiAqIEByZXR1cm5zIHsoZnVuY3Rpb24oKik6IFByb21pc2U8dm9pZD4pfCp9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkb0ZldGNoVXNlck1lbWJlcnNoaXBzKGNsYWltSWRDc3YpIHtcbiAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCkgPT4ge1xuICAgIGlmICghY2xhaW1JZENzdiB8fCAoY2xhaW1JZENzdi5sZW5ndGggJiYgY2xhaW1JZENzdi5sZW5ndGggPCAxKSkgcmV0dXJuO1xuXG4gICAgLy8gY2hlY2sgaWYgdXNlcnMgaGF2ZSBvZHlzZWUgbWVtYmVyc2hpcHMgKHByZW1pdW0vcHJlbWl1bSspXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBMYnJ5aW8uY2FsbCgnbWVtYmVyc2hpcCcsICdjaGVjaycsIHtcbiAgICAgIGNoYW5uZWxfaWQ6IE9EWVNFRV9DSEFOTkVMLklELFxuICAgICAgY2xhaW1faWRzOiBjbGFpbUlkQ3N2LFxuICAgICAgZW52aXJvbm1lbnQ6IHN0cmlwZUVudmlyb25tZW50LFxuICAgIH0pO1xuXG4gICAgbGV0IHVwZGF0ZWRSZXNwb25zZSA9IHt9O1xuXG4gICAgLy8gbG9vcCB0aHJvdWdoIHJldHVybmVkIHVzZXJzXG4gICAgZm9yIChjb25zdCB1c2VyIGluIHJlc3BvbnNlKSB7XG4gICAgICAvLyBpZiBhcnJheSB3YXMgcmV0dXJuZWQgZm9yIGEgdXNlciAoaW5kaWNhdGluZyBhIG1lbWJlcnNoaXAgZXhpc3RzKSwgb3RoZXJ3aXNlIGlzIG51bGxcbiAgICAgIGlmIChyZXNwb25zZVt1c2VyXSAmJiByZXNwb25zZVt1c2VyXS5sZW5ndGgpIHtcbiAgICAgICAgLy8gZ2V0IG1lbWJlcnNoaXAgZm9yIHVzZXJcbiAgICAgICAgLy8gbm90ZTogYSBmb3IgbG9vcCBpcyBraW5kIG9mIG9kZCwgaW5kaWNhdGVzIHRoZXJlIG1heSBiZSBtdWx0aXBsZSBtZW1iZXJzaGlwcz9cbiAgICAgICAgLy8gcHJvYmFibHkgbm90IG5lZWRlZCBkZXBlbmRpbmcgb24gd2hhdCB3ZSBkbyB3aXRoIHRoZSBmcm9udGVuZCwgc2hvdWxkIHJldmlzaXRcbiAgICAgICAgZm9yIChjb25zdCBtZW1iZXJzaGlwIG9mIHJlc3BvbnNlW3VzZXJdKSB7XG4gICAgICAgICAgaWYgKG1lbWJlcnNoaXAuY2hhbm5lbF9uYW1lKSB7XG4gICAgICAgICAgICB1cGRhdGVkUmVzcG9uc2VbdXNlcl0gPSBtZW1iZXJzaGlwLm5hbWU7XG4gICAgICAgICAgICB3aW5kb3cuY2hlY2tlZE1lbWJlcnNoaXBzW3VzZXJdID0gbWVtYmVyc2hpcC5uYW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbm90ZSB0aGUgdXNlciBoYXMgYmVlbiBmZXRjaGVkIGJ1dCBpcyBudWxsXG4gICAgICAgIHVwZGF0ZWRSZXNwb25zZVt1c2VyXSA9IG51bGw7XG4gICAgICAgIHdpbmRvdy5jaGVja2VkTWVtYmVyc2hpcHNbdXNlcl0gPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIGRpc3BhdGNoKHsgdHlwZTogQUNUSU9OUy5BRERfQ0xBSU1JRFNfTUVNQkVSU0hJUF9EQVRBLCBkYXRhOiB7IHJlc3BvbnNlOiB1cGRhdGVkUmVzcG9uc2UgfSB9KTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvRmV0Y2hVc2VyTG9jYWxlKGlzUmV0cnkgPSBmYWxzZSkge1xuICByZXR1cm4gKGRpc3BhdGNoKSA9PiB7XG4gICAgZmV0Y2goTE9DQUxFX0FQSSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigoanNvbikgPT4ge1xuICAgICAgICBjb25zdCBsb2NhbGUgPSBqc29uLmRhdGE7IC8vIFtmbG93XSBsb2NhbDogTG9jYWxlSW5mb1xuICAgICAgICBpZiAobG9jYWxlKSB7XG4gICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZTogQUNUSU9OUy5VU0VSX0ZFVENIX0xPQ0FMRV9ET05FLFxuICAgICAgICAgICAgZGF0YTogbG9jYWxlLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKCgpID0+IHtcbiAgICAgICAgaWYgKCFpc1JldHJ5KSB7XG4gICAgICAgICAgLy8gSWYgZmFpbGVkLCByZXRyeSBvbmUgbW9yZSB0aW1lIGFmdGVyIE4gc2Vjb25kcy4gVGhpcyByZW1vdmVzIHRoZVxuICAgICAgICAgIC8vIG5lZWQgdG8gZmV0Y2ggYXQgZWFjaCBjb21wb25lbnQgbGV2ZWwuIElmIGl0IGZhaWxlZCB0d2ljZSwgcHJvYmFibHlcbiAgICAgICAgICAvLyBkb24ndCBuZWVkIHRvIGZldGNoIGFueW1vcmUuXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBkaXNwYXRjaChkb0ZldGNoVXNlckxvY2FsZSh0cnVlKSk7XG4gICAgICAgICAgfSwgMTAwMDApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFGQTtBQU5BO0FBaUJBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFGQTtBQWpCQTtBQUxBO0FBNEJBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQXZCQTtBQURBO0FBMkJBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQVdBO0FBREE7QUFDQTtBQVhBO0FBT0E7QUFTQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBdEJBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFxQkE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBekJBO0FBNkJBO0FBQ0E7QUFDQTtBQUNBO0FBaENBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBK0JBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUF4Q0E7QUEwQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFIQTtBQUNBO0FBM0NBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBaURBO0FBQ0E7QUFBQTtBQUtBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFFQTtBQUZBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUZBO0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFoQkE7QUFOQTtBQTBCQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFGQTtBQTVCQTtBQUpBO0FBc0NBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQURBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFGQTtBQUlBO0FBUEE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFGQTtBQVhBO0FBTkE7QUFBQTtBQXVCQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRkE7QUFJQTtBQVRBO0FBREE7QUFhQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUZBO0FBREE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUZBO0FBREE7QUFDQTtBQU1BO0FBQUE7QUFBQTtBQUFBO0FBcEJBO0FBeUJBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRkE7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRkE7QUFLQTtBQUlBO0FBQ0E7QUFDQTtBQUhBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRkE7QUFJQTtBQUNBO0FBakJBO0FBbUJBO0FBbkJBO0FBVEE7QUE4QkE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUZBO0FBREE7QUFNQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRkE7QUFJQTtBQUxBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFGQTtBQURBO0FBQ0E7QUFNQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQUE7QUFaQTtBQXJCQTtBQXFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRkE7QUFLQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQURBO0FBREE7QUFLQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFqQkE7QUFDQTtBQW1CQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUZBO0FBREE7QUFDQTtBQUtBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFEQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBWkE7QUFBQTtBQXBDQTtBQXFEQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRkE7QUFJQTtBQUxBO0FBQ0E7QUFPQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFGQTtBQURBO0FBQ0E7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQVpBO0FBcEJBO0FBb0NBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUZBO0FBSUE7QUFDQTtBQU5BO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFGQTtBQUtBO0FBWEE7QUFDQTtBQWFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUE5QkE7QUFBQTtBQWdDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBREE7QUFEQTtBQUNBO0FBS0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBRkE7QUFEQTtBQUNBO0FBS0E7QUFBQTtBQUFBO0FBbEJBO0FBb0JBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUpBO0FBQ0E7QUFNQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFGQTtBQURBO0FBQ0E7QUFLQTtBQUlBO0FBSkE7QUFLQTtBQUFBO0FBQ0E7QUFBQTtBQXhCQTtBQTZCQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQURBO0FBREE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUZBO0FBREE7QUFDQTtBQU1BO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBSkE7QUFsQkE7QUEwQkE7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUZBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFJQTtBQUNBO0FBQ0E7QUFIQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUZBO0FBSUE7QUFMQTtBQU9BO0FBQ0E7QUFuQkE7QUFxQkE7QUFyQkE7QUFUQTtBQWdDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUtBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUZBO0FBSUE7QUFMQTtBQU9BO0FBQ0E7QUFWQTtBQWFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFGQTtBQWJBO0FBTkE7QUF5QkE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBSUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUZBO0FBS0E7QUFFQTtBQUFBO0FBQUE7QUFEQTtBQUtBO0FBQ0E7QUFkQTtBQWlCQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRkE7QUFqQkE7QUFMQTtBQTRCQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFEQTtBQUtBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBT0E7QUFBQTtBQUNBO0FBUkE7QUFPQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQWpCQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFrQkE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUZBO0FBQ0E7QUFuQkE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQXdCQTtBQUNBO0FBQ0E7QUExQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUE0QkE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQU9BO0FBQUE7QUFBQTtBQUdBO0FBRUE7QUFDQTtBQWJBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFjQTtBQUNBO0FBQ0E7QUFqQkE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFxQkE7QUFDQTtBQUhBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBeEJBO0FBQ0E7QUFEQTtBQTJCQTtBQUNBO0FBNUJBO0FBQUE7QUFBQTtBQThCQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBWUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBMUNBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBNkNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRkE7QUFGQTtBQUpBO0FBWUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFFQTtBQUVBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUFBO0FBUEE7QUFVQTtBQUVBO0FBQ0E7QUFGQTtBQUtBO0FBQ0E7QUFDQTtBQWxCQTtBQW9CQTtBQTNCQTtBQUZBO0FBaUNBO0FBQ0E7QUFDQTtBQUZBO0FBakNBO0FBTkE7QUE2Q0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBREE7QUFNQTtBQUNBO0FBVEE7QUFZQTtBQUNBO0FBQ0E7QUFGQTtBQVpBO0FBTEE7QUF1QkE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBTEE7QUFJQTtBQU1BO0FBQ0E7QUFYQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBWUE7QUFDQTtBQWRBO0FBQUE7QUFBQTtBQUFBO0FBaUJBO0FBQ0E7QUFDQTtBQUNBO0FBcEJBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFrQkE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBekJBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUEwQkE7QUFDQTtBQUNBO0FBQ0E7QUE3QkE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQWdDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQWpDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWtDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFUQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFuQkE7QUFEQTtBQXVCQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../ui/redux/actions/user.js\n");

/***/ }),

/***/ "../ui/scss/component/notifications-blocked.scss":
false,

/***/ "./component/browserNotificationHints/index.jsx":
false,

/***/ "./component/browserNotificationSettings/use-browser-notifications.js":
false,

/***/ "./node_modules/@firebase/app/dist/index.esm2017.js":
false,

/***/ "./node_modules/@firebase/component/dist/index.esm.js":
false,

/***/ "./node_modules/@firebase/installations/dist/index.esm2017.js":
false,

/***/ "./node_modules/@firebase/logger/dist/index.esm2017.js":
false,

/***/ "./node_modules/@firebase/messaging/dist/index.esm2017.js":
false,

/***/ "./node_modules/@firebase/util/dist/index.esm2017.js":
false,

/***/ "./node_modules/firebase/app/dist/index.esm.js":
false,

/***/ "./node_modules/firebase/messaging/dist/index.esm.js":
false,

/***/ "./node_modules/idb/build/idb.js":
false,

/***/ "./node_modules/tslib/tslib.es6.js":
false,

/***/ "./node_modules/ua-parser-js/src/ua-parser.js":
false,

/***/ "./src/firebase-config.js":
false,

/***/ "./src/push-notifications/fcm-management.js":
false,

/***/ "./src/push-notifications/index.js":
false,

/***/ "./src/push-notifications/push-supported.js":
false,

/***/ "./src/ua.js":
false

})