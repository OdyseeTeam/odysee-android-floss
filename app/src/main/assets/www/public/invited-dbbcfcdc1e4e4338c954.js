"use strict";(self.webpackChunkodysee_com=self.webpackChunkodysee_com||[]).push([[2786],{51635:(e,t,r)=>{r.d(t,{Z:()=>v});var a=r(88441),n=r(66598),i=r.n(n),l=r(96284),c=r(44908),o=r(77369),s=r(35080),u=r(71036).__;function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,i,l,c=[],o=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(a=i.call(r)).done)&&(c.push(a.value),c.length!==t);o=!0);}catch(e){s=!0,n=e}finally{try{if(!o&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(s)throw n}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var f=function(e){var t=e.singlePane,r=e.children;return t?r:a.createElement("div",{className:"card__first-pane"},r)},E=function(e){var t=e.isPageTitle,r=e.smallTitle,n=e.children,c=e.accessStatus,d=function(e){return a.createElement(s.Z,{title:u("This is a members-only content")},a.createElement("div",{className:i()("content-access-indicator",{locked:"locked"===e.status,unlocked:"unlocked"===e.status,purchased:"purchased"===e.status})},a.createElement(l.default,{icon:"locked"===e.status?o.LOCK:o.UNLOCK})))};return t?a.createElement("h1",{className:"card__title"},c&&a.createElement(d,{status:c}),a.createElement("font",{dangerouslySetInnerHTML:{__html:function(e){for(var t in null==e||null===(r=e.props)||void 0===r?void 0:r.children){var r,a,n;if("string"==typeof(null==e||null===(a=e.props)||void 0===a?void 0:a.children[t]))return null==e||null===(n=e.props)||void 0===n?void 0:n.children[t]}return e}(n)}})):a.createElement("h2",{className:i()("card__title",{"card__title--small":r})},n)};const v=function(e){var t=e.title,r=e.subtitle,n=e.titleActions,s=e.id,m=e.body,v=e.actions,_=e.icon,h=e.className,b=e.isPageTitle,p=void 0!==b&&b,y=e.isBodyList,g=void 0!==y&&y,N=e.smallTitle,S=void 0!==N&&N,k=e.defaultExpand,R=e.nag,w=e.onClick,C=e.children,I=e.secondPane,U=e.slimHeader,A=e.background,T=e.backgroundImage,P=e.singlePane,j=e.headerActions,O=e.accessStatus,Z=e.gridHeader,$=d((0,a.useState)(k),2),D=$[0],H=$[1],F=void 0!==k;return a.createElement("section",{role:w?"button":void 0,className:i()(h,"card",{"card__multi-pane":Boolean(I),"card--background":A}),id:s,onClick:function(e){w&&(w(),e.stopPropagation())}},T&&a.createElement("div",{className:"background",style:{backgroundImage:"url(https://thumbnails.odycdn.com/optimize/s:390:0/quality:85/plain/"+T+")"}}),a.createElement(f,{singlePane:P},(t||r)&&a.createElement("div",{className:i()("card__header--between",{"card__header--slim":U,"card__header--grid":Z})},a.createElement("div",{className:i()("card__title-section",{"card__title-section--body-list":g})},_&&a.createElement(l.default,{sectionIcon:!0,icon:_}),a.createElement("div",{className:"card__title-text"},a.createElement(E,{isPageTitle:p,smallTitle:S,accessStatus:O},t),r&&a.createElement("div",{className:i()("card__subtitle",{"card__subtitle--small":S})},r))),(n||F)&&a.createElement("div",{className:"card__title-actions-container"},n&&a.createElement("div",{className:i()("card__title-actions",{"card__title-actions--small":S})},n),F&&a.createElement("div",{className:"card__title-actions"},a.createElement(c.default,{button:"alt","aria-expanded":D,"aria-label":u(D?"Less":"More"),icon:D?o.SUBTRACT:o.ADD,onClick:function(){return H(!D)}}))),j),(!F||F&&D)&&a.createElement(a.Fragment,null,m&&a.createElement("div",{className:i()("card__body",{"card__body--no-title":!t&&!r,"card__body--list":g})},m),v&&a.createElement("div",{className:"card__main-actions"},v),C&&a.createElement("div",{className:"card__main-actions"},C)),R),I&&a.createElement("div",{className:"card__second-pane"},I))}},51740:(e,t,r)=>{r.r(t),r.d(t,{default:()=>T});var a=r(3658),n=r(88441),i=r(9319),l=r(16643),c=r(9767),o=r(90416),s=r(46727),u=r(65572),d=r(17351),m=r(7920),f=r(53415),E=r(16395),v=r(73249),_=r(44908),h=r(64177),b=r(51635),p=r(53389),y=r(15244),g=r(6993),N=r(44873),S=r(32158),k=r(60732),R=r(71036).__;function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},w.apply(this,arguments)}const C=function(e){var t,r=e.userHasVerifiedEmail,a=e.doClaimRefereeReward,i=e.doUserSetReferrerForUri,l=e.referrerSet,c=e.referrerSetError,o=e.doChannelSubscribe,s=e.history,u=e.hasUnclaimedRefereeReward,d=e.referrerUri,m=e.isSubscribed,f=e.channelTitle,C=d?(0,p.parseURI)(d):{},I=C.isChannel,U=C.channelName,A=C.channelClaimId,T=C.streamName,P=C.streamClaimId,j=(0,g.$U)((0,p.buildURI)({channelName:U,channelClaimId:A,streamName:T,streamClaimId:P}))||"/",O=(t=s.location.pathname.split("/"))[t.length-1];function Z(){s.push(j)}n.useEffect((function(){if(I&&!m&&r&&d){var e;try{e=(0,p.parseURI)(d).claimName}catch(e){}e&&o({channelName:e,uri:d})}}),[d,m,o,r,I]),n.useEffect((function(){void 0===l&&r&&a()}),[a,r,l]),n.useEffect((function(){var e=d||O;void 0===l&&e&&i(e)}),[d,O,i,l]);var $=n.useMemo((function(){return{body:n.createElement(h.default,{uri:d,type:"small"})}}),[d]),D=n.useMemo((function(){return I&&n.createElement("div",{className:"claim-preview--channel"},n.createElement("div",{className:"section"},n.createElement(N.Z,{uri:d,defaultPageSize:3,defaultInfiniteScroll:!1})))}),[I,d]);if(void 0===l&&d)return n.createElement("div",{className:"main--empty"},n.createElement(k.Z,null));if(c===y.ERRORS.ALREADY_CLAIMED)return n.createElement(b.Z,w({},$,{title:R("Whoa!"),subtitle:R(I?"You've already claimed your referrer, but we've followed this channel for you.":"You already claimed your reward."),actions:n.createElement(_.default,{button:"primary",label:R("Done!"),onClick:Z})}),D);if(!l||c&&u)return n.createElement(b.Z,w({},$,{title:R("Welcome!"),subtitle:R("Something went wrong with your invite link. You can set and claim your invite reward after signing in."),actions:n.createElement(n.Fragment,null,n.createElement("p",{className:"error__text"},R("Not a valid invite")),n.createElement("div",{className:"section__actions"},n.createElement(_.default,{button:"primary",label:R(r?"Verify":"Sign up"),navigate:r?"/$/".concat(v.REWARDS_VERIFY):"/$/".concat(v.AUTH,"?redirect=/$/").concat(v.REWARDS)}),n.createElement(_.default,{button:"link",label:R("Explore"),onClick:Z})))}),D);var H=function(e){return n.createElement(_.default,w({button:"link",label:R(r?"Finish verification":"Sign up"),navigate:r?"/$/".concat(v.REWARDS_VERIFY,"?redirect=/$/").concat(v.INVITE).concat(j):"/$/".concat(v.AUTH,"?redirect=/$/").concat(v.INVITE).concat(j)},e))};return n.createElement(b.Z,w({},$,{title:I?R("%channel_name% invites you to the party!",{channel_name:f}):R("You're invited!"),subtitle:I?n.createElement(S.Z,{tokens:{channel_name:f,signup_link:n.createElement(H,null),site_name:E.SITE_NAME}},"%channel_name% is waiting for you on %site_name%. %signup_link% to follow them."):n.createElement(S.Z,{tokens:{signup_link:n.createElement(H,null)}},"Content freedom and a present are waiting for you. %signup_link% to claim it."),actions:n.createElement("div",{className:"section__actions"},n.createElement(H,{button:"primary"}),n.createElement(_.default,{button:"link",label:R("Skip"),onClick:Z}))}),D)};var I={doClaimRefereeReward:o.iJ,doUserSetReferrerForUri:u.rj,doChannelSubscribe:f.BR};const U=(0,l.EN)((0,a.$j)((function(e,t){var r=t.referrerUri;return{userHasVerifiedEmail:(0,c.ge)(e),referrerSet:(0,c.H9)(e),referrerSetError:(0,c.nT)(e),hasUnclaimedRefereeReward:(0,s.EP)(e),isSubscribed:(0,d._4)(e,r),channelTitle:(0,m.zD)(e,r)}}),I)(C));var A={doResolveUri:r(52705).nt};const T=(0,l.EN)((0,a.$j)((function(e,t){var r=t.match.params.referrer,a="lbry://".concat(r);return{uri:a,referrerUri:(0,m.sn)(e,a)}}),A)((function(e){var t=e.uri,r=e.referrerUri,a=e.doResolveUri;return n.useEffect((function(){void 0===r&&a(t)}),[a,r,t]),n.createElement(i.Z,{authPage:!0},void 0===r?n.createElement("div",{className:"main--empty"},n.createElement(k.Z,null)):n.createElement(U,{referrerUri:r}))})))}}]);
//# sourceMappingURL=invited-dbbcfcdc1e4e4338c954.js.map