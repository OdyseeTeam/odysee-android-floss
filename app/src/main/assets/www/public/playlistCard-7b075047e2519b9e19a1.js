"use strict";(self.webpackChunkodysee_com=self.webpackChunkodysee_com||[]).push([[6287],{73549:(e,t,n)=>{n.d(t,{Z:()=>y});var r=n(3658),l=n(2038),o=n(32583),i=n(88441),a=n(42074),c=n(12112),s=["collectionId","isEditPreview","collectionUrls","doCollectionEdit"];function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var m={DragDropContext:i.lazy((function(){return n.e(3459).then(n.bind(n,56321)).then((function(e){return{default:e.DragDropContext}}))})),Droppable:i.lazy((function(){return n.e(3459).then(n.bind(n,56321)).then((function(e){return{default:e.Droppable}}))}))};const f=(0,c.Z)((function(e){var t=e.collectionId,n=e.isEditPreview,r=e.collectionUrls,l=e.doCollectionEdit,o=d(e,s);return i.createElement(i.Suspense,{fallback:null},i.createElement(m.DragDropContext,{onDragEnd:function(e){var r=e.source,o=e.destination;if(o){var i=r.index,a=o.index;l(t,{order:{from:i,to:a},isPreview:n})}}},i.createElement(m.Droppable,{droppableId:"list__ordering"},(function(e){return i.createElement(a.Z,u({collectionId:t,uris:r,isEditPreview:n,droppableProvided:e},o))}))))}));var p={doCollectionEdit:l.n6};const y=(0,r.$j)((function(e,t){var n=t.collectionId;return{collectionUrls:(0,o.rR)(e,n)}}),p)(f)},51635:(e,t,n)=>{n.d(t,{Z:()=>y});var r=n(88441),l=n(66598),o=n.n(l),i=n(96284),a=n(44908),c=n(77369),s=n(35080),u=n(71036).__;function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,o,i,a=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){s=!0,l=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw l}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(e){var t=e.singlePane,n=e.children;return t?n:r.createElement("div",{className:"card__first-pane"},n)},p=function(e){var t=e.isPageTitle,n=e.smallTitle,l=e.children,a=e.accessStatus,d=function(e){return r.createElement(s.Z,{title:u("This is a members-only content")},r.createElement("div",{className:o()("content-access-indicator",{locked:"locked"===e.status,unlocked:"unlocked"===e.status,purchased:"purchased"===e.status})},r.createElement(i.default,{icon:"locked"===e.status?c.LOCK:c.UNLOCK})))};return t?r.createElement("h1",{className:"card__title"},a&&r.createElement(d,{status:a}),r.createElement("font",{dangerouslySetInnerHTML:{__html:function(e){for(var t in null==e||null===(n=e.props)||void 0===n?void 0:n.children){var n,r,l;if("string"==typeof(null==e||null===(r=e.props)||void 0===r?void 0:r.children[t]))return null==e||null===(l=e.props)||void 0===l?void 0:l.children[t]}return e}(l)}})):r.createElement("h2",{className:o()("card__title",{"card__title--small":n})},l)};const y=function(e){var t=e.title,n=e.subtitle,l=e.titleActions,s=e.id,m=e.body,y=e.actions,v=e.icon,g=e.className,b=e.isPageTitle,E=void 0!==b&&b,h=e.isBodyList,_=void 0!==h&&h,I=e.smallTitle,C=void 0!==I&&I,O=e.defaultExpand,P=e.nag,S=e.onClick,N=e.children,w=e.secondPane,L=e.slimHeader,j=e.background,A=e.backgroundImage,k=e.singlePane,T=e.headerActions,x=e.accessStatus,D=e.gridHeader,F=d((0,r.useState)(O),2),U=F[0],R=F[1],B=void 0!==O;return r.createElement("section",{role:S?"button":void 0,className:o()(g,"card",{"card__multi-pane":Boolean(w),"card--background":j}),id:s,onClick:function(e){S&&(S(),e.stopPropagation())}},A&&r.createElement("div",{className:"background",style:{backgroundImage:"url(https://thumbnails.odycdn.com/optimize/s:390:0/quality:85/plain/"+A+")"}}),r.createElement(f,{singlePane:k},(t||n)&&r.createElement("div",{className:o()("card__header--between",{"card__header--slim":L,"card__header--grid":D})},r.createElement("div",{className:o()("card__title-section",{"card__title-section--body-list":_})},v&&r.createElement(i.default,{sectionIcon:!0,icon:v}),r.createElement("div",{className:"card__title-text"},r.createElement(p,{isPageTitle:E,smallTitle:C,accessStatus:x},t),n&&r.createElement("div",{className:o()("card__subtitle",{"card__subtitle--small":C})},n))),(l||B)&&r.createElement("div",{className:"card__title-actions-container"},l&&r.createElement("div",{className:o()("card__title-actions",{"card__title-actions--small":C})},l),B&&r.createElement("div",{className:"card__title-actions"},r.createElement(a.default,{button:"alt","aria-expanded":U,"aria-label":u(U?"Less":"More"),icon:U?c.SUBTRACT:c.ADD,onClick:function(){return R(!U)}}))),T),(!B||B&&U)&&r.createElement(r.Fragment,null,m&&r.createElement("div",{className:o()("card__body",{"card__body--no-title":!t&&!n,"card__body--list":_})},m),y&&r.createElement("div",{className:"card__main-actions"},y),N&&r.createElement("div",{className:"card__main-actions"},N)),P),w&&r.createElement("div",{className:"card__second-pane"},w))}},51891:(e,t,n)=>{n.r(t),n.d(t,{default:()=>J});var r=n(3658),l=n(30115),o=n(88441),i=n(66598),a=n.n(i),c=n(73549),s=n(51635),u=n(44908),d=n(73249),m=n(28453),f=n(46351),p=n(96284),y=n(77369),v=n(17526),g=n(38755),b=n(91960),E=n(32158),h=n(71036).__;const _=function(e){var t=e.url,n=e.id,r=e.shuffle,l=e.doToggleShuffleList;return o.createElement(u.default,{button:"alt",className:a()("button--alt-no-style button-toggle",{"button-toggle--active":r}),title:h("Shuffle"),icon:y.SHUFFLE,onClick:function(){return l({currentUri:t,collectionId:n})}})};var I=n(31391),C=n(44692),O={doToggleShuffleList:C.Gd};const P=(0,r.$j)((function(e,t){var n=t.id;return{shuffle:(0,I.Q1)(e,n)}}),O)(_);var S=n(71036).__;const N=function(e){var t=e.id,n=e.loop,r=e.doToggleLoopList;return o.createElement(u.default,{button:"alt",className:a()("button--alt-no-style button-toggle",{"button-toggle--active":n}),title:S("Loop"),icon:y.REPEAT,onClick:function(){return r({collectionId:t})}})};var w={doToggleLoopList:C.aB};const L=(0,r.$j)((function(e,t){var n=t.id;return{loop:(0,I.X4)(e,n)}}),w)(N);var j=n(55911),A=n(7781),k=n(29679),T=n(11370),x=n(27773),D=n(95810),F=n(56952),U=n(71036).__;function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}var B=["isMyCollection","collectionUrls","collectionName","id","playingItemUrl","isPrivateCollection","hasEdits","publishedCollectionName","doCollectionEdit","playingItemIndex","collectionLength","currentIndexLabel","disableClickNavigation","titleOnly","bodyOnly","showEdit","setShowEdit","doDisablePlayerDrag","collectionEmpty","playingCurrentPlaylist","isFloating","playingCollectionId","doClearPlayingCollection","doOpenModal","doClearQueueList","doToggleCollectionSavedForId","collectionSavedForId","thumbnailFromClaim"];function Z(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==R(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===R(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,o,i,a=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){s=!0,l=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw l}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=function(e){var t=e.isMyCollection,n=(e.collectionUrls,e.collectionName),r=e.id,i=e.playingItemUrl,m=e.isPrivateCollection,h=e.hasEdits,_=e.publishedCollectionName,I=(e.doCollectionEdit,e.playingItemIndex),C=e.collectionLength,O=e.currentIndexLabel,S=e.disableClickNavigation,N=e.titleOnly,w=e.bodyOnly,j=e.showEdit,A=e.setShowEdit,R=e.doDisablePlayerDrag,M=e.collectionEmpty,Y=e.playingCurrentPlaylist,z=e.isFloating,$=e.playingCollectionId,Q=e.doClearPlayingCollection,K=e.doOpenModal,G=e.doClearQueueList,V=e.doToggleCollectionSavedForId,W=e.collectionSavedForId,J=e.thumbnailFromClaim,X=Z(e,B),ee=(0,D.dD)(),te=(0,D.lj)()&&!ee,ne=(0,F.VO)(r)||n,re=o.useRef(),le=o.useRef(),oe=o.useRef(),ie=o.useRef(C),ae=o.useRef(I),ce=q((0,k.Z)("playlist-card-open",!0),2),se=ce[0],ue=ce[1],de=q(o.useState(!z||se),2),me=de[0],fe=de[1],pe=q(o.useState(),2),ye=pe[0],ve=pe[1],ge=q(o.useState(),2),be=ge[0],Ee=ge[1],he=q(o.useState(),2),_e=he[0],Ie=he[1],Ce=J?"https://thumbnails.odycdn.com/optimize/s:390:0/quality:85/plain/"+J:void 0;var Oe=o.useCallback((function(e){if(e&&ye&&Number.isInteger(I)){re.current=e;var t=ye.offsetHeight/2,n=e.offsetTop-ye.offsetTop-t;1===I?n=0:I===C&&(n=ye.scrollHeight);try{ye.scrollTo({top:n,behavior:te?"instant":"smooth"})}catch(e){}Ie(!1),le.current=!0}}),[ye,C,te,I]);return o.useEffect((function(){if(ye){var e=function(){var e=re.current;if(e){var t=e.getBoundingClientRect(),n=t.top,r=t.height,l=e.offsetTop-ye.offsetTop+r,o=0,i=0;if(z||ee){if(z){var a=document.querySelector(".content__info");a&&(i=a.offsetTop);var c=document.querySelector(".content__viewer"),s=c&&c.style.transform;s&&(o=Number(s.substring(s.indexOf(", ")+2,s.indexOf("px)"))))}if(ee)o+=T.ei+(0,x.fE)()}var u=n-o-r-ye.offsetTop-i>ye.offsetHeight||l<ye.scrollTop;le.current?le.current=!1:Ie(u)}},t=C<ie.current,n=C>ie.current&&Number.isInteger(I)&&I===ae.current;return ie.current=C,ae.current=I,me&&oe.current&&!t&&!n&&(e(),re.current&&Oe(re.current)),ye.addEventListener("scroll",e),window.addEventListener("resize",e),function(){ye.removeEventListener("scroll",e),window.removeEventListener("resize",e)}}}),[Oe,me,ye,C,z,ee,I]),o.createElement(o.Fragment,null,o.createElement(l.xB,{styles:{".claim-list__scroll-to-recent":{opacity:_e&&be?"0.9 !important":"0",visibility:_e&&be?"visible !important":"hidden","&:hover":{opacity:_e&&be?"1 !important":"0"}},".playlist__wrapper":{".claim-list":{"li:last-child":{marginBottom:_e&&be&&I!==C?"3rem !important":void 0}}}}}),o.createElement(s.Z,H({},X,{smallTitle:!0,slimHeader:!z,gridHeader:!N,singlePane:!0,headerActions:!me||w?void 0:o.createElement("div",{className:"playlist-card-actions"},o.createElement("section",null,o.createElement(L,{id:r}),o.createElement(P,{url:i,id:r})),o.createElement("section",null,o.createElement(u.default,{requiresAuth:!0,title:U("Copy"),className:"button-toggle",icon:y.COPY,onClick:function(){return K(v.Vp,{sourceId:r})}}),t?!M&&o.createElement(u.default,{title:U("Arrange"),className:a()("button-toggle",{"button-toggle--active":j}),icon:y.ARRANGE,onClick:function(){return A(!j)}}):r&&o.createElement(u.default,{requiresAuth:!0,title:U("Save"),className:"button-toggle",icon:W?y.PLAYLIST_FILLED:y.PLAYLIST_ADD,onClick:function(){return V(r)}}))),title:w?void 0:o.createElement(g.OL,{to:"/$/".concat(d.PLAYLIST,"/").concat(r||""),className:a()("playlist__title",{"align-end":z})},z?o.createElement(o.Fragment,null,o.createElement(p.default,{icon:y.PLAYLIST_PLAYBACK,size:40}),o.createElement("div",{className:"playlist__title-text"},o.createElement("span",{className:"text-ellipsis"},U("Now playing: --[Which Playlist is currently playing]--")+" "+ne))):o.createElement(o.Fragment,null,o.createElement(p.default,{icon:f.PLAYLIST_ICONS[r]||y.PLAYLIST,className:"icon--margin-right"}),o.createElement("div",{className:"playlist__title-text"},o.createElement("div",{className:"playlist__title-text-list"},o.createElement("span",{className:"text-ellipsis"},ne)),w?void 0:o.createElement(o.Fragment,null,o.createElement("div",{className:"sub"},m?o.createElement(E.Z,{tokens:{lock_icon:o.createElement(p.default,{icon:y.LOCK,style:{transform:"translateY(3px)"}})}},"Private %lock_icon%"):o.createElement(b.Z,{link:!0,uri:_,showHiddenAsAnonymous:!0}),O)))),h&&o.createElement(p.default,{title:U("Pending edits"),icon:y.PUBLISH,color:"red",style:{marginLeft:"var(--spacing-xxs)"}})),titleActions:w||N?void 0:o.createElement(o.Fragment,null,!w&&o.createElement(u.default,{className:a()("button-toggle",{"button-toggle--active":!me}),icon:me?y.UP:y.DOWN,onClick:function(){z&&ue(!se),fe(!me)}}),o.createElement(u.default,{title:U("Close Playlist"),className:"button-toggle",icon:y.REMOVE,onClick:function(){if(M)Q();else{var e=$===f.QUEUE_ID,t=U(e?"Are you sure you want to quit and clear the current Queue?":"Are you sure you want to quit the current playlist?");K(v.ae,{title:t,subtitle:U("The current video will keep playing."),onConfirm:function(t){Q(),e&&G(),t()}})}}})),body:!me||N?void 0:o.createElement(c.Z,{collectionId:r,type:"small",activeUri:i,empty:U("Playlist is Empty"),showEdit:j,smallThumbnail:!0,showIndexes:!0,playItemsOnClick:Y,disableClickNavigation:S,doDisablePlayerDrag:R,setActiveListItemRef:ye?Oe:void 0,setListRef:function(e){return ve(e)},scrolledPastActive:_e,restoreScrollPos:function(){return Oe(re.current)},setHasActive:function(e){oe.current=e,Ee(e)}}),backgroundImage:Ce})))},Q=n(7920),K=n(32583),G=n(2038),V=n(15927),W={doCollectionEdit:G.n6,doClearPlayingCollection:C._v,doClearQueueList:G.i$,doOpenModal:V.DG,doToggleCollectionSavedForId:G.lN};const J=(0,r.$j)((function(e,t){var n=t.id,r=(0,I.Xs)(e),l=r.uri,o=r.collection.collectionId,i=n===o,a=(i&&(0,Q.B0)(e,l)||{}).permanent_url,c=(0,Q.wD)(e,n),s=c&&(c.canonical_url||c.permanent_url)||null;return{id:n,playingItemUrl:a,playingCurrentPlaylist:i,collectionUrls:(0,K.rR)(e,n),collectionName:(0,K.NH)(e,n),isMyCollection:(0,K.gg)(e,n),isPrivateCollection:(0,K.c)(e,n),hasEdits:(0,K.JG)(e,n),publishedCollectionName:(0,Q.nw)(e,n),playingItemIndex:(0,K.Bx)(e,o,a),collectionLength:(0,K.dJ)(e,n),collectionEmpty:(0,K.U4)(e,n),hasCollectionById:n&&Boolean((0,K.kC)(e,n)),playingCollectionId:o,collectionSavedForId:(0,K.lu)(e,n),thumbnailFromClaim:(0,Q.SI)(e,a||s)}}),W)((function(e){var t=e.collectionName,n=e.useDrawer,r=e.hasCollectionById,l=e.playingItemIndex,i=e.collectionLength,a=e.collectionEmpty,c=e.id,s=(0,F.VO)(c)||t,u=q(o.useState(!1),2),d=u[0],f=u[1];if(!r)return null;var p=" - ".concat(Number.isInteger(l)?l+1:0,"/").concat(i," "),v=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({showEdit:d,setShowEdit:f,currentIndexLabel:p},e);return n?o.createElement(o.Fragment,null,o.createElement(A.Z,{fixed:!0,icon:y.PLAYLIST_PLAYBACK,label:U("Now playing: --[Which Playlist is currently playing]--")+" "+s+p,type:m.z}),o.createElement(j.Z,{startOpen:!a,type:m.z,title:o.createElement($,H({},v,{className:"playlist-card--drawer-header",titleOnly:!0})),hasSubtitle:!0},o.createElement($,H({},v,{className:"playlist__wrapper",bodyOnly:!0})))):o.createElement($,H({},v,{className:"playlist__wrapper"}))}))},12112:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(3658),l=n(32583),o=n(52705),i=n(2038),a=n(88441),c=n(60732);const s=function(e){return function(t){var n=t.collectionId,r=t.useIds,l=t.isPrivate,o=t.collectionUrls,i=t.collectionIds,s=t.doResolveClaimId,u=t.doFetchItemsInCollection,d=r?i:o;return a.useEffect((function(){l||s(n,!0,{include_is_my_output:!0})}),[n,s,l]),a.useEffect((function(){u({collectionId:n})}),[n,u]),void 0===d?a.createElement("div",{className:"main--empty"},a.createElement(c.Z,null)):a.createElement(e,t)}};var u=function(e,t){var n=t.collectionId;return{isPrivate:(0,l.lO)(e,n),collectionUrls:(0,l.rR)(e,n),collectionIds:(0,l.mq)(e,n)}},d={doResolveClaimId:o.Rf,doFetchItemsInCollection:i.x3};const m=function(e){return(0,r.$j)(u,d)(s(e))}}}]);
//# sourceMappingURL=playlistCard-7b075047e2519b9e19a1.js.map