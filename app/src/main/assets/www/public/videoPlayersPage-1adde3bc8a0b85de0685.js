"use strict";(self.webpackChunkodysee_com=self.webpackChunkodysee_com||[]).push([[9514],{30434:(e,t,n)=>{n.d(t,{Z:()=>d});var a=n(3658),r=n(15927),i=n(96046),l=n(88441),c=n(44908),o=n(98124),s=n(71036).__;const m=function(e){var t=e.uri,n=e.children,a=e.streamClaim,r=e.doSetMainPlayerDimension,i=l.useCallback((function(e){if(e){var t=e.getBoundingClientRect();r(t)}}),[r]);return l.createElement(o.Z,{uri:t,onClick:a,passedRef:i},l.createElement(c.default,{className:"button--icon button--play",onClick:a,iconSize:30,title:s("Play")}),n)};var u={doSetMainPlayerDimension:r.Wt};const d=(0,i.Z)((0,a.$j)(null,u)(m))},57396:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var a=n(3658),r=n(16643),i=n(19208),l=n(58210),c=n(2927),o=n(7920),s=n(86883),m=n(20983),u=n(31391),d=n(29454),f=n(81352),E=n(44692),v=n(11370),p=n(88441),g=n(13690),h=n(77369),C=n(28453),b=n(46351),k=n(27055),_=n(30434),y=n(98124),I=n(77022),S=n(85311),w=n(55911),D=n(7781),P=n(95810),M=n(71036).__;function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},N.apply(this,arguments)}var Z=(0,g.e)((function(){return Promise.all([n.e(3431),n.e(5275),n.e(8324)]).then(n.bind(n,30740))})),U=(0,g.e)((function(){return Promise.all([n.e(9867),n.e(6287)]).then(n.bind(n,51891))})),j="file-page__video-container";var O=function(e){var t=e.collectionId,n=e.uri,a=e.isMediumScreen,r=(0,P.dD)();return p.createElement("div",{className:"card-stack--spacing-m"},!a&&p.createElement(U,{id:t,uri:n,useDrawer:r}),p.createElement(I.Z,{uri:n}))},T={clearPosition:E.b1};const L=(0,r.EN)((0,a.$j)((function(e,t){var n=t.uri,a=location.search,r=new URLSearchParams(a),E=(0,u.OJ)(e),v=(0,o.B0)(e,n),p=(0,l._I)(v),g=v.claim_id;return{commentsListTitle:(0,d.WS)(e,n),fileInfo:(0,s.HD)(n)(e),isMature:(0,o.Mp)(e,n),isUriPlaying:(0,u.G$)(e,n),linkedCommentId:r.get(c.Hj),threadCommentId:r.get(c.ee),playingCollectionId:E,position:(0,u.v1)(e,n),commentSettingDisabled:(0,d.Yn)(e,p),videoTheaterMode:(0,m.wr)(e,i.HV),contentUnlocked:g&&(0,f.Pt)(e,g),isAutoplayCountdownForUri:(0,u.nb)(e,n)}}),T)((function(e){var t=e.uri,n=e.accessStatus,a=e.playingCollectionId,r=e.fileInfo,i=e.isMature,l=e.linkedCommentId,c=e.threadCommentId,o=e.videoTheaterMode,s=e.commentSettingDisabled,m=e.audioVideoDuration,u=e.commentsListTitle,d=e.isUriPlaying,f=e.location,E=e.position,g=e.contentUnlocked,I=e.isAutoplayCountdownForUri,T=e.clearPosition,L=(0,P.dD)(),F=(0,P.lj)()&&!L,R=(0,P.Jw)(),H=p.useRef(a),J=f.search,A=new URLSearchParams(J).get(b.COLLECTION_ID),B=p.useMemo((function(){return(d||null===a)&&void 0!==a&&!H.current!==a?a:A}),[A,d,a]),$=p.useMemo((function(){return{collectionId:B,uri:t,isMediumScreen:F}}),[B,F,t]),V=p.useMemo((function(){var e=m||(r&&r.metadata&&r.metadata.video?r.metadata.video.duration:0),t=e<=45,n=E/e>=v.kQ;return!!e&&(t||n)}),[m,r,E]);if(p.useEffect((function(){r&&V&&T(t)}),[T,r,t,V]),i)return p.createElement(p.Fragment,null,p.createElement("div",{className:"section card-stack file-page__video"},I&&p.createElement("div",{className:j},p.createElement(y.Z,{uri:t})),p.createElement(k.Z,{uri:t,accessStatus:n,isNsfwBlocked:!0})),F&&p.createElement(U,{id:B,uri:t,useDrawer:L}),!o&&p.createElement(O,$));var W={uri:t,linkedCommentId:l,threadCommentId:c};return p.createElement(p.Fragment,null,p.createElement("div",{className:"section card-stack file-page__video"},p.createElement("div",{className:j},p.createElement(_.Z,{uri:t})),p.createElement("div",{className:"file-page__secondary-content"},p.createElement("section",{className:"file-page__media-actions"},F&&p.createElement(U,{id:B,uri:t,useDrawer:L}),p.createElement(k.Z,{uri:t,accessStatus:n}),g&&(s?p.createElement(S.Z,{padded:!L,text:M("The creator of this content has disabled comments.")}):L&&!R?p.createElement(p.Fragment,null,p.createElement(w.Z,{type:C.J,title:p.createElement("h2",null,u)},p.createElement(p.Suspense,{fallback:null},p.createElement(Z,W))),p.createElement(D.Z,{icon:h.CHAT,label:p.createElement("h2",null,u),type:C.J})):p.createElement(p.Suspense,{fallback:null},p.createElement(Z,N({},W,{notInDrawer:!0}))))),o&&p.createElement(O,$))),!o&&p.createElement(O,$))})))}}]);
//# sourceMappingURL=videoPlayersPage-1adde3bc8a0b85de0685.js.map