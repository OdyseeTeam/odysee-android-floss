"use strict";(self.webpackChunkodysee_com=self.webpackChunkodysee_com||[]).push([[2861],{92687:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var a=n(3658),r=n(31391),i=n(7920),c=n(29454),l=n(88441),o=n(16643),s=n(47009),u=n(53389),d=n(9319),m=n(32583),h=n(9767),C=n(52705),p=n(18264),f=n(15927),I=n(58210),v=n(46351),E=n(17351),g=n(15244),L=n(55754),_=n(10561),P=n(17185),O=n(2038),S=n(1987),F=n(51031),R=n(16395),U=n(2927),k=n(13690),w=n(60732),N=n(6993),T=n(73249),b=(0,k.e)((function(){return Promise.all([n.e(1703),n.e(6510),n.e(1918),n.e(1749),n.e(4873),n.e(6109),n.e(7910)]).then(n.bind(n,8988))})),D=(0,k.e)((function(){return Promise.all([n.e(1276),n.e(6510),n.e(6148),n.e(9867),n.e(617)]).then(n.bind(n,72372))}));const W=function(e){var t=e.uri,n=e.latestContentPath,a=e.liveContentPath,r=e.claim,i=e.channelClaimId,c=e.location,s=e.collectionId,d=e.collection,m=e.collectionFirstItemUri,h=e.latestClaimUrl,C=e.creatorSettings,p=e.doFetchCreatorSettings,f=e.doFetchLatestClaimForChannel,I=e.doFetchChannelIsLiveForId,E=e.doFetchItemsInCollection,g=c.search,L=c.pathname,_=c.hash,P=new URLSearchParams(g),O=P.get(U.Hj),S=P.get(U.ee),F=r&&r.canonical_url,k=r&&r.claim_id,W=n||a,y=r&&"collection"===r.value_type,M=(0,u.parseURI)(t).isChannel;if((0,l.useEffect)((function(){!h&&a&&k&&I(k)}),[k,I,h,a]),(0,l.useEffect)((function(){!h&&n&&F&&f(F)}),[F,f,h,n]),(0,l.useEffect)((function(){if(F){var e,t,n=_.indexOf("#state")>-1?_.indexOf("#state"):_.indexOf("&state")>-1?_.indexOf("&state"):void 0,a=void 0===n?_:_.substring(0,n),r=L+a,i=r.slice(1).replace(/:/g,"#");try{var c=(0,u.parseURI)(i);e=c.queryString,t=c.pathHash}catch(e){}var l="/"+F.replace(/^lbry:\/\//,"").replace(/#/g,":"),o=R.DOMAIN,s=l;if(l!==r&&o===window.location.hostname){var d=new URLSearchParams(g||e);if(d.get(v.COLLECTION_ID)){var m=d.get(v.COLLECTION_ID)||"";d.set(v.COLLECTION_ID,m)}d.toString()&&(s+="?".concat(d.toString())),(t||!t&&!e&&a)&&(s+=String(t||a)),history.replaceState(history.state,"",s)}}}),[F,L,_,g]),l.useEffect((function(){void 0===C&&i&&p(i).catch((function(){}))}),[i,C,p]),l.useEffect((function(){r&&s&&E({collectionId:s})}),[r,m,s,E,y]),W&&void 0===h)return l.createElement("div",{className:"main--empty"},l.createElement(w.Z,{delayed:!0}));if(W&&h){var Z=""!==P.toString()?"?".concat(P.toString()):"";return l.createElement(o.l_,{to:"".concat((0,N.$U)(h)).concat(Z)})}if(r&&(r.repost_url===t||W&&null===h)){var Y=(0,N.$U)(F);return l.createElement(o.l_,{to:Y})}if(r&&y&&m)switch(null==d?void 0:d.type){case v.COL_TYPES.COLLECTION:case v.COL_TYPES.PLAYLIST:P.set(v.COLLECTION_ID,r.claim_id);var $=(0,N.$U)("".concat(m,"?").concat(P.toString()));return l.createElement(o.l_,{to:$});case v.COL_TYPES.FEATURED_CHANNELS:return l.createElement(o.l_,{to:"/$/".concat(T.PLAYLIST,"/").concat(r.claim_id)})}return M?l.createElement(b,{uri:t,location:c}):l.createElement(D,{uri:t,collectionId:s,linkedCommentId:O,threadCommentId:S})};var y={doResolveUri:C.nt,doBeginPublish:p.T2,doResolveClaimId:C.Rf,doOpenModal:f.DG,doFetchLatestClaimForChannel:C.T$,doFetchChannelIsLiveForId:_.vk,doFetchCreatorSettings:P.B3,doFetchItemsInCollection:O.x3};const M=(0,F.Z)((0,o.EN)((0,a.$j)((function(e,t){var n=t.uri,a=t.location,r=t.liveContentPath,l=a.search,o=new URLSearchParams(l),s=(0,i.B0)(e,n),u=(0,I._I)(s),d=o.get(v.COLLECTION_ID)||s&&"collection"===s.value_type&&s.claim_id||null,C=s||{},p=C.canonical_url,f=C.claim_id,_=r?(0,L.XO)(e,f):(0,i.hI)(e,p);return{uri:n,claim:s,channelClaimId:u,latestClaimUrl:r?(0,L.ds)(e,f):_&&_.canonical_url,preferEmbed:(0,i.YU)(n,S.K0)(e),isResolvingUri:(0,i.ki)(e,n),blackListedOutpointMap:(0,g.selectBlacklistedOutpointMap)(e),filteredOutpointMap:(0,g.selectFilteredOutpointMap)(e),isSubscribed:(0,E._4)(e,n),claimIsMine:(0,i.pD)(e,s),claimIsPending:(0,i.Kk)(n)(e),collection:(0,m.kC)(e,d),collectionId:d,collectionFirstItemUri:(0,m.cu)(e,d),isResolvingCollection:(0,m.EE)(e,d),isAuthenticated:(0,h.ge)(e),geoRestriction:(0,i.on)(e,n),homepageFetched:(0,h.L6)(e),creatorSettings:(0,c._Q)(e,u)}}),y)(W)));var Z=function(e){var t=e.children;return l.createElement(d.Z,{className:"channelPage-wrapper",noFooter:!0,fullWidthPage:!0},t)},Y=function(e){var t=e.children;return l.createElement(d.Z,{className:"channelPage-wrapper channelPage-edit-wrapper",noFooter:!0,fullWidthPage:!0},t)};const $=function(e){var t=e.uri,n=e.latestContentPath,a=e.liveContentPath,r=e.isMarkdownPost,i=e.isLivestreamClaim,c=e.chatDisabled,m=(0,u.parseURI)(t).isChannel,h=(0,o.k6)().location.search,C=l.useMemo((function(){return function(e){var t=e.children;return l.createElement(d.Z,{className:"file-page",filePage:!0,isMarkdown:!!r},t)}}),[r]),p=l.useMemo((function(){return function(e){var t=e.children;return l.createElement(d.Z,{className:"file-page",noFooter:!0,livestream:!c},t)}}),[c]);return m?new URLSearchParams(h).get(s._g.QUERIES.VIEW)===s._g.VIEWS.EDIT?l.createElement(M,{uri:t,ClaimRenderWrapper:Y,Wrapper:d.Z}):l.createElement(M,{uri:t,ClaimRenderWrapper:Z,Wrapper:d.Z,latestContentPath:n,liveContentPath:a}):i?l.createElement(M,{uri:t,ClaimRenderWrapper:p,Wrapper:d.Z}):l.createElement(M,{uri:t,ClaimRenderWrapper:C,Wrapper:d.Z,latestContentPath:n,liveContentPath:a})};const A=(0,a.$j)((function(e,t){var n=t.uri;return{isMarkdownPost:(0,r.Fq)(e,n),isLivestreamClaim:(0,i.CD)(e,n),chatDisabled:(0,c.Yn)(e,(0,i.W9)(e,n))}}))($)}}]);
//# sourceMappingURL=claimPage-d0ed88db64c8efd2dbce.js.map