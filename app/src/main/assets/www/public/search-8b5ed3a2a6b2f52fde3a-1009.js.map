{"version":3,"file":"search-8b5ed3a2a6b2f52fde3a-1009.js","mappings":"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","sources":["webpack://odysee.com/../ui/component/claimEffectiveAmount/view.jsx","webpack://odysee.com/../ui/component/claimEffectiveAmount/index.js","webpack://odysee.com/../ui/component/langFilterIndicator/index.js","webpack://odysee.com/../ui/component/langFilterIndicator/view.jsx","webpack://odysee.com/../ui/component/searchTopClaim/index.js","webpack://odysee.com/../ui/component/searchTopClaim/view.jsx","webpack://odysee.com/../ui/constants/hashes.js","webpack://odysee.com/../ui/component/searchOptions/view.jsx","webpack://odysee.com/../ui/component/searchOptions/index.js","webpack://odysee.com/../ui/page/search/index.js","webpack://odysee.com/../ui/page/search/view.jsx"],"sourcesContent":["// @flow\nimport React from 'react';\nimport CreditAmount from 'component/common/credit-amount';\n\ntype Props = {\n  uri: string,\n  claim: ?Claim,\n};\n\nfunction ClaimEffectiveAmount(props: Props) {\n  const { claim } = props;\n\n  if (!claim) {\n    return null;\n  }\n\n  return <CreditAmount amount={Number(claim.repost_bid_amount || claim.meta.effective_amount || claim.amount)} />;\n}\n\nexport default ClaimEffectiveAmount;\n","import { connect } from 'react-redux';\nimport { selectClaimForUri } from 'redux/selectors/claims';\nimport ClaimEffectiveAmount from './view';\n\nconst select = (state, props) => ({\n  claim: selectClaimForUri(state, props.uri, true),\n});\n\nexport default connect(select)(ClaimEffectiveAmount);\n","import LangFilterIndicator from './view';\nexport default LangFilterIndicator;\n","// @flow\nimport React from 'react';\nimport Button from 'component/button';\nimport * as ICONS from 'constants/icons';\nimport * as PAGES from 'constants/pages';\nimport { SEARCH_IN_LANGUAGE } from 'constants/hashes';\n\nexport default function LangFilterIndicator() {\n  return (\n    <Button\n      className=\"icon--langFilter\"\n      icon={ICONS.FILTERED_BY_LANG}\n      iconSize={20}\n      description={__('Search results are being filtered by language. Click here to change the setting.')}\n      navigate={`/$/${PAGES.SETTINGS}#${SEARCH_IN_LANGUAGE}`}\n    />\n  );\n}\n","import { connect } from 'react-redux';\nimport { doBeginPublish } from 'redux/actions/publish';\nimport { doResolveUris } from 'redux/actions/claims';\nimport { doOpenModal } from 'redux/actions/app';\nimport { selectPendingIds, makeSelectClaimForUri } from 'redux/selectors/claims';\nimport { makeSelectWinningUriForQuery, selectIsResolvingWinningUri } from 'redux/selectors/search';\nimport SearchTopClaim from './view';\n\nconst select = (state, props) => {\n  const winningUri = makeSelectWinningUriForQuery(props.query)(state);\n\n  return {\n    winningUri,\n    winningClaim: winningUri ? makeSelectClaimForUri(winningUri)(state) : undefined,\n    isResolvingWinningUri: props.query ? selectIsResolvingWinningUri(state, props.query) : false,\n    pendingIds: selectPendingIds(state),\n  };\n};\n\nconst perform = (dispatch) => ({\n  beginPublish: (a, b, c) => dispatch(doBeginPublish(a, b, c)),\n  doResolveUris: (uris) => dispatch(doResolveUris(uris)),\n  doOpenModal: (id, props) => dispatch(doOpenModal(id, props)),\n});\n\nexport default connect(select, perform)(SearchTopClaim);\n","// @flow\nimport * as ICONS from 'constants/icons';\nimport * as PAGES from 'constants/pages';\nimport * as MODALS from 'constants/modal_types';\nimport React from 'react';\nimport { parseURI } from 'util/lbryURI';\nimport ClaimPreview from 'component/claimPreview';\nimport Button from 'component/button';\nimport ClaimEffectiveAmount from 'component/claimEffectiveAmount';\nimport ClaimRepostAuthor from 'component/claimRepostAuthor';\nimport I18nMessage from 'component/i18nMessage';\nimport LbcSymbol from 'component/common/lbc-symbol';\nimport { DOMAIN } from 'config';\n\ntype Props = {\n  doOpenModal: (string, {}) => void,\n  query: string,\n  winningUri: ?string,\n  doResolveUris: (Array<string>) => void,\n  hideLink?: boolean,\n  setChannelActive: (boolean) => void,\n  beginPublish: (PublishType, ?string) => void,\n  pendingIds: Array<string>,\n  isResolvingWinningUri: boolean,\n  winningClaim: ?Claim,\n  isSearching: boolean,\n};\n\nexport default function SearchTopClaim(props: Props) {\n  const {\n    doResolveUris,\n    doOpenModal,\n    query = '',\n    winningUri,\n    winningClaim,\n    hideLink = false,\n    setChannelActive,\n    beginPublish,\n    isResolvingWinningUri,\n    isSearching,\n  } = props;\n  const uriFromQuery = `lbry://${query}`;\n  let name;\n  let channelUriFromQuery;\n  let winningUriIsChannel;\n  try {\n    const { isChannel, streamName, channelName } = parseURI(uriFromQuery);\n    if (!isChannel) {\n      channelUriFromQuery = `lbry://@${query}`;\n      name = streamName;\n    } else {\n      name = channelName;\n    }\n  } catch (e) {}\n\n  if (winningUri) {\n    try {\n      const { isChannel: winnerIsChannel } = parseURI(winningUri);\n      winningUriIsChannel = winnerIsChannel;\n    } catch (e) {}\n  }\n\n  React.useEffect(() => {\n    setChannelActive && winningUriIsChannel && setChannelActive(true);\n  }, [setChannelActive, winningUriIsChannel]);\n\n  React.useEffect(() => {\n    let urisToResolve = [];\n    if (uriFromQuery) {\n      urisToResolve.push(uriFromQuery);\n    }\n\n    if (channelUriFromQuery) {\n      urisToResolve.push(channelUriFromQuery);\n    }\n\n    if (urisToResolve.length > 0) {\n      doResolveUris(urisToResolve);\n    }\n  }, [doResolveUris, uriFromQuery, channelUriFromQuery]);\n\n  return (\n    <div className=\"search__header\">\n      {winningUri && (\n        <div className=\"claim-preview__actions--header\">\n          <a\n            className=\"media__uri\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            href=\"https://help.odysee.tv/category-blockchain/category-staking/increase/\"\n            title={__('Learn more about Credits on %DOMAIN%', { DOMAIN })}\n          >\n            <LbcSymbol prefix={__('Most supported')} />\n          </a>\n        </div>\n      )}\n      {winningUri && winningClaim && (\n        <div className=\"card\">\n          <ClaimPreview\n            hideRepostLabel\n            showNullPlaceholder\n            uri={winningUri}\n            properties={(claim) => (\n              <span className=\"claim-preview__custom-properties\">\n                <ClaimRepostAuthor short uri={winningUri} />\n                <ClaimEffectiveAmount uri={winningUri} />\n              </span>\n            )}\n          />\n        </div>\n      )}\n      {!winningUri && (isSearching || isResolvingWinningUri) && (\n        <div className=\"card\">\n          <ClaimPreview placeholder={'loading'} />\n        </div>\n      )}\n      {!winningUri && !isSearching && !isResolvingWinningUri && uriFromQuery && (\n        <div className=\"card card--section help--inline\">\n          <I18nMessage\n            tokens={{\n              repost: <Button button=\"link\" onClick={() => doOpenModal(MODALS.REPOST, {})} label={__('Repost')} />,\n              publish: (\n                <span>\n                  <Button button=\"link\" onClick={() => beginPublish('file', name)} label={__('publish')} />\n                </span>\n              ),\n            }}\n          >\n            You have found the edge of the internet. %repost% or %publish% your stuff here to claim this spot.\n          </I18nMessage>\n        </div>\n      )}\n      {!hideLink && winningUri && (\n        <div className=\"section__actions--between section__actions--no-margin\">\n          <span />\n          <Button\n            button=\"link\"\n            className=\"search__top-link\"\n            label={\n              <I18nMessage tokens={{ name: <strong>{query}</strong> }}>View competing uploads for %name%</I18nMessage>\n            }\n            navigate={`/$/${PAGES.TOP}?name=${query}`}\n            iconRight={ICONS.ARROW_RIGHT}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n","export const SEARCH_IN_LANGUAGE = 'searchInLanguage';\n","// @flow\nimport { SEARCH_OPTIONS, SEARCH_PAGE_SIZE } from 'constants/search';\nimport * as ICONS from 'constants/icons';\nimport React, { useMemo } from 'react';\nimport { useHistory } from 'react-router';\nimport { Form, FormField } from 'component/common/form';\nimport Button from 'component/button';\nimport Icon from 'component/common/icon';\nimport classnames from 'classnames';\nimport LangFilterIndicator from 'component/langFilterIndicator';\nimport usePersistedState from 'effects/use-persisted-state';\nimport debounce from 'util/debounce';\n\nconst CLAIM_TYPES = {\n  [SEARCH_OPTIONS.INCLUDE_FILES]: 'Files',\n  [SEARCH_OPTIONS.INCLUDE_CHANNELS]: 'Channels',\n  [SEARCH_OPTIONS.INCLUDE_FILES_AND_CHANNELS]: 'Everything',\n};\n\nconst TYPES_ADVANCED = {\n  [SEARCH_OPTIONS.MEDIA_VIDEO]: 'Video',\n  [SEARCH_OPTIONS.MEDIA_AUDIO]: 'Audio',\n  [SEARCH_OPTIONS.MEDIA_IMAGE]: 'Image',\n  [SEARCH_OPTIONS.MEDIA_TEXT]: 'Text',\n  [SEARCH_OPTIONS.MEDIA_APPLICATION]: 'Other',\n};\n\nconst TIME_FILTER = {\n  '': 'All',\n  // [SEARCH_OPTIONS.TIME_FILTER_LAST_HOUR]: 'Last Hour', -- disable (doesn't work)\n  [SEARCH_OPTIONS.TIME_FILTER_TODAY]: 'Last 24 Hours',\n  [SEARCH_OPTIONS.TIME_FILTER_THIS_WEEK]: 'This Week',\n  [SEARCH_OPTIONS.TIME_FILTER_THIS_MONTH]: 'This Month',\n  [SEARCH_OPTIONS.TIME_FILTER_THIS_YEAR]: 'This Year',\n};\n\nconst SORT_BY = {\n  '': 'Relevance',\n  [SEARCH_OPTIONS.SORT_DESCENDING]: 'Newest first',\n  [SEARCH_OPTIONS.SORT_ASCENDING]: 'Oldest first',\n};\n\ntype Props = {\n  setSearchOption: (string, boolean | string | number) => void,\n  options: {},\n  simple: boolean,\n  expanded: boolean,\n  searchInLanguage: boolean,\n  toggleSearchExpanded: () => void,\n  onSearchOptionsChanged: (string) => void,\n};\n\nconst SearchOptions = (props: Props) => {\n  const { options, simple, setSearchOption, expanded, searchInLanguage, toggleSearchExpanded, onSearchOptionsChanged } =\n    props;\n  const { location } = useHistory();\n\n  const stringifiedOptions = JSON.stringify(options);\n\n  const isFilteringByChannel = useMemo(() => {\n    const jsonOptions = JSON.parse(stringifiedOptions);\n    const claimType = String(jsonOptions[SEARCH_OPTIONS.CLAIM_TYPE] || '');\n    return claimType.includes(SEARCH_OPTIONS.INCLUDE_CHANNELS);\n  }, [stringifiedOptions]);\n\n  const [minDurationMinutes, setMinDurationMinutes] = usePersistedState(`minDurUserMinutes-${location.pathname}`, null);\n  const [maxDurationMinutes, setMaxDurationMinutes] = usePersistedState(`maxDurUserMinutes-${location.pathname}`, null);\n  const setMinDurationMinutesDebounced = React.useCallback(\n    debounce((m) => updateSearchOptions(SEARCH_OPTIONS.MIN_DURATION, m), 750),\n    []\n  );\n  const setMaxDurationMinutesDebounced = React.useCallback(\n    debounce((m) => updateSearchOptions(SEARCH_OPTIONS.MAX_DURATION, m), 750),\n    []\n  );\n\n  if (simple) {\n    delete TYPES_ADVANCED[SEARCH_OPTIONS.MEDIA_APPLICATION];\n    delete TYPES_ADVANCED[SEARCH_OPTIONS.MEDIA_IMAGE];\n  }\n\n  React.useEffect(() => {\n    // We no longer let the user set the search results count, but the value\n    // will be in local storage for existing users. Override that.\n    if (options[SEARCH_OPTIONS.RESULT_COUNT] !== SEARCH_PAGE_SIZE) {\n      setSearchOption(SEARCH_OPTIONS.RESULT_COUNT, SEARCH_PAGE_SIZE);\n    }\n    options[SEARCH_OPTIONS.SORT] = '';\n    // eslint-disable-next-line react-hooks/exhaustive-deps -- on mount only\n  }, []);\n\n  function updateSearchOptions(option, value) {\n    setSearchOption(option, value);\n    if (onSearchOptionsChanged) {\n      onSearchOptionsChanged(option);\n    }\n  }\n\n  function addRow(label: string, value: any) {\n    return (\n      <tr>\n        <td>\n          <legend className=\"search__legend\">{label}</legend>\n        </td>\n        <td>{value}</td>\n      </tr>\n    );\n  }\n\n  const OBJ_TO_OPTION_ELEM = (obj) => {\n    return Object.entries(obj).map((x) => {\n      return (\n        <option key={x[0]} value={x[0]}>\n          {__(String(x[1]))}\n        </option>\n      );\n    });\n  };\n\n  const typeElem = (\n    <>\n      <div className=\"filter-values\">\n        <div>\n          {Object.entries(CLAIM_TYPES).map((t) => {\n            const option = t[0];\n            if (option === SEARCH_OPTIONS.INCLUDE_FILES_AND_CHANNELS) {\n              return null;\n            }\n            return (\n              <Button\n                key={option}\n                button=\"alt\"\n                // $FlowFixMe https://github.com/facebook/flow/issues/2221\n                label={__(t[1])}\n                className={classnames(`button-toggle`, {\n                  'button-toggle--active': options[SEARCH_OPTIONS.CLAIM_TYPE] === option,\n                })}\n                onClick={() => setSearchOption(SEARCH_OPTIONS.CLAIM_TYPE, option)}\n              />\n            );\n          })}\n        </div>\n        <Button\n          button=\"close\"\n          className={classnames('close-button', {\n            'close-button--visible': options[SEARCH_OPTIONS.CLAIM_TYPE] !== SEARCH_OPTIONS.INCLUDE_FILES_AND_CHANNELS,\n          })}\n          icon={ICONS.REMOVE}\n          onClick={() => updateSearchOptions(SEARCH_OPTIONS.CLAIM_TYPE, SEARCH_OPTIONS.INCLUDE_FILES_AND_CHANNELS)}\n        />\n      </div>\n      {options[SEARCH_OPTIONS.CLAIM_TYPE] === SEARCH_OPTIONS.INCLUDE_FILES && (\n        <div className=\"media-types\">\n          {Object.entries(TYPES_ADVANCED).map((t) => {\n            const option = t[0];\n            return (\n              <FormField\n                key={option}\n                name={option}\n                type=\"checkbox\"\n                blockWrap={false}\n                disabled={options[SEARCH_OPTIONS.CLAIM_TYPE] !== SEARCH_OPTIONS.INCLUDE_FILES}\n                // $FlowFixMe https://github.com/facebook/flow/issues/2221\n                label={__(t[1])}\n                checked={!isFilteringByChannel && options[option]}\n                onChange={() => updateSearchOptions(option, !options[option])}\n              />\n            );\n          })}\n        </div>\n      )}\n    </>\n  );\n\n  const otherOptionsElem = (\n    <>\n      <div className=\"filter-values\">\n        <FormField\n          type=\"checkbox\"\n          name=\"exact-match\"\n          checked={options[SEARCH_OPTIONS.EXACT]}\n          onChange={() => updateSearchOptions(SEARCH_OPTIONS.EXACT, !options[SEARCH_OPTIONS.EXACT])}\n          label={__('Exact match')}\n        />\n        <Icon\n          className=\"icon--help\"\n          icon={ICONS.HELP}\n          tooltip\n          size={16}\n          customTooltipText={__(\n            'Find results that include all the given words in the exact order.\\nThis can also be done by surrounding the search query with quotation marks (e.g. \"hello world\").'\n          )}\n        />\n      </div>\n    </>\n  );\n\n  const uploadDateElem = (\n    <div className=\"filter-values\">\n      <FormField\n        type=\"select\"\n        name=\"upload-date\"\n        value={options[SEARCH_OPTIONS.TIME_FILTER]}\n        onChange={(e) => updateSearchOptions(SEARCH_OPTIONS.TIME_FILTER, e.target.value)}\n        blockWrap={false}\n      >\n        {OBJ_TO_OPTION_ELEM(TIME_FILTER)}\n      </FormField>\n      <Button\n        button=\"close\"\n        className={classnames('close-button', {\n          'close-button--visible': options[SEARCH_OPTIONS.TIME_FILTER],\n        })}\n        icon={ICONS.REMOVE}\n        onClick={() => updateSearchOptions(SEARCH_OPTIONS.TIME_FILTER, '')}\n      />\n    </div>\n  );\n\n  const sortByElem = (\n    <div className=\"filter-values\">\n      <FormField\n        type=\"select\"\n        name=\"sort-by\"\n        blockWrap={false}\n        value={options[SEARCH_OPTIONS.SORT]}\n        onChange={(e) => updateSearchOptions(SEARCH_OPTIONS.SORT, e.target.value)}\n      >\n        {OBJ_TO_OPTION_ELEM(SORT_BY)}\n      </FormField>\n    </div>\n  );\n\n  const durationElem = (\n    <div className=\"filter-values\">\n      <div className=\"claim-search__duration-inputs-container\">\n        <FormField\n          label={__('Min Minutes')}\n          type=\"number\"\n          name=\"min_duration__minutes\"\n          blockWrap={false}\n          value={minDurationMinutes}\n          onChange={(e) => {\n            setMinDurationMinutes(e.target.value);\n            setMinDurationMinutesDebounced(e.target.value);\n          }}\n        />\n        <FormField\n          label={__('Max Minutes')}\n          type=\"number\"\n          name=\"max_duration__minutes\"\n          blockWrap={false}\n          value={maxDurationMinutes}\n          onChange={(e) => {\n            setMaxDurationMinutes(e.target.value);\n            setMaxDurationMinutesDebounced(e.target.value);\n          }}\n        />\n        <Button\n          button=\"close\"\n          className={classnames('close-button', {\n            'close-button--visible': minDurationMinutes || maxDurationMinutes,\n          })}\n          icon={ICONS.REMOVE}\n          onClick={() => {\n            setMinDurationMinutes('');\n            setMaxDurationMinutes('');\n            updateSearchOptions(SEARCH_OPTIONS.MIN_DURATION, '');\n            updateSearchOptions(SEARCH_OPTIONS.MAX_DURATION, '');\n          }}\n        />\n      </div>\n    </div>\n  );\n\n  const uploadDateLabel =\n    options[SEARCH_OPTIONS.CLAIM_TYPE] === SEARCH_OPTIONS.INCLUDE_CHANNELS ? __('Creation Date') : __('Upload Date');\n\n  return (\n    <div>\n      <div>\n        <Button\n          button=\"alt\"\n          label={__('Filter')}\n          icon={ICONS.FILTER}\n          iconRight={expanded ? ICONS.UP : ICONS.DOWN}\n          onClick={toggleSearchExpanded}\n        />\n        {searchInLanguage && <LangFilterIndicator />}\n      </div>\n      <Form\n        className={classnames('search__options', {\n          'search__options--expanded': expanded,\n        })}\n      >\n        <table className=\"table table--condensed\">\n          <tbody>\n            {addRow(__('Type'), typeElem)}\n            {addRow(uploadDateLabel, uploadDateElem)}\n            {addRow(__('Sort By'), sortByElem)}\n            {addRow(__('Duration'), durationElem)}\n            {addRow(__('Other Options'), otherOptionsElem)}\n          </tbody>\n        </table>\n      </Form>\n    </div>\n  );\n};\n\nexport default SearchOptions;\n","import { connect } from 'react-redux';\nimport { doUpdateSearchOptions } from 'redux/actions/search';\nimport { selectSearchOptions } from 'redux/selectors/search';\nimport { doToggleSearchExpanded } from 'redux/actions/app';\nimport { selectSearchOptionsExpanded } from 'redux/selectors/app';\nimport { selectClientSetting } from 'redux/selectors/settings';\nimport * as SETTINGS from 'constants/settings';\nimport SearchOptions from './view';\n\nconst select = (state) => ({\n  options: selectSearchOptions(state),\n  expanded: selectSearchOptionsExpanded(state),\n  searchInLanguage: selectClientSetting(state, SETTINGS.SEARCH_IN_LANGUAGE),\n});\n\nconst perform = (dispatch, ownProps) => {\n  const additionalOptions = ownProps.additionalOptions || {};\n  return {\n    setSearchOption: (option, value) => dispatch(doUpdateSearchOptions({ [option]: value }, additionalOptions)),\n    toggleSearchExpanded: () => dispatch(doToggleSearchExpanded()),\n  };\n};\n\nexport default connect(select, perform)(SearchOptions);\n","import { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport { doSearch } from 'redux/actions/search';\nimport {\n  selectIsSearching,\n  makeSelectSearchUrisForQuery,\n  selectSearchOptions,\n  makeSelectHasReachedMaxResultsLength,\n} from 'redux/selectors/search';\nimport { selectClientSetting, selectLanguage, selectShowMatureContent } from 'redux/selectors/settings';\nimport { getSearchQueryString } from 'util/query-params';\nimport SearchPage from './view';\nimport * as SETTINGS from 'constants/settings';\n\nconst select = (state, props) => {\n  const showMature = selectShowMatureContent(state);\n  const urlParams = new URLSearchParams(props.location.search);\n  const languageSetting = selectLanguage(state);\n  const searchInLanguage = selectClientSetting(state, SETTINGS.SEARCH_IN_LANGUAGE);\n\n  let urlQuery = urlParams.get('q') || null;\n  if (urlQuery) {\n    urlQuery = urlQuery.replace(/^lbry:\\/\\//i, '').replace(/\\//, ' ');\n  }\n\n  const searchOptions = {\n    ...selectSearchOptions(state),\n    isBackgroundSearch: false,\n    nsfw: showMature,\n    ...(searchInLanguage ? { language: languageSetting } : {}),\n  };\n\n  const query = getSearchQueryString(urlQuery, searchOptions);\n  const uris = makeSelectSearchUrisForQuery(query)(state);\n  const hasReachedMaxResultsLength = makeSelectHasReachedMaxResultsLength(query)(state);\n\n  return {\n    urlQuery,\n    searchOptions,\n    isSearching: selectIsSearching(state),\n    uris: uris,\n    hasReachedMaxResultsLength: hasReachedMaxResultsLength,\n  };\n};\n\nconst perform = (dispatch) => ({\n  search: (query, options) => dispatch(doSearch(query, options)),\n});\n\nexport default withRouter(connect(select, perform)(SearchPage));\n","// @flow\nimport { SIMPLE_SITE } from 'config';\nimport React, { useEffect } from 'react';\nimport Lbry from 'lbry';\nimport { parseURI, isNameValid } from 'util/lbryURI';\nimport ClaimList from 'component/claimList';\nimport Page from 'component/page';\nimport SearchOptions from 'component/searchOptions';\nimport SearchTopClaim from 'component/searchTopClaim';\nimport { formatLbryUrlForWeb } from 'util/url';\nimport { useHistory } from 'react-router';\nimport { SEARCH_PAGE_SIZE } from 'constants/search';\n\ntype Props = {\n  urlQuery: string,\n  searchOptions: SearchOptions,\n  search: (string, SearchOptions) => void,\n  isSearching: boolean,\n  uris: Array<string>,\n  isAuthenticated: boolean,\n  hasReachedMaxResultsLength: boolean,\n};\n\nexport default function SearchPage(props: Props) {\n  const { urlQuery, searchOptions, search, uris, isSearching, hasReachedMaxResultsLength } = props;\n  const { push } = useHistory();\n  const [from, setFrom] = React.useState(0);\n  const [currentUrlQuery, setCurrentUrlQuery] = React.useState(urlQuery);\n\n  const modifiedUrlQuery = urlQuery && urlQuery.trim().replace(/\\s+/g, '').replace(/:/g, '#');\n  const uriFromQuery = `lbry://${modifiedUrlQuery}`;\n\n  let streamName;\n  let channelName;\n  let isValid = true;\n  try {\n    ({ streamName, channelName } = parseURI(uriFromQuery));\n    if (\n      (!streamName && !channelName) ||\n      (streamName && !isNameValid(streamName)) ||\n      (channelName && !isNameValid(channelName))\n    ) {\n      isValid = false;\n    }\n  } catch (e) {\n    isValid = false;\n  }\n\n  let claimId;\n  // Navigate directly to a claim if a claim_id is pasted into the search bar\n  if (!/\\s/.test(urlQuery) && urlQuery?.length === 40) {\n    try {\n      const dummyUrlForClaimId = `x#${urlQuery}`;\n      ({ claimId } = parseURI(dummyUrlForClaimId));\n      Lbry.claim_search({ claim_id: claimId }).then((res) => {\n        if (res.items && res.items.length) {\n          const claim = res.items[0];\n          const url = formatLbryUrlForWeb(claim.canonical_url);\n          push(url);\n        }\n      });\n    } catch (e) {}\n  }\n\n  const stringifiedSearchOptions = JSON.stringify(searchOptions);\n\n  useEffect(() => {\n    if (currentUrlQuery) {\n      const searchOptions = JSON.parse(stringifiedSearchOptions);\n      search(currentUrlQuery, { ...searchOptions, from: from });\n    }\n  }, [search, currentUrlQuery, stringifiedSearchOptions, from]);\n\n  useEffect(() => {\n    resetPage();\n    setCurrentUrlQuery(urlQuery);\n  }, [urlQuery]);\n\n  function loadMore() {\n    if (!isSearching && !hasReachedMaxResultsLength) {\n      setFrom(from + SEARCH_PAGE_SIZE);\n    }\n  }\n\n  function resetPage() {\n    setFrom(0);\n  }\n\n  return (\n    <Page className=\"searchPage-wrapper\">\n      <section className=\"search\">\n        {urlQuery && isValid && <SearchTopClaim query={modifiedUrlQuery} isSearching={isSearching} />}\n        <ClaimList\n          uris={uris || []}\n          loading={isSearching}\n          useLoadingSpinner\n          onScrollBottom={loadMore}\n          // 'page' is 1-indexed; It's not the same as 'from', but it just\n          // needs to be unique to indicate when a fetch is needed.\n          page={from + 1}\n          pageSize={SEARCH_PAGE_SIZE}\n          header={\n            <SearchOptions simple={SIMPLE_SITE} additionalOptions={searchOptions} onSearchOptionsChanged={resetPage} />\n          }\n        />\n        <div className=\"main--empty help\">{__('These search results are provided by Odysee.')}</div>\n      </section>\n    </Page>\n  );\n}\n"],"names":["props","claim","React","CreditAmount","amount","Number","repost_bid_amount","meta","effective_amount","connect","state","selectClaimForUri","uri","ClaimEffectiveAmount","Button","className","icon","ICONS","iconSize","description","__","navigate","concat","PAGES","SEARCH_IN_LANGUAGE","winningUri","makeSelectWinningUriForQuery","query","winningClaim","makeSelectClaimForUri","undefined","isResolvingWinningUri","selectIsResolvingWinningUri","pendingIds","selectPendingIds","dispatch","beginPublish","a","b","c","doBeginPublish","doResolveUris","uris","_doResolveUris","doOpenModal","id","_doOpenModal","name","channelUriFromQuery","winningUriIsChannel","_props$query","_props$hideLink","hideLink","setChannelActive","isSearching","uriFromQuery","_parseURI","parseURI","isChannel","streamName","channelName","e","winnerIsChannel","urisToResolve","push","length","target","rel","href","title","DOMAIN","LbcSymbol","prefix","ClaimPreview","hideRepostLabel","showNullPlaceholder","properties","ClaimRepostAuthor","short","placeholder","I18nMessage","tokens","repost","button","onClick","MODALS","label","publish","iconRight","CLAIM_TYPES","_defineProperty","_CLAIM_TYPES","SEARCH_OPTIONS","TYPES_ADVANCED","_TYPES_ADVANCED","TIME_FILTER","_TIME_FILTER","SORT_BY","_SORT_BY","options","simple","setSearchOption","expanded","searchInLanguage","toggleSearchExpanded","onSearchOptionsChanged","location","useHistory","stringifiedOptions","JSON","stringify","isFilteringByChannel","useMemo","jsonOptions","parse","String","includes","_usePersistedState2","_slicedToArray","usePersistedState","pathname","minDurationMinutes","setMinDurationMinutes","_usePersistedState4","maxDurationMinutes","setMaxDurationMinutes","setMinDurationMinutesDebounced","debounce","m","updateSearchOptions","setMaxDurationMinutesDebounced","option","value","addRow","SEARCH_PAGE_SIZE","OBJ_TO_OPTION_ELEM","obj","Object","entries","map","x","key","typeElem","t","classnames","FormField","type","blockWrap","disabled","checked","onChange","otherOptionsElem","Icon","tooltip","size","customTooltipText","uploadDateElem","sortByElem","durationElem","uploadDateLabel","LangFilterIndicator","Form","selectSearchOptions","selectSearchOptionsExpanded","selectClientSetting","SETTINGS","ownProps","additionalOptions","doUpdateSearchOptions","doToggleSearchExpanded","SearchOptions","withRouter","showMature","selectShowMatureContent","urlParams","URLSearchParams","search","languageSetting","selectLanguage","urlQuery","get","replace","searchOptions","_objectSpread","isBackgroundSearch","nsfw","language","getSearchQueryString","makeSelectSearchUrisForQuery","hasReachedMaxResultsLength","makeSelectHasReachedMaxResultsLength","selectIsSearching","doSearch","claimId","_React$useState2","from","setFrom","_React$useState4","currentUrlQuery","setCurrentUrlQuery","modifiedUrlQuery","trim","isValid","isNameValid","test","dummyUrlForClaimId","Lbry","claim_id","then","res","items","url","formatLbryUrlForWeb","canonical_url","stringifiedSearchOptions","resetPage","useEffect","_searchOptions","Page","SearchTopClaim","ClaimList","loading","useLoadingSpinner","onScrollBottom","page","pageSize","header","SIMPLE_SITE"],"sourceRoot":""}